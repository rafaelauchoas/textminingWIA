Artificial Intelligence 74 (1995) 31 l-350 Artificial Intelligence Naming and identity in epistemic logic Part II: a first-order logic for naming Adam J. Grove * Stanford University, Stanford, CA 94305, USA Received January 1994; revised March 1994 Abstract Modal epistemic logics for many agents sometimes ignore or simplify the distinction between the agents themselves, and the names these agents use when reasoning about each other. We consider problems motivated by practical computer science applications, and show that the simplest theories of naming are often inadequate. The issues we raise are related to some well-known philosophical concerns, such as indexical descriptions, de re knowledge, and the problem of referring to nonexistent objects. However, our emphasis is on epistemic logic as a descriptive tool for distributed systems and artificial intelligence applications, which leads to some nonstandard solutions. The main technical result of this paper is a first-order modal logic, specified both axiomatically that is expressive enough to cope (by a variant of possible-worlds semantics), and semantically with all the difficulties we discuss. 1. Introduction to individual the world. These logics formalisms There are several well-known modal that can represent an agent’s knowledge to ascribe help clarify what agents, and they can suggest or verify correct patterns of is to model systems of the state of the interacting it also reasons about what other agents know about the world, what these agents reasoning or beliefs about “knowledge” reasoning. Another promising many world, know about other agents’ knowledge, and so on. In particular, such multi-agent can involve subtle for epistemic application agents. Then not only does an agent issues of naming. That is, how does one agent refer to others? logic reason about it means *E-mail: grove&esearch.nj.nec.com. Princeton NJ 08540, USA. Current address: NEC Research Institute, 4 Independence Way, 0004-3702/95/$09.50 @ 1995 Elsevier Science B.V. All rights reserved ssD10004-3702(94)00015 312 A.J. Gmve/Ar~ificial Intelliger~ce 74 (1995) 31 I-350 Many treatments of multi-agent epistemic logic have all but ignored this question; we that include a useful and general concept of naming. Our approach research, from multiple-agent in which we develop epistemic is to find then and systems is the second of two papers explain why below. This logics simple examples investigate AI and distributed that arise. names the problems concerning logics epistemic (although in propositional The first paper, [ 111, investigated naming logics. The logic we develop the issues raised there are important this paper we look at first-order expressive complex), quantification, more interesting In this paper we discuss naming, scope and multiple ways of referring. In Section 3.1 we introduce in detail. It is difficult in contrast, logics. Some of for this work, and we review these in Section 2. In in Section 4.2 is far more it is correspondingly more functions, equality, there are also relating to these issues logic; than any of our propositional In part this is for the usual reasons, and the much more realistic to deal these issues logic we develop in a general way within propositional is well suited to handling both problems. is important in introduction, we discuss why “naming” logic, and the two problems of scope and multiple ways of referring. Some repeats part I ( [ 111)) and we refer the reader to that paper for more first-order semantics. However, two quite subtle problems to do with predicates, the remainder the first-order reasons. of this In epistemic of this discussion details. single-agent modal In a traditional that “It is known happens with more agents? One straightforward for every agent a in the system, and make minimal changes instance, (say K for .“). The general question we ask in this paper and in [ 111 is: what is to include one operator Ka answer to the rest of the logic. For logic there is just one modal operator taken in [ 131. However, observe this is the approach that: is fixed, and so the set of agents l The language l The only way we can refer to a is by means of the operator Ka. If by “name” we to an agent, we see that each agent has just one is fixed also. simply mean any way of referring name. l Conversely, l The composition each name denotes just one agent. of the system and the names of the agents knowledge so that every agent knows them, etc. them, and knows in it are common that every agent knows These assumptions are often quite reasonable, particularly for instance, for applications involving see [ 3,6,12, 13,15,30,33, among a small, fixed set of agents; interactions 34,391. But there are equally many situations where they are much part I, we noted that: too restrictive. In l Sometimes the system changes and reintroduce know what the composition various possibilities. there is no fixed set of agents. This happens when the composition of (e.g., we remove robots from a factory when they break down, repaired). This also occurs when an agent does not is, and so the agent must reason about of the system them when l We often need a way to refer to groups of agents; for instance, “every node in the network knows that the power will be shut off soon.” that is, names l We need non-rigid names, in different possible worlds. An agents can reason using these names, such as “the manager”, that denote different agents A.J. Grove/Artijcial Intelligence 74 (1995) 31 I-350 313 “the nodes in the network that haven’t failed”, “the most reliable robot”, even when it doesn’t know who the name “really” refers to. Note that it is not necessarily common knowledge who these names refer to. l Sometimes agents must reason about themselves, as in “I know that I must be at work before eight”. This becomes an especially important, and nontrivial, issue in anonymous systems. l Often we need ways of referring to agents that are relative to ourselves (or to whoever is making an assertion). Typical examples are “the node to my left”, “the person behind me”, “everyone within 10 meters of me”. Also known as in&&al reference, this has becomes an increasingly prominent issue in AI planning research 11,261. In [ 111, we present simple propositional logics that have all of these features. How- ever, these logics are deficient in other significant, and quite subtle, ways. Let us intro- duce the problems with two examples. First, consider an unreliable network in which some processes may have failed. Let the formula 4p stand for “pt knows that all correct processes received pt ‘s last message”. Suppose that, in fact, the correct processes are pt , ~2, and ps, and p1 knows that all three of these processes actually did receive the mes- sage. Then, under one reading, we could argue that Q is true: p1 does know that all the processes which are in fact correct did receive its message. On the other hand, p1 may not know that these processes are the only correct ones (and, perhaps, may spend more for additional acknowledgments). This observation leads to time-fruitlessly-waiting a second reading which makes 4p false at w. All the propositional logics we considered assumed that the second of these interpretations is the correct one. Both readings are meaningful, however, and we may need to reason about either. referent determined-just This example shows that there are different scopes that can be used in evaluating names. This can also be seen by thinking about the possible-worlds semantics that are often used for epistemic logic. The non-rigid name “the correct processes” can be evaluated-its once in the actual world, or else be re-evaluated in each situation that p1 considers possible. We call these possibilities outermost scope and innermost scope, respectively. ’ Somewhat informally, we may look at the general issue in the following way. Although we ask about the truth of some sentence like Q at a particular world (w, say), every knowledge operator we encounter in 4p will force us to consider possible worlds other than w. If n is a name occurring in cp, which world(s) should we evaluate n at? Because n is potentially non-rigid, the meaning of the formula will depend on this decision. The problem is that there seems to be several reasonable answers: for example, we can evaluate n at w (we call this outermost scope) ; or at the most “recent” worlds we have considered (innermost scope); or at any other world that has been introduced by a modal operator in whose scope the occurrence of n lies. If n is within m such operators, there will be m + 1 choices. In the following, we shall refer to all but innermost scope as being varieties of outer-scope reference. In the example above, the only modality was “‘~1 knows” and so two scopes were possible for the interpretation of “the correct processes”. ’ These two possibilities for the example are sometimes describe.d as being de re and de ditto reference, respectively. We will discuss this terminology in much more detail later. that he (B) that “I 314 A.J. Grove/ArtQicial intelligence 74 (I 995) 31 I-350 This observation about scope does not explain all the difficulties names. It is not enough interpreting of scope addresses-because illustrate this with another example. to know who a name refers to-which the reference we must also decide how that can arise in the question is made. We Suppose there are two robotic agents, A and B, and A has just broken down. He sends a cry for help over a public broadcast for dealing with such matters, may or may not have heard. So A’s subsequent depends on whether he can deduce (if this is true, he can just wait, but otherwise he should system. B, who is the agent responsible action that I need help” that “I (A) know that B knows else). that I need help”? That should A try to deduce from what he knows? The logic we review in the formula K, KB (Zneed_heZp) , which certainly is really much more complex, because a formula seems appropriate. like this can be read that B knows try something of “I know So what is a good formalization is, what sentence Section 2 permits But the situation many ways. One possibility is that it could mean that that A knows that B knows of quotation (the arrangement ’ ” captures what we mean here). This needs help need help” scope, because which is Ks. This interpretation logic allows. But it is clearly not appropriate is another example of innermost the second occurrence of I is bound by the innermost modal operator in many contexts, and is all our propositional in the story above. that ‘B knows in “I know is useful symbols The alternative it there should be some sense in some sense A is still justified then is that “the agent who just sent a message needs help”. Clearly, is that the second use of the word or name I refers to agent A; i.e., we that B knows that A knows this is not the only possible outer-scope can use outer scope. The sentence might be read as saying that the agent named A needs help. However, reading. The problem, which we refer to as multiple ways of referring, is that there are usually several reasonable ways to read a name using outer scope. Note that A might not have sent a message explicitly saying “A needs help”, and instead he might have said simply “I need help”. So perhaps B didn’t know that it was A who sent the message. All B knows this is not so good for A. Nevertheless, in saying “I know that B knows that I need help”. After all, “I need help” was the content of the message, so if B heard it, no matter what B the identity of the sender. Here, B knows that “the agent who just sent can infer about a message” needs help, and it is true that this agent is A. The point we are making is that B might refer to A using some description other than the name “A”. interpretation, that B can always tell from which in any room. room is true Then, again, A can say “I know that B knows that “the agent in room X needs help”, where A is the agent in the sense that B knows in room X, then A need do nothing more. He does not even need to tell B where he is. We still call this outer scope but we must be careful in this factory are more or less about haw B refers to A. Let us suppose themselves interchangeable to each other using In that case, to serial numbers: useful to us as external observers names of the robots for describing what is going on, but totally (they have similar abilities). Then the agents might identify the room they are in or the task they are performing. the message was sent, and that there is never more than one agent that I need help”. If the assertion like A or B could be similar For yet another outer-scope in which B knows to the interaction to A somehow), (the “I” refers that the robots irrelevant suppose A.J. Grove/Artificial Intelligence 74 (1995) 311-350 315 among themselves. There is sometimes an assumption that the “correct” reading of an assertion like “I know that you know that I know. . .” has you referring to me by my “proper name”. While referring to an agent by his/her proper name is often the appropriate choice, it is not always the appropriate choice. In the situation described at the end of the previous paragraph, the correct way for robots to refer to each other is using position and not using names like A and B. The reading of “I know that B knows that I need help” given there is not just plausible, it is in fact the most natural interpretation there is. In summary, we have seen two issues that must be addressed whenever we in- terpret a name or description. First, we must decide on the scope (in the formula is it A or B who needs assistance?). Second, we must decide on KIKB (Zneedhlp), the appropriate munner of reference (which description or name is B using for A in formula K,KB (Zneed_heZp), when the second “I” is read with outer scope?). There are many possibilities for each, and in different situations we may need to express and reason with any of them. An expressive formalism should allow us to deal with both the issue of scope and the issue of multiple ways of referring in a general way, and the construction of a logic that does this is a major goal of this paper. In particular, our logic allows us to express various outer-scope readings of a sentence such as “I know that you know that I know” yet does not allow outer-scope sentences that contain ambiguity. In one sense, it is true that the two issues just raised are already quite well known. For instance, the observation about potential scope ambiguity with non-rigid names was already implicit in Russell’s Theory of Descriptions ( [ 41,421; see [43] for a good discussion). In essence, the scope distinction can also be viewed as an aspect of the de dictolde re distinction made in philosophical logic. And our concern with how agents are referred to echoes earlier controversy about the meaning of de re reference. We discuss these ideas, and explain their relevance to this paper, in Section 5. On the other hand, our perspective on these issues is not traditional, and this leads to new results. First, we note that most philosophical work assumes that there is exactly one correct way of interpreting outer-scope (de w) knowledge. In our terminology, this amounts to assuming that exactly one “way of referring” is really important. (The two most relevant exceptions we know of are due to Hintikka [ 171 and Thomason [45], who both consider relaxing this assumption. We discuss their work later.) Even in work in artificial intelligence, those workers who have thought carefully and explicitly about these issues, in practice end up making the assumption that there is a special set of “standard names” underlying de re semantics (for example, see [ 27,3 11) . All this may be plausible if the goal of logic is to understand human thought and natural language; we will not enter this controversy. And the standard name assumption is without doubt sensible and appropriate in applications where agents’ knowledge about each other’s identities is comprehensive and straightforward. But our interest is quite different. We want a general concept of “knowledge” that we can ascribe to agents, as a model of their mental states. If we cannot be precise about how agents are referred to, then outer scope is quite useless. And when we look at simple systems, there are many instances where there really are many (or perhaps no) important ways of referring. So the first contribution of this work is that we discuss the importance of being able to reason using 316 A.J. Grove/Artificial Intelligence 74 (1995) 31 I-350 all scopes and ways of referring. The second contribution logic, that allows agents propositional dexically). We show that this integration of naming and identity, because sometimes We note that, in discussing Finally, we emphasize yet powerful possible-worlds So, even aside from our differences that we give a technical reference, and scope. is our integration of these questions with ideas in our earlier (in- and others relatively to giving a complete account is relative. to refer to themselves can be essential the appropriate “way of referring” this, we are continuing that we discuss a complete ideas advanced by Lewis [29]. logic, with precise syntax, simple semantics, and give a sound and complete axiomatization. in motivation as well as philosophical and philosophy, our work is novel account of naming, in relative identity, is organized of this paper in a propositional context, and summarizes in [ 111. Section 3 discusses more examples The remainder worlds semantics of the logics of outer scope and manner of reference. Section 4 is the heart of the paper. In it, we the logic we propose as briefly continue our analysis of the problems, and then present for the logic, examples is an axiomatization our solution. Also included of the logic’s application, and some discussion of related work. In Section 5 we discuss the issues we have seen once again, but from a much more philosophical as follows. Section 2 introduces possible- features of one the relevant the subtleties that illustrate in this section perspective. 2. Propositional logics and possible-worlds semantics In this section, we review two propositional overview of a logic called S5,, and discusses knowledge. Our review of this is extremely brief because well known. For more details see, for instance, is subject logic S5, to all The the restrictions mentioned [ 4,14,16,20], logics. The first subsection standard possible-worlds the issues as well as [ 11 I. in the contains an for semantics involved are quite Section 2.2 we present a simple in several ways. Some of the new features relative names and knowledge about self-identity, become later. first-order logic, based on material logic we develop introduction. In in part I, that is more general in this logic, varying domains of agents, features of the important 2.1. Possible-worlds semantics and S5, epistemic logic agents In propositional in terms of some in the logic can be any Boolean fixed collection @ of primitive propositions. A formula In addition, of the primitive propositions combination for the logic S5, we allow n modal operators KI, K2,. . . , K,, so that if (D is a formula, then so is Kip. We read Kip as agent i knows cp. in @ (formed using 7, A,V,+,H). reason about the world An S.5, possible-worlds is a tuple M = (K r, ICI, r associates with each possible world a truth assignment formally, 7r : W t set of worlds W. structure over the vocabulary @ . . , Kc,). Here W is a set of states, or possible worlds, and to the propositions @. More relation on the Each Ki is an equivalence (or S5, Kripke structure) (CD --t {true,false}). A.J. Grove/Arttj?cial Intelligence 74 (1995) 311-350 317 The intuition is that a binary relation Ki on worlds can represent agent i’s knowledge, because it can capture his ignorance about what the world is really like. Suppose that the “real world” is represented by w E W. The agent probably doesn’t know this; otherwise, he would be uncertain about nothing. On the other hand, some of the other w’ will be inconsistent with what the agent knows. So there is some subset of W which contains just the worlds that are consistent with the agent’s knowledge. A relation Ki can represent this set: we say that {w’ E W : (w, w’) E Ki} is the set of worlds agent i considers possible from w. Ici is sometimes called an epistemic accessibility relation. Note that this intuition suggests that Ki can be any binary relation over W. The principal semantic feature which distinguishes S5, from other modal logics based on the same language are the further conditions that Xi be reflexive, transitive, and symmetric (i.e., an equivalence relation). Although some of the properties of S5, entailed by these conditions have been criti- cized in the philosophical literature (see [ 241 for an overview), S5, has been shown to be useful and well motivated in the context of analyzing multi-agent systems [ 13,391. We briefly review the motivation here. In any possible world, we can suppose that agent i is in a particular local state. We imagine the local state as a structure containing all information the agent can reason with and base decisions on. This picture is particu- larly appropriate for robotic agents because we can often say precisely what memory and sensory capabilities the agent has. Now consider a possible world w, and suppose the agent is in local state s. We can argue that the agent must consider possible all worlds, including w, where he is in state s because he has no information to rule any of them out. On the other hand, he should not consider possible any worlds where his state is not s, because the agent can tell that such worlds are inconsistent with what he knows about himself. These arguments show that the accessibility relation partitions the possible worlds according to the state of the agent; thus, the accessibility relation is an equivalence relation. We note, however, that none of our arguments are critically dependent on the nature of the accessibility relation, or on the particular logic S5,. It would be quite straightforward to reformulate our work in the context of other logics, such as the logic KD45, that is often used to model agent’s beliefs. A formula p is either true or false at a pair (M, w) consisting of a structure M and a world w in M. We define what it means for Q to be true at world w in structure M, written (M, w) k cp, by induction on the structure of cp: * l (M,w)kpiffp~@andrr(w)(p)=true, l (M,w) b=“p iff not (M,w) C_ 40, l (M,w)~~A~iffboth(M,w)Pcpand(M,w)~=, l (M, W) k KiqP iff (M, w’) A formula Q is said to be valid in a structure M, written M k sp, iff (M, w) b 4p for all worlds w in M. Formula cp is said to be (S5,-) valid iff M ‘F= q for all S5, structures M. There are several well-known axiomatizations for the class of all SS,-valid formulas (see 14,141). (p for all W’ such that (w, w’) E Ki. b Note that the familiar logic S5 is simply the special case of S5, where n = 1. ’ The cases for the boolean connectives V, =s, ($ are omitted because they arc definable in terms of 1 and A. 318 A.J. Grove/Artificial Intelligence 74 (1995) 311-350 2.2. A propositional logic with relative names We now review material from [ Ill. As we noted logic because it makes almost no distinction restrictive names. Three of the more significant weaknesses is a model of how of the agents comprising l Each possible world identity and in between the introduction, S.5, is a the n agents and their are the following: the system might be. In general, the the system might not be fixed. is frequently that there are exactly n agents, which assumes number So S5,-semantics, unrealistic. l It is not always possible to model an agent’s knowledge as a set of worlds that the the internal two agents that models the following in the same state s. The system agent considers possible. We want a concept of knowledge example. We have a system S, “state” of an agent. Now consider is set up and at time 0 it contains so that, at time 1, one of the two agents is chosen at random and enters a new state, t. Note that after time 1 both agents agree on which worlds are possible; all they know is that there is one agent in state s and one in state t. So any possible- worlds structure where the worlds are some “objective” model of reality gives the identical knowledge. But we don’t want this, because such a concept two agents of knowledge states completely. The problem ignorance clearly cannot model is that possible worlds alone cannot capture an agents’ knowledge or about who he is. the two agents’ (different!) l Many applications need relative names. For instance, is not determined the name. One special relative name is I, which refers directly just by what the world the denotation of “the agent is like, it also depends on to the to my left” who is using agent speaking or reasoning. Much more discussion of these issues is contained should that knowledge arguments for the second point, what we call knowledge about self-identity, that allows some forms of relative usefulness of this in robotic applications, indexical one agent’s perspective. We have used the word “relative” in this paper. In part this is to avoid confusion; used as a synonym can be found is a term frequently used to describe objects, for non-rigid. in [6,33] can be found reference, as well as convincing some component include in [29,35]. A formal in part 1. Even more detailed of logic for the in [ 25,261. We also note that to like names, that are relative arguments in preference the word indexical in “indexical” is instead solution. Note that standard possible-worlds specify a set A, which consists of the agents The problem of varying domains has a simple solution. For each world w in the in w. related and in the regards the identity model, we explicitly The second and third issues are more subtle, but turn out to be closely fact share a common truth of any formula as being determined of the agent uttering in S5, the truth of a formula world. But in order to give the semantics of relative names must also specify truth of a formula with respect (where a E A,,,). All relative names are interpreted with respect there is defined with respect to a this is not good enough; we the of world w and an agent a to a. More formally, to semantics by the world alone and ignores the speaker of the assertion. We can do this formally by defining ,X that maps a world, a name and an agent to a pair (w, a) consisting is a name-interpretation that exist it. Thus, function A. J. Grove /Artificial Intelligence 74 (I 99s) 31 I-350 319 some other agent in that world. If p( w, n,a) = b then we say that, in w, a calls b by name n. Note that at world w every name refers to some agent in A,,,; the logic will not allow meaningless assertions about an agent’s knowledge at a world where the agent does not exist. Our logic also allows relative propositions, so that the function T gives a mapping from proposition symbols, worlds, and agents, to {true, false}. For example, we can have a proposition leader which would be true of the pair (w, a) (i.e., T( w, a) (leader) = true) exactly if a is the group leader in world w. The approach of considering world/agent pairs, which is perhaps the most natural way to give semantics to relative names, also provides a natural way of dealing with knowledge about one’s identity. We would say pair (w’, a’) is considered possible from (w, a) if, at world w, agent a thinks w’ is possible (i.e., it is consistent with his knowledge) and also that a might be agent a’ in w’. This last clause lets us capture directly u’s knowledge or uncertainty about who he is. Formally, instead of an accessibility relation & on possible worlds for each agent a, we have one accessibility relation K: which is an equivalence relation on the class of all world/agent pairs. As we have suggested, the intuition for this model is that knowledge cannot be completely represented just as the set of worlds which is considered possible, but also must account for knowledge about who an agent thinks he might be within the world. In our earlier example, the two agents would agree on every “objective” assertion about the world (such as, there are two agents, exactly one of them is in state t, and so on). They differ in who they think they might be: the agent in state t knows that he is that agent in state t. Using the ideas just presented, we extend S5, to a propositional logic that allows reasoning about relative names and self-identity. The language’s syntax is changed, to allow an arbitrary collection of modal operators Kn for various names n. The truth condition for such an operator is as follows: M,(w,u) + K,qpiff M,(w’,b’) Ic, where b=p(w,n,u). kp for all (w’,b’) with ((w,b),(w’,b’)) E According to this clause, any name n will be interpreted as a relative name. This is not restrictive, because absolute names, that should not be relative to the agent, are simply the special case where the set denoted is independent of which agent we take as a reference point. There is one more feature in our logic for relative naming: we assume that the syntax includes a special name I that allows the agent to refer to himself (so that we can say things like “I know that the agent with name n knows . . .“). Formally, the name I always has the interpretation of the identity function; that is, p( w, I, a) = a always. We should emphasize that our name I is not intended to be a formalization of the natural language word (“I”). The best reading of our I depends on context; for instance, we would read K,,K,Klsp as “n knows that m knows that he himself knows 9”. Note that the logic we presented in part I was somewhat more general than this because we allowed relative names that denoted groups of agents. There, instead of a modal operator K”, we allowed En and S,, (read as “everybody with name n knows. . .” and “someone named II knows.. .” respectively). Part I also contains a sound and complex axiomatization and a complexity analysis for this logic. 320 A.J. Grove/Artificiul Intelligence 74 (1995) 31 I-350 equivalent for knowledge to our semantics logic. Lesptrance about self-identity, [26] uses Lewis’s [29] discusses essentially for knowledge about self-identity Finally, we remark that part I’s semantics is certainly semantics, but does not not entirely novel. Lewis ideas, and gives a rich logic, discuss any specific although he does not focus on the issue of naming. We compare this work with ours in more detail in Section 4.5. There are also a number of other logics with some apparent similarity in that they supplement the “possible worlds” where formulas are evaluated by an explicit context referring where, when, or by whom an utterance is Kaplan’s work on demonstratives distinction modalities, deal with indexical like Kaplan’s, appear almost entirely concerned with formalizing natural language. The principal question “really mean”. Neither part I nor this paper issues. We seek formal to allow us to talk about the states of simple “agents” understandable to example the less important [22] and our work is that the former does not address epistemic that can and is to ask what the words used in such reasoning these expressive in terms of some concept roughly between so does not produce anything terms. What is that philosophical human logics that are simple, unambiguous, investigations, reasoning in any way, to address a logic of knowledge the most well-known is made. Possibly as “knowledge”. and sufficiently [22]. Perhaps and indexicals is intended, resembling important is more 3. The problems: scope and multiple ways of referring In the introduction we introduced our goal of finding an expressive multi-agent two problems, scope and multiple ways of referring, logic. In this epistemic these issues, principally by means of additional examples. that complicate section we re-examine 3.1. Scope Non-rigid names have different denotations name occurs refers to? This formula p contains names is the question of scope. The technical in different worlds. So when a non-rigid in a formula, which world do we use when determining who the name issue is the following. Suppose for instance, semantics will cause there can be several the scope of epistemic operators, that are within ll2 . . . K”, p. To determine the truth of 40, possible-worlds q==n,K us to consider many worlds other than the “real” one. Therefore, options to use when evaluating names. the truth of 40, with respect to world/agent logic for naming uses the following scheme. pair (w, a), we (1) determine then (2) find all the pairs that this agent considers the to later in the (3) check if K,,, . . . K,,“, p is true in each of these pairs, using It is irrelevant who the names n2,. . . , n, denote relative the third step causes us to we evaluate these names It is easy to verify that our propositional relative to (w, a), To determine who nl denotes, possible, and finally same procedure pair (w, a), because process, at different pairs. We have called scope semantics have a compositional extreme possibility, outermost recursively. this possibility innermost scope. Innermost- nature, and are simple and well-defined. Another scope, is to evaluate every name nl, . . . , n, once and for A.J. Crove/Art$cial Intelligence 74 (1995) 311-350 321 all, at (w, a), and remember, somehow, who these agents for later in the evaluation process. Finally, there are intermediate solutions where a name, for example n,, is not evalu- ated at ( w, a), and nor is it re-evaluated at every single world that agent n,_ 1 considers possible. Since there are m - 1 preceding names there are (at least) m reasonable pos- sible ways to evaluate n,. We call all, except innermost scope, types of outer-scope interpretation. Our next task is to show that all these possibilities are important. Innermost scope is easiest to motivate. Suppose an agent a knows 4p. Of course, this agent can have several names: it might have a “proper name” used to sign messages with, a particular physical location that can be used as a name, a role in an organization, and so on. Suppose that later, an agent (named) m learns about (I’S knowledge. If we think about how m might learn this, we realize that what often happens is that m learns that “the agent named n”, where n is one of a’s names, knows 4p. For example, a might send a signed message to m. Therefore, the state of knowledge afterwards is K,,,K,~ where the name n must be read with innermost scope. In general, the simple compositional semantics of innermost scope often parallels the process of knowledge acquisition. Unfortunately, innermost scope alone cannot express everything. Consider how we, as users of natural language, use names in knowledge contexts. If I were to assert, for example, that “You know that I know what time it is” then the “I” refers to me and not . . ., the name the person I’m addressing. So if we were to try to formalize this as K,,,Kl I should take outermost, not innermost, scope. Many similar examples demonstrate that outer-scope interpretations are often natural to us. Moreover, outer scopes are sometimes useful for concrete domains within computer science. Here is an example; we will see others later. An agent a sends a message M that will be received by exactly one other agent, although a doesn’t know who this will be. 3 Note that the only way a can reason about this other agent is using some descriptive title like “recipient-of-M”. Suppose that the information contained in M is something that was previously known only to a, and, subsequently, will only be learned by whoever receives the message M. For example, M might contain a key that a has chosen to be used for encrypting other messages. Now suppose that, in fact, an agent b was the recipient of M, and that b then sends some other message M' to a third agent c (but b does not tell c about the first message M). Finally, suppose that later c is talking with a, and reveals something that proves to a that he (c) received M' from someone who saw M. For example, this would be the case if M' was encrypted with a key that was sent in M. Although c knows that this someone is b, he neglects to tell a. What is known by a and c now? One interesting observation is that “c knows that the recipient-of-M sent M"' seems to be true, so long as name “recipient-of-M” is read with outemzost scope, because then this name denotes agent b. Agent c doesn’t actually know anything about the message M, or even that such a message was sent, so the same assertion using innermost scope is false in this situation. So we have produced an outer-scope assertion which accurately describes (one aspect of) c’s knowledge. 3 More precisely, here we mean an agent named a. This distinction is not important to the example, however. 322 A.J. Grove/ArtiJiciul Intelligence 74 (I 995) 31 I-350 However, it is stronger such a sentence is interpreted using in which everything the sentence: “b is recipient-of-M, is more subtle than this: simply demonstrating the example is not a strong argument that outer scope is necessary or useful! This is because agent c knows who sent M’ (b). Consider and c knows that is b sent M”, than the previous statement we considered. So if we true and, furthermore, the were just reasoning earlier, outer scope, assertion because sentence. However, and this is the crucial point, we can not avoid outer scope this way when we consider a’s knowledge is b, so he cannot use the innermost scope sentence we have just seen. He has only partial information knows an outer (although not outermost) thing to do in this case is to say that “a takes about c’s knowledge. The easiest that recipient-of-A4 about c’s knowledge, we would never have any need to consider about c. Agent a doesn’t know that the relevant sent M’” as above, where recipient-of-M it is subsumed by this innermost-scope scope. This assertion that c knows scope here. third agent innermost This example is quite involved, but turns out to be quite typical of when outer scopes are useful: when one agent has partial knowledge about some other agent’s knowledge. In such cases, the agent does not know what the right names are. Here, a didn’t know that b was the recipient of M, so we cannot easily use innermost scope to describe his knowledge of c’s knowledge. scope may be unavailable innermost because Given that-in how should we do this answer satisfactorily To begin with, some contexts-there in a formal seems to be a need for outer scope attributions, theory? This question and occupies us for much of the remainder of the paper. is surprisingly difficult to it is clear that allowing outer scope will require our more complex syntactically. After all, every name can be interpreted formulas need to provide more information than in a comparable longer for an adequately expressive to tell which scope should be used for evaluation refers to), The mark would refer back to one of the enclosing modal operators. to be logic in several ways so to avoid ambiguity. Hence, formulas will be logic where one fixed scope is assumed always. One idea is to mark each occurrence of a name in some way, syntax (and so which agent the name actually issue, but in a very different way (using predicate There are other solutions as well. For example, another recent work attacking a closely is [7]. And in Russell’s work disguised definite (although when names should be treated this way is another question). The but the position of the quantifier is not uniquely determined. That is, the quantifier can have reading. This related perhaps one of the most well known answers ( [ 4 l-431 ). Russell shows how one can treat terms-names descriptions expression of such a description in the enclosing one of several possible corresponds to the issue of scope as we have raised it here. scopes, and each possibility is implicit for us-as involves quantification, gives a different to our problem abstraction) sentence exactly We do not develop any of these suggestions here, however is one aspect of the logic presented (although in Section 4). This the quantifi- to scope solution the scope classification to knowing which agents are being referred is so far only captures part of the story. In to, we also need to know how they as presented cational because addition are being referred to. This is the issue we consider now. A.J. Grove/Artificial Intelligence 74 (1995) 31 l-350 323 3.2. Multiple ways of referring We generally have many ways of referring to an object or individual, and in modal contexts the choices we make can be important. In simple cases this is well known and uncontroversial. Consider, for instance, Russell’s famous example. Russell [41] noted that Scott was, in fact, the author of the novel Wave&y, and that while Ring George IV certainly knew that Scott was Scott, he apparently did not always know that Scott was the author of Wave&y. The main point is, of course, that even if two names denote the same individual in fact, we cannot always replace an occurrence of one by the other. One way of understanding why this is so is to think about possible-worlds semantics with nonrigid terms: it is clearly possible that two terms agree in the “real” world and yet have differing denotations in other possible worlds. One can analyze Russell’s example this way, giving both “Scott” and “the author of Wave&y” innermost scope (perhaps inside a “Ring George knows” modality). This is of course well known. The purpose of this section is to show that the possibility of referring to an object in many ways, and the consequent subtleties, is not only an issue for innermost scope. Indeed, things become substantially more complex for outer scope. We begin by considering yet another example, inspired by some recent work in [32, 401. These papers considered a distributed system, where processes are connected by point to point communication lines. However, it is not assumed that there is necessarily a global naming scheme for these lines. So while each agent will have to assign a number (or name) to each of the communication lines it has access to, a might regard his line to b as (his) line #l, yet b might regard the same line as his #3. Such conflicts are inevitable, at least initially, because the processes can only assign channel labels arbitrarily. [ 32,401 also considered a logical formalism for analyzing such systems. The syntax of this special-purpose logic fits easily into the framework we gave in part I and Section 2.2. Both logics allow relative names like I and #l. However, the semantics differ significantly. As we have discussed, our logic preserves the innermost scope reading of formulas. In particular, we leave it to the reader to check that a formula such as K~KglK,sp is interpreted as “I know that the agent at the end of line #l knows ‘I know 40’ “. Thus, in the formula K, Kg1 K~cp, the inner I does not refer to the same agent as the outermost I, but rather refers to the agent at the end of line #l. This is not the reading of this formula in [ 32,401. If the issue was simply that of differing scope, then we might be lead to consider an alternative where the inner I denotes the same agent as does the outer; that is, where this symbol is actually evaluated in the context of the first KI. Whomever “I” denotes there, say agent a, will also be who the inner Z stands for (a again). However, this seemingly plausible interpretation does not capture the reading taken by [ 32,401. To understand their interpretation, suppose a sends a message saying 4p to the agent at the end of his line #l, and then receives an acknowledgment. At this point, we might want to describe a’s state of knowledge as “I (a) know that the agent at the end of my line #l knows that I know 4p.” Suppose the agent at the end of a’s line #l is b. It is then not really the case that b knows that a knows 4p. All that b knows is that the agent at the other end of the line that he received the message on knows q~ Although 324 A.J. Grove/Art&id Intelligence 74 (1995) 31 I-350 the agent at the other end of the line that b received in this world, possible. the end of my line #1 knows he gives to my line #l knows p-which specifically their semantics to be a it may well be some other agent, c, in some other world that b considers that the agent at that is supported by the semantics of [ 32,401, and that the agent at the end of the line with the name the message on happens It is this interpretation of K,&tK,q--namely, that I know is designed to enforce this. the appropriate is upgraded, so that in addition reading of the formula but it is not the best interpretation for the protocol Moses and This is certainly Imagine for every situation. Roth were considering, lines, a process can that the network broadcast a message over a radio link, and that such broadcasts may carry a signature identifier). (that then is on the end of #l ) hears this, so a can assert K,K#l K,sp everyone that the agent on the again. But in this case, the formula should be read as “a knows other end of his line knows that he (a) knows 9”. Both Z’s now refer to the same agent, and now actually denote a (or more precisely, the agent with u’s signature). “I’m a, and I know $’ is, some unforgeable (including whoever to the point-to-point If a broadcasts So even when we know the scope of the second r-it does the first, that is, it should refer to agent a somehow-there this reference he referred to by the second agent’? is made. The agent a can have many names. By which of these names is to refer to the same agent as is ambiguity about how is This difficulty with outer-scope is even more obvious when we consider deeply nested knowledge. Consider a formula such as KIK#I K#~KI(P. We concentrate on the same agent as does the second I, and decide that it is to refer-in the first. Let us suppose is relative, is a. Consider that this first agent, he to whom the whole sentence in the following diagram: the world w shown some manner-to references That is, in world w, process b is at the end of u’s first line and c is at the end of u’s line; process a is at the end of b’s first line and c is at the end of b’s second line. Note second line; process b is at the end of c’s first line and a is at the end of c’s second that, in particular, c calls the line connecting c and b line #l, while b calls it line #2. Now for KIK#I K#~KIc+o to be true at w, we must have K#l K#zKlq true at all worlds of the names #l, #2, the agent at the end of a’s first line is b, and the agent at the end of b’s of #l and #2, and, is c, it seems this is how we interpret #l and #2.4 The question that a considers possible at w, for some appropriate and I. Since second line for the purposes of this discussion, that these are reasonable interpretations interpretation 4This interpretation #2. However, the example of #I and #2 is not necessarily complicated is sufficiently the right one: for instance, h might not know that c is this point. already that we ignore A.J. Grove/Art@cial Intelligence 74 (1995) 31 I-350 325 still remains how to interpret the inner occurrence of the name I. We could take it to be Q, or the agent at the end of c’s second channel, or the agent at the end of the first channel of the agent receiving on c’s first channel, or the agent at the end of b’s first, etc. All of these descriptions denote a in the actual world w, so apparently are using the same scope. But they do not necessarily denote a in all the worlds that a considers that b considers that c considers possible. Thus, they result in quite different interpretations for the original formula KlK#t KmKpp. The first answer-which is perhaps the standard solution-is the least likely to be useful. The most useful, it would seem, are the second and third, where we determine a by means of its position relative to c. (We remark that Moses and Roth give yet another, somewhat unusual, interpretation to this sentence: the channel number b knows a by (here, #l ) is substituted for I in atery context-even where #I will not be interpreted relative to b at all! It seems unlikely that this was intended. However, the analysis in their work does not require deeply nested knowledge, so the difficulties arising in such cases are not especially important to them.) The example just discussed uses relative names, but this is only because the issue may be more apparent in this context, and their use allows us to relate our discussion to [ 32,401. But even without such names, the issue can arise. Computing installations can be known by the actual site name (company, university, whatever) as well as by means of a network address or identifier. If the latter is insufficiently mnemonic then there is a difference between knowing something about a set of machines (locations) and a set of nodes (addresses). Suppose an agent knows that every computer connected to the ARPANET received message rn. In a model where we are considering many machines (including ones not connected to the network) “ARPANET seems best treated as a group name, and the previous sentence has a clear reading if names are given the interpretation. However, it may not have a unique outermost-scope innermost-scope interpretation. (Does the agent know something about a particular set of computing sites, or about the machines named by a particular set of addresses? Depending on how the knowledge was acquired, either could be appropriate.) All these examples illustrate the importance of the manner of reference. Any adequate formalization for names will have to take this into account. For instance, in dealing with a formula like KI K#l KI(P, a general logic of naming will have to identify both to whom each occurrence of Z refers to and to how this reference is to be made, for there could be several options. Is it the “I” at the other end of the link? Is it the “I” that signed the broadcast? Or is there perhaps some other way of referring to Z altogether? We see now that the brief discussion of scope in Section 3.1 is incomplete. There, we implicitly supposed that all we needed to do was to determine which worlds or pairs to use when evaluating a name. Given the outcome of this decision, we look for the agent denoted by the name there: this agent is who the name stands for. This simple picture is noteworthy for the fact that no mention is made of how the agent selected is referred to; just identifying the agent itself is supposed to be enough. We have just seen that this is inadequate. The choice of which scope to use is indeed necessary to determine which agent is being “referred” to. But the word “referred” hides another story, and another set of decisions: there can be many ways to refer to an agent. In the following, we use the term scope to indicate to the first of these choices: which (world, agent) pair do we 326 A.J. Grove/ArtiJiicial Intelligence 74 (1995) 31 l-350 the denotation of a name? But, for any outer-scope reference, use in order to determine the manner of reference needs to be specified as well. first-order In the next section, we present a powerful In [ lo] we explore another approach, which is to convert outer-scope scope, and express these in our propositional several of the examples we have seen; the various possible semantics it still has many logic that can express all possi- references logic for naming. This tech- it is powerful in particular, logic for relative limitations. The general case simply seems for the Moses-Roth bilities. to innermost nique can handle enough to capture channel names. However, far too complex to have a good solution within propositional logic. 4. A quantified modal logic 4.1. Introduction Our overall goal in this paper is to develop a general logic. It might seem that this is a straightforward first-order multiple-agent epis- exercise, because most of the temic standard propositional modal counterparts. However, agents previous arise concerning have raised. refer to each other; logics, these logics are inadequate because like S5”, have quite well-understood quantified they do not account for how In part I, and in the that naming. Here we present a logic that can cope with all the issues we sections of this paper, we have looked at several examples and problems the issue of naming. i.e., they ignore to another, Before looking at details, that agents used by one agent let us summarize the most important aspects of this solution. (real individuals that exist in a possible world) and names First, we believe are quite different in reasoning) to refer (something our logic will treat them separately. Second, we cannot classes of objects. Accordingly, the mediation see any situation where one agent reasons about another agent without this. of some name or description. The syntax of the logic will be designed to be useful precisely when we do not care to be completely Third, outer scope seems explicit about which name an agent is using. That is, we know there is a name but have partial to express Further, an individual’s way of referring the logic will include a version of the semantics we used for our propositional about which one. Our logic uses quantification that the names used are often relative. to have special properties. So that information finally, we acknowledge for knowledge about self-identity (or conceivably, to itself seems to enforce this. And logic. no) An example of something our logic can assert is: 3x (Talking( me, x) A 3X ( Location(X) A ILeVy: A Zn(me, x, X) ln(me,y,X) * Tall(y)))). is used in this section we discuss used here in detail. Of course, (possibly The In relation relative) name. This particular assertion can be interpreted as follows: I (me) am talking name to some agent (x), x’s position is X (for instance, X might be “in front of”), and I know that the agent in that location to me is captured by some “location-type” is associated with a particular the syntax and constructions to say that an agent relative A.J. Grove/Art@cial Intelligence 74 (1995) 31 l-350 327 tall. The more colloquial reading, “I know that I’m talking to someone tall” is also fine as far as it goes, but is misses the point that I know I am reasoning about the agent in a particular position. Perhaps I simply see that he is tall, without knowing his “proper name” or anything else about him. The interplay of names and agents is important in such examples, in order to convey all subtleties clearly and completely. 4.2. The logic Our logic is many-sorted, with the two distinguished sorts agent and name. The connection between the two is captured by a distinguished a predicate symbol In which holds between a pair of agents and a name (pairs, because our logic will be for relative names). Intuitively, Zn(a, b, n) holds at a world w iff b is in the set of agents named n by a in w. (The equivalent of In in our propositional logic would be that p( w, II, a) = 6, although using In also works if a calls several agents by name n,) In the following, V refers to some fixed first-order vocabulary of function and predicate symbols (including In). In defining the language, we also assume the availability an infinite supply of variables of all sorts. (In later examples, we generally use x, y, z, X, I: Z for variables and t, u, T, U for general terms; upper case is usually used just for variables and terms of sort name.) Intuitively, possible worlds will simply be first-order structures (interpretations) over the vocabulary V. More formally, a @t-order possible-worlds structure with knowledge about self-identity over V is a tuple M = (W, K, rr). Here, v is a function mapping W to first-order structures over V; this T plays the analogous role in this first-order case as the propositional rr did before. Formally, T(W) is a function such that: l m(w) maps every sort, including agents and names, into a set of objects which is the domain of that sort at w. If s is a sort, we will write T(W) (s) as sw. l Suppose P is an n-ax-y predicate in V, which takes arguments of sorts st , ~2, . . . , s,, . which we will also write as P”‘, is an nary relation on sr x ST x Then r(w)(P), ***xs;. l Suppose f is an nary function symbol in V, of sort s, which takes arguments of sorts st , sp, . . . , sn. Then T(W) ( f), which we will also write as f”, is a function from sr x s; x - - - x s,” to sw. Note that, unlike the propositional case, the set of agents present at w is included as part of v (that is, using the notation of Section 2.2, ugentw is just d,,,) . Unchanged from our earlier semantics is the knowledge relation Ic; this continues to be a equivalence relation on (world, agent) pairs. The only other condition on these structures is that the domain of names must be identical for all the worlds in W. We discuss the motivation for this later in the section. Note that while the class of names is constant, the interpretation of In (which captures the connection between names and agents) is determined by T and so can certainly vary from world to world., The syntax of the language is as follows: l The class of term includes all variable symbols, constant symbols (0-ary func- tions), a new symbol me of sort agent, and is closed under application of function symbols of the appropriate sorts. The symbol me is a special symbol, which be- haves much like a constant of sort agent. As we will see shortly, me has a special 328 A.J. Grove/Artijicial Intelligence 74 (1995) 31 I-350 semantic role, so we have chosen not to regard it as part of the vocabulary V. symbol l The class of legal formulas, C, includes all atomic formulas terms of the appropriate in sorts, or else two terms of the same sort (predicate V plus argument connected by equality “=“). l L is closed under l If C+P is any formula the boolean connectives and quantification. in C which is either closed or only has free variables of sort this is just usual then K,p is in C for any term t that is of sort agent. name, the exception of the knowledge modalities, of K, is interesting syntax. With it is not quite as general as one might because The introduction expect. K, can only occur before a formula with no free variables other than variables of sort name. This means (if x is not a name variable). Such formulas are said to exhibit quantifying-in, because a modality from its binding quantifier. Therefore, our syntax separates an occurrence of a variable prohibits quantifying-in and its consequences, for sorts other than names. The reasons like 3x K,P( x) is prohibited are complex; we discuss this issue at length for this restriction, that a “formula” first-order later. relate the semantics The final formal definitions formulas-at to this language. We want to evaluate like w, a. But to give a satisfac- (world, agent) pairs sentences-closed tory formal definition, we need to consider evaluation of formulas which do have free function u which maps variables. To allow for this, we also provide a variable valuation variable to the sort of the variable if we wish to evaluate a formula at M, w, a, U, and x is a variable of sort S, we (i.e., require u(x) E s”). As usual, the function u will turn in the case of closed formulas out to be irrelevant. the domain appropriate into objects symbols from The semantic conditions for first-order languages are so well known that we are brief here with the standard features of the language. l At M, w, a, u, term t denotes a domain element, say t”,w,a,L’. If t is a constant t”*w@@ is u(t). t”,w,cr-L’ is t”. If t is me, then t”*‘+‘,‘,” is a. If t is a variable, symbol, If t is f( tr , . , tn), then t”~‘+‘*‘~” is f”( t~wxaxu, . . . , t~"'@~"). . M, w, a, 0 k t, = t2 iff tyw,'*" = tFw,L',". l M,w,a,u + 9 A I++ iff both M,w,a,u + (p and M,w,a,u + +. Other boolean connectives are handled analogously. . M,w,u,v b Ktqo iff M,w',u',u /= (o for E K. ( (w, tMW4.l~ ),(~‘,a’)) all (~‘,a’) such that l M,w,u,u k Vx qo iff for all o E sIL’ where s is the sort of variable X, then = o. like u except that u[x/o](x) is just M,w,u,u[x/o] k cp, where u[x/o] Existential quantification The first clause here includes is handled by treating 3x cp as ~‘d’x ~rp. the semantic definition agent a from whose viewpoint w is being considered, the “I” we had in our propositional the former is a name sort agent. In practice, treated specially. We wish to allow one world (like w) to be considered perspectives r(w) the like I and me is minor: that usually denotes is of the latter the two can be regarded similarly. We can now see why me is from different to be part of for me; the symbol denotes and so functions very much agents a). this would not be possible. logic. The difference between If the interpretation of me was taken relation while the identity (different Next, look at the penultimate clause which deals with knowledge, that is, assertions A.J. Grove/Artificial Intelligence 74 (1995) 31 l-350 329 (because is really just to the propositional in the syntax-K t is any term of sort agent). like M, w, a, u k K,p. We see that this is very similar the difference knowledge used symbols we can now regard E,,cp and S,,qo as alternative notation and 3x Zn( me, x, n) A K,qp respectively. as in our simplified translations would be even simpler could case. In fact, operators now refer directly to an agent’s logics in part I, we like En and S,, where n was a name that could denote a group of agents; 5 +- K,qo just one agent, logic of Section 2.2, both forms are equivalent.) We note that these if we were not looking at relative names because we then write Zn( x, n) rather than Zn( me, x, n) . (Where names always denote In our propositional for Vx Zn(me,x,n) Finally, we consider the clause for quantification. The semantics completely discussion discussed standard. The very fact that this is so is actually of this occupies in the next subsection. the remainder of this section. Application somewhat for this are, in fact, and surprising is of our logic logic concern standard in modal Traditionally, about someone the issue is similar semantics, domains in Section 5. Briefly, to (by me, or whoever the subject of quantification is with quantifying-in, where a free variable let us look at the second and more technical difficulty. is difficult and confused. from its is separated the sentence 3x KmeP(x) exhibits formulas exist in almost any modal This causes problems for at least two distinct and is raised in Section 4.3 and again, at more to our concerns with outer scope. Such (some x) but they do not say anything about The principal binding quantifier by some modality. For example, this (we are using our syntax here, but analogous language with first-order quantification). reasons. The first is more philosophical, length, formulas assert knowledge how this agent is actually being referred But in this section, possible-worlds we have a logic where 3x KmeP( x) semantics conceivable that doesn’t exist in some of the worlds how are we to test the truth of M, w’, a, u + P(x)? (i.e., U(X) ) doesn’t exist at w’, then Pw is a relation defined over a domain which does not include an example, consider the case where I come to believe if he exists at all, lives at the North Pole. And further, world 3x K,,NorthPoZe(x) I consider possible For although even present, in all those worlds where x does exist the assertion NorthPole Here we focus on the technical question which is this: what truth conditions use when evaluating This question is doing the reasoning). In general for objects can vary from world to world. Suppose the it is that exists in the “actual” world w but If this occurs, to r( w’) will not help because this object at all. As that in the real this for certain. Then, should can be made for and against this. (the object denoted by) x is not is true. should we like NorthPole( in any quantified modal there is such a person, even though I do not know the truth of formulas resolved true? Arguments some worlds where that some particular let us suppose is legal, and where quantification to most accounts of first-order that I (me) consider possible. that x becomes bound the interpretation that x is bound be considered If the object ours). Then to an object individual, (including is given to be needs logic quantifying-in. which contains Several ways of doing a good survey of such quantified modal this have been suggested logic (for example, that allows see [ 81 logics). However, we have ‘These modalities are to be understood as “everyone named n knows” and “someone named n knows”, respectively. 330 A.J. Grove/Artificial Intellipvtce 74 (1995) 311-350 lines, to requiring from world this solution this amounts along similar all the objects is not commonly it is quite certain known). Another that none of the well-known systems using possible-worlds solutions are really appropriate problem completely by assuming worlds has the same or larger domain computer to avoid the quantifying-in (after all, perhaps agents die or are created, so that the composition for our goal, which semantics. For that for objects with the the domains to be constant is technically to world. But while for us it is quite unrealistic. We imagine our “possible worlds” to be models that agents which appear in one worlds might be found is to model actual multi-agent instance, it is possible every knowledge-accessible sort of x. In our case, where K is an equivalence, of objects convenient, of concrete systems; absent elsewhere of the system interpret qualify as values of bound variables everywhere. 6 In a sense, that an object o doesn’t exist at world w, but nevertheless property Pw. ’ However, we object to this for similar reasons case. In a concrete system, we can identify properties of agents by just looking at the system); we do not want to speculate about the characteristics nonexistent There is to solution, for the sort of x at every world, but not have all these objects this allows us to say still ask whether o possesses to the “constant domains” that really exist (i.e., of instance, x = x will not be valid: we refer the reader situations in, which preserve fully general semantics and instead alter the logic. For example, we could say that P(x) in the appropriate is automatically false at M, w, a, u whenever x~,“‘,~,” doesn’t exist at w. This proposal possesses technical domain to [ 81 for more features (for discussion). Another like the one just mentioned truth value. Details of such a multivalued logic can certainly be worked out, but there is still a problem: is it necessary These are different, Our logic avoids to be true, to be true in all relevant worlds, or simply not to be false? in general. Any one choice will limit the expressiveness of the logic. simple this controversy for all sorts except that the domain of names had to be that avoids any it that our language was defined it was a condition of our semantics idea in a similar spirit is to consider a few awkward and counterintuitive from world to world. Conveniently, to the problem of quantifying This solution might appear is another class of solutions this is just the requirement to be poor, first because to prohibit quantifying-in, like an unrealistically a third, “undefined”, in what may seem as possessing for Z&P(x) for P(x) agents! way. Recall names. And constant difficulty with quantifying-in. restricts the formulas logic), and second, because our assumption vated (after all, we rejected paragraph). Yet neither of these objections sophical justification names allows us to achieve that can be written the constant domains approach (and so, it seems, will give a less expressive of constant names domain seems unmoti- in the previous in general, is really sound. We claim ( 1) there is philo- over (2) quantifying-in over the sort agents, except that for assuming a constant domain of names, the effect of quantifying-in h That is, each world effectively uses two domains is the domain over which functions and relations are defined. The second, which can vary from world intended that “really exist”. to be the objects to world, is the domain of objects over which 3x and Vx range. The second domain for each sort. The first, which is the same for every world, is a subset of the first and is 7 Such logics are sometimes said to be based on a variant of first-order logic called free logic. A.J. Grove/Artificial Intelligence 74 (1995) 31 I-350 331 if agent a has name then II in the first world and b in the second have something (3) we avoid the difficult and confused consequences address the first of the claims now; the others will occupy us in the following Observe that names are part of the basic vocabulary we are using similarities system. They enable us to describe worlds. For example, this name in another, common. This is what allows us to make assertions . . . “. In such applications it is just not useful a world. We can sensibly ask who has a particular name collection of names in use is part of the way we describe as a whole. * This contrasts with the sort agents, because physical assume that the set of agents of names, is fixed. feature of a possible world. It would simply be unrealistic between to describe or differences of such quantification. We briefly sections. the two possible leader in one possible world, and b has in like “I know that the leader knows to ask what names “exist” at in some world, but the actual structure the possible-worlds is a real the domain of agents to and restrictive 4.3. Use of names in the quantified logic We now look at our assertion that the absence of quantifying-in over agents is not a weakness. to be helpful. over agents seems in our logic. Instead, The outline of this section its effect can be achieved by quantification for capturing outer scope. But we have prohibited is as follows. To begin, we briefly give one reason why is that such quan- In short, this reason quantifying-in such quan- tification appears useful over names, tification interesting happens when and we show how this is done in general. However, something we try to do this. It turns out to be impossible over agents to that over names without supplying more information. We need to say how agents are over being referred agents valid. Our technique using names is expressible) formula). (because any variety of outer scope in the to, and this ties in with the discussion of Section 3. Quantifying-in about how agents are referred to “translate” quantifying-in to that are not universally (because all assumptions and more perspicuous are made explicit is more general assumptions involves over agents, to express “a knows the “he” is outer scope and intended there might seem to be a simple that b knows If we allow quantifying-in of outer scope. For example, where me A KbKxp). 9 In general, where n is a name we want opens the scope where the name n should be evaluated. Suppose for simplicity a name which denotes just a single agent. Then, roughly speaking, we would p as “. . . K(3x Zn(me,n,n) A@(x)). in this translation that arise that he knows cp”, to refer to a, we could write K,(3x x = is this: Let 4p be of the form “. . . K@(n) . . .“, that that n is translate . .“. Suppose for now that any technical problems this new the idea to interpret with outer scope and K is the modality can be overcome. Then, at first glance at least, translation * One way of looking at this is to realize that names are typically agents. However, we can quantify-in over names, but not over predicates; If we moved no longer require names. But our approach to a second- or higher-order logic, and allowed quantifying-in reifications of properties we ascribe to this is what give names their utility. for predicate variables, we would allows us to avoid the complexity of such a powerful logic. 9 We intend the scope of 3x to extend to the end of the sentence. In general where, as here, the appropriate scope of quantification is clear from context, we omit extra parentheses. 332 A.J. Grove/Arrijicial Intelligence 74 (1995) 311-350 adequate representation formula gives as a plausibly The variable x is bound x is used in place of the original outer scope use of n, this variable will denote appropriate agent between difference where do we bind x to n?). to the denotation of n in the correct scope, and so later, when the to the scope we wished n to take). The (i.e., to position of a quantifier reduces (appropriate, with respect the various outer scopes of the outer scope reference to n. subsection, this approach? We have already This was only an outline of the approach, but it seems quite straightforward. Why in in cases where these can be overcome more serious over the remain. Let us now look at why we don’t really need quantifying-in instead. The examples we look at will reveal have we rejected the previous objections agents, and how we can use names deeper flaws inherent we adopt. in the approach just suggested, and the advantages of the technique technical problems seen some but even structure list as Al,. the possible-world subsection, we considered signed with an unforgeable signature. The names here naturally names, which we denoted #l , . . . , #n - 1; and signature-type Before going into this, we need to examine one characteristic of names in our logic. In to be supplied with the previous collection of names. But consider our earlier example where processes an unstructured lines, and also may broadcast could communicate with each other along point-to-point fall into two messages names groups: channel-type in Section 3: there which we might and location) can be names corresponding names which we think of as network addresses. The point is that we often consider that there are various different is required there may well be a number of unary predicates and we can use such predicates be a predicate Cnum() whose type names, and another Sig() can impose whatever structure we require on the collection of names. in the vocabulary 1, that take one argument of type name, there might is to be true of just the channel- intended for the names we think of as signatures. the other example actual sites (perhaps physical . . , A,. Or consider to computers’ to categorize names. For the first example, In our logic, no extra machinery families of names present. the predicate symbols this intuition. Among In this way, we interpretation to capture Given this observation, we are now express outer scope using quantification example which shows how to achieve names instead. to look at examples where we in a position over names. We begin with a straightforward over agents using the affect of quantifying-in the tempted to write read over agents. We would reason, we have been Suppose that, for some and know that the bearers of these names are P. Perhaps that really exist, that they have property P. However, in some particular way. Perhaps formula this as saying in I have a list of proper I know relative to me, are P. Or perhaps I describe for ‘dx K,,,eP(x) which uses quantifying-in that I know, of all the agents I refer to these agents reality, (of persons), names that the agents the agents to myself how I actually the appropriate manner of reference uses an agent’s position, our logic, we would assume a family of location-type Loc( ) that distinguishes “3~Meters-in-front” might refer to such a name, and m( a, b, 3-Meters-in-front) that in this situation to myself. Then in relative (i.e., we have a predicate that might be around). For example, holds if in a way related to appearance. There are numerous possibilities refer to this set of agents: them from other names in some (physical) for definiteness locations, suppose names A.J. Grove/ArtijTcial Intelligence 74 (1995) 311-350 333 b is in the appropriate location relative to a. In deciding to use this family of names, we have decided on a manner of referring to agents. Once we have made such a decision, and only then, can we use quantifying-in over names: Vx (3X Lot(X) AZn(me,x,X) A Kme(Vy : Zn(me,y,X) * P(y))). In words, every agent existing in the current world has some location-type name, and I know that agent(s) with that name satisfy P. At the price of a more complex formula, we avoid the need for quantifying-in over agents. Our solution seems involved, but is superior in a number of respects. First, being forced to make an explicit decision about how we refer to agents (here, this was to use relative position) is to our advantage when there are other ways this could be done. After all, the model might well contain many other names, and our formula could easily be changed to use these instead. (For example, if there is another family of absolute location names which are not relative to any agent, we could use these instead and the resulting sentence has a slightly different meaning.) The point of this is that in the example, I do not and cannot know simply about some agents, but must know about these agents with the mediation of some particular method of referring to them. This is a philosophically subtle and controversial point, and we return to it in the next section. Another benefit of our scheme can be seen by noting that there is an altema- tive to the sentence presented above: the argument of Kme could have been written (3y Zn( me, y, X) A P (y ) ) instead. This differs from the formula we gave if there is no agent in position n in some worlds, or more than one agent among which some satisfy P. In these cases, which is the correct translation? For example, how should we treat worlds where X names the empty set? We could ignore them completely, or take the formula to be false if there are any such worlds. The original sentence has the former interpretation, the new suggestion here corresponds to the latter. We can express both possibilities, equally easily. And we are forced to decide which we want; ambiguity or vagueness is not possible. Next, let us return to one of the examples from Section 3. As we saw there, simply writing a formula such as KI K#l KI(P leaves a number of questions undecided. Our first- order logic can capture many different readings, and forces all decisions to be made explicitly. The innermost scope reading is most easily expressed; indeed, our quantified logic uses this reading automatically (because names, and other symbols such as me, are interpreted in the latest possible context). The direct translation of this sentence into our logic, assuming the innermost scope reading, is VxZn(me,x,Z) + K,(VyZn(me,y,#l) + K,(Vz Zn(me,z,Z) a K,(p)))). This seems complex, but appropriate conventions in the notation simplify it greatly. If we use the abbreviations E and S that were suggested earlier, the above becomes just El E#, Elcp. If we then adopt our earlier convention that uses K rather than E when names refer to a unique agent, we get K/K#I K,cp which is the same syntax as the propositional case and is as concise as we could hope for. So innermost scope is easy to express, as we might have expected. The situation is more interesting when we look at possible outer-scope readings. Suppose we want the 334 A.J. Grove/Artificial Intelligence 74 (1995) 31 I-350 scope where general form for this is: the second “I” refers (somehow) to the same agent as the first. A quite Vix fn(me,x,l) =+ K,(VJY fn(me,y,#l) * 3X (P(X,me,y) A K,.(Vz In(me,z,X) + K,po))))). (me, to select to the first agent, x. (That ‘Iv (X, me, y) is some expression which serves says that for all agents y at the end of my first channel, somewhat by using E, S, and other standard simplifications.) (This could be abbreviated the name X In this sentence, that the first agent calls is, we know by which “y” refers this: by what name does the second refer to the first?) This the second #l. V inverts then whatever name sentence that the agent such an agent refers to me by (as determined by W), the agent y knows with that name for how the second the speaker) knows p. Different possibilities agent refers to me are captured by different choices of P. In order to express the reading of [ 32,40 1, we assume to channel numbers: If we now take ?P (X, me, y) to be Cnum( X) A Zn( y, me, X), then X will refer to that the second agent uses to communicate with the first. We leave it to the channel which reader to check that this choice of P does gives us the interpretation of 132,401. On the other hand, if we decide that the appropriate manner of reference uses names associated then P (X, me, y ) could be Sig( X) A Zn( y, me, X) (where Sig holds of with signatures exactly these is identified by means of a names only. Such a reading unique, unforgeable, like #I and #2, which correspond from others using predicate Cnum(). names) or simply m( y, me, X) if the model contains is appropriate when an agent these names are distinguished there is a family of names the signature-type signature. to this example that deserve comment. We have seen involved (me and y) as well as X. In general, P can if There are some other aspects that P depends on the two agents also depend on the name that the first agent uses to refer to the second. For example, x is connected that the first actually uses for y-##l- the name becomes point choice relevant as well, and P could be quite an involved distinct, choices allowed for. formula. The important for ‘ly. In our logic this is that there may be many to y by several reasonable, lines, is explicitly presented, and all possibilities is that our first-order Our conclusion only a limited number of these possibilities will language clearly exposes all the options available a sentence, and allows any of these to be expressed. For any particular in logic can be devised. But in these the that can be expressed. There seem to be appropriate. So it is useful to have a tool which to do this is the for interpreting application, that case, a more succinct notation or a specialized situations, we should not forget semantics, or else are restricting few such restrictions these assumptions clearly principal benefit of our first-order that are being made, and the ability logic. that we are making typically be useful; further assumptions that are universally the sentences reveals about 4.4. Axiomatization The collection of all formulas valid for our semantics has a fairly simple axiomatiza- first-order tion. Some of the necessary axioms simply express sound patterns of classical, reasoning: A.J. Grove/Artijcial Intelligence 74 (1995) 31 I-350 335 (Ql ) Vx p =s- 9 p[ t/x] (R3) From 50 + +, infer cp + Vx +b if x does not occur free in 4p. if t is substitutable for x in 40 (see below for discussion). Here, x is any variable, and (p and $ can be any formulas in .C. In general, if t and t’ are terms, by 4p[ t/t’] (respectively, p(t/t’)) we mean a formula like 9, except that all (resp., some) “substitutable” occurrences oft are replaced by t’. To ensure the validity of rules like (Ql ) , we must be careful about when these substitutions are performed. A similar situation occurs in classical (non-modal) logic, but our rules for substitutability are necessarily more complex. Let us say that an occurrence of a term t in formula 4p is free if ( 1) no variable appearing in that occurrence of t is bound by any quantifier, and (2) unless t is simply a variable of sort name, the occurrence of t is outside the scope of all K operators in sp. Then term t’ is substitutable for an occurrence of t in 4p if t and t’ are the same sort, and if both the original occurrence of t and the occurrence of t’ that would result after replacing t by t’ ace free in (p. We say that t’ is substitutable for t in 40 just if t’ is substitutable for all free occurrences of t. The restrictions on substitution to do with variables not being bound by quantifiers are required for the same reasons as in classical logic. The additional restriction, that prevents substitution within the scope of a modal operator unless both terms involved are variables of sort name, is needed because terms can be non-rigid. For example, suppose P is a predicate on names, and X is a variable of sort name. Then the sentence (P(N) =s K,P(N)), where N is a name constant, is not (VX P(X) + K,P(X)) sound for our semantics (and note that this is not an instance of (Ql), because N is not substitutable for the second occurrence of X). For suppose M is a model in which the same collection of names satisfies P in each world. The antecedent (VX P(X) =S K,P( X) ) will be true, but (P(N) + K,P( N) ) need not be, because the denotation of N can vary from world to world. + In addition to rules for first-order reasoning, we require axioms to deal with identity: (11) x=x. (12) t1 = t2 * (13) (x = y) + Kt(x = y) if x and y are of sort name. (14) (x # y) =+ K,( x # y) if x and y are of sort name. (P @ $+2/h)). Again, (11) and (12) are just like the usual, classical, axioms aside from our adoption of stronger conditions on “substitutability”. Axioms (13) and (14) are modal principles, and express the fact that name variables are rigid (note that the corresponding axioms for other variables would not even be in the language). Finally, we add axioms dealing with knowledge. It turns out that the necessary axioms are similar to those of the system S5: (Al) All instances of propositional tautologies. (Ml) &P A K,(P =+ +) * KG. (M2) K,~J =+- (p[ t/me] (M3) &P * KtKme~. (M4) -%P * Kt%rie~. (Rl) From sp and cp + 9, infer 9. (R2) From 40, infer K,(D, if this is a well-formed formula. if t is substitutable for me. In these axioms, t can be any term of sort agent. Also, p and $ are restricted by the requirement that the resulting instance be a well-formed formula in C (for example, 336 A. J. Grove/Arti$ciul Intelligence 74 (I 995) 31 I-350 formula 40 must be closed or only have free variables of sort name, because of substitutable In the definition those occurrences the scope of every K in cp are replaced by agent term t. It is not hard to see why the replacement of the scope of K’s is needed. For suppose M, w, a, u k K,~J, and t”-w*a*u = b. (M2), of me that are outside that only in (M3) otherwise K,q would not be well-formed). guarantees modality me outside Our semantics of me in (D will denote b, not a. If we wish to evaluate agent a, we should is suitable, provided M, w, a, u + q[ t/me], which explains to the usual “knowledge” close to S5. it is in fact substitutable ensures that M, w, b, u b 9. But at M, w, b, u every outer occurrence (D from the point of view of replace each such me by some term which denotes b. The term t (M2). Note that when t is just me, (M2) axiom Kmeq =+ (D, and so the logic of Kme alone guarantees reduces is very for me, and this substitution It is easy to verify that each of these three sets of axioms and rules express principles of reasoning the three is complete as well: that are sound for our semantics. Perhaps surprisingly, the combination of (M2), Theorem 4.1. The axiom system consisting of (Al), (Ml), to the class of all first-order possible-worlds identity. (R2), and (R3) (M3), (M4), (RI), (Il), (Ql), is soundand (14), complete with respect structures with knowledge about self- (12), (13), Proof: See Appendix. 4.5. Comparisons with other work The only other about self-identity, is appropriate to compare this work with ours. first-order formal that we know of, is [ 25,261. Since this is a quantified to incorporate logic (what we call) knowledge logic also, it First, Lesperance’s work is in some ways more complete than ours, as it incorporates a full theory of time and action. Our work does not address these matters, because here ideas from [ 261 would we have concentrated be useful on some fundamental in extending our logic to the temporal case. issues. Nevertheless, (i.e., there scope to an agent the fact that the scope has been logic and ours is that ours addresses The real difference between Lesperance’s the is not identified). Although over any is innermost agents. of a name even when (just as we do), he allows quantifying-in issue of different methods of referring just one interpretation [26] assumes (He avoids technical difficulties because sort, including considered innermost fixed. We did not want to make any such assumption.) Because semantics are assumed, outer scope use of names would be expressed using quantifying- in over agents one way of referring agents be avoided assumption is that only the whole question of how to refer to this issue to this for Lesperance’s work. But, as is that there is one unique and obvious way to refer to agents. Certainly, is often reasonable is possible. in this work. The assumption which allows in his logic. And the difficulty with using such quantification and causes no difficulties the domain of agents to agents raised is not explicitly Indeed, A.J. Grove/Art$cial Intelligence 74 (1995) 31 l-350 337 we have shown, With respect it does not always hold. to first-order epistemic theories difficult large and varied return Thomason [45] to give because the literature on naming and on quantified modal (we have already mentioned to some of the issues in Section 5. In particular, work by Hintikka is very relevant, but is better discussed there. in general, comparisons are much more is so [ 81 as a good overview of the latter). We [ 17,181 and logics related over descriptions, that our analysis of quantification is not entirely novel. The earliest Here, we should begin by remarking is that Kaplan proposed analyzing quantifying-in to ours. There are a number of differences, however. Perhaps most important for (what we treatment we have called) names and agents are aware of is [ 211: the similarity for and his reasons for this analysis seem agents in terms of quantification is close that [ 2 11, and apparently most subsequent work, takes seriously the question of finding the the righr set of descriptions the question does task is to model natural not seem to be difficult at all: the ways of referring are generally obvious, and there may be none, one “best” way, or many useful possibilities. This causes a shift in focus: for agents as Kaplan does (in terms of upon instead of trying to explicate), we instead want to some special method of referring allow maximum to. One result of this is that we disallow quantifying-in simply because we don’t want to assume that there is one privileged way of referring is perhaps appropriate when in how agents are referred language. But in computer to use, and this concern to analyze quantifying-in for agents completely, that it is our job science domains to agents. generality Another similar. Yet we are aware of no other fully developed feature of our work is knowledge about self-identity. in the natural to us than are often relative. So even if it does not have knowledge for agents using names and descriptions It is perhaps even more that the language case logic analyzes if a formal (as we instead or that addresses in this way which also contains any equivalent of knowledge about to oneself, and arrives at [29] discusses in that they can be regarded as being based on (in essence, that de re reference as reference using some relative relationship. the problem of referring about self-identity logic it is likely to be incomplete in the domains of interest “ways of referring” obvious appropriate outer scope and quantifying-in do), something the issue of names self-identity. Lewis semantics which are similar world/agent this is our outer scope) can be understood Obviously, many equally a formal for expressing between Lewis’s work and ours. interpretations important system this idea lies at the heart of our work. Our emphasis on the possibility of outer-scope of reference, and our work towards the major differences these possibilities, are among to ours pairs. Further, Lewis goes on to propose logics in the past. In general, that have been presented And finally, we should comment on the contrast between our work with the many the differences In our in mind, that much previous (formal) quantified modal between such logics reflect differences work, we have the advantage of having quite simple “real world” applications against which we can test such assumptions. work is irrelevant sense out of the notion of quantifying-in do so only by making assumptions reasons (i.e., agents) will be able to (We hope the for this have become clear in the previous sections.) Moreover, even if we did reveal that any work that makes that we would not wish to consider. it seems for individuals in semantic or philosophical to us. As one example, Such criteria assumptions. 338 A.J. Grove/Art@ial intelligence 7’4 (1995) 31 I-350 accept such quantification, objects. As we have seen, many of the proposed assumptions that just are not appropriate solutions to our applications. there are technical difficulties having to do with nonexistent to this problem depend on 5. Names and reference: a philosophical discussion 5.1. Introduction: knowledge de re and de ditto In the previous sections, and in part I, our approach has been largely pragmatic. We that we might like to describe using a formal theory of knowledge, them. But in the process, issues, and here we wish to go some to give a more complete explanation semantics and logics which accommodated situations considered and then produced we skirted some interesting and subtle philosophical way towards remedying this omission. We attempt of several decisions work and questions cannot give an exhaustive comparison. in the previous taken that have been raised in the philosophical section, and also discuss ties between our literature. Of course, we This section see, for example, is centered around discussion of two different type of modality, de re and some familiarity with these concepts; de ditto. In the following we will be assuming [ 5,361. our discussion will be brief. For a more complete introduction Precise or formal definitions of the terms de ditto and de re do not seem to appear often, and differ from one another when they are given. We begin with de ditto (literally, “of words”), because Intuitively, de ditto the knower has some idea about what the world knowledge the agent is like. This is that there is said to believe. Consider someone who is a spy”, or K, (3x Spy(x)). that I consider possible. Within a “there formal epistemic the knowledge operator occurs before a sentence as an assertion or proposition, which [37]: “I know is someone who is a spy” is true in all worlds is generally being expressed whenever this variant of Quine’s example is conceptual or intensional; logic, de ditto knowledge it is more straightforward (i.e., a closed formula). and less controversial. is de ditto, because is represented it claims This idea (see explainable (“of things”) to other objects seeing a man coming The concept of de re knowledge is much less clear. Unlike de ditto, simply as knowledge of some proposition. involve any descriptive content. One example it It also depends is not necessarily [ 21 for discussion). Note that essentially on the knower’s relation that are simply about the world can refer to objects, but do so by using some statements themselves, and the description or name. But de re is supposedly knowledge of objects from [2]: reference does not necessarily on vaguely fog, I may plausibly believe some things about this man but it is less certain whether I have any unique description that I can use for him. Or consider “there is someone whom I know this can be seen as de re because Note that the de re interpretation is not a relation between me (the knower) about spy, and another actual person that this as 3x K[Spy( x), then individual who is a spy. involved I know the world), but instead expresses a relation between me, the property of being a the spy example again. If I had instead claimed that the knowledge (something I know of some particular is a spy”, perhaps writing of this example suggests towards me in swirling and any proposition this property I attribute (whom to). A.J. Grove/Artificial Intelligence 74 (1995) 31 l-350 339 Despite the plausibility of this example, it is open to question how much sense the concept of de re modality makes (see, e.g., Quine [ 381 for some objections). After all, is it really clear how can we refer to an object other than by means of a description? If I know of some particular spy, it is likely that I have some name or description for this person. But then the de ditto assertion “I know that there is someone who meets this description, and who is a spy” seems more appropriate. We remark that, although the philosophical situation concerning de re is difficult, identifying de re usage within a formal logic can be relatively easy. In particular, formulas involving quantifying-in are often best understood in terms of de re knowledge. The second spy example above is an instance of this, because quantifying-in for agent variable x is used to express knowledge about some particular object, without giving any description of this object. As we have suggested, the utility of de ditto versus de re is philosophically very (Formally, controversial. But in this paper, knowledge is (almost) always de ditto. this can be recognized in the early adoption of innermost scope and the restrictions on quantifying-in in the first-order logic.) We spend some time in the next subsection explaining why. We do not wish to enter too deeply into the philosophical debate, so the explanation concentrates on concrete and more technical aspects related to our logic. Finally, in the last subsection, we reconsider de re once more, and consider whether it ever has a useful role in this work. 5.2. Do we need de re knowledge? As we have said, the initial work in part I only dealt with de ditto knowledge (although we introduced knowledge about self-identity as a slight modification to the basic de dicta concept). It is important to keep in mind that our goal for a theory of knowledge is to ascribe some property, called “knowledge”, to agents, that can serve as an abstraction of the agent’s actual internal state. This is because we want to use knowledge as a tool for explaining action and change in an agent, and the action an agent chooses, almost by definition, is dependent only on the state of an agent. Given this requirement it is quite plausible that all such “knowledge” is de ditto, because knowledge is internal to an agent’s state and so consists of ideas about the world, rather than being a property essentially dependent on any relation to the world. There is a technical argument which makes this clearer, by showing that (in a certain, rather weak, sense) de ditto knowledge alone always suffices to model internal (mental) states. This argument is the observation that, if the language we use to describe the world is sufficiently rich, then any single agent’s knowledge can always be determined completely by some collection of sentences of the form Kaqi where pi is closed. Such sentences are de ditto, and we can use what we have called innermost scope for their interpretation. (The proof of the observation here is that it is always possible to strengthen the language to talk about aspects of agents’ states directly. Imagine, for instance, that the agents are simple computer processes. In this case, we could in principle include a set of proposition symbols Xi, whose intended interpretation is “the value of my variable x is i”. Then, because we have knowledge about self-identity and these relative propositions, such a language can indeed be made rich enough for us in the next subsection. supposedly 340 A.J. Grove/Arti’ciul Intelligence 74 (1995) 31 I-350 as some collection of sentences to describe any agent’s state completely the de ditto assertions Kaqi will unique determine completely knowledge because human knowledge knowledge determine suffices the necessary for a single agent. Of course, for instance. But nevertheless, is generally unnecessary in our context. his knowledge language can be very low-level, cpi. But then the agent a’s state, and therefore, language, de ditto this is a somewhat weak argument seemingly quite inappropriate for that de re it adds support to the claim also.) Thus, given a suitable But two questions in favor of de re not apply to us? And second, how do we interpret our work in Sections 3 and 4? Here we very briefly arise. Why do the standard arguments look at the first of these, and address the second showing these are like there are many examples literature, forced or insufficient. Often there to say that the agent knows about In the philosophical de ditto can be either earlier: fog” mentioned tend though we would knowledge the appropriate less effective if we allow perhaps looking at”. In other words, once we allow enough many apparent cases of de t-e knowledge. This point has been made often before, example, which that the is not a (good) description of name for an object even (i.e., that are far and time) somehow. We can name the man in the fog as, “the man I am indexicality, de ditto will subsume for in [44, ch. 8,9], is apparently de re). Our response to refer to himself is to note (his identity, his position, includes an analysis of several standard philosophical [ 2,29,44]. A detailed discussion of this can be found the object somehow the current the “man the agent examples. in in including these semantic It is certainly possible about an agent, but simply have no (absolute) way of identifying about self-identity. the technique of using quantifying-in This explains why we based our first-order relative names and knowledge included reconstruct our logic, than agents, without know something naming him; in this case, there seems little option other than to use quantification agents directly. agent, surely I am or have been in some particular it is reasonable de re knowledge Lewis logic of Section 4 on semantics which to rather features. But such a logic would be weak. I might or over it, this will not occur. If I know about an to this agent. Therefore, that I could find some relative name for him. In this way, a need for to that taken by can be avoided. Our position here is almost In the logic as we presented relationship for names identical this section by discussing a much more technical argument which can be [ 291. We close to suggest another in the domain of agents at every world role for de re knowledge. This discussion, to our treatment of quantification the idea as follows. Consider a first-order possible- imagined, which appears which can certainly be skipped by the reader, is relevant in the logic of Section 4. We illustrate first, there an object a worlds structure M = (W, K, r) with the following properties: is a which belongs another predicate P in the language that a has agent, b say. It might seems this is so in every world in the structure. But a is a semantic entity, property P, because that there is no closed formula p capturing not a syntactic one. So it is quite possible the idea that a satisfies P. But then is b’s knowledge de ditto or de re? The former seems unlikely, because we cannot write K+p for any suitable cp. On the other hand, is an agent x, such that b knows P(x)“, which the apparently de re assertion such that that a E Pw for all w. Now consider to make formal sense to assert that b knows in W, and second, “there there A.J. Grove/Artificial Intelligence 74 (1995) 3II-350 341 can be expressed using quantifying-in point of such an argument would be that maximum construct of quantifying-in for agents. is formally correct, for agents, describes the situation expressivity requires fairly well. The the de re-like somehow, But while is somewhat the language, this argument is no sentence to better reflect b’s ability is, in general, we cannot extend For instance, we might add a new term r intended that b’s knowledge in the previous paragraph) it has little significance subtle. The issue is whether b’s “knowledge” and in that can distinguish w from w’. And is the position in M and M’ (which then b itself can distinguish w from w’. Surely to make to serves as name the language enough. t denoting some agent other than a. in our context. (that a satisfies The reason to be interesting knowledge, of the type that we want to P) really should be considered be able to express, or whether technical artifact of the model. We argue that it is purely it is best regarded as the latter. Suppose we consider another model M’, which differs in one of the worlds w which b considers possible, agent a from M in only one detail: does not exist. Instead, another new object c takes its place (so that, considered as first- order structures, w in the old model and the corresponding w’ in the new are completely isomorphic). Between M and M’ little has changed: all worlds are isomorphic in our language there particular, yet if we believe is different considered we should be able to extend such distinctions. that b can use for a. The problem Note that there is nothing So after extending in which we have one but not the and knowledge of P(t) , and we can imagine models is that, however rich our language and however careful we are to make other. The point it can always it complete is not de ditto) and which seems as if there requires quantifying-in depends on which actual collection of agents we choose at a world, and cannot be captured using really can K: and the truth assignment T. Note if our language have no practical purpose is why this paper regards such knowledge as nothing more than an accidental feature of the that we can choose model. So our logics two models are isomorphic the set of agents at each world arbitrarily, then the same formulas hold in each. (in an obvious that, quite possibly, have no “real” We simply cannot refer this to occur. Thus, significance. On the other hand, quantifying-in over agents allows while it makes formal sense, it is not clear how such quantification is ever necessary or even appropriate to express all the distinctions level of knowledge there is still a difference between knowledge of P”(a) the agents can make, (which in part I and Section 4 both have the property to express. This extra level of “knowledge” (otherwise, why not extend to aspects of the model is rich, this knowledge sense, with respect in the semantics further?). This yet whenever to K and T) the language, the language over agents in practice. is another to prevent enough 5.3. Cross-world identity Previously we noted that if the language is chosen appropriately, knowledge can be completely described using a collection of sentences the qi are closed: de ditto knowledge argument (although fails unless we have knowledge about self-identity). is enough any single agent’s like Kapi, where that this it is interesting But suppose we want example, we may want a concise to give a partial description (for report about the agent’s state, or else wish to describe of this agent’s knowledge 342 A.J. Grove/Artificial Intelligence 74 (I 995) 31 l-350 this, we might be tempted held by a second agent about the answer over agents. But this is dangerous. After all, agent a’s knowledge the first). is no. Suppose agent a knows who his neighbor Is de ditto in the above sense is. To to write 3x KO( neighbor( me) = x), which uses is de some name or description N such that K,(neighbor( me) = N). to cope with our ignorance about N, and so it is reasonable as a disjunction should still be interpreted is an attempt (that class we know N must belong to). The quantified over some class of sentence above fails to as really first in [ 211; of quantifying-in, to have appeared knowledge sufficient? Clearly, express quantifying-in ditto: there is actually Quantification that the quantification names tell us what class being quantification see the discussion to use. We note over descriptions that this interpretation or names, seems in Section 4.5. We have seen this issue before, of course, in Sections 3 and 4. The solution logic was to allow names as semantic (but not agents). Since quantify over some portion of them when that is appropriate. We conclude by looking at how this technique fits in to the de relde dicto discussion: that it can be viewed as either. the class of all names might be divided entities, and to allow quantification in our over them in to groups, we can this section it turns out First, we could say that knowledge expressed using such quantification over names operates on sentences which are is another interpretation still be regarded In the example of a and his neighbor, that we do have and we can use our logic to express some varieties of outer-scope the only free variables are names which have an intuitive as de ditto. (Knowledge should almost closed; as “ways of referring”.) But on the other hand, we might observe some quantifying-in, reference, view is quite reasonable what is needed “different ways of referring to make this view workable. The result so it looks somewhat like de re knowledge as well. This second point of if we are careful. In the remainder of this section, we will see of the in this paper. the de re viewpoint would be to say that a has is his neighbor. That is, there is to to an agent” problem we have seen repeatedly in every one of u’s possible worlds that bears the relation of neighborhood knowledge of someone, i.e., the person who actually someone him. But to make sense of such a claim, we need to be able to say how one individual (this “someone” a knows about) can appear in several different possible worlds. And in fact, it is not clear how we can possibly do this. For after all, given an agent which exists in possible world w, there is almost certainly not going to be another agent, identical in it inhabits differs, all respects, existing although do we group two such agents claim of de re knowledge, we must answer be many answers the same? If we want to interpret any is that there may there are likely to be more concrete differences). So under what circumstances (if nothing else, the world this question. The problem in any other world together as being interpretation (or none). If we say two agents are the same just if they have certain physical characteristics (for example, where they are located) If we choose other criteria, common modality. we get different agent #l probably knows something definite position (channel number) me, in the sense of the agent with the a particular semantics. This is what happens relative then we get one interpretation for example, based on the agent’s relative in of de re location, the about me, in the sense of an agent who is in one to him. Alternatives would be to know about in our earlier K,K#l Klcp example: signature, or in the same (absolute) A.J. Grove/Arli$cial Intelligence 74 (1995) 311-350 343 position, or in some other sense. These are all different. Let us consider another concrete example of the difficulties that arise. Suppose we intend to design the protocol for a computer that operates in the following distributed environment. The network connects IZ machines, one at each of n different divisions within a company, in a ring structure. In addition, each actual machine comes with a unique hard-wired identification number that is available for the protocol’s use. It is clear that the protocol we write should not depend too strongly on the precise mappings between the actual (physical machines), their order in the ring, and their location. After all, each of these may change; this should not require programs to be rewritten. In other words, we would like a protocol that does not require any initial knowledge of these mappings. It seems straightforward to give a possible-worlds structure to model this system. The language needs names for each division, names for the possible machine identification numbers, and relative names “left” and “right” to capture the ring structure. Each possible world is simply some set of n agents (machines) together with a suitable interpretation of these names. This model is sufficient to interpret any de ditto knowledge we would wish to ascribe. For example, we can easily model knowledge or ignorance about the mapping between machine identification numbers and position in the ring. However, if we wish to talk about de re knowledge, something is missing: we need to say when two agents in different worlds are regarded as the same (consider again how we might interpret “machine a knows who his left-hand neighbor is”). Perhaps we identify machines across different possible worlds using the physical properties of the machine (essentially, the hard-wired identifier). Or it may be more useful to base this identification on the company division (perhaps we do not care that the hardware changes from time to time). There are other alternatives as well, and none has any automatic claim to being the single, correct answer. This is simply another decision we need to make as part of the modeling process, if we insist on using de re knowledge without explicitly saying how agents are being referred to. We can summarize our main points. First, two agents in different possible worlds will not be identical in every respect, so there is no a priori correct way of verifying that two such agents are really the same. Thus, any claim that two agents are the same always involves use of some convention, some similarity criteria, and we must consciously decide what these criteria are. And second, any de re statement is making such claims about identity (the essence of de re is that something is known about an object, and it is implicit in this that the “same” object re-appears in different worlds). Therefore, de re only makes sense in conjunction with a cross-world identity criterion for agents or objects in general (that is, a means of determining when agents in different worlds are similar enough to be regarded as the “same”). If there are many reasonable criteria, there will by many different de re readings. This is precisely the same issue as the “ways of referring to an agent” we saw before. Instead of saying that we should choose a class of names to use, the de re viewpoint is that we need to specify the cross-world identity criteria. Classes of names are then best viewed as a way of encoding such criteria, within the model. Of course, the question of what it means to say that two individual objects, in epistem- 344 A.J. Grove/Artijicinl Intelligence 74 (1995) 31 I-350 contentious. fixed criterion to be philosophically close in this sense are counterparts to [28] has said that in fact such objects are never the same: and that instead of ically distinct worlds, are the same is well known Lewis identity, we should consider when one agent is the “counterpart” of another. Intuitively, in mind, and two agents which we should have some (one) (but definitely not identical). This is are sufficiently to the position we are taking here and certainly compatible with our work: very similar this makes “counterpart” is essentially for Lewis most sense when we consider names than groups). rather conclusions. For example, we should Viewing not expect distinct agents elsewhere (something we cannot escape “sharing a name” that denote single agents things as Lewis does leads to interesting to always have distinct counterparts is simply “identity”). for us (although if “counterpart” (in one world) for similarity in in that they refer [ 17,181). Another particularly relevant work is that of Hintikka (for example, identity) of having (cross-world of these lines for two agents like our names is that they connect in each possible world. (so there is a similar generality to (In fact, aside from the fact that our names are in a descriptive manner, but that we also sometimes location there is no significant difference between a name and a world-line.) instances of the same individual, is reason why these in some worlds, and Hintikka argues to Lewis’s counterpart He looks at world-lines which are, essentially, individual(s) usually relative, His interpretation across the different worlds. In the formal model then, similarity defined by the property of sharing a world line. There is no technical lines could not merge, split, or fail to denote anyone that these are useful possibilities aspect of Hintikka’s work for us is that he comments on relations). The most interesting two distinct sets of lines. That is, there may be two different the possibility to be the same, and (in different worlds) ways of saying what it means is useful. His application of this was to note that we may know about a each scheme in the same person this). Hintikka’s work is (relative spatial for continued by Thomason or these two “modes of individuation” to other “ways of referring”). there are several other contexts in several modes of individuation). that there could be many significant ways. First, of course, we emphasize different ways of referring logic which can handle any number of these ways (in our work, the particular ways of referring and their properties are determined in Thomason’s, by the collection of names for each possibility). Other major the language (because our modality was differences refer to knowledge, not perception, others using relative names) and our treatment of quantifying-in approach seems closer to us, though he did not formalize [45], who presents a logic (i.e., two methods of cross-world to see how Thomason’s work extends for perception which allows identification, is knowledge, or where our logic differs and it seems that in epistemic contexts we frequently the modality Nevertheless, are in our use of knowledge a new type of quantification treatment mentioned It is straightforward about self-identity from Thomason’s and give a single (such as where to the free-logic identify objects in the model; to individuals, the possibility (Thomason’s semantically includes earlier). lo In fact, the question of whether we need cross-world that we do not (although his concern directly comparable) is necessity, rather than knowledge, and perhaps identity criteria at all is controversial; 1231 argues the two cases are not A.J. Grove/ArtQicial Intelligence 74 (1995) 31 l-350 345 6. Conclusion to single-agent In part I we developed theories of naming the significance in more familiar that have no counterpart [4,16]). logics that a multi-agent refer to each other; answering in epistemic logic should not ignore this question But even a single agent must refer somehow, and so most of the issues we consider (i.e., logic for In this paper we have considered the many agents. Our analysis has shown involves complex question of how agents (such as standard single- many issues to other objects in agent modal should be relevant its environment to all objects, and even for instance, not necessarily to construct yet Agre and Chapman’s Pengo system for naming agents works for other objects another t1 as well, and so the logic developed In particular, relative. Lesphance’s work is also very successful at this, and it is perhaps even more specifically suited in this paper needs essentially any predicate or function with “me” as an argument reference in planning; it is not necessary indexical) important [ 11. Fortunately in this case. General just agents) no modification. is naturally logic for this. Almost any method (i.e., relative is especially applications. consider, simple propositional that could express many useful in these logics, in partic- to handle scope and its consequences. These problems arise, to some logics but the complexities In this paper we have concentrated are magnified enormously on this, most three powerful features: (2) we impose syntactic in single-agent varieties of names. In this paper we have identified weaknesses ular, the inability extent, environments, when we consider nested knowledge. general, case. The first-order logic we develop for this combines ( 1) we make a rigorous separation between agents and names, restrictions which ensure name-like naming general philosophy, is not entirely novel. But we believe general. systems made possible by the semantics of knowledge constructs, and A non-technical contribution of this paper is to demonstrate involving naming. These can be quite difficult that agents only (3) we allow a large variety of names, refer to each other by means of names or relative about self-identity. The including if not the actual details, behind each of these features that only combination of them all is effective and individually theory or formal system. The primary contribution is to provide such a system. In any actual application the considerable subtlety to reason about in the absence of this paper, and of there tend to logic. In these cases, the far logic of the assumptions made by these simpler in part I will be helpful. Our first-order for such a powerful of issues of any general the logic it presents, be special features simpler can be used logics. that reduce logics and techniques developed the need to give a formal specification We close with some additional comments on this work might be applied and extended. that need to be made to cope with belief towards a more concrete application by is to agents. One goal of this work First, in [ lo] we consider rather examining changes [ 9, lo] we move a specific model of communicating than knowledge. the (small) In ‘l To name other objects in a similar fashion to agents, we use a new sort for each type of object (analogous to the agenrs sort), and a sort of corresponding names. The former can vary from world to world (as with agents) so long as we do quantify-in only via the appropriate names, just as in Section 4. 346 A.J. Grove/Artijkial Intelligence 74 (1995) 31 l-350 the tight link between some names and modes of communication. analyze in Section 3.2 are one instance of this, in which each relative name corresponds specific communication channel. The examples to a the world applications of epistemic theorem-prover to reason about (and other agents) It is, of course, desirable systems. Both areas deserve logic in this paper incorporates to show how any logic might be used as a practical reasoning tool. In our setting, we might imagine an agent being provided with a suitable epistemic around him. logic and for We can also consider the distributed its first-order logic (i.e., semi-decidable). While progress complexity the possibility in general simpler the more promising direction. As logics (with then be to provide a logic would we mention unifying to inevitably the restrictions which must gain practicality. technique logic as a verification further work. However, note that because logic, and has an axiomatization, is probably the real purpose of the general for interpreting faster decision procedures) above, framework is exactly theorem-proving the same as classical to advance, of finding be made continues classical Acknowledgments I wish to thank Joseph Halpern grateful Shoham, and Moshe Vardi, for their comments on earlier versions of this paper. I am also Israel, Daphne Koller, Yves Lesperance, Hector Levesque, Yoav advice and assistance. for his invaluable to David I was supported by an IBM graduate fellowship throughout much of this research. Appendix A. Proof of Theorem 4.1 Theorem 4.1 states that the axiom system consisting of (Al ) , (Ql ) , (I 1) , (12)) (13)) is sound and complete with about to the class of all first-order possible-worlds structures with knowledge (R2), and (R3) (M2), (M3), (M4), (Ml), (Rl), (14), respect self-identity. (see, for example, and the restriction we The proof of completeness uses several quite standard techniques is some variable y such for sorts other than names. We concentrate on the implications [ 81) . The novel features are due to knowledge about self-identity place on quantification of these points. Following is consistent, is consistent. this latter condition only for variables y, not for general [ 81, we say a set of sentences V is o-complete if, whenever VU {#x there q} for x in 40 and (One difference between our proof and those in [ 81 is v u {To[Ylxl) terms. This, that we require that terms and similar differences which occur are rigid.) as well as w-complete, we say it is saturated. Let V be the collection of all saturated sets. For V E 1/‘, let Obj( V) be the subset of the scope of all formulas so is some K operator. Some properties of o-complete it has VU f for any finite set of formulas sets are: ( 1) If V is o-complete, and consistent, later, arise because we do not assume in V in which all occurrences f, and (2) If V is w-complete of the symbol me are inside that y is substitutable If V is maximal consistent A.J. Grove/ArtQicial Intelligence 74 (I 995) 31 I-350 347 a saturated extension. For a proof of these, see [ 81; very little modification is required for our context. We define our model M = (K K, T) as follows. First, W will be a set of equivalence classes of V, where the partition is according to the relation V E V’ iff Obj( V) = Obj( V’). (where Obj(w) For w E W we define T(W) by looking at Obj(w) equals Obj( V) for any V E w). The objects of sort s are equivalence classes of variables of sort s, where the partition is according to x E x’ iff x = x’ E Obj( u). (It is a conse- quence of (11) and (12) this relation E is indeed an equivalence). P”( x1 . . . , x,) is true just if P(xt , . . . ,x,) E Obj( w). Note that (12) ensures that this is well de- fined. Next, f”‘(xt . . . ,x,) is equal to the equivalence class corresponding to y just if = y E Obj( w). Because of (12) this class is unique if it exists. Fur- (using (11 ), f(Xl,...,X,) thermore, existence follows from the provability of 3x x = f(xt (Ql), (R3)) and the saturation of V E w. , . . . , x,) Finally, we define K. Before we do this, we need to look at a property of the set of agents existing at world w. Let a be an agent in w. Recall that this means a is really an equivalence class of variables of sort agent. It turns out that there is a unique saturated set V,,, E w such that x = me E V,,, for all x E a. Uniqueness follows from (12) and our construction which ensures that all V E w agree on objective formulas. For existence, consider Obj(w) U {x = me} for some x E u. This is consistent. (For suppose there is some objective cp E Obj(w) with Q + x # me provable. We can argue, by induction on the length of proofs, that cp + y # x is also provable for some new variable y, and from this a contradiction will follow by (R3) and (11). In other words, the inductive proof shows that for any proof of p + x # me there is a proof of rp + y # x; each line of the proof has all replacing “outside” occurrences of me by y. It is necessary to verify that for each inference step in the original proof, the analogous step in the new proof is also sanctioned; we omit further details.) As well as being consistent, Obj( w) U {x = me} is w-complete. (It is sufficient to show that Obj( w) is w-complete, because adding one formula preserves w-completeness. Suppose for all substitutable variables y. The case where sp is objective is easy: Obj( w) k cp[ y/x] by the saturation of each V E w, we know that (Vx 40) E V, but this is objective so is contained in Obj( w). Otherwise, we use a similar argument as with consistency to show f or some new variable z. This new sentences is objective that Obj(w) so we can apply the previous argument, and then re-substitute me for z.) Therefore, Obj( w) U {x = me} has a saturated extension which can serve as l&. Conversely, look at V E w. There must be some variable y such that y = me E V (due to the provability of 3x x = me and saturation of V). That is, V = V,,, for some agent a. We have shown that there is a bijection between elements of sort agent at worlds w and the sets of formulas V E w. Relative to any particular world w, we can regard an agent in w either as a set of variables or as a saturated set of formulas. In the following we regard agents as both, the particular usage being determined by context. Note that when we identify an agent with a saturated set, the corresponding world w is implicit (being identified by the objective formulas in the set corresponding to the agent). this, we can define K as follows: ((w, a), (w’, a’)) E K: just I- dz/mel Given [y/xl (9 : Z&p E u} C a’. It is a consequence of (M2), (M3), and (M4) if that this re- 348 A. J. Grove/Artijiciul Intelligence 74 (I 995) 31 I-350 lation is reflexive, transitive, and symmetric as required. that this To verify about self-identity, is actually not quite in every world. This is a correctly defined it only remains knowledge is the same follows domain first-order possible-worlds structure with for us to check that the domain of names it from (13), and (14) that, for any world w, all reachable worlds have the same for sort names. (Here, we say w’ is reachable from w if there exists worlds wa = (wi+l,ai+l)) E is true at to consider only found a suitable w, we slightly the model so as to consist of the accessible worlds only, then the constructed w, = w’ and agents ao,al,az,. w,w,w:!,..., IC for i < n.) Our ultimate goal is to show that any consistent some world w in M. As we do this, it will be clear that it is sufficient those worlds redefine model will have a constant domain of names as required. true as things stand. Rather, . . ,a, such that ((wi,ai), from w. So if, having that are accessible set of sentences To complete the proof, we need variable valuation u, then for all worlds and agents and only equivalence whenever that, for some (w, a), we have M, u, w, a k 4p if is (the class of) n itself. In the following, we suppress mention of M, u, and w to show a Truth Lemma: namely these are clear from the context. the obvious definition, which if cp E a. For o we make is that u(x) including formulas, Similarly, This Truth Lemma from the construction. formulas with equality, is proved as usual, by induction For atomic directly forward. Next, suppose ‘dx P E a. By (Ql), q[y/x] y of the appropriate at a, q~ is true of all objects By the saturation of a, there is some y such that -rp[y/x] object true at a as required. on the structure of formulas. follows almost is straight- variables this and the inductive hypothesis we can show that, suppose 1Vx 40 E a. there is some class of y) where p is false in a, and thus ~V’X 40 is in the domain of that sort. Conversely, the case of the Boolean connectives E a for all substitutable (in fact, the equivalence the truth lemma E a. Therefore, sort, and using The difficult case is for formulas K+p, where t is a term of agent sort. One direction is quite easy. Suppose K,q E a, and that the denotation of t at a is agent 6. That is, for class which is agent b, we have (y = t) E a. But, some variable y in the equivalence so K,qo E b also (where we that Kyp E a also. This is objective, by (12)) we conclude are now regarding b as a saturated set). But we also know that me = y E b (this is a consequence the bijection between agents). By (12) again, Kmep E b. Finally, by the construction see that agent b does indeed know P. the two ways of viewing of K, and induction, we of the way we constructed the converse, Now consider the case where ~K,cp E a. Arguing to find an agent 6’ (i.e., a saturated such that b’ does not know p. To do this, it is sufficient that lKmeq E b. We need possible, tic, : fGneJl E b) u I-(P) h as a saturated extension. First, note that this set is consistent (this logics.) from Since any consistent w-complete show that ly is o-complete. the other sorts. as above, we see that b thinks set) that !P = to prove set has a saturated extension, we now only need to the sort names and for this differs between the usual argument for normal modal The argument (R2) using follows (Ml), First, suppose P u {~b’x q} is consistent, where x is not of sort names. We need to show that there is some variable y substitutable is consistent. But in fact, we can chose any variable y other than x or those appearing for x in cp such that P U {-q[y/x]} A.J. Grove/Artificial Intelligence 74 (1995) 311-350 349 that in our logic, in (p (recall such y can certainly be chosen). For observe (except possibly otherwise K,,& would not be well formed, and this is impossible defined there are infinitely many variables of each sort, so some that every sentence 9 in P must be closed for free variables of sort name, which do not concern us here), because the way we this, it is quite easy to show that P U {-q[y/x]} given is consistent. !P. Using p} y/x] that there is consistent, is inconsistent is w-complete the case, so that for all substitutable Next, suppose W U (4x that P’ = {$ : Km& E b} is a formula + with Y’ U (4x for name variable x. For the case of names, (be- to show we note it is sufficient this formula never destroys w-completeness). cause adding one additional yet is not 9) P’ U +[ variables y. That is, for any such variable y, there are t,$, . . . , +L with +I A. . . A @L + +[ y/x] provable. But then (R2), the definition of P’) can be used to (Ml ), and the observation that K,,,&[ y/x] E b. This is true for all y, and since b is saturated, we have conclude (Ml), (R3)) E b. However, Vx K,,$ in our logic, for name variables x. (See that (Vx K,,,&) + Kme(Vx #) [ 19, p. 1451 for a proof. This formula is known as the Barcan formula.) From this, we from see that (Vx @) E !P’, which of b). q the consistency Suppose consistent, that K,,,&; E b (by to the consistency of ?P’ (which it is provable is a theorem is contrary follows (using (M4), (M2), (M2), (Ql), References ] I] P Agm and D. Chapman, Pengi: an implementation of a theory of activity, in: Proceedings AAAI-87 (1987) 282-272. 121 T. Burge, Belief de re, J. Philos. 64 (6) [ 31 K.M. Chandy and J. Misra, How processes learn, Distributed Computing, 1 ( 1) ( 1986) 40-52. [ 41 BP Chellas, Modal Logic (Cambridge University Press, Cambridge, UK, 1980). [5] D.C. Dennett, Beyond belief, in: The Infentional Stance (MIT Press, Cambridge, MA, 1987). [ 61 C. Dwork and Y. Moses, Knowledge and common knowledge in a Byzantine environment: crash failures, (1977) 338-362. Infirm. Comput. 88 (2) (1990) 156-186. [7] M. Fitting, Modal logic should say more than it does, in: J.-L. Lassez and G. Plotkin, eds., Computational Logic, Essays in Honor of Alan Robinson (MIT Press, Cambridge, MA, 199 1) 113- 135. in: D. Gabbay and E Guenthner, eds., Handbook of [8] J.W. Garson, Quantification in modal logic, Philosophical Logic, Vol. II (Reidel, Dordrecht, Netherlands, 1977) 249-307. [9] A.J. Grove, Semantics for knowledge and communication, in: B. Nebel, C. Rich, and W. Swartout, eds., Third International Conference on Principles of Knowledge Representation and Reasoning (KR ‘92). Cambridge, MA ( 1992) 2 13-224. [ IO] A.J. Grove, Topics in multi-agent logics, Ph.D. Thesis, Stanford University, Stanford, CA (1992). [ 111 A.J. Grove and J.Y. Halpem, Naming and identity in propositional logics, Part I: the propositional case, J. Logic Cotnput. 3 (4) (1993) 345-378. A preliminary version appeared in: Proceedings Second International Conference on Principles of Knowledge Representation and Reasoning (KR’91). [ 121 J.Y. Halpem, Using reasoning about knowledge to analyze distributed systems, in: J.F. Traub, B.J. Grosz, B.W. Lampson and N.J. Nilsson, eds., Ann. Rev. Comput. Sci. 2 Annual Reviews Inc., Palo Alto, CA (1987) 37-68. [ 131 J.Y. Halpem and Y. Moses, Knowledge and common knowledge in a distributed environment, J. ACM 37 (3) (1990) 549-587. A preliminary version appeared in: Proceedings Third ACM Symposium on Principles of Distributed Computing ( 1984). [ 141 J.Y. Halpem and Y. Moses, A guide to completeness and complexity for modal logics of knowledge and belief, ArtQI Intell. 54 ( 1992) 319-379. 350 A.J. Grove/Artificiul Intelligence 74 (1995) 31 l-350 [ 151 J.Y. Halpem and L.D. Zuck, A little knowledge goes a long way: knowledge-based derivations and correctness proofs for a family of protocols, J. ACM 39 (3) ( 1992) 449-478. 1 161 J. Hintikka, Knowledge and Belief (Cornell University Press, Ithaca, NY, 1962). [ 17 1 J. Hintikka, for propositional Semantics attitudes, in: Models for Modalities (Reidel, Dordrecht, Netherlands, [ 18 1 J. Hintikka, 1969). Reasoning in: J.Y. in philosophy: Halpem, ed., Proceedings Conference on Theoretical Aspects of Reasoning about Knowledge, Monterey, CA (1986). the paradigm of epistemic about knowledge logic, [ 191 G.E. Hughes and M.J. Cresswell, An lntroduciion IO Modal Logic (Methuen, London, 1968). [ 20 1 G.E. Hughes and M.J. Cresswell, A Companion to Modul Logic (Methuen, London, 1984). 12 11 D. Kaplan, Quantifying [ 22 I D. Kaplan, Demonstrative% in, Synthese 19 (1969) 178-214. J. Perry, and H.K. Wettstein, eds., Themes from Kuplun in: J. Almog, (Oxford University Press, New York, 1989). [ 23 1 S.A. Kripke, Naming and necessity, in: D. Davidson and G. Harman, eds., Semantics of Narurul Language (Reidel, Dordrecht, Netherlands, 1972) 253-355. 1241 W. Lenzen, Recent work in epistemic 125 ] Y. LespCrance, A formal account of self-knowledge logic, Actu Philos. Fenn. 30 (1978) 1-219. and action, in: Proceedings IJCAI-89, Detroit, Ml (1989) 868-874. [ 26 I Y. Lesperance, A formal Toronto, Ont. ( 1991) theory of indexical knowledge and action, Ph.D. Thesis, University of Toronto, [ 27 I H.J. Levesque, Foundations of a functional approach to knowledge representation, Artif Intell. 23 (1984) 155-212. [ 28 1 D. Lewis, Counterpart theory and quantified modal [ 291 D. Lewis, Attitudes de ditto and de se, Philos. Rev. 88 (4) ( 1979) 513-543. 1301 MS. Mazer and F.H. Lochovsky, Analyzing ( 1990). Tech. Report CRL 90/ 10, DEC-CRL logic, J. Philos. 65 (5) commitment distributed ( 1968) I 13-126. about knowledge, by reasoning 13 1 I R.C. Moore, A formal theory of knowledge and action, in: J. Hobbs and R.C. Moore, eds., Formal Theories of the Commonsense World (Ablex, Norwood, NJ, 1985) 319-358. 1.321 Y. Moses and G. Roth, On reliable message diffusion, Principles of Distributed Computing ( 1989) I I9- 128. in: Proceedings Eighth ACM Symposium on I33 1 Y. Moses and M.R. Tuttle, Programming simultaneous actions using common knowledge, Algorithmicu 3 (1988) 121-169. [ 34 I G. Neiger and S. Toueg, Simulating real-time clocks and common knowledge in distributed systems, J. ACM 40 (2) (1993) 334-367. I35 ] J. Perry, The problem of the essential I36 I A. Plantinga, The Nature of Necessity (Oxford University Press, Oxford, UK, 1974). 137 1 W.V. Quine, Quantifiers ( Random House, 1966). indexical. N&s 13 ( 1979) 3-21. and propositional attitudes, in: The Ways of Paradox, und Other Essays 1381 W.V. Quine, Three grades of modal involvement, in: The Ways of Puradox, and other essays (Random House, 1966). in: J.Y. Halpem, ed., Proceedings Conference on Theoretical Aspects of Reasoning ubout The synthesis of digital machines with provable epistemic and L.P. Kaelbling, [ 391 S.J. Rosenschein properties, Knowledge, Monterey, CA ( 1986) 83-97. in anonymous [ 40 I G. Roth, Message diffusion distributed systems, Master’s Thesis, Weizmann Institute of Science ( 1989). 141 1 B. Russell, On denoting, Mind, N.S. (1905). 1421 B. Russell, [ 43 1 N. Salmon, Reference and information content, names and descriptions, Infroducrion to Marhema~ical Philosophy (Allen & Unwin, London, 1919). in: D. Gabbay and F. Guenthner, eds., Hundbook of Philosophical Logic. Vol. IV (Reidel, Dordrecht, Netherlands, 1989). I44 I J.R. Searle, Infenrionulity (Cambridge University Press, Cambridge, and 1451 R.H. Thomason, individuation, Perception 1983). in: M. Munitz, ed., Lagic and Ontology (New York University Press, New York, 1973) 261-285. 