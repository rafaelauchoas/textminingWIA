Artificial Intelligence 86 ( 1996) 269-357 Artificial Intelligence Collaborative plans for complex group action Barbara J. Grosza,*, Sarit Kraus b,c,l a Division of Engineering and Applied Sciences, Harvard ~n~versi~, Cambridge, MA 02138, USA ’ Deparfment of mathematics and Computer Science, Bar Ilan Universi~, Ramat Can, 52900 Israel ’ Institute for Advanced Computer Studies, Universiry of Maryland, College Park, MD 20742, USA Received October 1995 Abstract The original fo~ulation of SharedPlans by B. Grosz and C. Sidner ( 1990) was developed to provide a model of collaborative planning in which it was not necessary for one agent to have toward an act of a different agent. Unlike other contemporaneous approaches (J.R. intentions-to Searle, 1990), this formulation provided for two agents to coordinate their activities without in- troducing any notion of irreducible joint intentions. However, it only treated activities that directly decomposed into single-agent actions, did not address the need for agents to commit to their joint activity, and did not adequately deal with agents having only partial knowledge of the way in which that addresses plans meshes with the definition of SharedPlans. The new definitions also allow for contracting out cer- that results has the features required by Bratrnan’s ( 1992) account tain actions. The formalization (H. Levesque et al., of shared cooperative than alternative accounts 1990; E. Sonenberg et al., 1992). to perform an action. This paper provides a revised and expanded version of SharedPlans ( 1990) definition of individual this reformulation It also reformulates Pollack’s in which a single agent has only partial knowledge; activity and is more general these shortcomings. to handle cases 1. Introduction problem Cooperative and communication. requires solving by teams composed of people and computers activity, is a special type of coordinated collaboration one in which the participants work jointly with each other, together performing a task or carrying out the activities needed to satisfy a shared goal. Because collaborative action comprises actions by different agents, collaborative planning and activity involve the Collaboration * Corresponding author. E-mail: grosz@eecs.harvard.edu. L E-mail: saritObimacs.cs.biu.ac.il. 0004-3702/96/$15.00 Copyright @ 1996 Elsevier Science B.V. All rights reserved. SSDIOOO4-3702(95)00103-4 270 B.J. Gras;. S. Kruu.s/Ar/ijicirr/ Intelligence 86 (1996) 269-357 intentions of multiple agents. As a result, collaborative plans cannot be recast simply terms of the plans of individual and intentions process of planning collaboration in treatment of the beliefs planning is modified over the course for is a refinement process: a partial plan description cannot be patched on, but must be designed in the collaboration. Thus, capabilities agents, but require an integrated in from the start [ 23,581. of the different agents involved. Furthermore, the collaborative by the multiple involved agents roles systems together important in dialogues in multi-agent behavior exhibited than previous existing [ 221. The collaborative In this paper we present a formal model of collaborative plans that deals more com- theories of actions, plans, and the plan treatment property of in all modalities and thus is a factor that must be reck- for human-computer pletely with collaboration recognition process. This model grew out of an attempt to provide an adequate of the collaborative dialogue affects communication oned with in developing more advanced regardless of the modality of communication. Communication several for working most multi-agent rate some mechanism require conflicting (see amongst others collectively will perform) entailed. The model presented here is intended puter agents the intentional the avoidance of in itself in some cases agents must decide they (i.e., actions for performing com- for modeling as well as to provide a framework [ 22,43 1. actions. First, communication (see for example also play provides a means I6,13, 14, 16,651) : that are fully collaborative component of dialogue is a necessary part of such capabilities but is not sufficient ). For example, they will take to acting in which the agents need to coordinate and negotiate about responsibilities to plan and act collaboratively; that agents have an ability to achieve shared objectives Second, many multi-agent the basis for constructing incorpo- situations on the approach and collaboration to communicate. the constituent communication their activities the subsidiary [ 19,35,37,67] for agents to provide systems actions actions [ 53,541 together planning in which The original to the situation state model of plans four constituent mental attitudes: of the SharedPlan model of collaborative form a plan to perform a complex action requiring contributing formulation extended Pollack’s mental agents by both agents. Pollack’s definition of the individual plan of an individual an action cr includes certain actions p, would entail performance (2) belief the /?;; (4) an intention Sidner of mental belief). augmenting SharedPlans 1231 two activity to do of “a recipe for cw”; to do each of intentions the /?,. To define SharedPlans, Grosz and actions and aspects (e.g., mutual and that the agent could perform each of the pi; to do Q by doing the p; constituted (3) In subsequent work 142,451, in the context of a dialogue. algorithms were provided to incorporate multi-agent for a pair of agents these components that performance for constructing [23] modified their activities to coordinate state needed ( I) belief of a; agent (e.g., Although overcame in applications this formulation for discourse recognition agent’s actions emerged when we attempted environments multi-agent agent action decomposed not adequately provide for complex activities entailing for meshing of individual several problems with previous models of plan the treatment of intentions of one agent toward another that of speech act theory in that every multi- the model did levels or plans for joint 142,451. First, the original model presumed directly [ I ] ), it had several problems it to dialogue processing action with collaborative joint activity at multiple and complex actions actions. As a result, plans for individual into single-agent to apply E.J. Grosz, S. KraudArtijkial Intelligence 86 (1996) 269-357 271 action. Second, the model did not account for the commitment of an agent to the success of a collaborative partner’s actions. 2 Third, the agents who undertake the development of a collaborative plan often do not know a complete recipe for accomplishing their joint action; the model did not provide a sufficient means of describing the mental state of agents in this situation. The notion of a partial Sh~edPl~, to represent this kind of partiality, but was never specified in any detail. One or more of these limitations applies to alternative models developed subsequently [28,29,40, 611. The formulation presented in this paper overcomes each of these deficiencies and thus provides a more complete and accurate model than the original formulation and alternative approaches. SharedPlan*, intended was Collaborative activity must rest eventually on the actions of individual agents; as a result, the collaborative plans of a group of agents must include as constituents the individual plans of group members. These individual plans may be more complex than those accounted for in Pollack’s formulation [53,54] in three ways, First, Pollack’s formulation presumed that an agent had a complete recipe for the action it was per- forming, whereas individual agents, as well as groups of agents, may initially have only partial knowledge of how to perform an action; one function collaborators may serve is to assist an agent in completing a partial recipe. Second, Pollack considered only two types of action relations, generation [20] and enablement; her fo~ali~tion of “simpte plans” uses only generation (and the plans are named “simple” because of this limitation). Balkanski [4] describes several additional action relations that arise in the performance of complex tasks, including sequential and parallel execution. Third, agents may “contract out” to other agents some of the actions to be done. We provide an extended definition of the plans of an individual agent that overcomes these limitations. Because the formal plan definitions are complex, highly recursive and dependent on several new modal operators, in the next section we provide informal descriptions of several examples that motivate the definitions presented in the paper. We will refer to these examples throughout the paper to illustrate the range of collaborative behavior the model is intended to cover and the way in which it does so. Section 3 provides an overview of the formalization and its major distinguishing features. Section 4 presents auxiliary functions, predicates, and modal operators that are used in the plan definitions. It includes a characterization of the different intentional attitudes that play a role in collaborative planning followed by definitions and axioms for them. It also provides definitions of predicates used to modeI an agent’s ability to perform an action given different degrees of partial knowledge about how to perform the action, a property that is essential to the plan definitions; and, it describes certain processes that play central roles in expanding partial plans to more complete ones. Sections 5 and 6 provide the formal plan definitions. At each stage we discuss those aspects of the resulting the- * The last clause of the original definition was intended to ensure this commitment as welt as other properties of coordinated acting. It specified that the agent performing an action intended to do that action to con~bute to the performance of the group action. (See the reply [ 241 for a discussion of replacing the BY operator used in the original definitions by Contributes, and the paper 1451 for a definition of Contributes.) However, this approach is inadequate in general. It seemed to work only because the action decomposition in the original paper was single level, i.e., the first deficiency described above. In the current paper we provide a mom principled approach. 272 1l.J. Gmv. S. Kruus/Artijiciul lntellrgence 86 (1996) 269-357 described the deficiencies activity. Section 7 examines ory that address of collaborative AI and philosophical the framework we present. Section 8 compares our formalization with alternative counts. The paper concludes with a description research. to provide a more adequate model in the for within ac- for future claims about collaboration made the way they are accounted of several key problems and describes literatures above 2. Examples of collaborative plans Our primary example comes from the cooking domain; of two the problem of collaboratively making a it is a collaboration a meal intuitions; and good ( I ) unlike the essential together. Although [45]. making a meal time constraints). multiple this paper for three reasons: in particular may bc expected [ 181 or network management elements of the typical collaborative for robots or other kinds of computer systems, tasks such as constructing is an undertaking agents preparing meal may not be an ideal application we use it throughout space stations for which almost all readers have tirst-hand knowledge task contains puter systems and robots (including group and individual for coordination main provides a baseline repair and construction forward given collaboration more extensive use of information are quite prevalent tion of search and rescue missions) will fall somewhere between information-centered this in which com- limited resources to participate: of a combination levels of action decomposition, activities, partial knowledge on the part of each agent, and the need this do- to is straight- [ 30,4 I 1. Mapping tasks in which robots might more naturally participate the properties of the application. Other applications (e.g., network maintenance) exchange actions in the meals domain as well. Still other applications but actions (e.g., coordina- and (3) previous work on plan recognition from the cooking domain little object construction to human-computer and negotiation; the construction for comparison information involve though tasks. using [43], may task (2) lasagna the collaborative planning In particular, we will consider that arises when two agents, together. They decide that Kate will whom we call Kate and Dan, agree to make dinner make an appetizer, Dan will make for the main course, and the two of them together will make the dessert. Thus, Kate and Dan must each form one individual plan, Kate’s for the appetizer, and Dan’s for the lasagna. They need not know the complete details of each other’s individual plans, but they need to avoid conflicts arising between these plans. For example, the same time interval. Thus, as they develop in choosing how to do actions and what resources if they detect a possible problem. shared, collaborative this must be mutually may interleave planning be only partial. For example, Kate may have decided appetizer, but not yet have chosen a recipe chosen form a for the dessert. The particular details of how they will do their plans, Kate and Dan their plans may to make mushroom puffs for the she may have the recipe, but not yet decided how she will do some of the subtasks. As we to use they must consider potential conflicts with each other and communicate and acting; hence, at any stage of their activity, they cannot both use one pan during to both of them. In forming In addition, Kate and Dan for doing so. Alternatively, their individual together must known plans, plan B.J. Grosz, S. Kraus/Art@cial Inrelligence 86 (1996) 269-357 273 will show below, providing into the formalization. model. for partial knowledge introduces It is necessary, however, to treat such partiality a number of complexities to have a realistic The second example we will use exemplifies the example of Kate buying a bicycle by a set of assembly knows about how to perform an action Purchasers of construction will consider accompanied of Kate forming a plan to build how to do so. They also cover the bicycle only to look construction-kit example. Finally, we will use three examples in a cookbook together. Although analogous kits that include situations are often instructions in which all that an agent is how to find a description of the way to do it. in this situation. We in a box instructions. The plan definitions below treat the case about the bicycle given this level of partial knowledge the case of Kate and Dan forming a plan to assemble (e.g., knowing in the situations may arise in cooking they are more naturally that comes unassembled apparent for a recipe), the use of contracting. Both individual to illustrate agents and groups of agents may decide that the best way to perform an intended action the 30,000 is to contract out one of the subsidiary if mile maintenance Kate and Dan decide to renovate to redo to contract out making the floors. In the meals example, Kate and Dan might decide the lasagna, or Kate might the dessert, Dan might contract out some part of making for all these contract out part of making cases. on her car might include contracting out changing their house, they might decide to hire someone the appetizer. Our model of plans provides actions. Thus, Kate’s plan for doing the oil. Likewise, 3. Overview of the model The model given in this paper provides a specification that individual agents must have to participate in collaborative In addition, we provide specifications from previous are normative accounts and intended to fit with plans to provide of plans for individual for collaborative the basis to act and activities action activity. for constructing of the capabilities [4], we do not claim [ 571. Although our work has been informed by an analysis of account of the model has been used to explain a variety to have a complete descriptive behavior. However, mental attitudes with one another. that are modified The specifications agents human collaborations human collaborative of natural-language that act rationally dialogues [ 43,441. We adopt a mental state view of plans [ 7,541; agents have plans when they have a that are formed individuaZplans and beliefs. We distinguish set of intentions agents particular by individual agents, When agents have a SharedPlan and mutual beliefs about how the action and its constituent Each agent may have individual The agents also have individual individual the agent or agents have completely determined action, and partial plans. from SharedPlans that are constructed by groups of collaborating to do a group action, they have certain individual are to be done. subactions and plans to perform some of the subactions. of their the successful performance in which between complete plans, plans the way in which they will perform an and group actions. We distinguish intentions intentions toward 274 B.J. Gro.v. S. Kmus/Artijicrul Intelligence 86 (1996) 269-357 Our formalization uses a first-order and action expressions. To distinguish logic augmented with several modal operators, types of the different among live meta-predicates: FIP for full individual plans; developed terminology individual plans; FSP for ,fuU SharedPlans; PSP for partial Shared- are These meta-predicates completeness. in Section 4.’ Although they are not and beliefs of type. When PIP or FIP holds for an agent, beliefs about connec- and beliefs definition. When a group in the meta-predicate then members of the in the definitions of these meta- specified (i.e.. SP and PSP or FSP holds), the mental states of agents, in terms of intentions and beliefs given is defined (including intentions defines of indefinite the formalization meta-predicates, plans, PIP for partial Plans; and SP for SharedPlans defined in Sections 5 and 6 using the plan meta-predicates make claims about new modal operators. Rather, each the agents who have plans of the given that agent has the collection of intentions tions among the intentions) of agents has a SharedPlan group have the individual predicates. An semantics which accessibility belief operator; operators two operators proposed in research on intentions an appropriate base for this logic. However, on accessibility relations respect terms of the modal operators and standard accessibility relations are not needed to the performance to our axioms for the logic interpretation representing related relations are required is an extension of standard Kripke possible worlds for the and in which each possible world is a temporal structure. The modal operators include (defined attitudes; commitment for interpretation ) provide of the full set of constraints results with in first-order predicates and functions. Hence. in Sections 4.2 and 4.3) and four intentional further study. All of the meta-predicates of actions. Several structures and belief (see for example to prove soundness and completeness the establishment [ 11,32,55,66] are defined required requires for them. to be directly for themselves the information that collaborating certain planning processes and provides guidance about The formalization is not intended and communicate with one another. The SharedPlan implemented, to be used as a specification rem proving system. Rather, it is intended In this role, the model constrains intention) establish tion has been used in the design of a dialogue system in which utterances are interpreted instance of the use of a similar specification formalization of industrial multi-agent tages of incorporating agent design in dynamic formalizations Jennings’s explicit models of the intentions in which agents have for example, by a theo- for agent design. (e.g., to meet the axioms of agents must formaliza- context [ 291 provides an in agent design. He modified Cohen et al.‘s for use in the design the advan- into and operate of to provide an explicit model of cooperation environments with unpredictable for collaboration the importance it also shows implementation the intentional and produced for situations demonstrates information incomplete to provide systems. Jennings required [43,44]. events; [40] these models. in designing of the mental states of agents when they have a collabo- for the formalization rative plan to do a group action. It provides a high-level overview of collaboration Fig. 1 lists key components 3 We classify these as me&predicates because some of their arguments are propositions. new modal operators. Rather, each meta-predicate predications in its definition. refers to a complex formula, namely but they are not of the combination E.J. Grosz, S. KrauslArtificial Intelligence 86 (t 996) 269-357 275 To have a collaborative plan for an action, a group of agents must have ( 1) mutual belief of a (partial) recipe (2) individual intentions that the action be done individual intentions that collaborators succeed in doing the (identified) constituent subactions (a) (b) individuai or collaborative plans for the subactions (3) Fig. 1. Key components of collaborative plans. given in this paper, and a framework in which to describe the overall collaborative plan- ning process we envision. This list highlights three principal ways in which plans for group action differ from plans for individual action. First, a collaborative plan to do an action requires that the group of agents agree on the recipe they will use to perform the action (Item ( 1) ) . As a result, agents must have processes for deciding which recipes to use, and for combining their individual knowledge of recipes. Second, agents must have commitments not only to their own individual actions, but also to the actions of the group as a whole (Item (2a) > and to those of other agents (Item (2b) > . This need requires introduction of a different type of intention from the usual concept of an agent intending to do an action. Third, the plans for group activities may have as components both the plans of individual agents for constituent subactions and the plans of subgroups (Item (3)). As a result, groups must have ways of deciding on the agent or subgroup who will do the subactions. Any realistic treatment of planned activity must take into account the dynamic nature of plans: plans are developed over time. Agents begin with partial plans and extend them until they have complete plans. Because an agent’s beliefs may be faulty or the world may change while the agent is planning or is acting on the basis of a partial plan, partial plans may have to be revised. To address these needs, the specifications given in this paper provide for both individual and colfaborative plans to be partial in a number of ways. As a result of the dynamic nature of plans, at any given moment while the agents are developing and carrying out a collaborative plan, any of the components in Fig. 1 may be incomplete. For example, the agents may have only a partial recipe for the action; or, they may not yet have decided who will do certain constituent subactions and so may have no individu~ or collaborative plans for those acts; or, an agent may not have determined whether potential new intentions are compatible with its current commitments and so can be adopted. As the agents reason individually, communicate with one another, and obtain information from the environment, portions of their plans become more complete. If agents determine that the course of action they have adopted is not working, then a plan may revert to a more partial state. For example, if an agent is unable to perform an assigned subaction, then the group may need to revise its recipe. Thus, the list in Fig. 1 is best viewed schematically; it has different instantiations at different times. Each instantiation provides a snapshot of the beliefs and intentions collaborating agents have at that time with respect to their collaborative activity. The for- malization must ensure that the snapshots corresponding to a given plan are coordinated. Several different processes are entailed in completing partial plans (analogous to the transitions intentions. snapshots). between and group decision making. including processes for identifying recipes, reconciling The major focus in this paper is on providing in its treatment of partiality of belief and intention entail for extending partial plans have certain properties, a specification of the agents’ mental and that that the reasoning mech- the agent that accommo- in a dynamic world; such designs agents of these processes or individual individual specification for individual agents utilize the plan definitions and the need IO operate in a variety of current planning the model presumes a basic design state that is comprehensive handles complex actions. Although anisms paper does not provide a complete design. Rather, dates resource constraints are proposed example bilities when to consider adopting an intention; and executing world these processes, but leave other options open. We discuss ramifications that affect collaboration The formalization the intended [ IO]. The dctinitions [ IO, 56,601 ). In particular, we assume for managing pending and adopted is significantly more complex actions; given and monitoring as we develop in this paper architectures the model. intentions, and formalizations that the agent design (see fog capa- for deciding including capabilities choosing among competing options; scheduling incorporates in this paper entail certain constraints their effects and the state of the on each of of those choices or in alternative models. The complexity derives than those in the orig- from is increased In particular, complexity by providing of SharedPlans of partiality and complex actions. for multiple inal formulation the interaction significantly complex action and by allowing to be used at any level. These features are essential collaborate. The complete as we discuss alternatives, [ 91 describes Bratman treatment we give also distinguishes in Section 8. three properties to have incomplete levels of recipes agents for designing to be entailed in performing a knowledge of the recipes that rational agents the from our model responsiveness. commitment In Section 7. WC demonstrate activity”: mutual mutual support. our formalization will form collaborative they will be able to perform actions are less complete complex the “broadly than those described by Bratman. to do so even individualistic” in situations that must be met to have “shared cooperative to the joint activity, and commitment that agents that meet the specifications plans that have these properties. Furthermore, to of in which and the types of actions their initial beliefs about how they perform are more retains the account we provide In addition, tenor of Bratman’s characterization. notion The formalization developed in this paper does not require any unreduced [ 58, p. 404 1. A notion of collective intentionality can be realized [ 58 1, but also appears intentions or “we-intentions” of joint two possible difficulties. Either one must presuppose some kind of group mental presents state or one must explain how “we-intentions” in terms of the mental state of individuals. The notion of group mental state not only presents philosophical that any agents that might work together problems as attitudes held by in a group be designed in Section 7, our approach all members of a group toward a group action. As we discuss for satisfies Searle’s conditions in situations other than collaborative group action. In individual Section 8 we compare our approach with other computational accounts of group action, in flexibility highlighting together. Searle 1581 explains “we-intentions” and in the range of group activity covered. it does so using only constructs that are useful for collective to necessitate differences intentions action; B.J. Grosz, S. Kraus/Arlijicial Intelligence 86 (1996) 269-357 277 4. Supporting definitions and notation functions individual terminology the operators, and predicates This section of the paper presents agents. Predicates and functions of first-order to represent particular properties of actions and the contexts needed and collaborative and plans, and describes basic the paper. Modal operators are used to represent various facets logic in which they two classes of actions in terms and act-types as well as the modal operators and meta- to formalize notation used throughout of the mental state of collaborating are introduced are planned that are central of these predicates, predicates. 4 Several of the definitions defined later; the informal descriptions these references. To assist understanding used, the notation used for each category, and the section should suffice for to be in which each is first defined. incorporate references of plan-types given previously to planning. The plan meta-predicates we introduce are defined the reader, Table 1 lists the constructs and performed. Act-types to the plan meta-predicates to represent are defined functions, 4. I. Recipe notation, subsidiary predicates and functions Actions are abstract, complex entities that have associated with them various properties in performing and other objects involved the action; e.g., a function type, agent, time of performance, In most cases, we will use lower-case Greek letters (e.g., cy, p, r) such as action the action. actions. We assume a set of functions associated with of action. However, to action properties where possible. For example, we use the term T, time property of the action to the complex processes used by agents the various properties type that can be used to refer to the type to refer to refer to the to refer in planning, we will use terms of the form that refer to specific the presentation, we introduce that can be used to obtain and the pi are parameters simpler notation for time(a). is shorthand In addition, (Y; i.e., T, to simplify to refer to . ., p,) where 5 denotes type(a), C(Pl,. properties of ff. (an abstraction) Not all actions are realized by events occurring an action action). 5 In the formalization to occurrences introduce However, we do need to predicate occurrence; we use the operator Do, defined this section, in the world. We distinguish between that realizes the to refer directly to occurrences. later in so far we have not needed from actions and its occurrence as developed and so we do not (a concrete a function to do so. individual The function recipe associates with each action a set of recipes for doing that action; denotes the set of recipes is a of a group of actions, which we will denote as pi ( 1 < i < n), the doing of recipe(a) specification which under appropriate constraints, denoted as pj ( 1 < j < m) , constitutes performance for simplicity of exposition, we omit of LY [4,45,54]. for action CY. As in previous work, a recipe i and j are distinct; The indices 4 Many of the operators and predicates place any special constraints on temporal reasoning, we do not propose 5 Thus, our actions are like Potlack’s 1521, but use a representation include temporal parameters. Because the formalization does not logic. the use of any specific that differs from her act-type, agent, in a similar temporal [ 271 theory and differ from actions time triples. Occurrences manner. correspond to acts in Israel et al.3 Type Notation Modal operators Meta- predicates ( plans) IMeta- prcdicatea (ability) Mcta- predicates (subsidiary) Int.To Int.Th Pot.lnt.To Pot.lnt.Th EXlX Commit DO FIP PIP SP FSP PSP CBA CHAG CONF CT11 CC CCG BCBA MBCBAG WBCBA WMBCBAG MP SGP FSPC PSPC Meanmg intend-to intend-that potential intcntlon-to potential intention-that ability to perform basic-level actions commitment to basic-level actions performance of action full individual plan partial individual plan% SharcdPlans full SharedPlan\ partial SharcdPlana can brmg about can bring about group act~onslpropos~tions conflict 43.3 pet to do can contract -roup of agents can contract Eelieve can bring about mutually believe can bring about group weakly believe can bring about weakly mutually believe can bring about group mcmbcr of group performs action wbgroup performc action contracting in FSP contracting in PSP Act-type\ Select-Ret agent hclccts (exrends) recipe fOl planning actions Select.Rec.GR group of agents sclccts (extends) recipe Elaborate-Individual agent extends partial plan Elaborate-Group group of agents extends partial SharedPlan Predicates single.agent single-agent action (subsidiary) muiti.agent group action basic.level bahic-lcvcl action Functions constr recipe cost won constraints of a context recipes for action cost of action rclativizc cost ( for benefit comparison) Section Figures 3 9. B.l 12, B.2 I7 18, 8.3 25, 8.6, 8.7 6 7 x 6 7 .A. I A.3 A.2 A.4 B.5 B-5 B.4 B.8 43.1 4.3. I 4.1. I 4.3. I 1.2 4.1 4.2 5.1 5.2 6. I 6.2 6.4 4.4 1.4 4.4 4.4 4.4 5.3 6.5 S.? 6.5 6.2 6.2 6.1 6.4 4.5 4.5 4.5 4.5 4 4 4 4 4 6.3 6.3 the range specifications library of recipes for action to perform elements of a collaborative agents. of recipe( cu). Agents’ plan may require in the remainder of the paper. We assume each agent has a types that it collects and updates over time. When planning type & to construct completion the libraries of different libraries may differ, and for the action the successful integrating recipes from a given action a, agents use recipes B.J. Grosz, S. Kraus/Artijicial Intelligence 86 (1996) 269-357 219 Fig. 2. Recipe tree. p2, 71 I 1, and the other leaf nodes are basic-level actions In the definitions, we use the meta-language That is, to make the definitions more readable, we will write R, = {&, pj} that R, is being used to refer to the set of subsidiary identifies this case, a) (in symbol R, to denote a particular actions and constraints for which the action recipe. to indicate denoted this is a for the same action LY requires more in in some cases we may recipe for cr; we will use Rz to denote such among alternative e.g., Ri. Because we do not need to make such distinctions recipes the additional notation. However, Th e subscript by {Pi?Pj). recipe. To distinguish notation, cumbersome this paper, we do not introduce need to refer to a partial recipe, a partial Recipes may (possibly i.e., RY, C {pi,pj}. include actions at different empty) levels of abstraction in a recipe either specified an action may be incompletely plan. Thus, a recipe may include uninstantiated an action) plan, Lochbaum processing. the parameters must be fully specified [43] addresses and constraints this issue variables on these variables. However, in a manner appropriate in the context of using SharedPlans and the parameters of in the library or in a partial (e.g., for the agent or time of for agents to have a complete to the act-type.6 for discourse actions pi in the recipe for action (Y, which we will also refer to as of CX, may either be basic-level actions or complex actions. The actions this (a) holds if CY is a basic-level action. We assume basic-level hold, and do not define conditions situational The subsidiary subacts or subactions predicate baszklevel are executable further setting whether actions are basic level or complex. is so; if an agent believes an action (see Pollack’s argument [ 531). Furthermore, we assume at will if appropriate that this is a reasonable assumption that agents’ beliefs are correct with respect is basic level, agents believe in a computational to it For those pi that are complex, If an action is basic level, it is. there will be recipes, Rp,, that include constituent subactions &. The 6it, may similarly be either basic level or complex. Thus, considering represented by the pj, we have the general just decomposition situation pictured actions. We refer to this tree as “the complete purposes recipe tree for CX” and use this example the leaves of the tree are basic-level and not other constraints in Fig. 2 in which for illustrative throughout the paper. 6 Precisely defining “appropriate raises a variety of complex issue as discussions in several papers make clear (see for example to the act-type” [ 2,254s 1) likewise, while renovating To treat contracting, we will need also to refer to a modified to his son one of the tasks required by the recipe he has chosen form of recipe tree. The plan definitions provide for contracting out of actions in both individual and SharedPlans. For example, Dan in forming his individual plan for the main course may decide to sub- (e.g., chopping contract the the onions); job of refinishing the recipe ex- In essence, a piece of the complete pansion changes action. For example, recipe action y, then the if the agent plans tree for y. We will refer part of the recipe to this tree as “the extended recipe tree is given Complex tree for cy is replaced by the recipe tree for the contracting to contract out /Ii by performing tree for cy below p, in Appendix A.I. actions are further distinguished tree for N”; a formal definition of extended their house, Kate and Dan may subcontract the floors. When contracting is part of agents’ plans, is replaced by a recipe contractin g actions. the contracting to incorporate on whether recipe actions are single-agent is either single-agent is an individual action is a single-agent basic-level that an action a solo action. Likewise, herself) is a different Kate and Dan cooking dinner). is a single-agent action, and multi.ugent depending or a group of agents. The predicate single.agent (a) holds actions. To simplify or multi-agent, the agent of the (a) holds if a if the agent of LY is a group. All the specifications, we assume but not both. For example, singing a multi-agent action, whereas singing a duet is ]necessarily] a single agent cooking dinner alone type of action from multiple agents cooking dinner (e.g., Kate’s cooking dinner by (e.g., together plan in which individual for doing component that arc formed functions, them need of the context parameter C, are relevant that play a role in individual and collaborative plans are always and predicates in some context. Various operators, to refer to this the action cr is being to this paper. First, C, that encodes constraints on the performance of cr. to make the appetizer may have the constraint of time or the constraint of not using a particular pan. The the of the if LY is being done as part of in the plan to do The intended actions planned and performed on actions as well as the plans context. We use the notation C,, to refer to the context done, Two constituents includes a “constraints” For example, Kate’s being done before a certain function cotzstr maps each context constraints component intentional context doing some higher-level A, then C, encodes the agent might have chosen of C, is constructed the actions subscript, by which LY is being done is also part of this constituent; that each plan be identified by a name. [45] ); alternatively to do a to satisfy some independent desire. This constituent for in the actions that follow. The plan require the definitions of the context C,. Second, C, in which G is doing LY. For example, convention in the definitions formally, recursively in them. We adopt action A, i.c., LY is part of the recipe adopted e.g., Co ,,*, to make this fact evident recipes and constructs plans includes a representation this fact (e.g.. using as an agent chooses constr( C,,) denotes to its constraints the Contributes the notational of appending component; relation 4.2. Basic tmdd o,verutors We use two standard modal operators belief respectively; they have their usual definitions for belief, Be1 and MB for belief and mutual [ 341) . In addition, (see for example B.J. Grosz, S. Kraus/Ar@icial Inreiligence 86 (1996) 269-357 281 we specify several modal operators that relate agents and actions: Exec, Commit, and Do, the intention operators presented in the next section. In this paper, Exec, Commit, Do are treated as primitive operators; their intended meanings are as follows: l Exec( G, LY, T,, S) represents the fact that agent G has the ability to perform action LY at time T, under the constraints @. Exec applies only to basic-level actions. The significant difference between this modal operator and Pollack’s predicate EXEC [ 53,541 are the constraints. 0 Commit( G, CY, T,, Z, C,) represents the commitment of agent G at time Z to per- forming the action ty at time T,. The last parameter, C,, represents the context in which the agent’s commitment is made. Commit also applies only to basic-level actions. l Do( G, cy, T,, 0) holds when G does action LY over time interval T, under constraints 0. G may be either a group of agents or a single agent. If T;, is in the past then Do(G,a,T,,O) is true if G did cy at time T,. 4.3. Attitudes of intention 4.3. I. Types of intending The plan definitions require four different intention operators. 7 Two of these, fnt.To and Znt.Th, represent intentions that have been adopted by an agent. The other two, Pot.Int.To and Pot.Znt.Th, are variations of the first two that are used to represent potential intentions. Potential intentions are used to represent an agent’s mental state when it is considering adopting an intention but has not yet deliberated about the interaction of that intention with the others it currently holds. Potential intentions motivate an agent [ lo]. They thus represent to weigh different possible courses of actions or options intentions that an agent would like to adopt, but to which it is not yet committed. Potential intentions typically arise in the course of means-ends reasoning. Attitudes of Pot.Int.To stem from an agent’s deliberations about how to do some action it is committed to performing. Pot.Int,Th’s derive from the need to ensure that collaborating agents’ plans mesh correctly [ 91. Int.To and Pot.Int.To are used to represent an agent’s intentions to do some action; Int.Th and Pot.Int.Th are used to represent an agent’s intention that some proposition hold. In the definitions that follow, Int.To( G, (Y, 7;, T,, C,) represents agent G’s intention at time Ti to do action LY at time T, in the context C,; Int.Th(G,prop,T~,T,,,Cprop} represents an agent G’s intention at time 7; that a certain proposition prop hold at time T ,,rclp in the context Cprop. Cprop is the analogue for propositions of C, for actions. The commonality between intentions-to and intentions-that is that both commit an agent not to adopt conflicting intentions [64] and constrain replanning in case of fail- ure [7]. The significant distinction between them is not in the types of objects each relates, but in their connection to means-ends reasoning and in their different presump- tions about an agent’s ability to act in service of the intention. An Int.To commits an agent to means-ends reasoning [7] and, at some point, to acting. In contrast, an Int.Th does not directly engender such behavior. Int.Th’s form 7 Vermazen [ 631 describes the need to consider more than a single attitude of intention. subplans. helping one’s collaborator, the basis for meshing dates in collaborative [9,40,58] thcsc functions may lead to the adoption of an Int.To and thus indirectly reasoning. all of which play an important role and coordinating status up- plans; any of to means-ends that an agent must believe it intends this stance An agent can only adopt an intention-to to do. As others have noted (e.g., Pollack it will be able to do the action at the appropriate toward an action for which it is the agent. In time. it calz successfi~ll~ [Sl, p. 381, and it is clear that the agent cantrof the success of the addition. the agent must believe In this paper, we adopt the strong position perform any action there), others cited believe intended action 171. Thus, our formalization would be better served by a probabilistic approach to the modeling of ability, but we have not identified a suitable computational model. Such an approach would enable us to replace “flat-out” belief the more realistic actions be above a certain [ 7, pp. 36ff] with in the likelihood of success of its the it is irrcclpable of succeeding, it may have doubts about is too strong. Although that an agent’s belief to be able to intend for the agent requirement to perform threshold Xl. The means-ends between asymmetry an action, Achieve(prop). sitions to generalized reasoning Int.To and and knowledge constraints lnt.Th. Any proposition, is a function that proposition where Achieve that have lead intentions-to to an on prop, can be converted to that maps arbitrary propo- an as an effect. However, actions T,, TIYro,,, C,l,.cJ,l) does not necessarily Int.Th(G,prop, T, > T,w,,,, , C,m,, ) because an agent may be unable > Achieve(prop) or may bc incapable of carryin g out any particular action ates the Achieve (prop). entail an Int.To( G, Achieve(prop), to do means-ends about that instanti- reasoning introduced The differences between the four types of intentional in Section 2. Dan and Kate’s collaborative attitudes may be illustrated with plan consists the dinner example of Kate making an appetizer, Dan the main course, and the two of them together making the dessert. Thus, their plan to make dinner to [Int.To] make the appetizer, a belief doing so; likewise, a belief having a collaborative include Dan’s intention plan for to [ Int.To] make the main course. their to make the dessert. The plan for making dinner will also the appetizer, and Kate’s plan that [ Int.Th] Kate “be able to make” that [Int.Th] Dan “be able to make” the main course. that she will be able to do so, and an individual it includes Dan having an intention includes Kate having an intention plan for doing so; in addition, that he can, and an individual it includes intention a recipe If Kate has decided to make mushroom puffs for the appetizer, but not yet chosen a recipe for doing so, her individual plan will be partial. It will include an Int.To select or construct ends she needs to [Pot.Int.To] deliberation of the recipe entails means- actions intentions for mushroom puffs. The identification this means-ends to make the mushroom puffs and will adopt potential intentions will become part of a that process may become Int.To’s. these actions. The potential reasoning. As she does she will determine [ IO] and through to perform reasoning, perform process 4.3.2. Modal operutors for attitudes oj’ intetztion The definition of Int.To is given in Fig. 3. The lirst part of this definition [ Clause ( 1) ] to do an action that is basic level. Two standard deals with the case of an agent intending B.J. Grosz, S. Kraus/Ar@cial Intelligence 86 (1996) 269-357 283 (I) (2) [basic.leveI(a) A Bel(G,Exec(G,~,Ta,constr(C,)),~) Commit(G,cu,T,,Z,C,)j [ --basic.level( cu) A (a) I(%&) Qb A (1) (2) (3) [PWP,G,a,F,Ta,C,)A FW P&b, G, ElaboratelndividuaU e G, IY, ri, Tdi. C,), F, Tel&, &lob. C,/,b/a) A Int.To(G, Elaborate_Individual( I: G, cy, 1;, TO, C,),Ti, T&b. Celo,,ln) ] ] ] Fig. 3. The definition of Int.To. [ 71 are represented in this part of the definition: constraints to doing the action and that the agent believe addresses The second part of the definition it can execute the case of an agent that the agent be committed the action. intending to do an is complex. Two issues arise, each stemming from needing for basic-level in this case: actions. First, of what does the commitment in particular, what other commitments to what extent mnst an agent know how to perform the action and believe to generalize component does it entail? that that action the constraints of intention Second, it will be able to do so? consist For the agent to perform the intended action completely,8 i.e., it must have recipes for all of the complex actions itself and for any complex contracting for any complex actions In addition, actions. in the full recipe. From actions that it plans in these subsidiary it must have a full recipe in the recipe for to use, and recipes, and so do the actions and must is too restrictive Such a restriction would prohibit partial plans the agent must have intentions-to ( l)], the base case [Clause it will be able to execute each of these basic-level to doing so. This degree of knowledge and commitment for the action; cr that it is doing must likewise have recipes to basic-level on recursively all of the basic-1eveI actions agent must believe be committed for the initial adoption of an intention-to. or incremental However, planning, both of which are important to our approach. that the recipe and a commitment is only meaningful the agent must have at least some minimal commitment to the complex act. if the agent has some mini- Furthermore, we argue, this commitment or through cons~uction mal knowledge about how to identify a recipe for the act (either the to identify a recipe. In addition, by choice from several options) it will select is one it will be able to execute. These agent must believe [ 71. additional If an agent does not have a recipe for LY and furthermore has no idea at all about how to find or construct a recipe, separates into two parts. We discuss from the plan definitions given in Section 5. If the agent has a complete to do the action reasoning to do a complex action imposed by each part here; they derive individual plan then the strongest constraints described above are met. then it cannot do any means-ends intending its treatment of an agent the major constr~nts follow from intentions-to engendering means-ends The definition constraints about Q. reasoning [Clause (2a)], * More precisely, this requirement holds for the agent to perform the action intentionally; the agent might accidentally perform the action, a situation not of concern here. the case in which the agent’s knowledge of how to do the act and (2b) covers Clause commitment minimally, recipe for a. Clause (2b3) plan. 9 Clause include i.c.. that the agent adopts an additional clause is useful when using to emphasize it explicitly (2b2) represents is entailed by Clause are more partial. The partial individual plan in Clause that the agent has chosen and is committed (2bl) to some way of identifying establishes, the agent’s commitment a this partial in the next section; we that this particular modality must hold of the agent; this intention-to. Although not formally (2b2), as discussed to completing required, the formalization in Clause in agent design. term actions in Clause to stipulating the constraint the constraints the Elaborate-Individual (2bl) does not require to selecting a complete they are actually quite (2b) might seem strong. to meaningful means-ends for expanding partial plans that the agent cannot be at a complete they ensure only that the agent is committed that the agent know some way of identifying Although weak. Together that the agent reasoning about (Y. First, the partial plan of Clause such a recipe. have a recipe for (Y, only a recipe for the appetizer might consist only For example, Kate’s recipe for identifying of calling her mother. or of looking in a cookbook, or of doing both and then deciding whether she wants to use any of those recipes or her old favorite one; or Kate might have recipe for finding a recipe, one that consists of waiting until later and a more meta-level represented to pursue. Thus, then deciding which of these three options loss about by this clause amounts how to find a recipe, nor can the agent be uncommitted recipe (eventually). Second, to general complex these actions in the partial plan, they do not depend on them. Thus, that an agent be committed to the weaker constraint of a partial regress. The could be partial, and so on infinitely; none of planning may at some level refer to recipes the full plan invoking one of its planning procedures. Substituting individual plan for elaboration agent’s plan the intentions that stopped model. For example, we might stop the recursion at the second step, allowing to have a partial plan for the elaboration, of the elaboration. But to do this would require intention, general and include exploration of disjunctive possibilities, we achieve (2a). A modification the recursion after a finite number of steps might seem a more reasonable the agent a full plan for the elaboration a special stronger notion of itself to be quite the same result. Instead and interact with each other and with belief. Although we cannot provide a are given in the next In this paper, we do not define we provide a set of axiom schemas intending-that full set of axioms, section; additional the central axioms needed for our formalization axioms in terms of more basic constructs. the ways in which to elaborate would need to ground out in Clause and at no extra gain. By allowing Int.Th lo that specify introducing the elaboration (2b2) would lead to an infinite (see Section 4.5). Although to a specification for intending-that (2b2) amounts the elaboration in Section 6. are discussed but requiring to elaborate into Clause intending-to in Clause process refers (2b2) The meals example illustrates many of the differences in reasoning and reconciliation that are engendered the appetizer by intentions-to leads her to means-ends and intentions-that. Kate’s individual plan to make to do each of about the way in which reasoning ” The plan-name parameters in (2h 1 1 and ( 2b2) are identical to ensure that the particular plan is completed. “I All the axioms that are specified in this paper are actually axiom schemas. B.J. Grosz, S. Krau~/Arr~c~ai Intelligence 86 (1996) 269-357 285 recipe including reasoning In contrast, intentions-to say preparing in the recipe, about reducing each of the steps in the the egg whites, chopping nuts and whipping (e.g., a recipe like one that might appear in a cookbook) processes. then Dan will be responsible the control of her reconciliation plan with Dan to make the dessert, to basic-level do each of the actions entailed by the recipe are her own if she forms a for some cream perform each of these subsections; Kate has he will be able to do them. Kate can aid Dan, by not presenting him with the vegetable to problems and by not doing things that it). However, she about how to chop nuts or to whip egg the actions high-level actions. The and thus under collaborative of the subactions, for a cake icing. Dan forms intentions-that the need to reconcile garden at the same Dan encounters, interfere with his actions reasoning will not otherwise do any means-ends whites or cream. I’ Furthermore, Dan will be reconciling other intentions with intentions to do the actions he is contributing and desires will determine whether he watches to the dessert making. His obligations the evening news or works on the cake. (e.g., not asking him to plant approaches the egg whites not whipping); the mixer when he needs time); by being helpful (e.g., discussing (e.g., not using for example intentions-to additional intentions 4.3.3. Axioms fir intention operators In this section, we present several basic axioms relating intentions the design of computer to one another and for rational agents to beliefs. These axioms action. further constrain play is to make the process more in planning [ 7,8]. Significant that an agent cannot hold two conflicting role intentions agent deliberation A major constraining constraint iom stating represents performance proposition continuing Thus, CONF( a, p, T,, Tp, O,, 0,) tractable by results from the The ax- this constraint uses the meta-predicate CONF. CONF( cr, J3, T,, Tp, O,, 06) the situations of an action conflicts with a I2 cannot hold simultaneously. in which of another action, or (b) to hold, or (c) the performance two propositions is true in the following of an action conflicts with focusing of attention the performance simultaneously. intentions (a) 0, conflicts with (x and p are actions the constraints This conflict may arise either because will bring about a situation perform the next subsection), actions are in conflict. the other action or because (focalized three situations: for which G is the agent. G’s performance its performance l3 of cr under of /3 under constraints Op. of one of the actions the case that the agent can in the constraints on the performance of the two the meta-pr~icate the performance CBA defined in which it is no longer using In either case, this conflict can be formalized as (i) ~(=k, &I) ( ECBAtG, a,R,,T,,O,)l A [CBA(G,P,Rp,Tp,Op)l). recipe [ 43 1. ‘I At least she will not necessarily do such reasoning. She may become an appropriate I2 The definition of CONF encompasses agent actions. Conflicts (IruTh) I3 If cy is a proposition empty. from group actions are handled then the set of constraints in the plan definitions. only conflicts among propositions through propositions that arise is empty; likewise, 9, invotved if Dan needs heip determining and the performance the inclusion of intentions-that of singie- if p is a proposition then (30 is 286 NJ. Grosz. S. Ktuus/Art~fic~rc~l Irrrelli#rnc~e 86 (I 996) 269-357 Axiom (Al): Bcl(G, CONF(a, { [ Int.Tx(G.a, ,$T,, T/j, constr(Cn).constr((‘~) 1.7;) 3 7;,T,,.Cn) =+ -( Int.Ty(G./3.T,.To, CD)) IA 1 Int.Ty(G.P.T,,Tp,CgJ 3 l(lnt.Tx(G,cu,7;.T,,.C,)) I} uj/.Y may he either an action (if Int.Tx/\s = Int.To) or a proposition (if Int.Tx/v = Int.Th) Fig. 4 Axiom schema to avoid conflictmg intentions (ii) N is an action for which G is the agent; mance of N will cause p not to hold, or conversely, perform (Y. Formally. j3 is a proposition. Either G’s perfor- if p holds, then G cannot [Do(G,cu,T,,O,,) + -PI v Ip* 13R,[CBA(G.cu,R,,,T,,O,)ll. (iii) LY and j? are propositions which cannot simultaneously hold, i.e.. [p H FLY]. Each of these conflict situations may be illustrated with the dinner making example. that Dan and Kate have only one lasagna pan, all lasagna recipes require using the pan. There is a con- lasagna and Kate’s making spinach squares the same time interval. A conflict of the second sort arises between Dan’s making (the proposition that Dan and Kate the proposition the proposition Do( {Dan, Kate}, muke-dinner, T, 0) the Suppose this pan, and all recipes for making spinach squares also require flict of the first sort between Dan’s making during lasagna /?). The second are making dinner at time T (i.c., and Kate’s playing basketball pan being clean and empty and the lasagna (the action a) and Kate’s being able to make spinach squares at time T. The third conflict situation holds between type of conflict also occurs between ingredients being in the pan. As formalized by the axiom in Fig. 4, an agent cannot knowingly hold conflicting intentions of the same type (Int.To or Int.Th) nor is unaware of (i.e., If an agent this axiom does not apply. Two properties of agents do agents may have partial plans and that collaborating neither conflicts between intentions; conflicts between an Int.To and an Int.Th are allowed. does not know about) an existing conflict, our formalization-that not need to know the complete plans of their partners-are conflicts. We discuss the rationale design in the introduction for these properties and the ramifications sources of potential unknown for agent to Section 6. we provide, in the transitions needed the transition process If the agent discovers a conflict between adopting a new intention includes an agent turning potential intentions and intentions it already has, it must reconcile between intention conflicts lo check arises the need to form complete plans from partial ones. In into actual as a full- the competing process is part of the plan elaboration process represented by the act-type is part of the basic agent design presumed by this to term intentions potential in Section 3). The process of transforming is described in Section 4.5. Within the fomlalization most prevalently particular, intentions. fledged intentions. The reconciliation (as discussed paper actual intentions Elaboratelndividual intention which In the dinner making example, Kate’s individual plan for making that conflict with her not produce intention lasagna. For instance, once Kate knows that Dan intends that Dan succeed to make lasagna the appetizer can- in making for the main intentions B.J. Grosz. S. Krauf/Arfi$cial Intelligence 86 (1996) 269-357 287 Axiom (A2): If a is a basic-level action and G believes it intends to do (Y then G really intends to do a: (Va,I;.,To)[basic.level(a) ABel(G,Int.To(G,~,7;,T,,C,),T,) + Int.To(G,a,E,T,,C,)] Theorem (Tl): Axiom (A3): Axiom (A4): where Pot.lnt.Tx is equal to Pot.Int.To if (Y is an action or Pot.lnt.Th if (I is a proposition. Fig. 5. Intentions and beliefs. course, she cannot intend to do an action that would use their sole lasagna pan; for example, under the assumptions described above, she cannot intend to make spinach squares. If potential intentions lead to consideration of adopting such conflicting in- tentions, the reconciliation process will cause one intention to be dropped; as a result, some portion of the SharedPlan will become, or remain, partial. For example, Kate might initially consider making spinach squares for the appetizer, but drop that poten- intention when she realizes she cannot do so without conflicting with Dan’s ability tial to make lasagna. She might then adopt a potential intention to make mushroom puffs instead. Fig. 5 gives the basic axioms relating beliefs and intentions. Axiom (A2) stipulates that an agent actually intends to do any basic-level action that it believes it intends to do. Theorem (Tl) asserts that an agent has an intention to do the complex action (Y whenever the agent has a full individual plan to do LY. This axiom follows in a straight- forward manner from the definition of FIP: if the agent has intentions to do all of the intends these actions in the basic-level actions required for doing LY and furthe~ore context of a plan to do CY, then it follows that the agent intends to do cr. However, an agent does not always have an intention when it has a partial plan. In particular, from the definition of Int.To, if the agent’s plan is partial and it has not formed a complete plan to elaborate the partial plan (e.g., it has not reconciled the relevant intentions), then it will not yet have an intention to do LY. Furthermore, an agent might have suc- cessfully reconciled an intention to do a, but have only some and not all of the beliefs required for a partial plan; in this case, it does not yet have a full-flogs intention to do cy. Finally, Axiom (A3) stipulates that an agent actually intends that a proposition holds if it believes it so intends and Axiom (A4) states that if an agent believes it has a potential intention then it really does. 4.4. Meta-predicates for the ability to act their own and their collaborators’ To represent the knowledge actions agents have about in a plan. we introduce to perform two related meta-predicates: abilities single-agent meta-predicate CBA (“can bring about”) and the multi-agent meta-predicate CBAC (“can bring about group”). Three additional meta-predicates contracting abilities. The meta-predicates specify contract”) out to other agents. Contracting action (and thus bringing perform another action; state of affairs. and the knowledge agents need to have about their own and their contractors’ (“group of agents can it that by doing one it can get a different agent to this is used to represent and CCC under which agents can do an action by contracting in turn depends on an agent bclicving about a certain state of affairs), the meta-predicate GTD (“get CC (“can contract”) the conditions are defined to do”) to treat the tree, perspective an omniscient The meta-predicates CBA and CBAG prcsupposc which the recipes for action cy and all its constituent of recipes for the full recipe tree in Fig. 2 or, if contracting recipe is known. The plan definitions. within belief or intention and CBAG are very strong, is a very weak statement; intention is exactly what is needed collaborating However, from acts are known; e.g., the complete set for the extended only the recipe. Although CBA quantify that existentially them in belief or intention contexts the result of embedding (or in the existence of some recipe in particular, only belief is claimed, not identification recipe. This result for certain portions of partial plans and for representing what abilities. their own ability agents know about their collaborators’ the knowledge however, use these meta-predicates agents have about that one exist) of a particular is involved, contexts in is greater than that represented by CBA and to perform actions their full individual plans or full SharedPlans CBAG embedded meta-predicates. knowledge. agents’ knowledge for subsidiary the complete inside belief contexts, but less than that represented by the unembedded this level of ability The definitions encode In a similar manner, to act when they know only partial recipes tree of Fig. 2, hut not they know part of the recipe of FIP and FSP implicitly actions; e.g., when their own abilities of PIP and PSP the detinitions implicitly encode about tree. The remainder of this subsection presents CBA, CBAG, and the meta-predicates subcontracting within their definitions. on agents’ knowledge about actions to accommodate additional individual define subsidiary meta-predicates in Appendix A. constraints plans and collaborative plans respectively. To aid in designing that explicitly represent this level of ability knowledge used Sections 5.3 and 6.5 discuss in agents, we they perform themselves The meta-predicate CBA, given to do the action LY using the recipe R, at time T, and under constraints 0. The agent may either do all of the subactions itself, or may contract out some of them. I4 The constraints in Fig. 6, represents an agent G’s ability in R, “Clause 12bl ) of the CBA definitions includes simple disjunction (or), rather of or reflects that an agent may be able to bring about the possibility than exclusive or. The use the subsidiary action /3; in more than one way: it may be able to do the action by itself, to contract it out, or both to perform it itself and to contract it out. Because CBA represents ability rather than any commitment to act in a particular way, or is the appropriate logical connective. B.J. Grosz, S. Kraus/Artijicial Intelligence 86 (1996) 269-357 289 CBA(G,a,Rm,T,,@) (1) [basic.level(a) A Exec(G,cr, Tn. O)] @ (2) [ -bnsic.leveI( 0) r\ (a) R, = {&,pj} A Rn E Rec~~es(~)A (b) (VP, E Rn=~)1 (1) (2) I(3Ra,)CBA(G.Pi,Rp,,Tpi.0U{pj})lv (CC(G,Pi*T&,@U {Pj})ll CC(G,P,T,,@) (=,.~a T,, R,) 1 (1) CBA(G,y,R,,T,,@W (2) GTD(G,y,T,,G,,P,Tp,C-))l Fig. 6. Definition of CBA (can bring about) and CC (can contract) argument 0 encodes various situational constraints on the performance of the action; these constraints derive from the particular recipe being used and the context in which the action is being done. In p~icul~, subactions inherit the constraints of the actions of which they are a part [Clause (2bl) 1. For example, if Dan decides to make homemade tomato sauce for the lasagna in the dinner he and Kate are preparing, then in deciding whether he can bring about the action of making the sauce, he must consider the time constraints on the overall action of making dinner (e.g., being done by 7 P.M.) as well as any constraints within the sauce recipe itself (e.g., having the ingredients, being able to use the pressure cooker for an hour). In the case of an agent doing the action itself, if the action is basic level, CBA reduces to Exec [Clause ( 1) f . If the action is not basic level, then CBA is determined recursively on the basis of the recipe R, [Clause (2) 1. For each subsidiary action #?; in the recipe, this recursion provides either for the agent to carry out pi itself [Clause (2bl) ] or to contract it out to another agent [Clause (2b2)]. The recursion on acts the agent performs itself ends in basic-level acts from the complete recipe for ac; for subsidiary actions that the agent contracts out, a contracting action and a recipe for performing it enter into the recursion. The recursion ends in an extended recipe tree with basic-level acts that the agent performs itself as leaves. Thus, CBA requires that the agent be able the to execute the basic-level acts entailed in performance of the original action-with exception of those actions contracted out or entailed by contracted actions-according to the given recipe and under the specified constraints. For those subsidiary actions that are contracted out, the agent must be able to execute the basic-level actions in, or entailed by, the recipe for the agent’s contracting action (again with the exception of any that are contracted out or entailed by contracted actions). The meta-predicate CC specifies the conditions under which an agent is able to contract out an action J? to another agent. In particular, the original agent, G, must identify a contractor (G,) and some action y that it (G) can perform [Clause ( 1) 1 such that by doing the action y, G can get G, to do /? at the appropriate time and under the appropriate constraints [Clause (2) 1. 290 t1.J. Grosz. S. Krcru.s/Arti$cicrl Irztelli~ence 86 (1996) 269-357 CBAG(GR, cy, R,,. T,,, I-j) C I I R, = { /?, 1 p, } A R, E Rrcr/ws( CV’P, E R,,3Tfi, (a) ) I n ) A ( 2 ) I 1 single.agent( p,) A (a) t CR. Rp, ) (3Gg, ( 1 ) CBA (G, p;. HP,, 7>, (4 ?J {p, 1 ) I <a: ( 3 ) [ multi.agent( /3! ) A (a) (3GRp, C CR, Rg,) (1) CBAG(GRB~.P,.R~,,T~,,“)‘~!{P~})~IV (3) ICCG(GR,B;.T~,,~~u{p,})lI (1) (2) (3) (X,.y.T,.Ry) 1 single.agent( y ) A (a) (3G, E GR) (b) CBA(Cl.y. R,,7,,WJ (i/,})/: (c) GTD(G,,y,T,,G,,p.Tp.N)I // T,, R,) (%,y, I multi.agent( y)A (a) (3GR, C GR) (b) CBAG(GR,,y,R,,T~.H),~ (c) GTD(GR,.y,T,,C,,P.Tp,/~)I Fig. 7. Definition of CBAG (can bring about group) and CCG (can contract group) for groups and multi-agent of CBAG, a meta-predicate in Fig. 7. The major difference between CBAG and CBA in the recipe for the (necessarily) actions. For these actions, actions anal- is complex action LY, i.e., some there must be a subgroup of [Clause (3) ] ; i.e., CBAG recurs on a to be a The definition ogous is given to CBA, that some of the actions of the p;, may be multi-agent the whole group subact with a subgroup. For those pi that are single-agent member of the group who has an ability Furthermore, CCG generalizes CC to handle situations the contracting requires (3) of CCG]. The single-agent that can bring about the action in which a group of agents does is like CC but to do the contracting. ” [Clause (2) of CBAG] of a group member case of CCG there needs to perform the action actions, [Clause (Fig. 8) treats both single- and multi-agent actions. Thus, to a single agent or a group of agents and the arguments G and G, may refer either the arguments actions. GTD holds of two agents or groups, G and G,, two actions y and (Y, the times of those actions, T, and to doing Ty, and a set of constraints 0 originate as constraints on the performance of LY. However, cx at T,. The constraints 0 if as a result of G’s doing y at Ty, G, commits a and y may be either single- or multi-agent identification The meta-predicate GTD Is Because an action may be either single-agent or multi-agent but not both and agents’ beliefs are correct with respect to whether actions are single- or multi-agent, exclusive or is used in Clause (2aI ) of the CBAG definition. However, the group GR may be able to contract out a particular pi in several different ways. Some individual agent may be able to use a single-agent action y, or a subgroup might use a (different) action y which is multi-agent, or both types of contracting actions may be possible. This is indicated by the use of or rather than exclusive or in Clause (2~) of the CCG definition (Fig. 7). B.J. Grosz, S. KraudArtifcial Intelligence 86 (1996) 269-357 291 GTDCG, Y, T,, G,, a, To. 8) ( 1) [ single.agent( a) A (a) Do(G,y,T,,@) (b) Cc) [multi.agent(a)A (a) WG,y.T,,@) [(-a,C,&) tb) (2) =+ * [ (3Ti) Int.To(G a. Ti. 7’,. Cmlf(o,r) )A (3&) CBA(Gc,a,Ra,T~,@)ll @ Cc) Cd) SP(P,,GE,(Z,T~.T~,C~/~(~,~))A CBAG(G,,a,&,T,,@)II Fig. 8. Definition of GTD (get to do). (lb) on resources) (e.g., constraints are also applicable actions LY, GTD states to do cy and having a particular of y; hence, 0 is a parameter of the Do modal operator in Clauses that G’s doing of y will some of those constraints performance and (2a) as well as of the CBA and CBAG meta-predicates to the in Clauses ( la) ( lc) and (2d). in the For single-agent state of intending it is able to do it [Clauses ( lb) and ( lc) 1. The subscript notation on the context parameter of the Int.To is an effect in Clause in this of) G’s doing y. In contrast with most situations paper, in this case G, does not intend to do LY in order to do y. The functional notation relationship c~/f(a, between then context The constraints if Dan pays his son $5 to chop the onions, to chop the onions r) makes cy and y. For instance, in which his son intends component of the context, constr( C,/f(a,rj), from (i.e., in the definitions recipe by which to do (Y results encountered (Y is some the reason this clear: for doing that G,‘s leave G, functional indicates intention includes the is that of being paid $5 to do so. the constraints 0. in the group of agents recipe which they as [Clauses (2~) and (2d)]. The subscript notation on to that of indicates, analogously in Clause then G’s doing of y will result action, to do a; they must also have a particular If LY is a multi-agent G, having a SharedPlan a group can use to bring LY about the context parameter of the SharedPlan the Int.To, that the SharedPlan 0 are part of constr(Co/f(a,rj). to do a results from G’s doing y. Again, the constraints (2~) the Int.To in the individual plan underlying case, and the Shared- case may be partial. Even so, the definition of GTD may seem too Both the individual Plan in the multi-agent strong, as it presumes both lack of will on the part of G, and a great deal of knowledge about and other meta-predicates, GTD our plans being able to perform having a SharedPlan the claim within any of its doing of y will leave G, in the state of to do /I or recipes is only used within an embedding recipe and either intending that the agent G believes in the plan definitions for actions. However, belief context. Hence, to a particular /3 according to do it. is only A contractor’s plan the contracting the control of the contracting is not under agent(s). Thus, even is done within a full individual plan or a full shared plan, we do as we describe have a complete plan. Furthermore, that the contractor(s) the SharedPlan definitions (Section 6)) contracting differs from having a in the Int.Th’s which must hold. when not require in presenting SharedPlan The terms Select_Rec and SelectRec_GR refer respectively that agents perform individually or collectively for the to identify ways sim- for extending to complete ones. To construct computer agents based on our formalization actions. The terms Elaborutehdividual and Eluborute-Group and group actions to the act-types to the act-types for individual 4.5. Complex actions .for plantzing (domain) complex planning actions to perform ilarly refer respectively partial plans requires defining processes cific complex actions of the type referred Select-Rec. processes” complex actions Elaborate-Individual; refer to procedures and Select_Rec_GR. to refer to computational in computer agents) we similarly implementing for selecting actions rccipcs and elaborating plans; to by Elaborate-Individual, i.e., defining spe- Elaborate-Group, In this paper. we use the term “Elaborate-Individual processes that instantiate append “processes” referred (e.g., mechanisms that implement actions of the type referred to the other act-type terms the to by to to by those terms. I6 these terms to refer to a subset that meet certain constraints. for each of these types of complex activity a variety of processes are possi- Although In particular, ble, we restrict (do- we restrict each to incremental main) from and we require failures. I7 Some general constraints on the individual processes are given below; addi- tional constraints in in Sections 5 and 6 using the plan definitions. that can be interleaved with performing for recovering incorporate mechanisms processes that they the terminology are specified developed actions, SelectRec( G, LY, Rg, T) refers to the activity of an individual recipe R, 1’ for cr. If the agent G has not yet begun its for the refers to the initial to it intends and that it can do so. Standard AI planning procedures can form the core of one them actions. However. agents may also select recipes by retrieving is used in the definitions of partial plans to tinding a way to do the actions in this case Select_Rec(G, LY, 0,T) agent G extending to form a recipe for a. Select-Ret partial action a, then R{ will be empty; construction of a recipe help represent an agent’s commitment its beliefs class of Select_Ret from memory, complicating adding potential intentions. looking the formalization, we include as part of the Select_Rec process the task of to the agent’s set of in the recipe extension for subactions intentions them up in manuals, or asking others. To avoid unnecessarily Elaborate-Individual( plan P at time T,, process partial ElaborateIndividual each of the constituent doing so. At any point far, an Elaborate-Individual to do pi with currently adopted into account resource constraints P, G, cy, T,, ,7;, , C,, ) refers to the process of extending to do action u at is ensuring actions in the recipe for cr associated with P and is committed in the planning process, for each pi in the recipe constructed agent G’s for an that the agent has a means of carrying out to so time T,. The major task process must initiate procedures for reconciling an intention intentions. To do so, the reconciliation and the need to operate process must take in a dynamic world (see for I6 We recognize in so doing we are somewhat abusing the formal vocabulary; however, the alternative is more complex and less easily understood language. I7 In addition to being more realistic for planning systems, incremental algorithms are crucial for dialogue model< I43 1. B.J. Grosz, S. KrausiArt@cial Intelligence 86 (1996) 269-357 293 example also establish a commitment complex action, plan for pi t8 and an Ela~rate~ndividual is constructed [ 10,56,60] >. If pi is a basic-level action, to do pi and the belief then the elaboration that it can be performed. process must If pi is a then the Elaborate-Individual process must ensure for it. In doing so, it will initiate a SelectRec that a full individual for a recipe process process for &. to more complete both for recipe con- are to by Thus, to design processes for expanding partial individual plans to draw on existing AI planning mechanisms intention to design processes it is possible and ones, struction needed Select_Rec_GR of SelectRec ing processes, resource handling planning processes agreed upon procedures Select_Rec_GR(GR, conflicts, require reconciliation. However, significant additional mechanisms and Elaborate_Group. These actions for the more complex multi-agent actions incorporate many of the constituents referred and Elaborate~ndividu~, including mechanisms for negotiating but each also includes some group decision mak- recipe proposals, these multi-agent among competing Furthermore, consensus. and reaching that a group have some means of forming mutual belief and for reaching consensus. recipes; to the individual is more complex to form a recipe, than the one for an individual to the activity of a group of agents extending but leads to different kinds of intentions being considered, case, if the group has not yet lip will be empty. The realization of this group recipe selection agent. Each agent in the group to in cy, Rg, T) refers their partial recipe RP, for cr. Analogously begun process must have its own internal process for identifying SelectRec Section 6.4. In addition, for mediating among different agents’ proposals. The agents may also need methods for constructing a new recipe using from different group members. The interaction between recipe selection if no single adoption that she agent believes will work only if Dan agrees to perform certain actions. Osawa and Tokoro [ 491 similar to contract nets [ 141. describe one possible Select_Rec_GR based on mechanisms However, many collaborative less centralized management exhibit than these techniques presume. is in charge. For example, Kate may have a recipe a group decision making procedure is also more complex, especially is equivalent as we discuss information and intention for making dinner this process is needed situations planning Elaborate_Group( P, GR, cy, T,, , r,, C,) refers to the group process of extending a col- action Q at time T,. intentions-to the requisite and intentions-that group’s partial plan P at time Tp to do the collective of this process are identifying agents able to do the constituent that the agents to In addition in a activity may need to assess the abilities of others. Agents also need means for reaching consensus may be in- in the group’s recipe laborating The major com~nents actions, choosing a particular agent or subgroup adopt having a means of assessing collaborative of communicating voked to decide who will be the agent of the constituent for cy. Different groups of computer agents may vary in the ways their Elaborate-Group processes deal with selection of the agent to do an action, just as the behavior of groups of people varies. to do them, and ensuring toward these actions. to perform actions, each participant their abilities. Mechanisms its own capacity subactions about Ix The rationale for this is given in Section 5.2. 294 B.J. Gras:. S. Ktms/Artijzcid Inteil~~ence X6 (I 996) 269-357 tasks to be done and the particular fi; from The additional the constituent depend on whether single-agent action or a multi-agent of agent follows a process analogous members adopt potential a multi-agent is chosen as agent constructing must a Select_Ret-GR process for /3;. initiate action, types of intentions the recipe constructed action action. If it is a single-agent to that for Elaborate-Individual, to be adopted so far is a then the choice and the other group this agent will be able to do the action. If it is that process must result in the subgroup plan. For this to occur, the subgroup for /3; I9 and an Elaborate-Group for a recipe action, a full collaborative process intentions-that then the Elaborate-Group [29] describes The design of Elaborate-Group a large area of inquiry for group elaboration processes constitutes et al. 1611 describe one set of mechanisms Sonenberg assignment within a formalization recipes. Jennings partial identifies organizer” approach to have partial for the organizer organizer does not need to know how the individual parts. X) Groups consensus formalization in itself. and role that includes complex actions but does not allow for in which a “central the recipe, and gets agreement. This recipe knowledge in that the team members will carry out their to reach the framework our at least some built-in procedures of Elaborate-Group. solely of human agents often struggle a while on such matters. To construct team members, determines another mechanism, requires providing agents within comprised computer allows only one 5. Individual plans The definitions for individual plans given in this section extend in three principal they the action relations state definitions within AI of plans of single agents. First, recipes; in particular, they accommodate defined by Balkanski ways previous mental accommodate more complex and constructors contracting actions and definition mental state when its knowledge of how to do a complex action is partial, to the basic-level fully reconciled [ 51. Second, they to another agent. Third, the complex action actions. actions entailed intentions a constituent to contracting the notion of an agent’s ability to do some subsidiary plan further extends this work of partial individual in doing action some the possibility introduce they generalize of to complex to execute an action. The an agent’s to represent its commitment is partial, or it has not FIP, the meta-predicate for full individual plans defined in Section 5. I, represents the intentions state of an agent after it has completely to do the actions mental and has full-fledged the requirement the objective of the plan, doing (Y, R,, a full plan until after it has done some of the actions (Y by that is for the recipe is a parameter of the meta-predicate. Most typically an agent will not have in R,,; thus, most often agents determined in R,. Thus, FIP is distinguished that the agent knows a complete that the agent has adopted a recipe R, for action i.e., cr; as a result, the action for doing recipe ” The rationale for this is given in SectIon 6.4. ?” Several algorithms have been proposed for example I IS- 17.36.X3,59,62,67 1): however. situation remains to be explored. for negotlatlon and task allocation in work in distributed AI (see the appropriateness of these algorithms for a collaborative B.J. Grosz, S. Kraus/Artijcial Intelligence 86 (1996) 269-357 295 have only partial plans. However, the FIP definition provides a significant constraint on Ela~rate~ndividu~ processes; it specifies the conditions under which the process has completed its task. When an agent’s beliefs and intentions satisfy FIP, then the agent’s intention to do the planned action satisfies Clause (2a) of the definition of It&To and there is no additional need for elaboration. PIP, the meta-predicate for partial individual plans, is defined in Section 5.2; the differences between PIP and FIP specify the info~ation an agent needs to acquire and the intentions it needs to adopt to have a full plan. These differences provide the main driving force for an Ela~rate~ndividual process. We will give the plan definitions in several stages. In each case, the definitions have the following major components of the plan: basic assumptions about recipe knowledge; the core case, covering actions the agent will do itself; the contracting case, covering actions the agent decides to contract out to others; and, for partial plans, the case dealing with unreconciled intentions. The figures included in this section provide English glosses of the major elements of the plan definitions. The full formal definitions are provided in Appendix B. 5.1. Full individual plans The definition of a full individual plan, FIP, specifies those conditions under which an individual agent G can be said to have a plan P, at time T,, to do action Q! at time T, using recipe R, in the context C,. The parameter P is a permanent identifier for a plan; as partial plans are completed the other parameters may change. Hence P is needed to provide a way to refer to the evolving plan.2’ The major constituents of FIP are given in Fig. 9. ** As noted previously, the recipe is an argument of FIP; FIP requires that the agent have a particular recipe for R, doing Q. Clause ( 1) represents the agent’s belief that R, is indeed a recipe for cu; the meta-language equality statement provides no~tion enabling the subactions, /3i, and the constraints, pi, to be referred to in the remainder of the definition. Each subaction pi in the recipe R, will either be done by the agent itself (the “core case”), or contracted out to another agent (the “contracting case”). The core case of FIP is given in detail in Fig. 10; the contracting case is given in detail in Fig. 11. The full formal definition of FIP is given in Fig. B.l in Appendix B. An agent may believe it can do a particular action both by performing the action itself and by contracting it out. However, when developing a plan, the agent must commit to one of the options. Thus, when an agent has a full individual plan, either the core case applies or the contracting case applies, but not both. This property is captured by in the complete an exclusive or between FIP Clauses (2) and (3) (see Clause (Zbl) definition of FIP, Fig. B.l). Because having a full individual plan for cy entails intending 21 This plan name is a parameter to ElaborateJndividual throughout the plan formation process. ** In this figure and those that follow we put quotation marks around “know” to indicate this use is its weak, colloquial sense with no assumption of correctness of belief; the phj~osophjc~ly more correct “be&eve” produces an incorrect English statement. We do not use scare quotes in the body of text as we presume the colloquial sense is apparent there. ( I ) Agent G “knows” a recipe for doing U; i.c.. it “knows” the cubactions entailed and the constraints on them: R, = { /?I,. ,,, } A Bel( CT. R,, C Recr/~\( CY 1, 7;, ) For each ,f3, either (2) OL ( 3 ). (2) Core c’mr: Agent G intends (3 J C’orltnrc~tinfi-olrl mw: G intends to do the subact ,Oi 11scIf. to contract out to another agent C;,. the performance of yubact p, Fig. 9. English description of the FIP (hll individual plan) definition. (2) Cow uw: Agent (a) G intends to do the subact. ti intends to do the subact j3, by itself. Int.To( C;. 8,. I;,. li;, c’~, ,, / (h) If the subact is not a basic-level actmn. (; ha\ a full individual plan for /3, using a recipe RB,: (%o,,Rp,) FIP(I-‘u,.(;.~,.~,,.~~,.R~,.(‘~,,,, Fig IO. FIP. core case. to do LY by Theorem Int.To( G, cy, r,,. T,, C,, ) within it. (Tl ), the definition of FIP does not need to include the proposition The core case of a FIP for LY. given in Fig. IO, requires that the agent intend to do a subaction to do is basic of Int.To the action is complex) ( I ) (if the subaction of the definition is covered either by Clause (if each of the subactions p; in the recipe for N. Each of the intentions level) or by in the recipe If the Clause (2a) level ). then there must be some recipe Rp, that (i.e., not basic action p; is complex that recipe, G can use to do p; and G must have a full individual plan (2b), Cain, The context parameter is (2a) and in Clauses the proposition Cntztributes(P,, a). This being done as part of doing cu; c.g.. it includes involving p;. The constraints Contributes component, and {p,}. As discussed in Section 5.3, G’s beliefs are established by recursion of Int.To. is equal that it will be able to perform each of the ,&, and hence LY, in FIP in combination with the Exec clause in the definition component of CP,,,~~ is used in any replanning constr( C,,,), to do p, using records to the union of constr(C,) the fact that p; (Fig. 3). The possibility of an agent contracting out an action discussed by human in previous work on multi-agent plans, but clearly agents.” The example of Kate contracting to another agent has not been is an option often employed operation out the oil-change ” Previous work to the kinds of coordination we accomplish with SharedPlans or to “helpful behavior” (see for example 1 l4,46 I) has used it to refer either that achieved by the term “contracting” that employs like the intention-that axioms described later in the paper. “Contracting” as we use it is closer to the concept of “incentive contracting” used in the economics literature (WC for example [ 3 I 1. B.J. Crosz, S. Kraus/Artificiai Intelligence 86 (1996) 269-357 297 (3) Confracting-out case: G intends to get another agent G, to do the subact pi, (a) G believes that by doing y it can get G, to do the subact: Bel(G,GTD(G,y,T,,Gc,Pi,Tp,,constr(Ca)U{Pj}),Tp) (b) G intends to do the “contracting” act y: Int.To(G,y.Tp,Ty.Cylaln) (c) G is committed to G,‘s success in doing the subact: Int.Th(G,(3Ra)CBA(G,,Pi,Ra,Tp,,constr(Ca)V{pj}),TP,T~,,C~bo/a,/~) (d) If the “contracting” action is not basic level, G has a full individual plan for y using a recipe R,: (gRy,f’y) FIP(P,.G.y,T,,T,,R,,C,/p,/,) Fig. II. FIP: contracting-out case. is but one for car maintenance instance of such contracting. As shown required Fig. 11, to contract out an action, an agent G must believe that it can use to get another agent, G,, predicate context because be wrong. in is some action y (3a) uses the GTD meta- in a belief the efficacy of y in getting G, to do pi is a matter of belief; G could to do pi. Clause This meta-predicate this requirement. is embedded to represent there For contracting out, the agent must have the same intentions the core case (3b)] and, requires with if y is not basic respect to pi. The agent must level, have a full and abilities with respect to do to do it intend plan individual to y that [Clause y [Clause (3d)]. represents Contracting has one additional to the contractor being able to complete have some commitment hired. Thus, G should not adopt any intentions do pi. For example, Kate should not both intend and expect the person she hires to change Monday afternoon afternoon. Clause (3~) and the CBA meta-predicate. Contracting, reciprocity in this commitment; Thus, there is no correlate of Clause holds among According requirement. An agent who employs a contractor must the job for which it was that would conflict with G, being able to to use her car to drive to a meeting on the oil to do that Monday the Int.Th modal operator plans, does not require [ 331. is not in and of itself collaborative (3~) for the contractor G,. 24 A different situation the agents of a SharedPlan, to the current definition, plan only to another single agent. However, include multi-agent contract out such actions car might an agent can contract out part of its individual in which an agent might it could to some group. For example, Dan’s individual plan to sell his a complete check-up of the out to a group of mechanics plans with a presumption as will be discussed unlike collaborative include contracting there are situations this commitment in its individual in Section 6. contracting subacts using that 24 Some mechanism, perform the contracted typically involving communication, is needed for G to believe that G, will actually action. Legal contracts serve this purpose [ 331. car. The definition parts of the definition. Howcvcr. this clause would need to be replaced by the following: of FIP does not include the only significant this case because it would complicate change would be to Clause all (3~) ; (3cl) (3c2) (3c.3) (3c4i [ single.agcnt( /?, ) A lnt.Th(G,(3Rp,)CBA(C,.P,,Rg,,T~,,constr(C,,) U{p,}), T,, > 7/j, . C’fl, <I ) 1 .: 1 multi.agent( /?, )! lnt.Th(G.(~RB,)CBACr(C‘,..P,,Rg,,T~,.constr(C,,)U{p,}). T,,. TL~, . C:8,, ,r 1 I individual to Clause constitutes for lasagna, the FIP by showing recipe, say his mother’s illustrate the lasagna its use in describing Dan’s in the meals example. According We will for making that a particular This recipe provides a specification tain constraints the recipe tion (Clause Suppose Dan decides make the noodles and sell them “make noodles” actions will fall under plan ( I), Dan believes to use. is a good recipe the doing of which under cer- /I, in lasagna. For each action to do the ac- (3) ). is to get Tony to the subaction of the recipe will be contracted out, while all of the other recipe of a set of actions of making sauce). he must either that he can get someone else to do the action (Clause the performance (e.g., making noodles. preparing to him. but to do the other actions himself. Then that the most efficient way to make the lasagna (2) ) or believe the core case. intend action plan will for an evening’s child care. that results individual the noodles Dan’s exchange noodles. For Dan’s plan to be complctc, Dan must believe basic-level for which he has a full individual not knowingly do anything axioms of helpful behavior described be willing to dry if necessary. to include an action y. say making a barter agreement the in Tony’s providing that this action y is tither a that he is able to do or is an action for which he knows a recipe and (3~). Dan must from the in Section 6.2 and given in Fig. 24, Dan must also to assist in Tony’s success. e.g., helping him lind a place to hang the noodles plan. As a consequence that would prevent Tony from making the noodles; of Clause When Dan has a full individual plan, he will also have recipes for all of the actions lasagna his mother’s agreement, the action for which it is a rccipc. recipe other than “make noodles” as well as for making and he will have a full individual plan for using each of these recipes Thus, the FIP definition for full individual recipes formulation [ 231 ), providing (the fomlalization more complex original to carry out a complex action, and allowing agent’s mental state satisfies and is fully committed stringent correlate of the conditions in Section 4.3. I, this constraint as discussed plans, which we describe next. are essential definition of Int.To. the FIP definition, to all of the basic-level for contracting of recipes than an expanded notion of what it means is more general plans extends previous work by treating that in the to be able to another agent. When an recipe tree the most action. However, individual the agent knows a complete in it. Thus actions to do a basic-level it satisfies is too strong to providing in general; partial the weaker constraint in the for intending in the barter to do B..I. Grosz, S. Kraus/Arr@ciaf Inrelligence 86 (1996) 269-357 299 ( I ) Agent G believes that there is a way to perform a; its recipe for doing (Y may be partial, i.e., it may “know” only some of the subactions that need to be performed; it intends to complete its partial recipe. For each subaction in the partial recipe, one of (2) through (4) holds: (2) Core case: Agent G intends to do the subaction by itself, but may have only a partial plan for doing it. (3) Contracting-out case: G intends to contract out to another agent GE the performance of the subaction, (4) but may not have a full plan for doing the “contracting” action. fhrcconcifed potential intention to do it. case: G has not yet reconciled the intention to do the subaction; i.e., it has only a Fig. t2. English description of the PIP (partial indiv~duai plan) definition. 5.2. Partial individual plans partial actions its commitment to do a complex action, it may not have fully reconciled When an agent adopts an intention individual plans in the context of an agent intending intend any basic-level treats both partiality of knowledge some of these subactions it does not yet know about. The definition its knowledge of how to actions to the basic-level and it in this and partiality of intention. Although we are to do an action, to do some action without having yet to do that action. For example, Dan may know a recipe for making in this recipe, but may not yet this recipe. The PIP to do an do that action may be partial. Furthermore, entailed may be partial; cannot section considering it is possible formed an intention lasagna and have potential have committed definition action. By using PIP, the focalization stage in the planning to do an action. level of commi~ent is able to represent mental state at an important the notion of intending to fully elaborating a lower himself thus accommodates process without having to have a partial plan a partial plan using to overly weaken to do the actions for an agent intentions intending than to be partial in four ways. First, for individual plans The PIP definition provides the is represented by in the definition of PIP in Fig. 12 and Clause ( 1) in the agent may have only partial plans for some of the (2) is represented by the difference between Clause there agent may have only a partial recipe for the plan’s action; this partiality (1) the difference between Clause the FIP definition (Fig. 9). Second, pi in the recipe for cu; this partiality in the PIP definition may be some subactions In particular, when an agent selects a recipe in that recipe; the actions pi intentions additional the contracting contracting and partial plans constructed clause, Clause out case for LY, it directly adopts Pot.Int.To do intentions must be reconciled with other the (4), in [Clause (3) ] ; the agent may have only a partial plan for its in the recipe for which the agent has only potential in the PIP definition. Finally, in the FIP definition. Third, type of partiality underlies there may be partiality and the corresponding for them. This these potential intentions. action. clause The bicycle kit example may be used to illustrate all four types of partiality. Kate’s that and the belief the instructions, initial partial plan the accompanying her bicycle are complete, to assemble instructions that she can read from a kit might include PIP( R G, N, I-,,, r,. c, ) i I ) Agent G believes that there is a recipe for performing u i a) If G has only :I partial recipe, (b) there is ;I recipe K,P/LjI.,.I.6,1, for determining an appropriate complete recipe for ru such that, ( I ) C intends to determine (i.c.. select or find) an appropriate recipe for U: (2) G has a full plan using Krr/,,(, ,-lll. to find :ui ~~pprop~are recipe f&r CY: FIP( ~,,k, I,‘< ~ G. Srlect_Rec( G. it’. {j&, p,} , T:,p(p(.t rp< 1.7;, , T W/<Y! 1,‘, I KW/?< / 1(1< 1 C‘,drr / ,i’< ,” 1 I I where every subaction perform or contract: in the rcclpe K,. G selects for u, is one that G bclievcs it can either (~Rs,)CBA(C,S,,7‘5,,Rfi,,constr(Cn)U{~r}jV CC(G. 6,.. KY, . constr(C,) U 1~)) I, LIW,~~(.) I Fig. 13. PIP: finding a recipe she can perform or contract out each of the subactions described at the requisite time. While reading the inst~ctions, to do the subactions. As she reconciles these potential in Kate will adopt intentions to the frame herself, but to pay Dan to attach and lubricate she has she will determine ways of doing each subaction or the front fork and the the chain. If so, her she might decide to attach it out. For example, to include her having an intention to do the attachment and lubrication to pay Dan and intentions actions as well as a set of to do the subactions involved in assembling the frame and attaching that she believes the instructions potential intentions commitments with other of contracting wheels partial plan will expand rhat he will be able ~~teFzt~a1 intentions the wheels. in turn and discuss process. Fig. 13 contains they impose on an Elaborate-Individual We will examine each of these sources of partiality requirements there is a recipe for (Y and that it has a complete the require- ments the portion of the definition of PIP that deals with the case of the recipe being partial. In this case, the minimal plan are that the agent believes that recipe. The PIP, unlike the existence of the recipe constituent those in the full recipe individual plan for determining instead ( 1). The set of that the agent knows, {/3,,p,i}, may be only a subset of the FIP, does not have the recipe R, as a parameter; is asserted within a belief context [Clause ( I a) ] ; the set may even be empty. for the agent having a partial acts and constraints in Clause individual In this case, the PIP definition requires that three conditions hold. First, the agent B.J. Grosz, S. Kraus/Art@cial Intelligence 86 (1996) 269-357 301 (Ibl)]. intentions this partial As we discussed in this definition to identify a recipe for ff [Clause that appears must intend the action SelectRec the action cr and extends potential SelectRec a new recipe, or select among existing a way of finding a recipe someone the results of each are also instances of Select_Rec. in Section 4.5, for It also adds to the agent’s set of intentions. The to construct recipes in the agent’s recipe library, or it may give in a manual; knowing that combine several of these options with a decision among takes a partial to a complete one, {a,,, K,}. for all process may be general. It may invoke a plan formation process (e.g., looking up how to do the action the new subactions to ask) ; processes recipe {pi,pj} recipe itself can be general. This clause embodies intention it; the agent must have a full plan to determine (PIP) a claim for determining the recipe must have more than a partial the is less strong than it may first appear because that an agent does not it knows some way of finding out how to do the role PIP reasoning to means- to have a plan constraint on what it means from it represents to means-ends an agent to have this minimal commitment a commitment to finding out. This constraint derives a reasonable Second, ( lb2)]. This requirement the agent’s plan associated with recipe [Clause SelectRec have a partial plan to do an action unless the action and is committed plays of Int.To; in the definition about the intended act. Requiring ends reasoning to do an act. In addition, also constitutes the agent must believe one, namely is an appropriate that the recipe a recipe (or recipe extension) comprising (or extension) selects subactions in being extended, of those additional specification and in the complete As was discussed in RP,; i.e., constraints the recipe or will be able that the agent believes then the actions and constraints this must be an extension are encoded to contract out successfully. it either will be able to perform under recipe R$ is If a partial in the new recipe must be a superset recipe. These of the original partial component of Cselecr.recin; a formal is noted at the end of the figure in the constraints of constr(C,,,,,,,,,,/,) of this constituent formal PIP definition in Section 4.5, as a result of the SelectRec in Appendix B. the agent G that it has for for which the agent has adopted from those that still need to be reconciled. The former subactions those subactions in the recipe subaction action, (Fig. 14) or the “contracting-out to unreconciled case” intentions (Fig. 15) and are (Fig. 16) are will have at least a Pot.Int.To do each constituent cy. 25 The plan definition distinguishes full-fledged fall denoted as &. The subactions denoted as Pk. intentions the “core case” corresponding into For each action pr in the PIP core case (Fig. 14)) the agent G has an intention to do ,& [Clause (2) 1. This requirement the one for the full individual Int.To may be only partial. Hence, in Clause (2b) a much weaker recipe for & than that imposed in Fig. 10. In addition, requirement plan. However, of the partial individual plan definition resembles in the PIP, the plan associated with this in the PIP definition of the FIP the recursion of partial plans in this case imposes there is no correlate on the agent’s beliefs about its abilities to do actions in a in the FIP; this difference is discussed in Section 5.3. 25 A Select_Rec process might operate subset of the subactions at any one time. incrementally. If it does, then Pot.lnt.To’s will be formed only for a it finds or constituent the constraints PIP(P.G.a.T,,,T,,C,) (2) Cow CU~Y: Agent G intends lo do the subaction [jr by itself, but may not hnw a full plan for doing B, : Fig. l-1 PIP: core cahe. PIP( f. G, a. r,,, r,. C,, ) (3) ~(~~z~~~~~~i~~-~~~~~ (YISP: G intends to contract out to another agent G, the performance of the subact ,f3,.. but G may not have full plan for the contracting action y. (a) G believes that by doing y it con get G, to do the subact: Hel( G, GTD( G, y, 7;. G,. fl, , To, . constr( CLu i !J {p,}), 7;, ) (b) G intends to do the “contracting“ act y but nrny not have a full plan for doing y: Int.To( G. y. 7’,, .7;. c‘y:ii,, ,l ) (c) G is committed IO C,.‘s success in doing the whact: Fig. IS. PIP: contracting-out case To remove the partiality of the core case requires fir and form full plans each non-basic-level formation of the full plan will entail determining constituent (or contract execute all the basic-level in particular the actions an agent must take to achieve the agent’s performance actions. Clause in the recipe subactions of the Elahorate_Individual these completions. recipes identify for doing that the agent the actions for they require. The the that it can (2b) of the definition of Int.To (Fig. 3), and is the locus of that the agent them out), is able to perform in particular, action, to that of the core cases. The portion of PIP detailed the contracting-out between The difference plans is similar from the FIP version PIP case, type of partiality that the agent is dealing with the contracting for LY. is resolved analogously I I only in Fig. the agent may have only a partial plan in the lack of a correlate cases of the partial and full individual in Fig. I5 differs In the action y. This is action rather than a subaction of the recipe to do the contracting to that for the core case; the only difference to Clause (3d). The hnal way in which a plan may be partial about some of the subactions is for the agent ,&. As detailed to have unreconciled in the component intentions potential the PIP definition given and contracting the agent must have a potential believe Clause in Fig. 16, the agent may consider both doing the action it out. The agent’s consideration of doing & itself has two components: intention that some recipe exists by which it will be able to perform (4a2) makes only to do the subaction the weakest form of claim on the agent’s ability /Sk [Clause /3k [Clause (4al)] and (4a2) 1. to act; the of itself B.J. Grosz, S. Kraus/Art@cial Intelligence 86 (1996) 269-357 303 (4) Unreconciled case: Agent G has not reconciled the intention to do the subaction Pk. (a) Core case: G considers doing the subact flk by itself: ( I ) G has a potential intention to do the subact: Pot.Int.To(G, Pk. T,,, Tpk. Cot/,) (2) G believes that there is a recipe which it can use to perform the subact: Bel(G,(3Rg,)CBA(G,~a,R~,.T~~.constr(Ca)U{pj}),T~) (b) Contracting case: G considers getting another agent Cc to do the subact Pk. ( I ) G has a potential intention to do a contracting action y: Pot.lnt.To(G,y,Tp.Ty. Cpk/,f(pk,r)/n) (2) G believes that there is a recipe which doing y it can get G, to do the subact: it can use to perform the contracting action y and by (a) (b) Bel(G, (3R,)CBA(G,y, R,,T,,constr(C,) U {pj})A GTD(G,~,T,,G,,P~.T~~,~~~~~~(C~) U {Pj}).Tp) Fig. 16. PIP: unreconciled case. agent G must believe out how to determine out the subactions what the actions are. The embedding belief. there is some recipe Rp, that recipe. Furthermore, G’s belief about for Pk, but G may not yet have figured to carry of the recipe are necessarily weak, because G does not yet know this weak of CBA in a belief context its ability represents The agent’s consideration of contracting out Pk has two similar components: intention to perform a contracting action y [Clause (4bl) that it can perform y [Clause (4b2a) 1. In addition, the agent must believe y it will get some other agent to do flk [Clause (4b2b) 1. must have a potential a belief by performing To remove this last kind of partiality, for each action & in Clause to the core case or to the contracting-out intention intention the Pk either to do this action move the core case, the agent must turn its potential a full-fledged and a FIP to perform the contracting-out action has an associated partial and thereby get another agent In addition, case, the agent must into a full-fledged plan; individual to do & [Clause (4bl)] the agent must adopt an intention-that the action of Elaborate-Individual turn its potential intention to do the contracting intention its beliefs about action y that to do the action its ability [Clause (4b2) ] play a role in this transition. to do a contracting a particular contractor be able to do (4) the agent must case. To move the flk to into plan on this PIP To move the Pk to (4al)] individual to do & [Clause that has an associated partial the agent ] and that Pk. The process of transforming the potential intentions-to into full-fledged intentions-to for the core and contracting or r) ; we will describe only reconcile currently has. If & the Pot.Int.To do Pk with all other intentions is a basic-level action, then G also needs is similar, only cases the transformation the target action differs itself to the core case. First, the agent must it that it can (both Int.To’s and Int.Th’s) to establish (& 304 B.J. Cro.v. S. Kruu.s/Artijicictl Intelligence 86 (1996) 269-357 to do so. If ,& is not basic execute Pk, and adopt a commitment select a recipe R.rrlrC,.rrC/ll for determining plan for determining for selecting a recipe will satisfy individual plan Poi to do ok. In addition, an intention its Elaborate-Individual additional deliberation perform Pk into a full-fledged other intentions level, then G must a recipe for Pk and develop a full individual a recipe for & using RvrlrCr.reC,il. The agent’s having a full plan for the agent to have a partial for having (using case requires that the contractor be able to this intention must also be reconciled with all to do @k, the agent must form a full individual plan the partial plan the potential process) to transform the minima1 constraints fpl. The contracting the agent has. to elaborate the minimal conditions to satisfy intention; intention for /?k from process succeeds in these transformations, If the Elaborate-Individual its set of potential it may not be able the reconciliation the it may fail in several Pot.Int.To for to obtain ways. For example, it doing Pk. Alternatively, cannot now adopt an intention individual plan might “regress” and become more partial while the agent searches for a recipe for LY that does not require pk. The partial intentions. However, to figure out a way process may result to do Pk. In either case, the partial individual plan might also regress if, in the process of reconciling in the agent deciding it removes a recipe inten- for one of the core case subactions or a to drop an intention-to the agent decides action. tions, contracting to do the relevant subaction, In these cases, the agent will once again have a potential intention i.e., what was a & might again become a pk. several including interesting knowledge the formalization The PIP definition extends previous work by treating situations about how to do a complex action. The minimal formalizations. The definition also treats partiality (e.g., the one that arises in the construction kit example) it just needs some idea of how to get a recipe. By accommodating is able to cover an important class of that have not in intention in which agents have incomplete constraints on having a partial plan to do action cy are such that the agent does not initially need even a partial recipe for CXU; this lower level of knowledge, planning situations been handled by previous the state in which an agent has not yet decided whether adoption, in the plans for constituent is allowed recursively it. And, partiality action or to contract of what it means for agents to have partial plans actions. The analysis and formalization level of revealed knowledge to do actions (2) specifying to do an action before (i.e., defining intention (i.e., specifying Elaborate-Individual) completed ascertain about their ability about how to do the action establish three subsection. to intend the action and to a more complete one conditions under which they have their tasks (when FIP clauses hold) ; and (4) specifying what agents need to (to rule out cases of agents planning of overcoming and commitment information to have a plan before they can completely to perform a complex action given (to allow agents required about how to do an action for which they have no possibility level of knowledge capabilities). issues. We address it has complete for partial plans); Int.To reconciliation to the first in the next refer is handled information (3) core recipe determination about how to perform The PIP definition ( 1) determining and specifying a partial plan for extending for an agent that directly new issues, has clauses knowledge); the fourth a minima1 insufficient incomplete identifying a minimal the ways in which to do an processes including issue B.J. Grosz, S. Kraus/Artificial Intelligence 86 (1996) 269-357 305 5.3. Capabilities to perform actions in individual plans For an agent to intend to do some action, it must believe that it is capable of doing the definition of the intended action. If the level, in Section 4.3.1). If the action is basic that the agent believe the requirements it can execute the action depends on whether of FIP and PIP implicitly encode on an agent’s beliefs about its capabilities is complete or partial. the agent’s plan the requisite beliefs about capability. engender In separately. place on ability in are given this ability knowledge the plan definitions these plan definitions these constraints the kinds of agent behavior it is useful to specify the constraints and theorems establishing is complex, (see caveat the action Int.To requires explicitly intended action to perform The definitions However, both to understand and to guide agent design, this section, we briefly describe knowledge; Appendix A. formal definitions For an agent to have a complete (satisfying FIP), individual to be performed; plan that is, it must have determined it must know a recipes recipe tree to all levels of detail for doing the action (e.g., the it must intend and for contracting in Fig. 2). From the FIP definition, by recursion, actions except those covered by contracting to do the contracting action. As a result, from the Int.To definition, that it can execute all of the basic-level actions in the extended the recipe recipe for the action complete for the complete extended full tree for the example to do all the subsidiary it must intend agent must believe tree for (Y. the requirement This level of capability knowledge is less strong than that CBA represents because the agent’s beliefs about the recipes may be in error; the agent may believe R, is a recipe in CBA, i.e., than for LY when it is not. However, in (3R,)CBA(G,a,. Bel(G, Be1 and CBA unembedded to arbitrary belief context at a single The meta-predicate represents . .) ) . A mental state intermediate between CBA embedded is needed. Because recipes may include complex subactions the embedding level of description. (“believe the level of belief can bring about”) in ability to pull the quantifier outside it will not suffice simply than belief is stronger an action BCBA levels, Fig. A.1, an agent to have a complete is an argument of BCBA, reflecting and constraints the belief for R, is outside binding its definition with the constituent outside any belief context. is known defined in Appendix A, for to perform required individual plan. As is the case for FIP, the recipe for LY, R,, subactions the existence of some recipe. Only the existential the scope of the definition. BCBA appears recursively within acts pi of (Y as arguments and the recipe Rp, stipulated the fact that a particular set of constituent to the agent and not just that R, is a recipe for (Y is part of the definition of the BCBA, implicitly is represented of Int.To. For basic-level This same level of recipe knowledge interaction with the definition ( 1). For complex subactions, Clause through BCBA Clause of FIP; recursively with Int.To FIP Clauses gives BCBA Clause is entailed by the FIP definition. A formal proof is given in Appendix A.l. to yield BCBA Clause (3b) and (3d) similarly yield BCBA Clause is just Clause (2a) and (2b) combine for subactions G contracts out, (3a) this level of recipe knowledge (2b2b). Thus, as stated in Fig. A.l, (2b2), and FIP Clause itself, FIP Clauses in the definition of FIP, Int.To yields ( 1) if G plans to perform the action in BCBA actions, (2bl); (2a) 306 H.J. Gmsz. S. Kruu.s/Artificd Intelligence 86 (I 996) 269-357 its capabilities it will use is incomplete. In contrast, when an agent has a partial plan for cy, its beliefs about about it knows limited, because its knowledge of the recipe that there is some way to find a recipe the constituent its abilities the agent’s knowledge may be quite The agent may only believe perform a. Until make any determination of a recipe makes agent’s beliefs about In particular, able to perform, or to contract out, each of the actions 6,, in the complete it is determined. As the agent ability that it can use to in the recipe for a, the agent cannot the lack than in the FIP, the in Be1 yields. recipe and will be recipe once its actions to perform in this situation weaker that it can determine a complete identifies pieces of the recipe, its ability must be stronger in that piece or to contract than the CBA embedded these subactions. While the agent must believe it must also establish the actions to perform them. believe can bring about”) in Ap- (“weakly its the level of belief an agent G must have about recipe and perform or contract out each of the con- in defined is represented (I) of WBCBA implicitly is established (T3). Clause in this recipe. This same level of belief (I); the condition ( la) of PIP Clause The meta-predicate WBCBA pendix A, Fig. A.2, represents abilities to select an appropriate stituent subactions the definition of PIP, as stated in Theorem by PIP Clause Clause and Theorem constr(C,,,~,,,,,,,.,, G intends of It&To WEKBA. plied recursively G contracts out, Clauses Clause by Clause ), contains to do the subaction (Fig. 3) and Clause If G intends (3b). For the unreconciled (4a2) of PIP and Clause (T2); as shown to Clause ( 1 h) of WBCBA is similar in Clause ( la) of WBCBA follows from the FIP in PIP Clause in Fig. 13, the constraints in Clauses to that of ( 1 b2f component of the FIP context, the constraints If ( Ibla)-( ( 1) /3i by itself and pi is a basic-level (2) of (T3) ap- (0) of WBCBA used recursively fl; by itself, then Theorem 1 ble) of WBCBA. yield Clause then Clause action to do a complex subaction (2b 1) of Int.To yields Clause (2) of WBCBA. For subactions (3a) and (3a) and (3b) of PIP similarly yield WBCBA Clause subactions, Clause (4b) is established by Clause (4b2) of PIP (4a) of WBCBA is established 6, SharedPlans and intending-that The definitions (i) (ii) intentions individual under conditions a model of collaborative are maintained are as follows: it uses joint activity; it establishes carry out their individual it accounts it covers contracting the need for agents from the general commitment the meshing of subplans constraints. (iii) (iv) (v) (vi} in this section, utilizing behavior those given in the preceding sections, provide properties, all of which of partial knowledge. The key properties of the model that has several distinguishing to establish commitment of collaborators to their an agent’s commitmeIlts to its collaborating partners’ abilities to actions that contribute to the joint activity: for helpful behavior in the context of collaborative actions and distinguishes to communicate contracting is derivative, not stipulated, and follows activity; from collaboration; to the group activity; is ensured; it is also derivative from more general B.J. Grosz, S. Kraua/Artijicial intelligence 86 (1996) X9-3.57 307 The attitude of intending-that plays a significant role in establishing several of these properties. It is the basis for agents to avoid adopting intentions that conflict with those that arise from the group’s plan [needed for Properties (i) and (ii) 1, and it engenders helpful behavior (iii) 1. The way in which Int.Th is used in SharedPlans captures the difference between agents having a SharedPlan and one agent contacting to another agent [Property (iv) 3. When agents have intentions-that, they are required to provide information about their progress to each other in certain circumstances, leading to communication [Property (v) 1. Together with mutual belief, intentions-that contribute to meshing subplans [Property (vi)]. We discuss each of these roles in Section 7. [Property The belief and intention operators are used in different ways in the SharedPlan definitions. Mutual belief requires infinite nestings of individual beliefs, but utilizes only a single belief operator, Bel. In contrast, to handle the intentions that arise in there is no need for infinite SharedPlans, we need two operators-Int.To embeddings of these operators either in themselves or within one another. However, both operators may be embedded within the mutual belief operator, MB. and Int.Th-but Two important properties of collaborating agents’ beliefs and intentions are captured in the definitions that follow. First, an agent only has intentions-to toward acts for which it is the agent; intentions-that represent its responsibilities with respect to the actions of other agents. Second, agents do not need to know complete recipes for those actions that they are not personally committed to doing [64]. In the meals example, Kate and Dan need to establish mutual belief of a recipe for making dinner, namely that it will comprise Kate’s making the appetizer, Dan the main course, and the two of them together making the dessert. Only Kate needs to know the recipe for the appetizer; but Dan and Kate must have mutual belief that Kate has such a recipe and can carry it out. The analogous case holds for Dan and a recipe for the main course. In contrast, Dan and Kate need mutual belief of the recipe to be used for making dessert. The SharedPlan definitions stipulate only minimal constraints on what agents need to know about the recipes for actions to be done by other agents. As a result, it is possible that an agent constructed according to the SharedPlan specifications will not recognize some conflicts between its intentions-that its collaborators succeed and its other intentions. In particular, if an agent does not know particulars of a recipe, it may not know about a conflict, and thus, Axiom (Al) (Fig. 4) does not apply. Resource conflicts present an obvious case of this problem. If Kate does not know that Dan’s lasagna recipe calls for using mushrooms, she will not detect the conflict between an intention to make mushroom puffs using all the mushrooms currently on hand and an intention that Dan be able to make the lasagna. Collaborative agents could only be sure they could detect all conflicts if either (a) they could compute all the possible ways that other agents might do their actions and all the resources they would use and thus all the conflicts that might arise; or, (b) they continuously communicated full information about their plans. Possibility (a) not only has computational problems, but would lead to so many alternatives that avoiding conflict with all of them would significantly limit options. For every group member to be told about the full details of the recipes being used by other agents and subgroups, as suggested by approach (b), would require an enormous amount of communication. Thus, neither of these alternatives seems practical. support specific this problem that different research has addressed information management agents local autonomous agents under incomplete information inf~)~ation be communicated when have been developed of autonomous using for conflict detection (see for example agents in and resolution [ 31,39,50] ) and (see for example in the context of task allocation 147 1. Each of these approaches the full Several mechanisms the context of cooperation for global ]26] ). Other among autonomous requires can be. Thus, a range of options are possible all of which provide reasonable, information stipulate though different, in only minimal constraints on shared knowledge of recipes; on the specitics of the which designers may of an collaborative the recipes for a domain appropriate agent might need that design will vary depending on the level of risk of failure from unforeseen designers the more costly such failures are, the more designers will err on the side of encoding additional constraints on recipes and on the elaboration processes so that agents have sufficient knowledge activity and the environment. WC conjecture is, in part. domain dependent; activity. The SharedPlan definitions that could be in contention. they provide a framework strategy to specify that the determination strategies depending to avoid intention for collaborative the resources for example, Furthermore, are willing implement less than to incur: different conflicts conflict. The SharedPlan meta-predicate, SP. representing together some action (Y, is defined recursively that a group of agents GR has a in terms of correlate of a FSP, is the collaborative plan to perform collaborative full and partial SharedPlans. A.full SharedPlan, full individual plan and includes SharedPlan, PSP, is the collaborative way in which SharedPlans act, ability a group’s plan recipe action comprises; collaborative group members. The group has a SharedPlan. SharedPlan. is complete, tree; no single agent needs to act and commitment and individual and the requisite its constituenls. A partial individual plan. A principal full individual plans among correlate of a partial plans differ to act are distrjbutcd there may be no one individual who knows to be able to perform all the basic-level is that knowledge about how to in SharedPlans. Even when the complete the actions among but no individual member alone has the to act are distributed intentions and sufficient the group analogue of the Exec and Commit constraints The challenge in defining SharedPlans to act, while ensuring commitment about each other’s capabilities particular, action component partial knowledge, but also accommodate addition, the SharedPlan definitions. Conlmunication requisite mutual beliefs. the establishment of the dchnition commitment to their joint activity. is to provide for this distributed knowledge and that the group members have adequate knowledge in in the basic.level treat complex actions and In role in the of Int.To must not only the distributed character of group activity. among agents is essential to establishing of certain mutual beliefs plays a central coordinating As shown time T, in the context C, just LY. or (2) partial plan. The meta-predicates, in Fig. 17, a group of agents GR has a SharedPlan P at time T,, to do a at for doing that of the mental in case either ( 1 ) they have a full SharedPlan SP, PSP, and FSP enable representation they have a partial SharedPlan to do LX, and a full SharedPlan to complete 3.J. Grosz, S. Kraus/Artijicial Intelligence 86 (1996) 269-357 309 ( I ) The group has a full shared plan: I(3Rn)FSP(P,GR,a,T~,T,,R,,C,)l~ (2) The group has a partial shared plan, and a full shared plan to complete it: I (% ~~~~~,~r~, &m) (a) PSP(RGR,a,Tp,LCn)A (b) FSP( F’,M. GR, ElaborateDroW P, GR, cy, 7”, T,, C, 1, Tp, T&D, &M,, Crtab/o) I Fig. 17. Definition of SP (SharedPlan) states of agents in a collaborating group throughout the planning process, from inception of a partial Sh~edPl~ through to completion (and execution) of the full Sh~edPlan. SP plays a role for plans of groups of agents analogous to the one played by b&To for individual plans, but there are several important differences. Group members may have different reasons for engaging in the collaborative activity of doing cy, so C, may vary across group members. For example, hunger might underlie Kate’s making dinner with Dan, whereas a desire for social interaction underlies Dan’s making dinner with Kate (cf. [9] ). In addition, because the beliefs and intentions about the plan are distributed, each of the agents in GR will have its own internal name for the plan; P refers to an agent internal name. Thus, the distributed property of SharedPlans yields an additional constraint on agent design. To engage in an Elaborate-Group process, agents must have a means of referring to their collaborative plan in their communication; i.e., they must be able to form an externally useful reference to P. [40]. As a consequence, The most significant difference between SP and Int.To, however, is that SP is a meta-predicate not a modal operator. There is no attitude of “we-intending” [SS] or joint-intention the definition of SP has one less clause than that for Int.To. Whereas the de~nition of Int.To separately asserts that the agent intends to do the elaboration (Clause (2b3) in Fig. 3)) there is no separate clause in the SP definition asserting SP of the Elaborate-Group. Although the Int.To is entailed by the definition of FIP, including this clause in the definition of Int.To makes explicit the assertion of an additional agent attitude and thus may be useful for agent design. The SP is likewise entailed by the definition of FSP. In this case, however, there is no additional agent attitude to assert separately, because SP is a meta-predicate not a modal there are no axioms cons~aining the SP me&.-predicate that are operator. Fur~e~ore, analogous to those for the modal operators Int.To and Int.Th. The intention-based constraints on agent design that are imposed by having Shared- Plans are derived from those entailed by the individual intentions that are part of the agent’s SharedPlans, including any subsidiary individual plans. Both FSP and PSP entail individual intentions to do actions, including actions of elaborating or extending partial plans. As others have argued [ 9,12,58], individual intentions to act and mutual belief of such intentions are not sufficient for representing the mental state of the p~ticipants the in collaborative activities. To satisfy the additional requirements of collaboration, SharedPlan definitions include various Int.Th clauses. The definitions of FSP and PSP, like those for individual plan, have four components- basic assumptions about recipe knowledge; the core case; the contracting case; and, for (0) The group CR has mutual beliel that all members ol’ the group are committed to the success of the group’s doing w MB(GR,IVC‘j t GR)l~~t.Th(G‘,,t>O(GR,~.?~~,constr(C~)).7;~,T~.C~),T,,) ( I ) The group GR has mutual belief of the act5 ( /3,) that they need to perform to accomplish cy and the constraints ( p, ) on them: R,, = { /3,. p, } A MB( CR. K,, t Rec~ipe.~( LY 1, ‘r,, 1 For each fl; either ( 2 ) or ( 3 1: (a) Suhac~w~ p, is (1 single-qcvzt i.v (1 multi-clRrnf (b) Suhacrion pi ( 3 ) Contrucfin~ cme: trction: Some member of the group will do the subaction. trcrion: Some subgroup will do the subaction. (a) Subaction p; 1s (I .wz,qlr-~~pw/ w/im: The group will get another agent, G,.. to do the act. (b) Sub~~twn p, is (1 multi-agent trcrion: The group will get another group of agents to do the subaction. Fig 18. English description of the FSP (full SharedPlan) definition intentions the unreconciled case. However, for SharedPlans the core, con- partial plans, to be tracting and unreconciled or multi-agent. 26 Our discussion of the plan definitions will focus done is single-agent on differences between SharedPlans figures in this section provide English glosses of the major elements of the plan definitions while the full forma1 definitions cases subdivide depending counterparts. Again, and their individual in Appendix B. the subaction are provided on whether 6.2. Full SharedPlans The meta-predicate FSP is used to represent the situation in which a group of agents the recipe by which they are going to do some group activity, toward all of the basic-level actions its other a group of agents will not have such a complete plan until like the individual agents to FIP, the FSP definition the actions of the group and intentions-to toward in the recipe. Groups, typically have only partial plans. Analogously has completely determined and members of the group have adopted in the recipe as well as intentions-that typically members. Most after they have done some of the actions they comprise, specifies task. Differences between FSP and PSP specify individually collaborative and mutually, plan. the conditions under which the intentions and the Elaborate-Group the information they need to adopt process has completed its agents need to acquire, to have a complete The definition of the meta-predicate FSP specifies when the group GR has a complete plan P at time T,, to do action CY at time T, using recipe R, in context C,. Fig. 18 *’ The recipe case applies to the action cy which is the objective of a SharedPlan and hence is necessarily multi-agent. B.3. Grosz, S. Kraus/Art@cial ktelligence 86 (1996) 269-357 311 gives the major constituents of the definition of the meta-predicate FSP; definition appears in Appendix B. The plan definition uses P to identify the plan. the full formal Two key characteristics of collaboration derive from Int.Th in Clause (0): ( I) agents avoiding the adoption of intentions that conflict with the joint activity; and, (2) agents about the plan and its execution. The intention-that adopting intentions to co~unicate in Clause (0) explicitly represents each group member’s commitment to the group’s performance of cy. 27 Through Axiom (Al ) this Int.Th directly contributes to ( I ). Some of the ways in which it leads to communication actions are described in Section 7. When agents have a complete collaborative plan to do an action ac, they must have a complete recipe for that action, However, the recipe knowledge is typically distributed. Clause ( 1) ensures that the agents agree on the recipe they will use to perform cy. The dist~buted knowl~ge about how to perform the constituent actions pi is handled in the core and contracting cases. For each constituent action pi in the core case, the FSP definition requires that some agent or subgroup is committed to doing pi and is able to carry it out, and that the full group has knowledge of the agent’s or subgroup’s commitment and capability. In addition, to ensure that subplans are compatible or “mesh” in Bratman’s terminology [ 91 and provide sufficiently for helpful behavior, the definition requires that the full group form a commitment to the ability of the agent or subgroup to carry out &. The single-agent portion of the core case of FSP, shown in Fig. 19, and the multi- agent portion, given in Fig. 20, address these constraints in analogous ways. The two principal distinctions between these portions of FSP and the core case of PIP are ( 1) the representation of the commitment of every member of the group to the ability of an agent or subgroup to carry out a constituent action [Clauses (2a4) and (2b3) J ; and (2) the distinction between what the agent(s) who are doing an action must know about the recipe and their ability to act [Clauses (2a3a) and (2bl) ] and the info~ation that other group members require [Clauses (2a3b) and (2b2)], represented by the difference in quantifier scoping between the relevant clause pairs. We present the single- agent case first, contrasting it where relevant with individual plans, and giving rationale for these distinctions. We then discuss the additional issues raised by the multi-agent case. Clauses (2al) and (2a4) specify the commitments group members must have toward the performance of pi and the mutual beliefs they must have of these commitments. requires group Clause (2ala) establishes Gk’s in~ntion to do pi, and Clause (2alb) mutual belief that Gk has this intention. Clause (2a4) represents commitment on the part of all other agents in the group to ensuring that Gk is able to perform pi. That each Gj actually has the appropriate intention-that can be inferred from Axiom (A3) in Fig. 5. Because Gk has an intention-to toward /3i, there is no need for Gk to have an intention-that to provide for avoiding conflicting intentions; other entailments of intending-that, e.g., helpful behavior, that are not also entailments of intending-to, do not apply for Gk. *’ Because agents are assumed actually to hold any intentions-that that they believe they hold (Axiom (A3) in Fig. 5). this clause establishes not only mutual belief in the intention, but also that the agents hold the intention. (a) %sdxrc~tiorz ,#, i.c a Si~l,~lf’-fI,tyrII Mliorr: A member of the group, Gk. wilt do the subaction. ( I ) CL’s ilt[entions and the group’s related beliefs: (a) G intends IO do 0,: (b) CR mutually believe that the agent (;A intends to do the act: MB(GR.Int.To(G~,B,.Ib.7b,.Clr,.ir).7;,) (2) The subaction fit is it basic-level action: (a) The group ~tutu~lly believe that Gn is able to perform the subaction: MB(GR, CBA{ <;A, ,&. Rg,,I,,l,. 7~,,,constr(t;,i U {p,}). 7;,) (3) The subaction (a) There fi, ih not a basic-level action: ix n recipe Rg, for subaction 8, such that, Gi has a full individual plan for the subact that uses the recipe Xp,: (3R/&, r,, )FIP( ri,. GL. fl,. 7;*. qj,. Kp,. Cfi,/,? 1 (b) The group mutually believe that there is a recipe Ra such that, MB(CR, (3Rg,, J&r,, i ( 1 1 GA is able to perform the subaction using the recipe Rp>: CBA(C’k. PI. Kp,. To,. constr(C,,) U {p,}) (2) GA has a full individual plan to do the subaction that uses the recipe Kp,: FIP(P~,.GI.B,.T,,,T~,.R~~,C~~,,,~).~;~) (3) GR lnutuail~ believe that all members of the group are colllmittcd to agent Cl’s being able to do subaction ,f3,: MB(GR. (‘dCj E GR, G, Z C‘J, 1 Int.Th(G,, (3Rp,)CBA(G’r.,&, T,, 1 T,, 1 GI,,,,,~, rr ) 1 T,, ) Rp,. Tp,,constr(C,) U {p,}). Fig. 19. FSP: core case: single-agent action. Although clauses have some analogue in the definition of FIP, Clause the preceding (2a4) does not. This clause establishes to mesh Gk’s (Int.Th’s) individual plan for doing p; with the plans for other subsidiary actions. Together with the axioms adopt subplans in Clause would be much more difficult that agents will not knowingly the Int.Th is the source of other group members helping Gk to do p;, which again In addition, as discussed to achieve with Clause (Fig. 4 j, it ensures in the next subsection, to avoid conflicting the intentions that conflict. intentions needed (2a4) For example, Clause (2a4) ensures lasagna pan for making her appetizer, because that Dan be able to make a lasagna main course. The Int.Th of Clause (only) tention not sufficient make dinner will not by itself prevent her from using to use the that would conflict with her in- is that she and Dan the lasagna pan; she might be- to ensure meshing subplans. Kate’s in itself intention (0) (0) and beliefs alone. that Kate will not adopt an intention B.J. Gross, S. Kraus/Ariijicial Intelligence 86 (1996) 269-357 313 lieve there is an alternative recipe for making dinner (e.g., Dan could make spaghetti instead) that would not conflict with her intention to use the lasagna pan. Although Kate’s belief that Dan intends to make lasagna as part of their plan to make dinner, together with Clause (0)) could be used to achieve the same constraint as Clause (2a4), such an approach would necessitate more complex mechanisms for reconciling inten- tions. Clause (2a3) specifies the beliefs and intentions that Gk and the other group members must have if pi is a complex action. Clause (2a3a) specifies that Gk have a complete individual plan to do /3i. Clause (2a3b) states that the other group members must mutually believe that there is some recipe which Gk can use to perform pi and that Gk has a complete plan to do pi. The different scopings of the existential quantifier in Clauses (2a3a) and (2a3b) accurately capture an important distinction. Whereas Gk must know the recipe it will use in its FIP to perform pi, the other members of the group do not need to know this recipe. Rather, the other members of the group need only to mutually believe that there is some recipe that Gk can use. In addition to having shared knowledge about Gk’s intentions to perform /Ii, the group must also have shared knowledge about Gk’s ability. That agent Gk itself believes it will be able to perform pi, is established directly by the Int.To in Clause (2ala) if pi is basic level and, as described in Section 5.3, from the FIP in Clause (2a3a) and Theorem (T2) if it is a complex action. Other members of the group must hold two mutual beliefs: first, they must mutually believe that Gk is able to perform pi; second they must mutually believe that Gk has a complete recipe for pi and believes it is able to perform pi according to that recipe. Neither of these beliefs entails the other, so they must be independently established. The meals example may be used to illustrate these two types of belief and their difference. First, Dan must believe that there is some recipe Kate can use to make the appetizer; i.e., he must believe that Kate will be able to make the appetizer. Second, he must believe that Kate knows a particular recipe and believes she can make the appetizer using that recipe; i.e., he must believe that Kate believes she can make the appetizer. Dan might hold the first belief and not the second; he might think Kate can make the appetizer but also that she does not herself believe she can. Alternatively, he might believe she thinks herself capable and yet himself not believe she has a recipe that will work. For Kate and Dan to have a complete plan, Dan must hold both beliefs. the group’s beliefs in Gk’s ability. Their mutual belief that Gk believes it is capable is entailed by their mutual be- lief in its intention-to [Clause (2alb)] and the definition of Int.To. For complex pi, Clause (2a3bl) establishes that the group believes Gk is able to do pi. Their mutual belief that Gk has a complete recipe for pi and believes it is capable of doing the actions in the recipe (i.e., that BCBA holds) follows from their mutual belief that Gk has a complete plan [Clause (2a3b2) ] and Theorem (T2). For basic-level pi, Clause (2a2) establishes The dieerence in scoping between Clauses (2a3a) and (2a3b) is im~rtant here as well. Gk must know the recipe and believe it is able to perform or contract out all the subactions entailed in doing pi, In contrast, the other members of the group can only have a weak form of belief in Gk’s ability to perform pi+ The embedding of the CBA in in MB, accurately represents this weaker belief; it reflects the fact that Clause (2a3bl) (h) Multi-c~~qer~t uction: A subgroup GRi will perform the subaction p,. ( I 1 There is a recipe Rg, such that. the subgroup has a full SharedPlan to do the subaction using this recipe: (3Rp,. ~~,)FSP(Pp,.GR~.P,.7;,.7~,. Rg,.C,j,,.,r) (2) The group GR mutually believe that there is a recipe Rp, such that. MH(GR, (ElRp,) (a) the subgroup 1s able to perform the subaction using the recipe Rg,: CBAG( GRk, /3,, Ra,, To,, constr( C,, 1 U (p,} 1 (b 1 the subgroup has a full SharedPlan to do the subaction using this recipe: FSP( PB, . GRA, 15, T,,. I&, . Kg,, CB,, (I ). ‘f,, 1 ( 3) The full group CR mutually believe that all members in the group are committed to the subgroup GRA being able to do the subaction: MB(GR, (W, t CR \ GRI) Inr.Th(G,. (3Rg,)CHAGt,GRn,P,. Rp,,To,.constr(C,) U {p,}), 7;, . To, 1 C, ,,< Ix, p, ;,v ) , r,, 1 Fig. 20. FSP: core case: multi-agent action other members of the group may not know the recipe G1;. is using. To establish even this weak form of belief, however, agents must communicate or subgroup plans actions. their individual to carry out constituent other agents of their abilities enough about to convince intentions, As discussed to this section, in the introduction this definition provides only minimal constraints on shared knowledge of the recipes for constituent acts. Agents can only avoid conflicting to the extent they require. By stipulating minimal they have knowledge about recipes and the resources trade- constraints, offs; stronger constraints, demands, can be added where warranted. in which designers can examine and on communication that mesh, and assist their collaborators the definitions provide a framework both on recipe knowledge form subplans The multi-agent component of the core case (Fig. 20) is, significantly, missing component. First, there are no clauses representing to do the subaction 0; corresponding is a multi-agent action to have intentions to Clause are individual to be done by a group. The need for the mem- in the to do the single-agent subactions Intentions entailed (2a). for p; (or its children subactions) will be established for these subactions. Second, because p; a complex action; thus there is no clause for basic-level in the recursively is a multi-agent actions elements of the single-agent tention attitudes; pi bers of the group recipe selected embedded action corresponding Clauses it is necessarily to Clause individual plans (2a2). (2a3a) and (2a3b). Again, recipe that the subgroup GRk plans (2b I ) and (2b2) have the same difference scoping as Clauses the full group needs to have mutual belief that there is some the members of the to use for doing pi, whereas in quantifier two an in- B.J. Grosz, S. Kraus/Am&ial intelligence 86 (1996) 269-357 31s subgroup must know the recipe. This difference in recipe knowledge is also reflected in different ability constraints on the performing subgroup and the rest of the group. As in the single-agent case, because the members of the group who are not in the subgroup GRk may not know the recipe the subgroup is using, they can only have a weak form of belief in the abilities of the subgroup to perform the action. Clause (2b2a) embeds CBAG in MB to represent this level of belief in ability. The constraints on members of the subgroup GRk are stronger; they must know the recipe for /?i and believe that together they will be able to perform or contract out each of the actions in the recipe. Just as in the single-agent case, the full group must also believe that the subgroup GRk knows a complete recipe for pi and believes it is capable of doing the actions in the recipe. As described in Section 6.5, all of the requisite ability beliefs are entailed by the FSP definition. As with single-agent actions, the full group must be committed to the subgroup’s ability to perform &. Clause (2b3) in Fig. 20 is identical to Clause (2a4) in Fig. 19 for single-agent actions, with the exception of not including the subgroup GRk rather than just the individual agent Gk in the members who hold the Int.Th. The subgroup is excluded from this Int.Th to avoid unnecessary redundancy; the commitments and intentions related to /$ of members of the subgroup are established through the FSP in Clause (2bl). Meshing subplans and helpful behavior derive from this intention- that. Clauses (0), (2a4), and (2b3) establish a significant distinction between the full SharedPlans of two agents and the situation in which one of these agents contracts to another. In a full SharedPlan, the group GR comprises agents all of whom are committed (1) to the performance by the group of cr; (2) through Int.To’s and Int.Tb’s to the subactions pi in the recipe they use for doing ru; and (3) through the context parameter, to @i’s being done as part of doing (Y. In contrast, when in doing an action LY’ one agent, G, contracts to another, G,, the doing of some subsidiary action p,‘, G has an intention-that toward G,‘s successful performance of /3,‘, but G, does not necessarily have any intentions-that toward G’s success in doing (Y’. The contracting case for SharedPlans divides into four subcases. These vary along two dimensions, ( 1) the subaction pi may be either single-agent or multi-agent; and (2) the contracting action y may be either single-agent or multi-agent, requiring respectively that an individual or a subgroup do the contracting. As a result, the full definition of this case is quite long and Figs. 21 and 22 contain only the high-level detail. However, this case can be formalized simply by combining elements of contracting from the FIP with elements from the core case of FSP. The only additional machinery needed to handle contracting comes in extending the Elaborate-Group process. The group needs mechanisms for deciding on a contractor. We note, though, that the determination of group members who will perform the contracting action follows the same process as identification of agents for subactions in the core case. To simplify the presentation of the contracting case, we identify two subsidiary meta- predicates, MP (MemberPerform) and SGP (SubgroupPerform). MP is directly analo- gous to the single-agent portion of the FSP (i.e., to Clauses (2a3)-(2a4) in Fig. 19) with the contracting action y replacing the subaction pi and other parameters of the operators adjusted accordingly. Similarly, SGP is directly analogous to the multi-agent FSP( c CR, (Y, T,,. 7;,. R,. C,) ( 3 ) Contractirlg ctrsr: FSPC (GR. /?I,, To, , 7;, , C,, . { ~1, } ) (a) Srqlu-ctpwt sdxrction: By doing y. the group GR will get another agent C,. to do the ruhaction ( I ) The group GR mutually believe to G, ‘s ability to perform 0,: MH(GR. (tic;, c GR) fi, that ail members of the group are committed Int.Th(G,, (3Rg,)CHA(G,./3,. Rg,.Tp,,constr(C,) u {p,}) 7;,. 7;a, % CC,,<,!&<, ). 7;, ) (2) (a) The “contractmg” act y IS single-agent; there is a member of the group C;k such that, ( I ) The group mutually believe that by doing y Gk can get G,. to do /3,: MH(GR. GTD( GA, y. I,. C;, , fi,, 7)~. constr(c,,) 1J {o,}), 7;) ) (2 ) C;k intend< to do the “contracting” action: Int.To(Gr,y, 7;,.7,. (‘? B, ,,I J (3 ) The group mutually believe that CL intends to do the “contracting” action: MB(GR. lnt.To(Gl, r.?;,.:/y.Cy,li,..,r).T,,) (4) The group ha5 the requisite mutual beliefs about GA’S abilities and plans to do y and Int.Th’s GA rucceed; GA has the requisite beliefs. abilities. and plans: MP(GR. CL. y. 7,. I;,. C‘? ii, rl I (b) The “contracting” act is a muh-agent actlon; there is a subgroup GRk of the group such that, ( I ) The group mutually believe that by doing y subgroup GRi can get G, to do p,: MH(GR.GTD(GRI. y. 7;.G, ,,O,,Q,,constr(C,,) U {p,}), I;,) C 2) The group ha.r the requisite mutual beliefs about GRi’s abilities and plans to do y and Int.Th’s GRk succeed: GRI has the requisite abilities and plans: SGP( GR. GRA, y. 7;. I;,. Cy, 8, siy ) Fig. 2 I. Contracting in :I FSP: single-agent subactions portion of the FSP (i.c., to Clauses the subaction y replacing These meta-predicates arc expanded action /3; and other parameters of the operators adjusted accordingly. in Fig. 20) with the contracting (2hl )-(2b3) in Fig. B.5 in Appendix B.‘* 6.3. Intentions-thut in SharedP1un.s It is quite apparent from the FSP definition that Int.Th plays a central coordinating role of collaborative in the formalization toward the capabilities plans. Agents’ of other agents and toward the successful performance of the actions of groups of which they are a part are key to achieving to the collaboration the succeed. The Int.Th of Clause (0) of the FSP definition needed is the source both of avoiding for their joint actions intentions-that *’ To simplify used there as well. the full definitions, given in Fig. B.4 in Appendix B, the MP and SGP meta-predicates are B.J. Grosz, S. Kraus/Artifcial Intelligence 86 (1996) 269-357 317 (3) Contracting case: FSPC(GR,Pi,T~,,TP,Ca,{pj}) (b) Multi-agent subaction: By doing y, the group GR will get another group of agents GR, to do the subaction ( I ) The group GR mutually believe /3,: to GR,‘s ability to perform /3;. that all members of the group are committed MB(GR, (VGj E GR) Int.Th(Gj,(3Rg,)CBAG(GR,,Pi,Rp,,Tp~,constr(C,) U{pj}). TP , TP 9 &q/s, ia 1. TP ) (2) (a) The “contracting” act y is single-agent; there is a member of the group Gt such that, ( 1) The group mutually believe that by doing y Gk can get GR, to do pi: MB(GR.GTD(G~,T,,y,GR,,Pi,Tg,,constr(C,) U {pj}),Tp) (2) GI; intends to do the “contracting” action: Int.To(Gt,~, Tpv T,, Cv/aila), Tp) (3) The group mutually believe that Ck intends to do the the “contracting” action: (4) The group has the requisite mutual beliefs about Gk’s abilities and plans to do y and Int.Th’s Gk succeed; Gk has the requisite beliefs, abilities, and plans: (b) The “contracting” act is a multi-agent action; there is a subgroup GRk of the group such that, ( 1) The group mutually believe that by doing y subgroup GRk can get Gc to do pi: MB(GR,GTD(GRk,y,T,,GR,,Pi,T~;,constr(C,) U{pj}).Tp) (2) The group has the requisite mutual beliefs about GRk’s abilities and plans to do y and Int.Th’s GRk succeed; GRk has the requisite beliefs, abilities, and plans: SGP(G,GRn,y,T,,Tp,C,jp,i,) Fig. 22. Contracting in a FSP: multi-agent subactions adoption of intentions Intentions-that (individual to form intentions required and group) that conflict with the joint activity and of communication in the core and contracting for doing the subsidiary actions. that the subsidiary plans actions pi in R, mesh and lead agents cases ensure to help each other in the performance of the group action. collaboration (see [ 28,29,40,6 1 ] ) represent the to the joint activity using some kind of joint-intention Alternative approaches (0) aspect of commitment to modeling Clause operator. These joint-intention neither provide contrast, we are able to use a single modal operator, Int.Th, of collaborative operators do not treat meshing for this constraint 29 nor accommodate in general activity. subplans; the approaches In to provide all three properties helpful behavior. et al. (op. cit.) achieve meshing 29 Sonenbetg The meshing is assured by using pm-established cover partial plans and partial recipe knowledge. subplans, but only do so when agents have complete plans. in the next section, we recipes. As will become apparent 318 R.J. Grosz. S. Knus/Artijicinl Intelligence 86 (1996) 269-357 Axiom (A5): G Int.Th some prop which G does not believe is true: Int.Th(G,prop, Zi, T,,,,. ,,,,, C,,rlj,j) A 1Bel(G,prop. T,)A ti believes it can do something (a) to help: Bel( G. (3R,,) I I Do(G, =+ proplA CBA(G, u, T,, Rn, constr( C,,r,I’ ) ) I. 7; ) 3 (Y. TO,constr(Cl,T,,,,)) G will consider doing W: Axiom (A6): Cl Int.Th some ,~ro[? which GI does not believe is true: Int.Th( C,,>~O,I. T;, T,, . C,,r+ 1 A ~Bel(G.prop, 7; I/? G, believes it can do something (a) that will help indirectly by allowing another agent to help directly: Bel( Cl, Do( G‘I, u, 7,. constr( CIzr,,,,) ) 3 Il(3P,G2.&3~~p) [ single.agent( p) A CBA( Gz. p, Rp, Tb. constr( C,,+ ) )A I Do( G? , p, 7.0, constr( C,m,’ ) ) =+ P-V I I I V f(3p’.GR~,Rp,,Tp~) [ multi.agent(/?‘)/\ CBACXGR:!, p’, Rp , To<, constr( CfIrt,,, ) 1 A I Do(GR2, p’, Tp , constr(C,,r,,,J 1 ) =+ pop I I I I, C)A Bel(G,(3R,)CBA(C,cu,T,,R,,constr(C,,I,,,I)).T,) 3 G will consider doing u: Pot.lnt.To(C. CY. 7;, T,, Cm/,” ,,,,) I Fig. 23. Axioms for intending-that. Several axioms are needed to support the roles of Int.Th intentions conflict, assist each other, and provide status to avoid conflicting intentions-to tentions. Figs. 23 and 24 provide axioms We describe another paper. that represent them briefly here, but a full formalization and intentions-that) in Fig. 4 constrain an agent’s adoption of intentions so that it does not simultaneously in ensuring that agents avoid information when necessary. The axioms (both in- the adoption of helpful behavior. of Int.Th must be the subject of hold conflicting Axiom (A5) applies when an agent has an intention-that toward some proposition, this proposition holds and, furthermore, believes currently does not believe it is able to do some act a that will bring about the proposition’s holding, Thus, the axiom will only apply if the time of the proposition, T,,,.(,,,, is in the future. The axiom states that under these conditions, intention to do it, and, barring to do cy that will cause deliberation if Kate believes conflicts. the agent will consider doing CY. The agent adopts a potential about adopting an intention intention. For example, lead to this becoming a full-fledged B.J. Grosz, S. Kraus/Ari@cial Intelli;pence 86 (1996) 269-357 319 Axiom (A7): GI is committed to Gz’s success in doing /I3 as part of GI ‘s participation in a SharedPlan for a: [ single.agent( 7)) A (3cu,T,.RU,LkGZ)[ multi.agent( (Y) A (3GR) [ (Cl E GR) ASP(GR,a,Tj,T,,Ca)A [ [ single.agent( ,B) A G2 E CR A ~n~.Th(G~~(~~p)CBA(G2,P,Rg,Tg,const~(C5~,)),7;,Tp,Ccoo~S~a)l~ [ multi.agent( p) A G2 c GR A Int.Th(G~,(3Rp)CBAG(G2,P,Rp,T~,constr(C5/,)),Ti,Tp,C~6oip/,)11~ It is “cheaper” to GI to help G2 in doing p by doing r]: Icost(G1,Do(GR,%Ta,constr(Ca)),T,,C,,R,, -Do(Gl, 71, TV, COnSfr(C,,~cbo~p~a )) A Do(G2, P, To, constr(Cpla) )) - cost(Gl,Do(GR,cu,T,,constr(C,)),T,,C,.Rn, WGI. 8. TV, consMC,l,~n15/~)) A Do(G2, P. T5, consW C5ja 1) ) > ‘=‘n(c’Jst(G~. WGI 3 77, TV, COnStr(C,/,b,/p/,)), G,, C,,/&,/p/a> R,)) IA GI believes it can perform 7: Bel(GI,(3R,)CBA(GI,~.T,,constr(C,/,oo~p~,)),Ti)lIl + GI will consider doing 7: Fig. 24. Helpful-behavior axiom for intending-that. the main course and furthermore believes Dan may not be able to make take some action up his child at child care), However, situation, Axiom if Kate believes then Axiom (A6) provides to remove a possible roadblock then Kate will adopt a potential that Dan is capable of making (A.5) would not apply. that she can to his being able to do so (e.g., pick to do that action. in the current intention the main course It states for more it is able the agent believes toward some proposition indirect helpful behavior. another agent (or group of agents) that if an agent that it currently does not believe holds to do some act LY that will bring about a condition has an intention-that and to do an action j3 that will bring about the enabling proposition’s if Kate believes if she calls Jon he will pick up Dan’s child and thus enable Dan to make the main course, to do a will then she will adopt a potential cause deliberation lead to this becoming then the agent will consider doing a. For instance, to do it, and, barring conflicts,30 about adopting an intention to do so. The potential a full-fledged intention. intention intention holding, X’ The conjunct, Section 4.3.3, scope of this paper. “and assuming the specification sufficient of the processes resources”, belongs for reasoning about costs and resource bounds in this phrase; however, as mentioned is beyond in the refers It uses context, required in Axiom two auxiliary cost tradeoffs; a collaborative cost computes (A7) provides if an individual, the proportionate The initial clauses to Gp’s cost, given partner. the costs a basis for helpful behavior to an agent of the performance in the SharedPlan functions, for helpful behavior (A7) establish i.e.. Axiom cost and ecotr. for helping of an action; The function cost( G,, Do( G,, , a, T,, , constr( C,, ) ) , T,, , C,, , R,, 0) the con- straints 0, of G,, doing LY at time r,, in the context C,, using recipe R,,. G,, may be either it may be G,, or some other agent. The func- an individual or a group; it specifies tion econ provides a means of relativizing to be worth the effort required. amount of savings a collaborative to perform is a context: agent Gi member of a group GR that has a SharedPlan the action LY; G2 is either a member of GR or a subgroup of the group GR; G1 has an intention-that G2 will be able to perform the action p where axiom asserts that its own overall cost” Gz’s performance In the meals example, Axiom up the ingredients Kate needs for the mushroom puffs. It also would account while chopping onions Kate to use in making the to do an action r] if G) believes of the group GR’s doing cy is less when it does 7 to assist of p than it is when G? does /3 and Gi does not help by doing 7. for why Dan would offer to pick for why. for the sauce for the lasagna, Dan would chop an extra one for the mushroom puffs. (A7) (CBA or CBAG depending on whether G2 is a single agent or a subgroup) /? is being done as part of GR’s plan to do u. In this context, that Gi will adopt a potential (A7) would account than a full-fledged intention intention rather The consequent because intention, competing processes agent has determined involved intentions. in Axiom the cost computation The axiom is a potential is local; rellects an intuition in forming a full-fledged intention that the performance of the action would be beneficial. it does not involve consideration to delay it is useful of the for a helpful action until after an that Subgroups can also provide helpful behavior; for which a subgroup of GR forms a SharedPlan. i.e., the helping action 77 might be a In this case, the the formation of the helping subgroup and its action multi-agent cost evaluation adoption of a subsidiary SharedPlan is different. Furthermore, to do 77 are more complicated. Helpful behavior is also appropriate in contracting the noodles to make that captures the cost evaluation differs; meals example. Dan might offer to pick up the noodle to Tony contracted of Axiom (A7) needed because the agent evaluating cr. Although SP), the cost of possible helpful behavior intentional motivations this case is given this difference the underlying in Appendix B. A separate axiom is this difference arises because in contracting is, by itself, the agent doing (an Int.To rather than a in Axiom (A7). also differ alone could be captured with a simple disjunction for the lasagna. A straightforward situations. For instance, for Tony, ingredients in the if he’s analogue 6.4. Partial SharedPlans Partial SharedPlans, like ones in four ways as identified their counterpart in Clauses ( I )-(4) partial individual from full plans, differ of the outline of PSP in Fig. 25. In ” This axiom is more straightforward than, though it presumes a less charitable Cl than, an alternative axiom in which the cost to other agents and not just to GI would be lower. 3.J. Grosz, S. Kraus/Artificial Intelligence 86 (1996) 269-357 321 PSP(EGR,cu,7’,~,T,,Cu) (0) The group GR has mutual belief that all members of the group arc committed to the success of the group doing cr: ( I ) The group GR mutually believe that there is a recipe for LY, but their recipe for doing a may be partial; that need to be performed. They have a FSP .wme of the subactions i.e., they may only have identified to complete their partial recipe. For each subaction /3; in the partial recipe, one of (2)-(4) holds: (a) ~~~~~e-a~e~zt .~~bu~tj~~: A member of the group GI. intends to do the subaction, but may have only a partial plan for doing it. (b) Multi-agent subaction: A subgroup GRk has a shared plan (SP) to do the subaction, but this plan may be only partial. (3) Contracting case: (a) Single-agent subnction: The group has decided to subcontract an outside agent Cc to do the subaction, but may have only a partial plan (PIP or PSP) for doing the “contracting” action. (b) M&i-agent subaction: The group has decided to subcontract an outside group GRC to do the subaction, but may have only a partial plan (PIP or PSP) for doing the “contracting” action. (4) fftzrec~~n~i~ed case: CR has not deliberated which agent(s) will do it. about the subaction: no decision has been made about Fig. 25. English description of the PSP (partial SharedPlan) definition, (1) (2) individual (individual the action; about which they may have only partial individual in the recipe; for doing some of the contracting the agents may have only a partial recipe for doing plans or partial SharedPlans (3) particular, may have only partial subsidiary actions partial SharedPlans some subactions yet no agent the case of PIP, the formalization the group has deliberated case”) the “unreconciled from that for FSP in the same ways that the core cases do, we do not discuss and in Appendix B we include only contracting they for doing some of the plans or there may be and for which there is as the subaction. Thus, as in fir about which the “core (4), (3) ] for PSP differs it further, the abridged version with English glosses of the from those actions & for which it has not yet decided on an agent (Clause the group has not deliberated to perform it has chosen an agent (Clause of PSP distinguishes actions; and (4) case”). Because and for which the contracting those actions or subgroup) selected [Clause case. case (2), by doing so are most evident both complex constitutes By handling tial SharedPlans introduced ity of knowledge SelectRec_GR ing Elaborate-Group either treat this case briefly individual plans about process; types of actions and partiality, the formalization of par- an advance over previous in two places: [Clause to be used the handling of unreconciled the recipe (2) (1) ( 1 )I, and the co~esponding actions and the correspond- approaches. The complexities the treatment of partial- process. Partiality (single-agent actions) or SharedPlans in the core case can be treated by recursion on actions). We cases. In each the recipe and unreconciled (multi-agent first, and then discuss instance WC look tirst at the constraints on mental state imposed by the dctinition, then at the constraints on the various processes and the partial plans. Figs. 27 and 28 give the ma.jor constituents of the core case of the PSP for single-agent arc placed on the design of collaborating and group plans for subactions, subactions. Two constraints their individual in completing involved in elaborating that mesh so that the intentions-that they must (2a3) and (2b4) hold. imposed by that are in the constraints parameters of the Int.To, Int.Th and SP clauses processes must take into account other agents are able to do their parts. The constraints the constraints in Clauses and multi-agent agents. First, develop plans Thus, agents’ elaboration the agents’ intentions-that imposed are contained B.J. Grosz, S. Kraus/Art$cial Intelligence 86 (1996) 269-357 323 (2) Core case: (a) Single-agent subaction: A member of the group Gk will do the subaction (but may not have a full plan for it). intention and related beliefs: ( I ) Cl’s (a) Ge intends to do pr: Int.To(Gk.Pr.~~I,‘TP,,Cpr/a) (b) GR mutually believe that the agent Gk intends to do the act: MB(GR,Int.To(Gk,Pr,Tp.Tp~,Cp~i,),Tp) (2) GR mutually believe that Gk can bring about the action: MB(GR.(~R~,.)CBA(G~,P~,R~,,T~,,~~~~~~(C,)U{P~}).T~) (3) The group mutually believe that all of its members are committed to Gk’s success: MB(GR, (VGj E GR,G, f Gk) Int.Th(Gj,(3Rp,)CBA(Gn,P,,Rp,,Tp,,constr(C,) T, 3 Tp, . C,~,/pr /a ) > T,, ) U {pi}), Fig. 27. PSP: core case: single-agent act. PSP(P,GR,a,T,,.T,,C,) (2) Core case: (b) Multi-agent action: Subgroup GRk will do the subaction (but they may not have a FSP for it) ( I ) The subgroup has SharedPlan for the subaction: (2) GR mutually believe that the subgroup has a SharedPlan to do the subaction: MB(GR,SP(Pp,,GRn,P,,T,,Tp,,Cp~/,),T,,) (3) The group GR mutually believe that the subgroup can bring about the subaction: MB(GR,(3Rp,)cBAG(GRk,/3r,Rp~,T~p,.constr(C,) u{pj}),T,~) (4) The group mutually believe that all of its members are committed to GRk’s success: MB(GR, (VGj E {GR \ GRk}) Int.Th(G,, (3RB,)CBAG(GRI,Pr,Rp,,Tp,,constr(Ca) U {Pj}), T, 1 Tp, 3 CcbofiJ&/a). T,, ) Fig. 28. PSP: core case: multi-agent act the PSP definition. Second, collaborators must communicate information in [Clause (2b2) 1, and ability for the mutual beliefs of intentions [Clauses (2a2) and (2b3) ] to be established. As in the case of individual plans, PSP imposes weaker constraints the constituent than does FSP. Section 6.5 describes how these constraints in their own capabilities [Clause (2al b) 1, plans on agents’ beliefs actions &, either are met by PSP. or in subgroups, individually to perform sufficient like the individual action Select_Rec, this partial recipe in the recipe, as specihed for the action. As WC discussed to find, construct. or complete a recipe for the action cy and extends this process is analogous being considered by the agents that Select-Ret in Fig. 26, leads to the need for the group to agree in takes to a complctc to different in place the Pot.Int.Th’s is more complex include a Partiality on a way Section 4.5, the group action Select-Rec_GR. a partial recipe {&.p.,) one, { 6,., K<,). Although kinds of intentions of the Pot.Int.To’s in Clause than Select_Rec way for the group Selcct_Rec_GR the recipe processes will often entail because partial recipe, agents need ways to determine when to stop with a partial solution.“’ IO reach agreement on the recipe. Because we allow very general on itself. Second. Select_Rcc-CR their own Selcct_Rec processes: for a complete to Select&c, in the group. In particular, (4) of PSP for a11 the group members. Select_Rec_GR recipes of different group members may be combined for getting a recipe as well as on the recipe generates, Selcct_Rec_GR generates reasons, First, any Select-Ret-GR include ways for the group to reach consensus process must for several some may individual invoking it leads actions, agents is given action & The unreconciled case of the PSP in Fig. 29. The definition to be done by a group member, for to he done directly by c “toup members or to bc contracted out. For each that actions) OI the action. In addition, all members the (A4) intentions-that 01 either unreconciled the members of the group GR rt~utua~ly belicvc some agent subgroup of GR must potentially action. Clauses (4alb) and the definition embedded there bc 311 individual or subgroup engender of MB. each agent must this second constraint; actually have the potential the PSP definition (single-agent intend-that and (Ja2b) is capable of doing in these clauses. from Axiom (multi-agent to perform requires actions) allows contracting The notahle feature of‘ the treatment of unrcconciied allow for participants out is that the detinitions contracting. That is, regardless of whether #3~ is single-agent agent and multi-agent belief that the group can contract out /3~ [Clause members of the group adopt potential a contractor C,. (individual or group) and this performance The differences of y will suffice to get C, to perform actions to consider both individual /3k that arc contractod and subgroup both single- to stipulating mutual that all action y and intentions such that some member or subgroup performs y In addition (4bl ) 1, the definition that there be a contracting /3k /Clause the intenti(~ns and beliefs about capability (4) 1 ad (4b2b) 1. required (2) j and contracting between case 1 Clause actions are possible. or multi-agent. the core requires in the in those requirements (3) 1 cases yield additional actions for the agents unreconciled [ Clnusc move constituent must provide action; that the requisite mutual beliefs about agents’ abilities and intentions established. to adopt appropriate from this cast intentions: [Clause (2) on the Elaborate-Group ( I ) IO reach agreement on which agent(s) will perform to communicate sufficient (3) information process. To process the to the core case, the Elaborate-Group to do actions arc ‘? We note that there is no clause in this part of the PSP definition correspondiny to the lnt.To m Clause ( I bl ) that the group has a FSP fol does not require any group of the PIP definition. The formalization intention; selecting an appropriate recipe suffices to represent the necessary mental state conditions. The commitment represented by the Int.To of the individunl ewe is satisfied hy the intending-that in Clause (01 of the FSP. B.J. Grosr. S. Kraus/Art@cial Intelligence 86 (1996) 269-357 32s (4) Unreconciled case: GR hasn’t deliberated on the subaction. (a) GR considers that one of its members or a subgroup will do the subaction. ( 1) Single-agent subaction: (a) The group CR mutually believe that there is a member of the group GI. that can perform the action: MB(GR,(jGn E GR,Rp,)cBA(G~,Pk,Rp~,Tp~,constr(C,) U{pj}).Tp) (b) The group CR mutually believe that all its members are considering of the subaction by that agent: the performance being committed to MB(GR, (VGj E CR) Pot.Int.Th(Gj, (3Gn E GR,Tp,)D~(G~,pg,Tp,,constr(C~) U {pi}). T/J 3 TP, 1 Gqpk /a ) > TI ) (2) Multi-agent subaction: (a) The group GR mutually believe that there is a subgroup GRn that can perform the action: MB( GR, (3GRk C GR, Rp, ) CBAG(GR~,pnRp,,Tp,,constr(C,) U {pj}),T,>) (b) The group GR mutually believe that all of its members are considering being committed to the performance of the subaction by a subgroup: MB(GR, (VGj E GR) Pot.Int.Th(C,, (3GRk C GR,Tpk)Do(GRk,Pk,Tpk,constr(C,) U {p,}), T,, 7 Tp, 3 Cdo/&./a) 1 r,) 1 (b) Contracting case: GR considers getting another agent or a subgroup G, to do the subact Pk ( I ) The group GR mutually believe that they can contract the subaction Pa: MB(GR, (3Tp,)CCG(GR,pa,T&, constr(C,) U {p,}), T,,) (2) The group GR mutually believe of a contracting that all its members are considering being committed action y by a member or a subgroup Gn. and that by to the performance doing y. Gk can get a contractor or a group of contractors to do the subact P.4: MB(GR, (t’Gj E GR) Pot.Int.Th(Gj, (37, Ty, G,, Gk) [ 1 (single.agent(y) Do(Gk,y, T,,constr(G) U {pj})A A GI, E GR) @ (muki.agent(y) A Gh c GR) ]A GTD(Gk,y,T,,G,,Pk,Tp,.constr(C,) U {p,})i, TIJ> Tfik 3 Gm,~~~/a) 5 TP) 1 Fig. 29. PSP: unreconciled case The unreconciled case of the PSP is thus more complex than several reasons. First, group decision making processes are required or subgroups will do each Pk. Second, individuals if the action ter the subgroup has been identified, Third, agents must communicate mutual beliefs be able tions plans. to the group in the core case. Finally, agents’ reconciliation to handle a greater variety of intentions from group activities and intentions and to weigh that stem solely that derive information sufficient required that of the PIP for to determine which af- is multi-agent, to do Pk. to establish the processes must inten- from individual its members must form a partial plan tradeoffs among (4alb) (4a2b) and turned respectively intention intention ] must first be reconciled is driven by the potential The selection of an agent and intention-that. ( or subgroup) there exist some agent (or subgroup) who does the action. This potential Clauses full-fledged to do (or some subgroup intention the full group forming an intention group member can take some action an intention this action will bc considered. That do ,13k. it must consider doin, 1~ actions satisfied. For instance. else to do Pk. Thus, PSP definition. that [in into a The intention-that will then lead to some agent adopting an for) PA and the remainder of forming a SharedPlan that they will be able to do the action. So long as a forming that will lcad to some agent (or subgroup) that that someone being someone the from to this intention-that to convince requires several steps not evident is. once an agent forms the intention that will help contribute (AS) and (Ah) ensure for doing) pk. Axioms it will consider doing the selection process to do (or SharcdPlan ,!?k itself or trying process process intention intention is similar a potential the possibility in the context of an individual for an individual plan. However, is a single-agent action. to do pL, then reconcile plan it. This to the one an agent uses when formin, (7 an intention II‘ PI intention individual circumstances, the cycle of forming process within its Elaboratc_Individual to be weighed by the reconciliation those available account also consult required by the detinition of Int.To. then home agent, Gk. must lirst adopt a potential this intention with others and form both a partial to do this action and a full plan to elaborate the partial plan. In some several group members may consider doing /?k; i.c.. they may go through adoption and reconciling to do a subaction the alternatives in the context of a SharedPlan differ from into in the group do /3n. Gn may the partial individual plan includin, 0 asking for advice about the recipe to use. then some subgroup GRk must construct a partial shared (2b I ) of the core case for multi-agent to act jointly (a) action, plan to do flk to satisfy Clause To do so, its members need satisfy Clause they will use to determine plan tor usmg R,,,,,,,, r(a, i’,ii , and (c ) to agree on the Elaborate-Group as required by Clause consult other group members ( I b) 1 and form a full shared process to be used. the subgroup may the members of the group for assistance and costs of having another agent plan. For instance, CL may to do pp; this is required (0) of the PSP for doing (2b) of the SP definition I‘or advice on recipes. If pk is a multi-agent a recipe for doing (Fig. 17). Again. /31 1 Clause in forming to agree actions take (Fig. 28 1. to . /3~: (b) to agree on the procedure R.vr~rc,.r-cr.,q~,l represented In forming the weak belief, the full shared plan to use recipe R,r,,,,,.r-,,c sBi to determine could do /3k into the stronger belief about ability for (4a2a), that some pk. the group will transform for them to have subgroup that the recipe a partial shared plan. In particular. that the members of GRk mutually believe they select comprises constituent they either will be able to perform or will be able to contract out successfully. These component of C,,rlrc,,raL,R,n of the mutual beliefs are required FSP in Clause the ability knowledge the constraints ( I b). In the next section, we describe how the PSP represents agents must have for subactions in Clause required they will establish the mutual belief in the core case. subactions to satisfy a recipe For both single- and multi-agent Pk. other group members must transform tial intentions into a full-fledged that some individual or subgroup do flk [in Clauses (4al b) and (4a2b) intention that the chosen agent(s) be able to perform their poten- ] the action B.J. Grosz, S. Kraus/Art@ial Intelligence 86 (1996) 269-357 327 information the abilities Furthermore, cate sufficient about do Pk required by Clauses definition. quired performance Thus, In addition, of Pk (Clauses (2a3) individually intentions [required by Clauses the agents must reconcile potential members must go through an intention members of GRk), but they reconcile and (2b4) of PSP’s definition]. accept and together agree on the choice of agent(s) that the agent(s) and be able to do Pk. Thus, these other group to CL’S (or the this transition, To make process similar not an intention-to. reconciliation an intention-that, committed in both cases, the agent(s) for other group members (or SharedPlans) and intentions (2alb) and (2a2) [or Clause the other group agents must communicate to performing & must communi- to be able to form the mutual beliefs to of the individual of PSP’s re- (2b2) and (2b3)] the information (or subgroup) to establish mutual belief of their commitment to the individual (or subgroup) (2a3) and (2b4) respectively). complex Sonenberg Furthermore, for reaching in SelectRec actions must the group needs for group elaboration the multi-agent their single-agent and role assignment within a formalization and Elaborate-Individual. consensus. actions but does not allow [29] utilizes a central organizer actions Select_Rec_GR and Elaborate-Group counterparts. are more complex include Each of these multi-agent in some group decision making process, as well as incorporating many to et al. [61] describe one set that recipes. As described previ- his system agent action be remain the tradeoffs agent and the work entailed by about to use, depending on tradeoffs in areas such as commu- time, and centrality of control. The SharedPlan definition than participation of the actions agree on procedures of mechanisms includes ously, Jennings handles partiality unspecified significant between multiple the Elaborate-Group nication demands, negotiating serves initially. The problems of formalizing areas of inquiry. Designers of computer agents need to weigh the same action. They may decide differently the time required agents considering the time and agent of an individual the range of possibilities. to identify doing these decisions; such processes an appropriate and designing to constrain for partial in letting processes to make only 6.5. Capabilities to peeorrn actions in SharedPlans Just as individual agents must believe plans, on whether order to have an intention in their ability of belief the case of individual vary depending and PSP only explicitly definitions of these meta-predicates FIP, and PIP To understand to guide agent design, Formal definitions in Appendix A. In this section we briefly describe place on ability knowledge. the kinds of collaborative to extract and theorems establishing it is useful they are capable of performing to do that action, groups of agents must have a certain to perform actions the requirements their plan for which on agents’ beliefs about their capabilities in level they form SharedPlans. As in an action is complete or partial. The definitions of FSP in the and their interactions with the definitions of Int.To, behavior FSP and PSP yield and it separately. are given the plan definitions this information the requisite ability constraints the constraints and specify state some of the requisite beliefs; others are implicit For a group to have a complete SharedPlan to do the complex, multi-agent cy (i.e., for FSP to hold), the members must have determined a recipe action for (Y, and the action is single- or multi-agent for (Y depends on whether that group members or contractors IIIUSI have both the weaker beliefs required in SharedPlans. agent( s ) performin g an action must have strong beliefs the subaction it is to he done by a group member or contracted out. In all cases, however, can perform all of the basic-level they must believe actions entailed by that recipe and that group members can perform all of the basic- for any contracting. Because knowledge of how to perform cr lcvcl actions recipe is distributed no single agent may know the complete extended in tree li)r cy. The nature of the particular helict‘s agents muse have about subactions and on the recipe whether the that they can perform individual that the performing the action: other group members agents can bring about in one of the belief operators). themselves have the requisite stronger helicl’s in their own abilities. single-agent /!I, pcrt’ormed by a group member GA engen- .) ,f$ performed by subgroup GRk requires to those the original SharedPlan ders the same hclief constraints must hold. A constituent multi-agent that CJR~ have ability beliefs requires can be obtained by recursion. that G’x (or GRk) will be able and actions contracted out, analogous heliel’s trust hold about the contracting dition, effect. for cy for this case the full group must mutually believe both hold) to carry out. For in ad- action will have its intended subaction for fi, analogous that the CL (or GRk ) has a recipe In addition, to do ,!I, (i.e.. that CBA or CBAG respectively the group must mutually bclicve by CBA or CBAG embedded the requisite ability beliefs in particular, BCBA(G,j?,, on C;k as FIP would: to have for CY: thus, that the performing that the contracting it will he able the full group (representable A constituent and ;I belief it bclievcs subaction action; agents intermediate that they know the relevant recipes. Uncmbedded CBAG level 01‘ helict‘. As was the cast agents’ beliefs: is too in MB is too weak ;I constraint on the perlhrming it presumes correct beliefs. The subsidiary meta-predicate MBCBAG in Appendix A, Fig. A.3, represents for BCBA, CBAG emheddcd it lacks a requirement strong; believe can bring about group”) defined priate an argument of the MBCBAG meta-prcdicatc. is known mutual belief MBCBAG appears lated for p; that arc single-agent OF the recipe Rg, is stipulated outside any bclicf context, reflecting recipe. Thus. MBCBAG identified a particular however. MBCBAG is weaker the agent’s beliefs about the recipes are correct. its definition, is stipu- actions. For each of these recursive uses. the existence the ngent( s) ‘s having in MB; it does not presume IO the subgroup members and not just the existence of some recipe. Only (“mutually the appro- is recipe the that R,, is a rccipc rccursivcly l’or CY i\ part of the definition. Within than unembedded CBAG because for p, that arc multi-agent the fact that a particular than CBAG embedded the recipe for a, R,, actions. and BCBA is stronger reflecting (2a3a) As Theorem (T3) states, FSP entails MBCBAG. The belief requirements and Theorem (T2) or are in FSP Clauses 0, done by a subgroup (2bl 1 and recursion. The full group’s belief agent 0, done by a group member 1 MBCBAG Clause Clause hclicf requirements by FSP Clause a complete follows belief requirements from GR’s mutual belief for p, and believes for multi-agent for actions it i\ capable of doing that GRk has a complete plan for single- (2) ] follow from the FIP in FSP (2a2a) The and (2a3bl). [Clause (3) 1 are entailed that the subgroup GRk has in the recipe (2b2b) 1. The (3) the actions [ Clause that arc contracted out are entailed by FSP Clause recipe B.J. Grosz, S. Kruus/Art$cial Intelligence 86 (1996) 269-357 329 and either FIP applied that of Theorem recursively (T2). [Clauses (3a2a) to the contracting and (3b2a)] action. The proof of Theorem [Clauses or FSP (3a2b) (T4) (3b2b)] and is similar to When a group has only a partial SharedPlan for (Y, its beliefs about capabilities oi it knows the constituent that it can use to perform cr. Until subactions may be quite limited, because the lack of a recipe makes the agents’ knowledge it will use is incomplete. The group may only believe its knowledge that there is some actions about which individual or agents to carry out the necessary of the recipe way to find a recipe in the recipe for (Y, the group cannot make any determination the subactions or about their abilities subgroup will perform While the FSP, particular, be able to find members the complete they must also establish contract in this situation weaker than in In recipe and will able to perform, or to contract out, each of the actions 6,. in recipe once it is determined. As the agents identify portions of the recipe. in that portion or the group’s beliefs are still stronger that they will be able to perform to perform these subactions. the agents must believe that they can determine than CBAG embedded in MB yields. a complete the actions them out. The subsidiary meta-predicate WMBCBAG in Appendix A, Fig. A.4, represents its abilities to select an appropriate about group”) defined must have about each of the constituent definition, Clause as shown contains ( 1) ; Clause in Fig. 26, the constraints in Clauses the constraints subactions as stated in Theorem (T5). Clause believe the beliefs (“weakly mutually can bring the group GR recipe, and perform or contract out in this recipe. This set of beliefs follows from the PSP is established by PSP (T4) ; component of the FSP context, constr( Csrjrct.rec/n), (lbla)-( ( 1) of WMBCBAG ( 1 b) and Theorem of WMBCBAG. lblh) ( 1 b) follows from the FSP in PSP Clause Clauses (2)-(4) specify the beliefs in capabilities required for the subactions pi 01 that has been identified. The mutual beliefs of Clauses respectively by Clauses the Clause /3i itself is established then the application of Theorem (2al) (2a2) (2a2) and (2b3) of PSP. If a group of PSP holds. If pi is basic- (2ala) If pi is a of Int.To yields ( 1) of Int.To. (2bl) by Clause (T3) to Clause (3) and (4) of WMBCBAG are established to perform pi, then Clause to Clause (2a) of SP yields Clause (2b2) of PSP holds and Theo- (2bl) of WMBCBAG. (3) and (4) similarly by Clauses the portion of the recipe and (2b2) are established member is going level action, complex action, Clause then Clause (2al) If a subgroup of WMBCBAG. is going to perform rem (T5) applied recursively Clauses of PSP. 6.6. An example: SharedPlan for dinner formalization the SharedPlan in Section 2, in forming In this section we illustrate the full shared plan for the example of Kate and Dan making dinner presenting As presented their collaborative that Kate will make the appetizer, Dan will make lasagna two of them additional details. Kate and Dan will cook at Dan’s house. There is one constraint the context activity by together. plan, Kate and Dan decide for the main course, and the the dessert. To flesh out the example, we add some from that the dinner making be together will make their joint plan, of collaborative they decide in which to form is also one constraint done indoors. There that the kitchen of Dan’s house be clean. in the recipe they choose for making dinner, To simplify that the intentional the example. we presume and Dan. They both want lo entertain realistically, might be different (c.g., Kate may decide that she will not be hungry or tired whereas Dan’s motivation have fun together 1. that lead Kate and Dan to decide is the same for Kate context their best friends, Joan and Max. However, more together to make dinner with Dan because she intends that they to make dinner the motivations is his intention representation We use the following l nld represents 8. between binding of N in the SP definition: in the formalization: the group action of Kate and Dan making dinner lo:00 and 21:00 at Dan’s house; md is the top-level action. together on May i.e.. the l T,?,d denotes l make-dinner l D.house denotes Dan’s house, the time of nzd; T,,!d = MayX. 19-2 I : denotes the location of n7d; type of rod; the action l T,,, the time of their collaborative plan. l er7trrtain( {K, D}, {.A M}. Tj,i,,.,Ic ,,,, ) denotes i\ May 8. 17:OO; the proposition that Kate and Dan cn- tertain Joan and Max: T,.,,fPl.f~l,,, is the time over which this proposition holds; l C,,,,, denotes l the intentional the context of md: component of C,,,,, contains Kate’s and Dan’s (individual) intentions that the following that they entertain hold: ( a) for Kate. friends; i.e.. the intentional context specifies Int.Th ( K, emmin( (b) for Dan. { K. D 1. { J. ~4 ) , ~~.,IIprl~,,,, ) , T, ~~,,Ipl.r~ll,l~ ~~~,lrc~rtar,l~ ) ; Int.Th(D, e~rert~~irr( { K. D}. { J. M }. ~aIItp~tclll~ 1, Ti, T,,lfc,rrLtln, CcjrlrrrrtrirzD ) : l constr(C,,,,,) = indoocc( md); i.e., this is the constraint from the planning context, namely that md bc done indoors: l /lzn denotes Kate’s making l 772777~ denotes Dan’s making the appetizer: the action type of 177~ is making-appetizer; the main course: the action type of nzr77r is making-main- course; l gnzd denotes the group action of Kate and Dan making the dessert; the action type of gmd is g-making-dessert: l R,,!d denotes a particular recipe for rtzd; this recipe has 3 constituent actions (mu, I~EI?ZC. and gmd) and the constraint on Dan’s kitchen. In particular, R,,,d = { {making-appetizer( Ma~8.19- 19:30, D.house) , making-main-course( ML@. 1930-20, D.house) g-making-dessert(Mq8.20-2 {clean-kitchen(D.house)}} I, D.kouse) }, , l C,,,‘, . G,,,, and Ch’,,,d denote the contexts for the three constituent nzrnc and gmd respectively. These contexts are all similar; tional context for action and the constraints is the (individual) are constr(C,,,,,) intention i J {clean-kitchen( D.house)}. subactions nzu, in each case, the inten- together that they make dinner B.J. Crosz, S. Kraus/Art@cial Intelligence R6 (I 996) 269-357 331 Using this notation, the full shared plan definition plete plan, FSP( P, {K, D}, md, MuyS. 17, Muy8.19-21, R,,,d, C,,!d), expands ing conjunction of clauses: specifies that Kate and Dan’s com- to the follow- (0) MB({K,D},Int.Th(K,Do({K,D},md,May8.19-21,constr(C,,~)), MB({K,D},Int.Th(D,Do({K,D},md,May8.19-21,constr(C~)), May8.17,May8.19-21,C,,~),May8.17)A (I) MB({K,D},R,,~ (2) (a) Because ma is a single-agent action, May8.17,May8.19-21,C,~).Muy8.17)A ERecipes(md),MayS.l7)A (I) (a) Int.To(K,ma,May8.17,Muy8.19-19:30,C,,,)A (b) MB({K,D},Int.To(K,ma,May8.17,M~~y8.19-19:3O,C,,,),May8.17) (3) Because ma is not basic level, (a) (3f,,,, R,,X,)lWP,M. K,ma,May8.17,May8.19-19:30,R,,,C,,,)A (b) MB({K,D}, (~P,,zL,, R,,w) ICBA(K,ma.R,,,, May8.19-19:30, (1) (2) FIP(P,,w. K,ma,May8.17,May8.19-19:30,R,,,,C,,,)],May8.17)A constr(C,,u,))A (4) MB({K,D},Int.Th(D,(3R,,)CBA(K,ma,R,,,,May8.19-19:30, (a) constr(C,,,)),May8.17,May8.19-19:3O,C,~,,~,,~,),May8.17)A (a) Because mmc is single-agent, (1) (a) Int.To(D,mmc,May8.17,May8.19:30-20,C,w,~) (b) MB({K,D},Int.To(D,mmc,May8.17,May8.19:30-20,C,,,),May8.17) level, (3) Because mmc is not basic (3f,,,,,,R,,,,)LIP(P,,,,,,, (a) (b) MB({K,D}, (3P,,w~..R,ww) D, mmc, Muy8.17, May8.19:30-20, RN,,,, CW,,) A ( I ) I CBA( D, mmc, J’L,~~. May8.19:30-20, constr( C,,,) ) A (2) FIP( P,,,,,, D, mmc, May8.17, May8.19:30-20, R,,,, constr( C,,z,,,)) I, May8.17)A (4) MB( {K, D},Int.Th( K, (3R,,,,,,)CBA( D, mmc, R,,u,,,May8.19:30-20, constr( C,,,,)),May8.17,May8.19:30-20, C,t,,/,,s~~c),May8.17)A (b) Because gmd is multi-agent (and therefore complex), (3P,nul,Rgn~)FSP(Pgnul,{K.D}.gmd,May8.l7,~g~nd~~,RX,,~.CCR,nd)A (I) (2) MB({K, D}, (IPstid, R,,,,!) [CBAG({K,D},gmd,RR,,~,May8.20-21,constr(Cs,,ti))A (a) (b) FSP(Ps,,d, {K, D}, gmd,May8.17,Muy8.20-21, Rg,,ti. Cgatd) 1 ,May8.17) 7. Implications of the formalization activity presented The major goal of the formalization of partial plans provide constraints on agents’ beliefs and intentions state of the participants of the mental actions and is comprehensive definitions initiate and expand partial plans; state should stopping conditions the minimal mental state requirements for collaborative that an agent have to act. show during in a collaborative they suggest what “snapshots” in this paper is to provide a specification that handles complex in its treatment of partiality of belief and intention. The as they of the agents’ mental the includes a specification of to have a plan to continue requiring plan to do an action when the agent adopts an intention of complete plans provide to intentions, in particular this process. The definitions for planning processes. The formalization for the agents It also ties plans closely a (partial) activity. needed As promised in the Introduction, the formalization presented in this paper handles more complex relations hetwcen actions for both individual and group plans than the original formulation of SharcdPlans. provide\ a means of’ representing the commitments of agents in collaborations to their group activities. and treats the partiality that nat- urally arises in most plannin, (7 situations. Its treatment of individual and collaborative plans is integrated: Lochhaurn [ 43 1 shows the importance of’ this integration for mod- cling collaboration in dialogues. The model also handles contracting out actions. The formalizalion is more gcncral than altcrnativc approaches in its combined trcatmcnt 01‘ partiality of recipe and ability knowledge. complex actions with recipes that decompose recursively, and contracting. The complexities that arose in developin, cr ;I l’ormalization that handles both complex actions and incremental devclopmcnt 01‘ partial plans stem from one 01. three dimensions along which group activities differ Urom an individual agent intending to do a basic-level action: commitment to actions, knowledge about how to pcrtbrm actions, and capabilities to perform actions. The trcutment 01’ commitment becomes more complex both bccausc 01‘ partial knowl- edge and because agents ncccl to ti~m conm~itmcnts toward others’ activities. As ;I result. we needed to introduce a new type of‘ intention. intending-that a proposition hold. and to define its interactions with intending-to do an action. Finally, to have ;I reasonable account of intending-to do a complex act in the state of’ partial recipe knowledge, the f’ormuli~ation provides a trcatmcnt of’ commitment to means-ends rea- soning. Agents’ knowledge of how to perform the group activity may he partial and dis- tributed. No single agent may have the complete rccipc to all levels of detail for the group activity. As a result, the proccsscs lilr establishing partial plans and for elaborating them to form complete plans arc more complex: they must incorporate capabilities for group decision making and reaching consensus. In addition. agents’ assessments of’thcir own and other agents’ capabilities to pcrl‘orm actions is more complex. The representation 01‘ agents’ states of knowledge about abilities to act is thus also more complex. Were it not Uor complex actions and partial knowledge. the li)rmalization wjould require only a single ability prcdicatc. The predicates we detine allow us to dis- tinguish among different dcgrccs 01‘ recipe knowledge and the corresponding assessment 01‘ abilities to act. In particular, they distinguish an agent’s assessment when it knows the lull recipe (BCBA) l’rom when it knows on1y a partial recipe (WBCBA). and likcwisc for groups of agents (MBCBAG and WMBCBAG respectively) The formalization also enables distinguishing what an agent can reasonably know about another agent’s abilities from what it knows about its own. Although only one pair of’ meta-predicates (CBA and CBAG) are needed for the plan dclinitions themselves. the auxiliary predicates (provided in Appendix A) provide explicit descriptions of the belief’ and knowledge that is required when agents perform complex actions and may have partial plans and are thus useful I’or agent design. Searlc 1581 and Grosz and Sidner [ 23 ] argued that the propositional attitudes 01‘ belief. mutual belief. and individual intention to act were insufficient for representing the mental state of’ participants in collaborative activity. Collaborative plans were more than a simple combination of individual plans. Some means of’ representing that the B.J. Grmz, S. Kraus/Arfijiciai Intelligence 86 (I 996) 269-357 333 rise and Nunes to communication of collaboration. Bratman actions within a collaborative was needed. Cohen, Levesque, activity gave termination activity must meet (b) commitment he argued the remainder of this section we discuss these claims about properties of collaborative we compare our approach with alternative the concerns to the joint activity; that as a result of (a) and (b), To address to be a “shared cooperative accounts. [40] subsequently plan to act were being done in the context of collaboration that collaborative problems that a multi-agent responsiveness; to mutual support. Furthermore, demands [9] established to deal with execution (c) commitment three criteria (a) mutual activity”: argued and the agents must form meshing the way in which our formalization In addresses or cooperative activity. In the next section, subplans. raised by Searle and Grosz and Sidner, the formalization does not require a separate attitude of joint for all intentions; and a context parameter the toward the overall group action and the actions of oth- intention. s3 Although intention, plus beliefs a kind of joint intentions can be viewed as representing to individual the attitude of intending-that intentions-that require introduces definitions ers. The formalization the SharedPlan meta-predicates they are not new modal operators. Each reduces and mutual beliefs. The SharedPlan definitions group have certain mental properties; mutual belief ensures when they have these attitudes. To provide other properties, the fo~ali~tion imposes entail that group members all know several constraints in a collaborating that individuals design. Some of these are on the agent’s mental states and consistency intentions; In particular, (i) others are requirements on agents’ planning constraint intending and communication on constraint intentions, the formalization to do an action, reasoning. The definition on a group having a plan, if agents are to be able to rely on others that the agent will do means-ends that agents not only reconcile they have agreed about certain decision procedures. recipes and for identifying re- of Int.To but also have some knowl- is to do their part in the group As a minimal quires requires edge about how to do, or to find out how to do, the action. This constraint essential activity. As a minimal that need procedures subactions. The tual belief and reaching consensus; elaboration processes. Agents must communicate agents do. Communication The definitions of the ability predicates in which they are planning The formalization specifies that that they believe conflict with each other or one another. to know what they are able to do and to ascertain what they intend result from this constraint. for establishing mu- these form essential components of the plan for other to actions. that agents cannot hold intentions-to requires they to perform In particular, agents that groups have procedures that agents compute the formalization and intentions- for selecting formalization the context information sufficient requires require actions (ii) (iii) (iv) (v) on agent of its beliefs and processes. 73 Searle argued attitude. Our formalization meets all the criteria he sets. that the requisite properties of collaborative activity could not be achieved without such an subplans their subactions Bratman’s meshing tion by the intentions-that able to perform (2a4) and (2bS) Clauses to avoid conflicting axioms ization treats the cast of subplans actions which Bratman discusses. criteria each agent is accomplished forms toward (Clauses in the PSP definition): (2a4) and (2h3) of the FSP definition in the SharedPlans formaliza- the other group members being and together with the subplans. Our formal- actions as well as those for individual these intentions-that, intentions (Fig. 4). ensure meshing for multi-agent In discussing mutual responsiveness. Bratman distinguishes between mutual respon- formaliza- subplans, through in action, namely in similarly and mutual responsiveness responsiveness of intentions It also handles one aspect of mutual required when plans must be modified in action. The SharedPlans to meshing responsiveness siveness of intentions tion treats mutual intentions-that. the responsiveness Its treatment of partial plans provides a basis for interleaving execution. and action. Plans may become more partial as well as more complete; to increased partiality. Thus, by the constraints communication to do with continual monitorin g of another this paper. Howcvcr, we hclicve planning execution. That aspect of mutual responsiveness than hy making a sharp distinction this aspect of responsiveness agent’s actions for elaborating on processes partial plans obligations) and acting is beyond in action rather (cf. discussion it should hc treated as part of the interleaving between planning below of in action which has the scope of of and of planning lead failures is accommodated to cope with problems Commitment by the Int.Th (Bratman’s of the intentions-that from intentions-that. to the -joint activity (Bratman’s second criterion) is directly in Clause (0) of the FSP’s definition. Commitment to mutual represented support third criterion ) is rcalizcd the agents form and the axioms for helpful behavior in a more complex way. It requires a combination that originatc Each of the three basic roles of intention that Bratman describes role in the formalization. That an intention-to in earlier work [ 7 1 engenders means- into is built also plays a significant ends reasoning represents iom (Al) of’ Fig. 4. The use of intentions parameter that action and thus is available this commitment. Conflict the definition for use in replanning. is associated with each plan encodes of Int.To: the FIP to Elaborate-Individual avoidance in replanning is also explicitly is only the reason represented, implicit: for doing in Ax- the context the plan’s Other researchers [ 12,29,40,65 ] have discussed the communication obligations that in performin g the actions a cooperative or collabora- the plan elaboration processes requirements. Intentions-that (or success) entail additional arise from failure tive activity comprises. As described above. SharedPlans communication tral role in the way our formalization examine briefly failures, action First, we consider the situation their use in dealing with communication intention reconciliation decisions, and resource conflicts. addresses these communication requirements itself unable might occur carry out some of the subactions intention. reconciling some other to successfully for several masons. For example. Gk might have complete an action PX that it initially in which a member Gk of a collaborating agreed group finds to do. This in its recipe it might have decided for Pk. Alternatively, failed to successfully in the process of to drop its Int.To do Pk. Once required by play a cen- obligations. We from stemming B.J. Grosz, S. Kru~s/Art~c~al intelligence 86 (1996) 269-357 335 this occurs Gk no longer has an intention or a full individual plan to do Pk. Gk knows that the group’s shared plan is now less complete. Indeed if the group had a FSP it no longer does. But, until Gk communicates with the other group members, they will not know. Intentions-that in the Sh~edPlan will lead Gk to communicate this changed status as follows. Gk still has an intention-that of the form in Clause (0) of PSP (or FSP). Because Gk has dropped an intention to do a subaction, there is now a proposition embedded in this intention-that that is false (i.e., the Do-proposition). As a result of this false proposition and the Clause (0) intention-that, Axiom (A5) for intending-that (Fig. 23) will yield Gk’S having a potential intention to do any actions it believes will contribute toward making the proposition true. If Gk believes that communicating its failure to the group will help re-establish the future ~rfo~ance of the action (and true), it will attempt to communicate. Hence, so long hence make the Do-proposition as Gk maintains its intention-that the group do the activity of which fik is a constituent all is well. A different situation arises if Gk has reason to drop the Clause (0) intention-that and opt out of the collaborative plan. If Gk has some other intention-that, one which obligates it to some or all members of the group, then that intention-that will, in a manner similar to that just described, lead Gk to communicate this fact to the member(s). For instance, if Gk has an intention-that the other agents will want to agree to collaborate with it at some later time, and a belief that opting out without explanation will cause this not to be the case, then Gk will adopt a potential intention to explain its opting out of this collaboration. Thus, whether or not an agent communicates when it opts out depends on its other intentions (Int.Th’s) and its beliefs. Some people communicate in such situations; others do not. We can design computer agents to exhibit either behavior. Finally, our plan definitions and axioms also entail that an agent communicate when it recognizes a resource conflict. If one agent Gi intends-that another agent GZ be able to perform an action /? and Gt detects a resource conflict affecting G2’s ability to do p, then the intentions-that axioms will lead Gi to consider doing all of the actions it can to prevent this resource conflict. Typically, the act of informing G2 and discussing the problem will help resolve the problem. Again, one implication of deciding not to take action is that there is no longer a SharedPlan. And again, this constraint provides for a range of agent designs, depending on the tradeoffs between extra communication costs and the costs of error recovery. 8. Comparison with alternative approaches In this section, we compare our formalization to three alternative approaches to speci- fying cooperative activity, those of Cohen, Levesque, and Nunes [ 11,12,40] Sonenberg et al. [62], and Jennings 1291. Cohen, Levesque and Nunes (henceforth, CLN) study notions of joint commitment (represented by a modal operator for joint persistent goal, JPG) and joint intentions (JI) and the ways in which they relate to individual commitments of group members; they address a joint commitment. in particular the need for agents to inform one another whenever they drop Although not defined and commitments. intentions strong notion of commitment. goal until they believe to reach both cases. CLN also allow serve as an “escape clause”: false. The definitions thus intentions the goal. The in terms of individual For both individual intentions, joint and joint JPG stipulates that agents are committed the goal is satisfied or come to the conclusion individual persistent goal, PGOAL, has a similar constraint. intentions entail individual intentions. CLN employ a to their joint that it is impossible In to a formula 4 that can if’ they believe ~7 is utilize JPG and PGOAL. and for a commitment agents may drop their commitments to be relative of _joint and individual intentions in this strong sense. entail commitment requirement. According to believe privately CLN’s model also embodies a strong and rigid communication of’ JPG, to the definition that the joint goal make this mutually known abandon a joint commitment without communicating with its partners. if a participant is satisfied or is impossible in a collaboration to achieve, to the other agents). That is, an agent may not comes it incurs a commitment to inform ( ic.. Our formalization allows for more flexible behavior. Agents reconcile their intentions resource adopting new intentions. They may decide (e.g., plays an important when considering variety of’ reasons in a collaboration not required one option that and mutual belief components properties CLN argue for in the case that the SharedPlan also allow the possibility of agents opting out of’ collaborations. limitations). Although communicating role in the Elaborate-Group with partners process, agents are is only the intentions- in the previous section, of’ the SharedPlan definitions yield the commitment to communicate when they drop intentions. in such situations. As was explained to drop intentions for a Instead, communication however, we is maintained; CLN consider actions and plans only at a high level of abstraction in a significant way. They do not discuss or represent and do not address in detail partial plans In two papers 1 I I. 401, only actions with all constituent partiality for individual or joint action. subactions the definition of individual IJ* to take open action expressions specified arc considered. A subsequent paper [ 121 allows some partiality intention by allowing in INTEND* and the operators and joint In contrast, we examine types of’ partiality. As described it also yields detailed in Section 7. of specification as arguments. in detail various our definitions. However, the context of plannin g and acting. and of’ subactions of complex actions. that have partial also includes more detailed individual plans or SharedPlans. provide more precise constraints on the design of elabora- of recipes that collaborat- their joint activity. Because CLN do not provide detailed issues related and sub- is in detail the ways in which helpful behavior they also do not consider the information for participants and subaction specification allocation doing so complicates the possible mental states of agents As a result, our definitions tion processes. Our formalization l’or actions, ing agents must have about specification to the processes of’ recipe selection groups. In addition, generated. Sonenberg et al. [ 61 ] (henceforth they do not discuss the various plan constructs differs from ours most that arise STWKLK) in modeling do provide detailed collaborative specifications of activity. Their work they typ- in that they do not handle partial plans. In addition, B.J. Grosz, S. Kraus/Ari@cial Intelligence 86 (1996) 269-357 331 ically provide a single mechanism in cases in which we give general restrictions on agents’ mental states and their ela~ration processes. Although Sonenberg et al. have more detailed semantics than we do, they also do not address issues of soundness and completeness. As in our framework, STWKLR assume that each individual agent is supplied with a set of plan structures (similar to our recipes) known as its plan library. The plan library of a group of agents is the intersection of the plan libraries of its p~icip~ts. However, they do not consider situations in which agents have partial plans. Their focalization does not allow for a group to construct a new plan structure using elements from individual members’ libraries, as we do with recipes. It also does not allow for subcontracting of actions to agents outside the group. fn place of our ability meta-predicates (Section 4.4 and Appendix A), STWKLR define the notion of skilE,s of teams. 34 The skills of a team are the set of primitive actions that can be performed by that team; team skills include skills of the individuals the team comprises and skills of the composite. These skills are statically determined; the formalization does not allow for them to vary with time nor to depend on the situation of use. Thus, their agents can reason in what STWKLR call compile-time3” about the potential of a given team to successfully execute a plan 36 (i.e., perform a complex action) and compute the groups that might succeed in achieving a goal. This information can be used to guide the process of team formation at run-time. STWKLR provide a detailed algorithm for team formation that depends on centralized control. They also provide a general mechanism for agents to synchronize their group activity, an issue we do not address. The ability meta-predicates we define take into account the context in which an agent is performing an action. They represent an agent’s ability to perform an action using a particular recipe at a given time and under constraints. The formalization considers constraints from the context in which the action is being performed (e.g., the complex action of which this action is a constituent) as well as the recipe. In the group ability predicates (e.g., CBAG), agents’ beliefs about the capabilities of other agents also play a role. 37 Thus our definitions provide more flexibility in plan formation. STWKLR, like CLN, build into their definition of joint intention a requirement that agents communicate. In particular, the method they use for transforming a general plan structure to a plan in which teams are assigned to specific actions (i.e., a role plan in their terminology) adds communication actions so that a message reporting the failure or success of a subaction is broadcast to the members of the group after the subaction is executed (or, attempted, in the case of failure). 34 In their formalization an individual agent is also a team. 3s They call the time prior to engaging in time-bounded activity compile-time real-time activity run-rime. We do not distinguish between these time periods. 3h STWKLR'S terminology differs from ours. In particular, their “plan” corresponds approximately to our “recipe”; executing a plan is executing a particular instantiation of a recipe. 27 Although STWKLR brie& mention a notion of capabilities that takes into account not only skills, but also compatibility with other goals and intentions and constraints on recipes, their detaibd discussion and algorithm refer only to skills. and the time of collaborative STWKLR argue that their t’ormalization meets Bratman’s conditions responsiveness suhaction or a different by providing role assignment for shared coop- for a team to backtrack is available. if either they can cnsurc meshing in the agents’ subplans only is libraries. They do not discuss either mutual insofar as the meshing crative activity. They treat mutual and choose a different However. into plan structures encoded support or helpful behavior. it appears systems. He tested in the design of a testbed this design for electricity in modal logic was used to develop a system to the formalization. is thus a major contribution of rnodcl intention l’or ,joint cooperative multi-agent [29] used a formal for constructing Jennings environment and the role of explicit models of intention by implementing transportation management. The formal specification a system of production rules that yielded agents’ behaving according The transformation this work. Jennings’ from formal model to agent design formal [ 401 formalization responsibility model of joint It adds two elements intentions. Nunes recipe selection and a notion of joint recipe commitment, conditions sibility model into single-agent It appears complex, and that the agent may form a team for a joint plan the action. but there is no connection for this subsidiary recipe commitment for complex group actions, that the constituent under which joint treats recipes actions. action and the original one. in the formalization is a refinement of the Cohen, Lcvesque, and to this formalization: can be dropped. Although including a specification of the the respon- immediately these decompose single-agent to assist actions may be in performing the team and plan between Jennings’s system handles task allocation it has about the abilities of all other agents to assign by having a central organizer is also managed by this central organizer. The there for the single-agent about an individual constituent recipe needs that uses tasks. Recipe selection team is no actions; to be communicated information for the complex group action members description of which to others. Recipes are partial only time of action; their own recipes information select there is no partiality of the decomposition in allowin g delayed specification Jennings collaboration. In particular, is an examination ran several experiments A major emphasis of this work assisting performance of a system based on the responsibility model with alternatives utilize an explicit model of joint-intention. phase of collaborative agent cannot carry out actions results suggest explicit model of collaboration to determine information in the that did not focused on the execution to the group when an to doing as part of the group activity. The lessens wasted work. Jennings argues further that the this savings without a system designer needing that might arise during execution and the activity and the benefits of communicating in advance all of the problems that needs to be communicated once one of them does. that communication Thcsc experiments it committed cnablcs into constituent of the agent and actions. of the role of communication comparing 9. Conclusions and future work To provide an account of collaborative 01 “we-intention”. Grosz, and Sidncr [ 23 1 argued activity, Searle ]SS] that such a notion introduced the notion should not be B.J. Grosz. S. Kr~~s/Art~ciul Intelligence 86 (1996) 269-357 339 that handles complex actions and that allows for plans of SharedPlans could only accommodate agents. group activity avoids use of one. However, the that In this paper, we have provided In the set of beliefs and for the process correlate agent. SharedPlans ground out in the collaborative to be partial. the rationale two major roles. They summ~ize activity, and they provide they motivate in the plans of an individual serve formulation and their initial needed for collaborative in that formulation into actions of individual necessary definitions provided directly decomposed a formalization this work, SharedPlans intentions of revising beliefs and intentions. Consequently, of means-ends the individual Our formalization by Bratman actions. ing, as well as toward helpful behavior. intentions of individual accommodates to do constituent [ 91. Intentions Intentions-that reasoning the properties of shared cooperative agents and the individual plans that they engender. activity proposed actions form the basis of each individual’s directed the success of the joint activity, ensure meshing toward other agents’ abilities to act and success subplans in act- and The development of this formalization uncovered several interesting new problems in designing agents for collaborative work. These include: (i) The need to develop more flexible methods for reasoning resource tradeoffs among conflicts them. (ii) The need to develop more complex methods in the context of collaborative about resources and the activity, and to examine for groups to construct and agree (iii) The need to understand more fully the ways in which communication set of communication the completion to develop a more complete than and to communicate about more the two situations for which alternative approaches role in establishing to communicate. For instance, communication requisite mutual beliefs and ensuring supports axioms. of subtasks or (cf. Section 8) have actions play a the satisfaction on recipes. collaboration Agents need errors, built central of intentions-that. in the need The formalization underspecifies that the reasoning mechanisms several aspects of collaborative individual entail plan definitions rating partial plans have certain properties, but a complete ration processes has not yet been provided. Second, for the attitude of intending-that most basic axioms Third, we do not provide specific mechanisms commitment do not formalize is most relevant to SharedPlans reconciling in this paper. This intentions. (i.e., for reconciling the planning. First, agents utilize for elabo- of these elabo- the includes only specification the Int.Th modal operator). intentions. In addition, we it for in its own right; of procedures in the way it affects the development issue is enormous the fo~~ization Each of these poses a significant research problem which we have strategies are to develop research. The major next steps we envision for elaborating partial plans, sessed by different for negotiating ing consensus pants. agents among competing on how about how approaches, including mechanisms to perform to allocate portions of the activity for combining a complex handling resource conflicts, info~ation left to future and protocols pos- and strategies and reach- among different partici- action, Acknowledgements This paper is an extension of our paper in IJCAI-93 for comments on earlier versions, and the anonymous [ 211. We thank Joyce Friedman for many thought-provoking for the same and for helpful questions, and Karen Lochbaum comments on many drafts. We also thank Michael Bratman. David Israel, and Martha Pollack for their helpful comments. This research was initiated when the first author suggestions Jerusalem. Partial support was a Harold Perlman Visiting Professor, Hebrew University, and by NSF for the first author was provided by US WEST Advanced Technologies Grant Number in part by NSF Grant Number and the Israeli Science Ministry Grant Number 6288. IRI-9.525915. The second author was supported and illuminating IRI-9423967 reviewers Appendix A. Abilities and belief’s This section contains the formal delinitions of the meta-predicates MBCBAG and WMBCBAG to carry out actions and related theorems. representin, ‘7 different kinds of belief in BCBA. WBCBA, an agent’s ability A. I. Proof of Theorm CT? ) To prove Theorem (T2). WC Iormally detinc As described account contracting of at least two actions. in Section 4.1. this concept actions. Without the concept of an extended tree. is an extension of a recipe tree that takes into that a recipe consists loss of generality, we assume recipe Theorem (T2): I FIP( p, C. a. 7;, T,,, K,, ( ‘(, I =Y BCBA(G. u. K,, 7,. 7;,, constr( (‘,, I 1 I BCBA( G. u. K,. 7,. Y;,,,, (9) ( I 1 1 basic.level( u) A Bel( G. Excc( G. <Y. I;,. (9). I;,,, 1 1 @ ( 2) 1 -+asic.levcl( tr) I’ ( 1) I I (3Rp,)BCBA(G,fij, Kp,. lij,.7/,,./,(-)~. (,,,j, Iv (2) I(xG.y,T,.R,)I (a) BCBA(G, y. R,.7,,7;,<,/.0~! {/I,},” (h) B~I(G.GTD(G,~,~~,(;,.P,.T~,.H~,{~I,}),T/,,/)IIII Fig. A. 1. Beliefs and capabilities to perform actions in FIP and the definition of BCBA about 1 and related theorem. (believe can bring B.J. Grosz, S. Krau.s/Artijicial Intelligence 86 (1996) 269-357 341 Definition of Extended Recipe Tree. If (Y is a basic-level action, and Int.To( G, a, 7;:, T,, C,) holds, then U’S extended is a tree with one node labeled by LY. recipe tree with respect to that intention Suppose cx is a complex action such that holds where R, = {pi, pj}. An extended cr, T,,, T,, R,, C,) recipe tree for LY, TR, with respect to the full individual plan 38 FIP( P, G, the following conditions: is a tree that satisfies l The root TR is labeled by CL l If according to P, G intends to do pi by itself, then _ if pi is a basic-level action, the ith child of the root of TR is the extended recipe tree for /3i with respect to Int.To(G, pi,T,,,Tp,, Cp,/,); _ otherwise, the ith child of the root of TR is the extended recipe tree for pi with respect to FW Pp, , G, Pi, qj, Tp;, Rp, , Cp,/, > . l If G subcontracts root of a subtree is the root of the extended if y is a basic-level otherwise. pi according that has its root to P, then the ith child of the root of TR is the the child of this pi node labeled by pi and tree for y with respect to Int.To(G, y,T,,,T,, C,/p,/,) to FIP( Py, G, y,T,,,T,, R,, C,/p,/,) action, and with respect Proof of Theorem a, G, T,, T, and C,. it is important tion of BCBA, i.e., to observe if an agent that from intends (T2). Suppose FIP( P, G, LY, T,, , T,, R,, C,) holds for some R,, P, action. However, (Fig. 3) and the defini- If G has a FIP for (Y then CY is a complex the definition of Int.To to do a basic-level action a, BCBA holds for (Y, basic.level(cu) A Int.To(G, cz,E,T,, C,) =S BCBNG, a, R~ntpt~, T’, 7;:, constr(C,> >. (A.1 ) We now prove (T2) by induction on the height of the extended to FIP( P, G, cr, T,), T,, R,, C,). Since (Y is a complex action, recipe tree of (Y with the height of the respect extended recipe tree for (Y is at least 1. Base case: If the height of the extended recipe tree for cy with respect to FIP( P, G, cy, T,,,T,, R,,C,) to do each of the pi by itself. is 1 and R, = {pi,pj}, then all pi are basic-level actions and G intends From Clause (1) of the PIP definition, Bel( G, R, E Recipes(a), (2a) of the BCBA definition holds. Since all the subactions to do each subaction by itself, Clause (2a) of the FIP definition and (A.l) Tp) and therefore in R, are basic-level follows (2b) of BCBA above. Thus, we can conclude Clause actions and G intends from Clause that BCBA(G,a, R,,T,,T,,constr(C,)) 3x We will drop the FIP when it is clear from the context. 342 ILL GIO.Y;. S ~~clrt.v/A~r!lrc.rcll lrt~allrjirr~c~r X6 (I 996) 269-357 lr7ductior7 cme: Suppose CT?) holds when the height of the extended less than k. We consider respect to the full individual plan is X. the case in which the height of the extended recipe recipe tree is tree with As in the base case, Clause (21) 01‘ the BCBA is established from Clause ( 1) of the FIP definition. For any p, ? R,, we need to show that Clause (2) holds. l If, according to plan P. G intends - If p, is a basic-level action. proceeds as in the base case. to do /3, by itself, then then the proof that Clause (2bl ) of BCBA holds _ If p, is a complex action, then Clause (2b I ) of FIP specifies that (~r,,.RP,)FIP(P~~,.C;.~,.7;,.71~,.Rg,.Cp,~,l). where constr( CP,~,~ ) tree of j3, with respect I_ constr( C,, ) 1 {p,}; to FIPC fp,. G. 0,. q,, rp,, Rg,, CJ,) the height of the extended recipe is less than k (since Theorem (T3). .___- 1‘do,7,,T,,,(;,P) I PIP( e G, LY. .r,,. 7;,. c‘,, I =+. (SR;)WBCBA( G. (Y. 7;,. Kg. Yj,,.,. con\tr( C,, I ) I WBCBA ( G, LY. 7;, . R:: , 7;,,>,. f-) i (01 iI) t I ) BCHA( (;. Selecl.Kec((;. ( :t ) ( SK,, = { ii, . K,, 1 1 ( h) I Bel( G, R,, E Rec.,/w\ ( (I 1 hi i Pi. l’, i ‘I R,. Twk,, ,,,<‘I A (1. i/3,. I,,}. I,,,,,, !,, ). R,(.,(,,,.,,,, 7’,(.,c,, ,,,( .7jx,,. (c, (biS, t R,,) ((1) B~I(C;.(~T<Y,.R,~, KXAtG.iS,.KJ,,I;> .(_)I I{K,},v cc) (3T$ ,CccG.fs,..7;,, .u,,T\,,,,,r,,,, , //I I,‘, rVj3i E R:;,3/j,)l (2) t 3R;, )WBCBA(G. /3,, T/J,. R;, 7;,,,/. (9 ‘L {,I{} I / (31 fX,.y.T,.R;, (4) _ (I) IBel(C;.(3R,)CBA(G’.y,Ry.‘ly.~-~ J{/I,})“\ (a) GTIX G. y. 7,. G, , 0,. 7ij,, /-) IJ { ,I, } 1, I;,,./ ) 1 j 1 Fig. A 2. Beliefs Llnd capabilities 10 perform action\ can hrmg about) in PIP and the definition of WBCBA (weakly believe B.J. Grosz, S. KrauslArtificial Intelligence 86 (19961269-357 343 this extended hypothesis, we can conclude tree is a subtree of the extended that tree for cu). By the induction If G contracts out pi, then Clause the FIP definition. Since (it is a subtree of the extended BCBA holds is similar pi by itself. the height of the extended (2b2b) of BCBA follows from Clause (3a) of recipe tree for y is less than k (2b2a) of to do (2bl) holds when G intends recipe tree for cu), the proof that Clause to the proof that Clause Thus, we can conclude that BCBA( G, LY, R,, T,, T,, constr( C,) ) . C! Theorem (T4): (‘v’a,Ta,T,,>GR) I(~R,,P)FSP(P;CR,(~,~,,,,T,,R,,C,) =+ (3R,)MBc6AG(GR,~u.K,.T,,T,,,constr(C~f)l MBCBAG(GR, a, Rn, Tn, T&, t+) (I) R = {/!h, /Jj} A MB(GR, R, E Recipes, %/)A (b) (VPi E Rm, 3Tp,) I (2) I [single.agent(fi;)A (a) (~GB, E GR)I (1) (~R~,)BCBA(GI);,P,-,R~,,T~~,T~,,,BU {pj})A (2) MB(GR,(~R~)CBA(GB,,B~,R~,T~,~,~U{~~}),T~~/)~I~ (3) [ multi.agent( 0;) A (a) (=Rp, LL GR)I (1) (~R~,)MBCBAG(GRB,.P;,R~,,T~,,TI,,/,~U{~~})A (2) MB(GR,(3R~,),CBAG(GR~,,~~,R~,~T~,,~~U(~j})~T~/)lllV (4) I (a) (3G,,yf ~single,a~ent(~)A (1) (3G,E GR,T,)l (2) MBtGR, (3R,),CBA(G,,~,R,,Ty,Tbel,eU{pj}),Tbel)l\ (3) MB(GR,GTD(GY.YITy.GcrPilTp,,OU{pj}),~,~/)) (4) (~R,)BCBA(G,,Y,R,,T,,T~,/,~U {Pj})lV (b) (SK&y) [multi.agent(y)A (1) (=R, C GR.T,)l (2) MB(GR,(~R~)CBAG(GR,,Y,R,,T,,T~~~.~U{~~}),T~~~)A (3) MB(GR,G~(G,,r,T,,G,,Pi,~pi,OU{lij}),~bet))~ (4) (3R,)MBCBAG(GR,,Y,R,,T,,Tb,/,gU{~j})lll Fig. A.3. Beliefs and capabilities can bring about group). to perform actions in FSP and the definition of MBCBAG (mutually believe 344 H..I. (;ros:. .C Krurrs/Art$c~rtr/ Intdi~rnc~e X6 II 996) 269-3.57 Theorem (T5): I(3P)PSP(P.GR,ru.7;,./,,.C‘,,I ~:L- (S?;)WMBCBAG(GR,tr, 1;,, K{:,7;,,w) 1 WMBCBAG(GR, cr. 7;,, K:, I;,,,/, (-) I t I ) I?{: = { /!$, l-j, } /I MB (CR. I 3 K,, i: R<Y$,.\ ( <I , ) { /3,, ,,, ) :; K,, 7;>,>, ) !\ (a) IMB(GR,(~R,)I{~,.~J,/ R,, ,‘i R,, +; Rw/wr( CY) 1, 7;>,., J 2 1 ‘h) (~7;,/<.,,,,, ;~~\<‘/,.,,,c’, ;.k,/,,, ,I, / 1 ( I ) MBCBAG(GR. Select_Rcc_(;Rc GR, (I, { ~3,. ,,, }, T>,./,,, Ili( ,V), R<i,c<, ,<,L i’. 7,, ,,,,, ,<.< $, 7;,<,,. (a) (3R,,= {S:.fQ}Jl 12, ,a) 1 Islngle.agenl(,f3,) / , Tit;, *~ GKI (1) I(~R~,)WBCBA(L’.~~.7,,.K’;,.l;,,,,n { /I, } J ,“,’ (2) MB(GR.I~K~,)CBA((;~./J,.K,;,./;~,.I-,~I{/,,},.~;,,/)II:~ (b) [ multi.agent( 0,) A i IIGKI 1 (;K) (It ~(~R~,~WMBCBAG(GR~,/J,,~~~,.K~./,,~,,.~-~~.J{~,})~ (2) MB(GR,(3Rp,)CBAG(GR~,P,.Rp,.7!,.(_)i~{/~,}).T/,,./)IIIv (3) IWMBCC(GR./j,,Tfl,.T/l ‘_‘{/~,},l 14) Ia) (I) ( I single.agenl( /3, ) F (a) MB(GR. (~G‘L g GR. Kb,,Io, )CBAIG‘~./~~. Rp,,7b,.PjU {p,}),7j,,,) 16; (2) I multi.ngent( pi ) T (a) MB(GR,(gGRi ,(;R.K~,.7,)CBAG(GRI.P,,Rg,,T~,,Uu{p,}),T,~,,,)IIc (bl (I) IMB(GR,i3T~,)CC’G(~;R.~,.7ji,,~-~’_ {,),}I.~ ,,,, )]I {COMMENT: WMBCC includes all the belief and mutual belief required for contracting OUI /3, when the group has PSP. } Fig. A.4. Beliefs and capabilities to perform actions in PSP and the definition of WMBCBAG (weakly mutually believe can bring about group). B.J. Grosz. S. KrauslArtificial Intelligence 86 (1996) 269-357 345 Appendix B. Formal plan definitions and additional intention-that axiom This appendix contains the full formal definitions for predicates FIP and PIP and the group plan meta-predicates the individual FSP and PSP. plan meta- FIP(P,G,a,T,,,TT,,R,.C,) (I) R, = {fii,pj} A Bel(G,R, E Recipes(cu),T,,)A WLmTp,) I (2) (a) IInt.To(G,P;,T~,Tp,,Cp,l,)A (b) Tbasic.level( p;) + (I) (3Pg,,Rp,)FIP(Pp,,G,Pi,T,~,Tp,.Rp,,Cp,/a)l~ (3) lSG,.y,T,) (a) IBel(G,GTD(G,y,T,,Gc,Pi,Tp,,constr(Ca) U{/J~}),T,,)A (b) Int.To(G,y,T,,,T,,C,ip,ja)A (c) Int.Th(G,(3Rp,)CBA(G,,Pi,Rp,,Tp,,constr(C,)U{pj}),T,,.Tp,,C,/,,,/p,/,)A (d) lbasic.level(y) + (I) (~R,.P,)FIP(P,.G,Y.T,,T,,R,,C,/~,/,)III} {COMMENT: constr(Cp,/,) = constr(C,) U {Pj}, constr( C,/P,/~ ) = constr( G ) U { Pj} .} Fig. B. 1. Definition of full individual plan Fip. B.2. Dchnition at partial individual plan. B.J. Grosz, S. Kraus/Ariijcial Intelligence 86 (1996) 269-357 347 FSP(P,GR,cu,Tp,Ta.Ra.C,) (0) MB(GR, (VGj E GR)Int.Th(Gj,Do(GR,a,T,,constr(Ca)),T,,Ta,Ca),T~)A (I) &={&,pj}AMB(GR,R, ERecipe.~(cu),T~)A (2) [(VPi E RdTp,)l (a) I single.agent(P;) A (3Ga E GR) [ (1) (a) Int.To(Gk.P;,Tp.Tp,,Cp,/,)A (b) MB(GR,Int.To(Gk,P;,T~,T~j,Cp,/,).Tp)A [ 1 basic.level( pi) A (a) MB(GR,CBA(Gk,P;,R6,1p,y.Tb,.constr(C,) 1 ybasic.level( p,) A (2) (3) U{pj}),Tp)l@ (a) (~PB,.R~,)FIP(P~,,G~,P;,T~,T~,.R~,,C~,~,)A (b) MB(GR, (3% > Rp,) (I) [CBA(Gk,P;.RB,T~,,constr(Ca) U {pj})A (2) FIP(fB;,Gk,Pi,T,,,Tg,,Rg;,Cg,/a)l,Tp)lIA (4) MB(GR, (VGj E GR, Gj # Gk)Int.Th(Gj, (3Rp,) (a) CBA(Gk,Pi,Rpi,Tp;,constr(C,) U {pj}),Tp,Tp,.C,b,/B/a),Tp)I @ (b) [ multi.agent(P;) A (3GRk 2 GR) [ (1) (3Pp,,Rp,)FSP(Pp,.GRk,Pi,T,,Tp,.Rp,,Cp,/,)lA (2) MB(GR. (3@,, Rg,) (a) [CBAG(GR/,,Pi,Rp,,Tp,,constr(C,) U {pj})A (b)FSP(Pp,,GRk,Pi,T,,Tp;,RB.Cp,/,)l,Tp)A (3) MB(GR, (VGj E GR \ GRk)Int.Th(Gj, (3Rp,) (a) CBAG(GR~.P;.R~,,T~,,~~~~~~(C,) u{pj}),T~,Tp,,C~bnR/~,/a).TI,)lI @I (3) IF~~C(GR~P~~T~,~T~,Ca~{~j})lIl {COMMENT: constr(Cp,p) > constr(C,) U {pj}} Fig. B.3. Definition of full SharedPlan (3) T;SPC(GR.B,.~U,.T,,,I’,~.{~J;}) _____. Fig. B.1. FSPC. contracting in FSP. B.J. Grosz. S. Kraus/Arr@cial Intelligence 86 (1996) 269-357 349 MP(GR,Gk,y,Ty.Tp.Cyl~lu) ( I) [-basiclevel + I (a) (3f,,R,)FIP(P,,Gk,Y,T~,Ty.Ry.Cy/P/a)A (b) MB(GR, (3P,, R,) (I) [CBA(Gk,Y,Ry.Ty,constr(C,/p/,))A (2) FIP(Py,Gk.Y,Tp.Ty,Ry.Cy/P/n)l.TP)llA (2) MB(GR, (VGj E GR,Gj + Gk)Int.Th(Gj, (3Ry) (a) CBA(Gk, Y. &. T,. constr(C,/al,) ). TP. Ty. G/,n/v/p/a 1, TP) SGP(GR, GRk, y, T,, Tp. C,/pla) (1) (3P,,R,)FSP(P,,GRk,y,TP,TY.RY.Cy/P,/a)A (2) MWGR, (3p,, R,) (a) lCBAG(GRk,y,R,,T,,constr(Cy/p/~))A (b) FSP(P~.GR~,Y,T,,,T~.R,,C,/~/,)I.T,)A (3) MB(GR, (VGj E GR \ GRk)Int.Th(Gj, (3Ry) (a) CBAG(GR~,Y.R,,T,.~~~~~~(C,~~~~)),T~,T~.C~~~~~~/~,~~),T~)I~ Fig. B.5. The performance group performs the contracting of the “contracting” action in the contracting cases of FSP: MP-Member of the action. SGP-subgroup performs the contracting action. __ ,. ~sPrl~GR.a.T~,.i,,.(,,, , B.J. Grosz, S. Kraus/Arti&ial Intelligence 86 (1996) 269-357 351 (3) IPsPC(GR~Pr~T~,,CaU{~j})ll A (4) WPa E .~er[p&l) [ (a) ( 1 ) 1 single.agent( flk) A (a) MB(GR, (3Gk E GR,Rp,,Tp,,)CBA(Gk,Pk, Rp,,Tp,,constr(C,) U {/Jj}),Tp)A (b) MB(GR,(VGj E GR)Pot.Int.Th(Gj, (3Gk E GR,To,) (I) ~~(~k.~n~~~t.~~~st~(~,) U {P,}),T,.T~,,C~,/~,/~).~,,)I~ (2) [ muki.agent( Pa) A (a) MB(GR,(jGRk ~GR,Rp,,Tpt)cBAG(GRt,P1:,Rg,,Tp,,constr(C,) U{pj}),T,)A (b) MB(GR, (VGj E GR)Pot.Int.Th(Gj, (3GRk c GR,Tp,) (1) Do(GRe,Pk.Tpt.constr(C,,) U {Pj})~T~~Tp~,Cd~/~~/~).Tp)ll V (b) (1) [MB(GR,(3Tp,)CCG(GR,Pk,Tg,,constr(C,) U{pj}),Tp)A (2) MB(GR, (VGj E GR)Pot.Int.Th(Gj, (3y,Ty,G,,Gk,Tpt) (a) [ [ (single.agent(y) A Gk E GR) 8 (multi.agent(y) A Gk C_ GR) ]A (b) Do(Gk,y,Ty.constr(C,) U {pj})A GTD(Gk,Y.Ty.Gr.Prb.Tpt,constr(C,) U{p,})l,Tp,T~t,C,,,,lp,/,),T,)I1 {COMMENT: 1 2 constr( C.dec,.rec.K~a (=a = {&, or}) I MB(GR, RC E Recipes(a) A {Pi, Pj} C R,, T~etec~.rec.X)A W& E Ra) MB(GR (ITS,,) I [siwde.agent(&) A (3Gs,, E GR, Rs,. )CBA(Gs,,, 6,., T6,,, Rs, , constr(C,) u {IQ}) I@ A ( 3GRsl & GR, R6,, )CBAG( GRs,, ,6,,, T6,, , Rs,, , constr( C,) U {Q}) I muki.agent(&) Iv I ccG(GR, & Ts,,. constr(Ca) U {K?}) 1 I. Tse~ecf.rec.X) I) 11 1 constr( Cp,/,) = constr( C,) U {pj} Fig. B.7. Definition of partial SharedPlan (Part B). PSP(I:GR.cu.T,,.7,,(‘,,) The group will get another agent f;, ( I b The group CR c;,.‘s success: jnuiu~lly believe MB(GR. (VC;., 6. (;I<, fo do the s&action &: that all members of the group we c~)rllnlitted to Int.ThiC,. t 3Kij, )CBAt G‘, , 0,. Kp,. To, ,constr( C,,) U {p,} ),7;,. $, , C,hi,/i.i, ,(? 1. 7;,) t a) The “contractmg” XI y IS smgle-agent. there is a member of the group CA such that. The group mutually helieve that G,: can get Gc to do the subact by doing y: MB( CiK. CT’& Ci,:. y. il. (i, . ,&. To, . constri C, 1 U {pi I), 7, f C;k intends to do lhc “c0ntractm.g” action: Int.Tot C;i. y. 7;,. I,. (‘? 0 ,, I The group mutually betwe lhat (;A intends to do the “contracting” action: MB(GK, Int.To(c‘~.y. 7,,. ly.C’,,.ij, ,I ). 7;,) The group r~~ulu~tlly h&eve that C;( IS able to do the “contracting” action. MH(GR,(-‘iKY)CHA(~;~.~.7;,./L.cu~t~trtC,)u~p,}),7;,i The group mutually helievc that ail its members are committed to CL‘s succcs~: MB(CR, (Vjc;, t CR. 6; -t (;A I there is subgroup GRh of’ the group such that: ( I ) The group mutually believe that the wbgroup GRI can get G,. to do the subaction o( by doing y: MB(GR.(;‘TU(GK~,y.I~.(;,.~~,.7~,.constr(C,,)u{~,}),7;,) ( 2 ) The subgroup ha\ SharedPlan for tloin~ y: ( 3P7,SPI P,.GRIJ. ‘I;,. r.. (‘, j;, ‘o I ( .? I The group mutually brhevr that the subgroup has SharedPlan for doing y. MH(GR.13~~).SP(P,.C;R:,.y.1),,7~,.C’,~~,i,r), (4 I The group mutually hclieve that GKi, can bring about the “contracting” action. MB(GR. (SKI~CBAG(GK~. r. /;,J$.cor~str(C~~I !J {p,}),7;,) I 5) GK ~~~utuullv believe that all it\ mcmhcrs are committed to GRk’s success: MB(GR, i tiCi, t {‘SK ‘*s,, GRI } 1 int.Th(C;;.i~fZ,)CHAG(Gl~~.y,R,.7,.constr(C’,~p,;,,)). 7;,.7;. (‘l,,i,,v p, ,I 1.r,, 1 - Fig. 13 8. PSP, Contracting-out cast: single-agent. B.J. Gross, S. Kraus/Artijicial Intelligence 86 (1996) 269-357 353 (3) Conrracting case: PSPC(GR, &, Tp,, C,, {p,}) (b) Multi-agenf action: The group will get another group of agents GR, ( 1) The group GR mutually believe to do do the subaction &: that all members of the group are committed to GR,‘s success: MB(GR, (VGj E GR) Int.Th(Gj, (jRp,)CBAG(GR,, Pr. Rp,. Tp,, constr(C,) U {pj}), TP, TP, . &,,/~,/a ), TD ) (2) (a) The “contracting” act y is single-agent; there is a member of the group Gk such that, ( 1) The group mutually believe that Gk can get GR, to do the subact & by doing y: MB(GR,GTD(Gk.y,T,,GR,,P,,T~~,constr(Ca) U {Pj}),T,>) (2) Gk intends to do the “contracting” action: Int.To(Gk,y,Tu,T,,C,/B~ja).T,~) (3) The group mutually believe that Gk intends to do the “contracting” action: MB(GR,Int.To(Gk.y,Tp,Ty.Cy/P,la),T~) (4) The group mutually believe that Ga can bring about the “contracting” action. MB(GR, (3R,)CBA(Gn,y,T,~,T,,constr(C,) U{P,}),T,~) (5) The group mutually believe that all its members are committed to Gk’s success: MB(GR, (VGj E GR,Gj Z Gk) Int.Th(Gj, (3R,)CBA(Gk,~,R,,~,,constr(C~~~,~~)). TP 1 TY > Go/y/p, /a 11 TP ) (b) The “contracting” act is multi-agent action; there is subgroup GRk of the group such that: ( 1) The group mutually believe that the subgroup GRk can get G, to do the subact by doing y: MB(GR,GTD(GR~,Y,T,,G,,P,,T~,,~~~~~~(C~) U {Pj}),T,,) (2) The subgroup has SharedPlan for doing y: (3P,)SP(P,.GRk,Y.T~.Ty.Cy/P,/a) (3) The group mutually believe that the subgroup has SharedPlan for doing y: MB(GR.(3P,)SP(P,,GRk,y,T,,.T,.C,/p,/,)) (4) The group mutually believe that GRI; can bring about the “contracting” action: MB(GR,(~R~)CBAG(GR~,~,TD,T~,~~~~~~(C,) u{pj}),T,~) (5) GR mutually believe that all its members are committed to GRk’s success: MB(GR, (VGj E {GR\ GRk}) Int.Th(Gj, (gR,)CBAG(GRk, Y. R,, Ty,constr(C,/p,/,)), TP 1 TY 3 Go/y/p, /a ) 3 T,, ) Fig. B.9. PSP: contracting-out case: multi-agent 353 A..I. (;ros:. S. Krrru.~/Arr@tri Inlellljienc~u X6 (I 996) 269-357 Axiom (A@: la~.G‘1.7;.7;,/ C;I I\ committed to (;:‘h success 111 doing /j 3s part ot (;I ‘s intention to (Y I .in. I;,. R,,. B. Gz I I Int.To( G,. <Y. I,. r,, , ( ,l I ’ Int.ThtGI. I~R~)CBA(~;~,~.K~.I~.~‘~~~I~(~‘~,.~,,~.’/;,~&,C,,,,,~~,~)A II I\ “cheaper” to (;I IO help c;: 111 domg /j by doln~ r7 1 CO\T( G, DO( CT, (1. ./;,. c‘onslrc C‘,, I I *7,,. (‘(y. K,,. _TDO( c;, . 7,. 7,. con\tr( C’? <,>(,,,j ,) 1 ) A Ih(G2. ,sT~,‘O”“t’(C~.rr)) )-- co\t( c;, , lhl c;, a, 7;“. COll\lI( C‘,, I , .7;,. c,,. K,, lh(G1, ~.1,.constrl co <,]<,/~ (, ) I is I)ot (;z. 0, Q. constr( CpI, ) ) ) ;a ccon’( cost( C;, Ilo(G 71. T,,. L‘OIMIY c‘,, lht, Li o i 1. T,,. (‘q:c/,n..~~n, R, ) ) IA 61 hclicvcs it can perform 77 Bcl( G,, (3R, )CBA((;l. 7. f,]. constrt (‘,, I ,,,, ii i, I 1. 7, 1 / -9 Gi wdl consider doing 71 Pol.lnt.To(C;l. p, /;.7;, C’,, <liii +,, I / Fig. B. IO. Another helpful-behavmr axiom for intending-that. References 1 I / J. Allen and C R. Pcrrault, Analyzmg mlentlon u, urlrrances, ,4r/$ B.J. Grosz, K. Sparck Jones and B.L. Webber, eds.. Readings Kaufmann, Lot Altos, CA, 1986) 441-458. /rl/e/l. 15 ( 1980) 113-178: also in: (Morgan Proc~~s.wg Lmr~uup in N~~urcrl 1’2 I I). Appelt and A. Kronfeld. ( 1987) 640-647 A computational model of referring, in: Proc~rd~n~s IJCAI-X7, Milan I .3 I K.J. Arrow. The economics of agency. m: J. Pratt and K. Zeckhauser, eds., Pr/nc~pc~ls trrtd A~erm: The .Sm~ture of Lhsiwss (Harvard Business School Press. Cambridge, MA, 1985) 37-5 I. 11 I C.T. Balkanski. Modelling Liniversity, Cambridge, MA relations m collaborative act-type I I990 1 activity, Tech. Rept. TR-13-90. Harvard 15 I C.T. Balkanski, Actions, behefs and Intentions m rationale clauses and means clauses, Ph.D. Thesis, Harvard University. Cambridge, MA ( 1993) I6 I A.H. Bond and L. Casser, An analysis of problems and research in DAI, in: A.H. Bond and L. Gasser. cds.. Recdiqs I 7 / M.E. Bratman, 1987). uz Distrrhuted Arti@ud Intelligence (Morgan Kaufmann, San Mateo, CA, 1988) 4-46. Imention. Pkrm md Pnrcricrd Rec~sorz (Harvard University Press, Cambridge, MA, I XI M.E. Bratman. What is intentton!, in: PK. Cohen. J. Morgan and M.E. Pollack, cds., lntermons 111 ~‘ommunimtion ( MIT Press, Cambridge. MA, 1990) Chapter 2, I S-3 I. 19 I M.E. Bratman, Shared cooperative activity, Philos. I IO I M.E. Bratman, D.J. Israel and M.E. Pollack. Plans and resource-bounded Ret,. 101 ( 1992) 327-341. practical reasoning, Com]xtr. Intell. 4 (1988) 349-35s. I I I I P Cohen and H. Levesque, I I2 1 P Cohen and H. Levesque, Teamwork, N&s 25 ( 1991) 487-S 12. i\ choice with commitment, Art$ Inten(ion /n/e/l. 42 (1990) 263-310. B.J. Grost, S. Kraus/Arr@cial Intelligence 86 (1996) 269-357 355 I I31 SE. Conry, K. Kuwabara, V.R. Lesser and R.A.‘Meyer, Multistage negotiation for distributed satisfaction, IEEE Trans. Syst. Man Cybern. 21 (1991) 1462-1417. I 141 R. Davis and R.G. Smith, Negotiation as a metaphor for distributed problem solving, Artif: Intell. 20 (1983) 63-109. 1 151 KS. Decker, E.H. Durfee and V.R. Lesser, Evaluating research in cooperative dist~buted problem solving, in: M.N. Huhns, ed., ~~sfr~b~~ed Ar~i~ciaf ~~feZ~~ge~e, Research Notes on Artificial Intelligence 2 (Pitman, London, 1989) 487-5 19. 1 16 1 E.H. Durfee, Coordinarion of Distributed Problem Solvers (Kluwer Academic Publishers, Boston, MA, 1988). [ 17 1 E. Ephrati and J.S. Rosenschein, Reaching agreement through partial revelation of preferences, in: Proceedings ECAI-92, Vienna ( 1992) 229-233. 1 181 E. Ephrati and J.S. Rosenschein, Planning to please: following another agent’s intended plan, 1. Group Decis. Negof. 2 (1993) 219-235. / 191 L. Gasser, Social concepts of knowledge and action: DAI foundations and open systems semantics, Arf@I Intell. 47 (1991) 107-138. IL?01 AI. Goldman, A Theory of Human Action (Princeton University Press, Princeton, NJ, 1970). 12 I 1 B.J. Grosz and S. Kraus, Collaborative plans for group activities, in: R. Bajcsy, ed., Proceedings NCAI- 93, Chambery (1993) X7-373. 1221 B.J. Grosz and C. Sidner, Attention, intentions, and the structure of discourse, Compuf. Lin,guist. 12 (1986) 175204. (231 B.J. Grosz and C. Sidner, Plans for discourse, in: I? Cohen, J.L. Morgan and M.E. Pollack, eds., ~nreatio~.~ in CornrnKnica~jo~ (MIT Press, Cambridge, MA, 1990). 1241 B.J. Grosz and C. Sidner, A reply to Hobbs, in: PR. Cohen, J.L. Morgan and M.E. Pollack, eds.. lnfenfions in Communication (MIT Press, Cambridge, MA, 1990) 461-462. 1251 J. Hobbs, Ontological promiscuity, in: Proceedings 23rd Annual Meeting of the Association for Computational Linguisfics, Stanford, CA ( 1985). (261 M.N. Huhns, MI? Singh, T. Ksiezyk and N. Jacobs, Global information management via local autonomous agents, in: Proceedings ICOT International Symposium on Fifth Generation Computer Systems: Workshop on Heterogeneous Cooperative Knowledge Bases, Tokyo ( 1994) l-15. 1271 D Israel, J. Perry and S. Tutiya, Actions and movements, in: J. Mylopoulos and R. Reiter, eds., Proceedings IJCAI-91, Chambery (1991) 1060-1065. [ 281 N. Jennings, On being responsible, in: Decentralized Artificial ~afell~ge~ce 3 (Elsevier Science Publishers, Amsterdam, 1992) 93-102. [29] N.R. Jennings, Controlling cooperative problem solving in industrial multi-agent systems using joint intentions, ArriJ Intell. 75 (1995) l-46. [ 301 H. Kautz, A circumscriptive theory of plan recognition, in: PN. Cohen, J.L. Morgan and M.E. Pollack, eds., Intentions in Communication (MIT Press, Cambridge, MA, 1989). [ 3 11 M. Klein, Supporting conflict resolution in cooperative design systems, IEEE Trans. Sysf. Man Cybernet. 21 (1991) 1379-1390. / 321 K. Konolige and M.E. Poilack, A ~p~~ntation~ist theory of intention, in: R. Bajcsy, ed., Proceedings IJCAI-93, Chambery ( 1993) 390-395. 1331 S. Kraus, Agents contracting tasks in non-collaborative environments, in: Proceedings AAAI-93, Washington, DC (1993) 243-248. 1341 S. Krnus and D. Lehmann, Knowledge, belief and time, Theoref. Compur. Sci. 58 ( 1988) 155-174. I35 ] S. Kraus and D. Lehmann, Designing and building a negotiating automated agent, Comput. Infell. 11 (1995) 132-171. j 361 S. Kraus, M. Nirkhe and K. Sycan. Reaching agreements through argumentation: a logical model, in: Proceedings Wor~l~op on ~is~rjbufed Ar~~ciai ln~elligence ( 1993) 233-247; also presented in AAAI-93 Workshop on AI Theories of Groups and Organizations: Conceptual and Empirical Research. [ 37 1 S. Kraus and J. Wiikenfeld, Negotiations over time in a multi-agent environment: preliminary report. in: Proceedings UCAI-91, Sydney, Australia ( 1991) 56-6 1. [ 38 1 S. Kraus and J. Wilkenfeld, A strategic negotiations model with applications to an international crisis, IEEE Trans. Sysr. Man Cybernef. 23 ( 1993) 313-323. [ 19 1 V.R. Lesser, A rerrospective view of FA/C disrributed problem solving, /LEE Trnns. S’ysr. Mw Cyberrwr. 21 (1991) 1347-1362. ) 30 j H.J. Levesque. P. Cohen and J. Nunes, On acting together, in: Proc.erdinfi.rMAf-Y(1. Boston, MA ( 1990) 9-1-99. / 41 j D.J. Litman and J.F. Allen, L&course proccssmg and co,,,,,,onsense plans, in: P.R. Cohen, J.L. Morgan and M.E. Pollack. cds., ~}?~~}~~i~l~l‘~ m C‘r,rnrrrwnr~cttit,r, t MIT Press, Canlb~dg~ MA. 19901. i-t:! j K. Lochbaum. An algorithm for plan recognirion in collaborative discourse, in: f’rowritirt~~s ZYti1 Arrriutrl C‘orrftwwe ctt t/w A.vsoc%rr~~~r /hr C’octrl;“rtlfinritil Li~jiltis!ic:y. Berkeley. CA ( I99 I ) 33-38. [ 43 1 K. Lochbaum. Using collaborative plans to model rhc intentional structure of discourse. Ph.D. Thesis. Harvard University, Cambridge, MA ( 1994): available as Tech. Rcpt. TR-2.5-03. l&II K.E. Lochbaum. The use of knowledge preconditions m language processing, in: C.S. Mellish. etl.. I’rowrdirr~.~ /.IC4l-95, Montreal. Que. ( I995 ) I260- I16h. 1.55 1 K. Lochbaum, B.J Grow and C. Sidner. Models of plans to support communicalion: an initial report, in: ~;~~J~~~ef~i~~,~,s MAI-90. HOsl0lL MA i IWO) 485---400. f-161 T.W. Malone. R.E. Fikes and M.T. Howard. Enterprise: a market-like task scheduler for distribut~(l ( Noah-Hol~al~d. computing el~~jronlnen[s. in: B.A. Huberman. cd., Tirr E<,nfi,jiv <I[ G>nywrifioti Amsterdam. 1988) 177-20.5. T. Moehlman, V. Lewx and W. Wutenu. Decentralic.ed negoliation: an approach to the distributed planning problem, Grow,/> L)rc,ls. Neag0f. 2 ( I902 1 I6 I I9 I L. Morgenstern, Foundations of a logic of knowledge. action. and communication, Ph.D. Thesis, New York Univer<iry. New York C I’JXS) E. Osawn :mi M. Tokoro. Collabot-atlrc plan con>truction ~~~,[.~~/~-~~~j~~,~ Ar~~~~~,i~~~ ~j~~~,~~i,~~~~~.~ for multiagent mutual planning. 3 i Elscvicr Science Publishers. All~sterdaI~~. I992 ) I h9- 185. in: F. Polat. S. Shekhar and A. Guvenir, I~~~trib~lted conflict resolution among cooperating expert systems. 1u ( 1993 ) 1-27 -136. Eqww sw M.E. Pollack, Philadelphia. PA ( 1986). M.E. Pollack. Inferring domain plan\ 111 quc\tion-nlr~w~ring, Ph.D. Thesis. University of Pennsylvania, Inferring domain plans 111 questIon-;lns\Yerrnp. Tech. Rept. MS-CIS-86-10. Department 01’ Computer Science and Information Scicncc. Moore School. University of Pennsylvania. Philadephia, PA ( 19X6). ME. Pollnck. A model of plan inttirence that distinguishes between the beliefs of actors and observcrc, in: l’~~)[,e~~~~tl,~.s .?dth :tt~illf~l~ ,~~~{,~i~l~ CIT rlw ~,~.s,~~~(.i~~tj(j~f ( 19%) 207-Z I-1 M.E. Pollack, Plans as wrnpl~~ awudcs. rncrttal I,): (MIT Press. Cambridge, MA, 1990). Itzw/lfim.~ irr (‘or,l,rlur]ic,ritio,l A. Km and M. Gcorgeff, Modelling Inierr~cctionrrl C‘orr/ererrw OH Priwiplo.~ of K~CIIW~P~~L~ Repwrenrcrtim ( I99 I ) 473.-J83. S.J. Russell antI Principles of rn&-reasoning. E.H. W&Id. in: ,#or Co,tz17~rciritrtitrl l,ir~~~~~~,st~(.,~, NW York I?N Cohen, J.L. Morgan and M.E. Pollack, cds.. rational agents within bdi architecrurc. in: Prrmwfin~s Srwml (utd Remor~in~. Cambridge, MA (~i~rrfrr-urn,,, m ~~~~I(.~/~~~~.s 01 K/i~)~~~~,~~~~~, R~,~~~‘“r.~~?f’“(“” tmd R~~~~~s~~~~j~~~. S.J. Russell and I? Norvig. ,~rr~fj~;~~~ ~~~r~~/i,~~~~~~.~~; ,I ~f~)~~~~r/i /~~?~?~~~~~~,~z I’rzwwtlirtg.~ I;ir_ri l~~t~r~~rf;f)rf(~l Toronto, C&t. ( t 989) 400-4 1 I. ( Prentice Hall, Englewood Cliffs. NJ. 1994) J.R. Searle, CollecGve intentions and actions, m. ltuztt/conr VI (.~,rtmfu,rrcclrictt~ (MIT Press, Cambridge. MA. 1990) Chapter 19. 0. Shehory and S. Kraw. Task allocation vn* coalition formation among autonomous agents, in: C.S. Mellish, ed., Proc~erdinp Y. Shoham, Agent-oriented programmmg. Artit. E. Sonenberg. G. Tidhar. E. Werner, I>. Kinny. M. Ljungberg and A. Rno. Planned team activity, Tech. /II~P//. 60 ( 1993) 51-92. /JCA/-YS. Montreal. Que. ( 19951 655-661. Rept. 26, Australian Artificial K.P. Sycara, Resolving goal conflicts via negotiation, in: P~~~~~~~~I~~.~ ~4AA~-~~, St. Paul, MN Intelligence fnstitute t IYE). ( 1988) 235-250, B. Vermazen, Objects of imention. Pl1l10.1. Sitrtl. 71 c 1993) 223-265. E. Werner, Coopera6ng agents: a unified theory of communication and social structure, in: L. Gascer :md M.N. Huhns, cds.. Di.c/rihuted Artificicd ( Pitnxui London. 1987) 3 36 /~r/r//i,cyr~c~e. Research Notes on Anificial Intelligence 2 B.J. Grosz, S. Kraus/Artijiciul Intelligence 86 (1996) 269-3.57 357 [ 65 ] E. Werner, Toward a theory of communication and cooperation for multiagent planning, in: Proceedings Second Conference on Theoretical Aspects of Reasoning about Knowledge, Pacific Grove, CA (1988) 129-143. [ 66 1 M. Wooldridge and N.R. Jennings, Formalizing the cooperative problem solving process, in: Proceedings I3th inre~~utio~al Wor~.~hop on D~.~tributed intelligence, Lrtke Quinalt, WA ( 1994) 403-4 17. / 671 G. Zlotkin and 3.S. Rosenschein, Cooperation and conflict resolution via nego~ation among autonomous agents in noncooperative domains, IEEE Trans. Syst. Man Cybernet. 21 ( 1991) 1317-l 324. 