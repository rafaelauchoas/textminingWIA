ELSEVIER. Artificial Intelligence 102 (1998) 143-155 Artificial Intelligence A unifying approach to temporal constraint reasoning Peter Jonsson *, Christer Biickstriim ’ Department of Computer and Information Science, Linkiiping University, S-581 83 LinkOping, Sweden Received 25 September 1997 Abstract We present a formalism, Disjunctive Linear Relations constraints. DLRs subsume most of the formalisms the literature and is therefore computationally Horn DLRs, which have a polynomial-time to tractable algebra by Nebel and Btirckert and the simple temporal constraints by Dechter et al. Thus, DLRs is a suitable unifying formalism for reasoning about temporal constraints. 0 1998 Elsevier Science B.V. All rights reserved. for reasoning about temporal in type of DLRs, satisfiability problem. We prove that most approaches the ORD-Horn (DLRs), for temporal constraint expensive. We also present a restricted temporal constraint reasoning can be encoded as Horn DLRs, including reasoning proposed Keywords: Temporal constraint reasoning; Disjunctive linear relations; Complexity; Algorithms 1. Introduction Reasoning about temporal knowledge abounds [4,11]. In most applications, other areas, such as planning biology terms of collections of relations between tasks include determining from those formalisms; information., relations between in artificial intelligence [2], natural language understanding knowledge of temporal constraints applications and [23] and molecular in is expressed time intervals or time points. Typical reasoning the satisfiability of such collections and deducing new relations that are known. The research has largely concentrated systems of inequalities on and systems of constraints to encode quantitative to encode qualitative time intervals. Some attempts have been made to integrate quantitative time points in Allen’s [6,18,21] algebra on two kinds of [l] * Corresponding author. E-mail: petej@ida.liu.se. 1 Email: cba@ida.liu.se. 0004-3702/98/$39.00 0 1998 Elsevier Science B.V. All rights reserved. PII: SOOO4-3702(98)00031-9 144 R Jonsson, C. BZickstrtim /Art$icial Intelligence 102 (1998) 143-155 and qualitative is NP-complete from computational for Allen’s algebra difficulties. reasoning into unified frameworks [16,21]. Since the satisfiability problem the qualitative and unified approaches have suffered In response to the computational the TIMEGRAPH type of quantitative subalgebras have been proposed have later been extended with mechanisms example, a limited [22] which is the unique maximal relations. Hence, it would be especially information respect to its qualitative expressiveness. since the maximality II system in the literature [8,9,11,22,24]. for handling quantitative hardness of the full Allen algebra, several polynomial Some of these algebras For information. [24] with algebra all basic to extend this algebra with quantitative is the ORD-Horn tractable subclass of Allen’s algebra containing the pointisable interest [lo] extends interesting algebra information. Of special result would carry over to the new algebra, at least with To give a concrete form to the topic of temporal constraint the fictious crime scenario. Professor Jones has been found shot on the beach near following her house. Rumours tell that she was almost sure of having a proof that P # NP, but had not yet shown it to any of her colleagues. The graduate student Hill is soon to defend his thesis on his newly invented complexity class, NRQPx(I~)~, which would unfortunately be of no value were it to be known for certain thus one of the prime suspects and inspector Smith is faced with the following observations: to say, Hill is facts and that P # NP. Needless reasoning, consider to the post-mortem. Professor Jones died between 6 pm and 11 pm, according Mr Green, who lives close to the beach, is certain that he heard a gunshot sometime in the evening, but certainly after the TV news. The TV news is from 7.30 pm to 8.00 pm. A reliable neighbour of Hill claims Hill arrived at home sometime between 9.15 pm and 9.30 pm. It takes between 10 and 20 min to walk or run from the place of the crime to the closest parking It takes between 45 and 60 min to drive from this parking lot to Hill’s home. lot. The first thing to do is verifying obviously time of death to the interval between 8.00 pm and 11 pm, assuming Mr Green actually was the killing shot. the case here. We can also draw some further conclusions, that these facts and observations are consistent, which is the like narrowing the gunshot heard by Now, suppose inspector Smith adds the hypothesis murder at the time of the gunshot, which is only known to occur somewhere from 8.00 pm to 11 .OO pm. If the set of facts and observations becomes then inspector Smith can rule out Hill as the murderer. 2 inconsistent, that Hill was at the place of the in the interval together with this hypothesis This problem can easily be cast in terms of a temporal-constraint-reasoning and qualitative problem, and over it seems like this simple example cannot be solved by any of It can, however, be solved tractable methods reported in the literature. time points, relations intervals both quantitative involving durations. Unfortunately, the computationally in polynomial time by the method proposed in this paper. 2 Unfortunately, it seems like Hill will be in need of juridicial assistance. I? Jonsson, C. Biickstrtim /Artijicial Intelligence 102 (1998) 143%I55 145 We introduce a formalism, Disjunctive Linear Relations (DLRs), for reasoning about for temporal constraint problem including, in the literature e.g., Allen’s algebra. Consequently, temporal constraints. DLRs subsumes most of the formalisms reasoning proposed satisfiability must Linear Relations (Horn DLRs for short) which allows for polynomial-time checking. Horn DLRs subsumes for encoding quantitative different base our method upon managing thus abstracted away, the resulting algorithm the for DLRs is NP-complete. To reason efficiently about DLRs, one impose some type of restriction on the formalism. We present Hone Disjunctive satisfiability algebra and most of the formalisms is rather approaches. We tool for is information. Since most of the low-level handling of time points from the commonly used constraint network or graph-theoretic linear programming which proves in the literature. The approach to be a convenient the ORD-Horn is surprisingly information proposed temporal simple. and Bjtieland is in reasoning We strongly believe reasoning. One example in other areas of computer that Horn DLRs are useful science about action and change where to obtain that replacing Horn DLRs with It is worth noticing the in their approach seems nontrivial; to express disjunctions. Another example where Horn DLRs may be useful are et al. languages than temporal Drakengren computationally standard ability query [ 141 has some resemblance with Horn DLRs. [7] has shown how Horn DLRs can be used in deductive databases. For instance, the proposal by Kanellakis tractable formalisms. linear programming the method needs appeared [ 191, who published Parts of Ithis article have previously that some of the results were independently in a conference paper [12]. It should discovered by Manolis be acknowledged Koubarakis them at another conference only a few weeks after we first presentlzd our results. The paper is structured as follows. We begin by giving the basic terminology to complexity time algorithm algorithm, we show NP-completeness stated temporal constraint discussion of the results. issues in linear programming. We continue by presenting for deciding satisfiability of Horn DLRs. As a direct consequence of this of DLRs. After having results, we compare DLRs and Horn DLRs with a number of formalisms proposed in the literature. The paper concludes with a short and definitions used in the rest of the paper together with a brief introduction the polynomial- the complexity of deciding satisfiability 2. Prelimharies We begin by defining some different types of relations. Definition 1. Let X = (x1, . . . , x,) be a set of real-valued variables. Let a be a linear (i.e., a polynomial of degree one) over X and c an integer. A hear disequation polynomial over X is an expression of the form a! # c. A hear equality over X is an expression of the form CY = c. A linear relation over X is an expression of the form w-c where relation over X is an expression of the form olr,, c r E {-c, <, ==, #, 2, >}. A convexlinear where r, E ( -c , <, =, 3, > }. A disjunctive linear relation (DLR) is a set of one or more linear relations. 146 F! Jonwm, C. Bdckstriim /Art$cial Intelligence 102 (1998) 143-155 The restriction to integral coeffecients is not important in practice; integral (but rational) coeffecients can be transformed coeffecients by multiplication with suitable factors. to equivalent relations with non- relations with integral Example 2. The set (2x1 + x2 - x3 < 5,12x3 - 7x2 # 0, x2 = 5) is a DLR over &1,X2,X3}. It is no limitation to assume the right-hand sides of the relations a relation of the form o r /3 where a! and /I are linear polynomials equivalent relation of the form o’ r c where c is a constant. to be constants since can be rewritten as an We assume all sets of DLRs to be finite. The definition of satisfiability for DLRs is then straightforward. Definition 3. Let X = {XI, . . . , x,) be a set of real-valued variables and let R = {RI, _ . . , Rk] be a set of DLRs over X. We say that R is satisjiable of real values to the variables true. in X that makes at least one member of each Ri , 1 6 i < k, iff there exists an assignment For DLRs we have the following decision problem. Definition 4. The decision problem DLRSAT is defined as follows: INSTANCE: A finite set 0 of DLRs. QUESTION: Is 0 satisfiable? We continue by classifying different types of DLRs. Definition 5. Let y be a DLR. C(y) denotes disequations lC(y)( = 0. If y is convex or disequational we say that y is homogenous heterogenous. Furthermore, DLR. We extend these definitions r the in y . We say that y is convex iff lNC( y) 1 = 0 and that y is disequational iff and otherwise if lC(y) 1 < 1, then y is Horn and if 1 y 1 = 1, then y is a unit if is a set of DLRs and all y E r are Horn, then r in the obvious way. For example, the convex relations to sets of relations in y and NC(y) is Horn. This classification provides the basis for the forthcoming proofs. One detail to note is that if a Horn DLR is convex, then it is a unit DLR. For Horn DLRs we have the following decision problem. Definition 6. The decision problem HORNDLRSAT is defined as follows: INSTANCE: A finite set 0 of Horn DLRs. QUESTION: Is 0 satisfiable? For Horn DLRs, we restrict ourselves ,< and # in the relations. This is no loss of generality in terms of these two. For example, a DLR of the form (o < c) U D can be replaced by the two DLRs (a! 6 c) U D since we can express all the other relations to use only I? Jonsson, C. Biickstriim /Art$cial Intelligence 102 (1998) 143-155 147 and {x # y 1 U D. Observe that the resulting set can contain at most twice as many members as the original one so this is a polynomial-time transformation. Our metlhod for reasoning about DLRs is based on linear programming we begin b:y providing as follows. the basic facts needed. The linear programming problem techniques so is defined Definition 7. Let A be an arbitrary m x n matrix of integers and let x = (xl, . . . , x,) be an n-vector of variables over the real numbers. Then an instance of the linear programming (LP) problem is defined by: (min cTx subject to Ax 6 b} where b is an m-vector of integers and c an n-vector of integers. The computational is as follows: problem (1) Find an assignment and cTx is minimial to the variables x1, . . . , x, such that the condition Ax < b holds subject to these conditions, or (2) Report that there is no such assignment, or (3) Report that there is no lower bound for cTx under the conditions. Analogously, we can define an LP problem where the objective is to maximize cTx under the condition Ax < b. We have the following theorem. Theorem [ 171 or Karmarkar [ 151). 8,. The linearprogrammingproblem is solvable in polynomial time (I$ Khachiyan Note that convex unit DLRs can be Iexpressed as LP problems Next, we recapitulate some standard mathematical concepts. in a straightforward way. ‘9. Given two points x, y E IRY, a convex combination of x and y is any point Definition oftheformz=hx+(1-h)ywhereO~A.61.AsetScIWnisconvexiffitcontainsall convex combinations of all pairs of points x, y E S. Definition 10. A hyperpZane H in Rn is a non-empty ,set defined as {(Xl,..., xn)EIW”(alxl+...+a,xn=b) for some at, . . . , a,, b E IR. Definition defined by .4 and b is the set {x E Iw” 1 Ax < b). .Ll. Let A be an arbitrary m x n matrix and b be an m-vector. The polyhedron The connection between polyhedrons and convex sets is expressed in the following well- known fact. Fact 12. Every non-emptypolyhedron is convex. 148 I? Jonsson, C. BiickFtriim /Art$cial Intelligence 102 (1998) 143-155 3. Complexity of reasoning about DLRs In this section we prove DLRSAT algorithm HORNDLRSAT in polynomial for HoRNDLRSAT. We claim to be NP-complete and present a polynomial in Fig. 1 correctly time. The concept of blocking is defined as follows. that the algorithm solves Definition 13. Let A be a satisfiable set of DLRs and let )/ be a DLR. We say that y blocks A iff A U (d} is not satisfiable for any d E NC(v). Observe that if A U {y J is satisfiable and y blocks A, then there must exist a relation later time, 6 E C(y) such that A U {S} is satisfiable. This observation will be of great importance on. Another in polynomial provided that A consists of convex unit DLRs only. important property of blocking is that it can be decided Lemma 14. Let A be an arbitrary m x n matrix, b be an m-vector and x = (x1, . . . , x,) be an n-vector of variables over the real numbers. Let a! be a linear polynomial over x,, and c an integer. Deciding whether the system S = {Ax 6 b, cz # c} is satisjiable Xl,..., or not is polynomial. Proof. Consider the following instances of LP: LPI = {mina! subject to Ax < b}, LP2 = {maxa! subject to Ax <b). If LPl and LP2 have no solutions, If both LPl and LP2 yield the same optimal value c, then S is not satisfiable since every solution y to LPl and LP2 satisfies o(y) = c. Otherwise S is obviously satisfiable. Since we can solve the LP problem in polynomial time by Theorem 8, the lemma follows. q then S is not satisfiable. Corollary 15. Let A be a satisfiable set of convex unit DLRs and let y be a DLR. Deciding whether y blocks A or not can be decided in polynomial time. Observe that the convex relations in a set of Horn DLRs define a convex set in IlY . Furthermore, we can identify each disequation with a hyperplane motivate the next lemma. in XV. These observations 1 algorithm SAT( f > 2 A t U{C(y) ) y E F is convex} 3 4 5 6 if A not satisfiable then reject if 3y E r that blocks A and is disequational then reject if 3y E r that blocks A and is heterogenous then SAT((r - {y}) UC(y)) accept Fig. 1. Algorithm for deciding satisfiability of Horn DLRs. P: Jonsson, C. Biickstrijm /Artijicial Intelligence 102 (1998) 143-155 149 Lemma 161. Let S c IF’ be a convex set and let HI, . . _ , ffk G 8%” be distinct hyperplanes. Zf S s Uf=, Hi, then there exists a j, 1 < j < k, such that S s Hj. Proof. If it is possible from H and still have a union containing S, then do so. Let H’ = {Hi, set of hyperplanes. Every Hi E H’ contains some point ni of S not in any other Hj E H’. We . . , HA}, m < k, be the resulting minimal to drop one or more hyperplanes want to prove that there is only one hyperplane in H’. If this is not the case, consider the line segment L adjoining x1 and x2. (The choice of xt and ~2 is not important. Every choice of Xi and xj, 1 6 i, j < m and i # j, would do equally well.) By convexity it holds that L c S, so each H/ E H’ either contains L or meets it in at most one point. But no Hi’ E H’ can contain L, since it would then contain both x1 and x2. Thus, each Hi’ can have at most one point in common with L, so the rest that L c S G Uy=“=, Hi’. Hence, the of L cannat be a subset of Uy=“=, Hi’ which contradicts lemma follows. 0 A more complicated proof of the previous lemma appears in Lassez and McAloon [20]. We can now tie together the results and end up with a sufficient condition of Horn DLRs. for satisfiability Lemma 17’. Let r be a set of arbitrary Horn DLRs. Let C C r be the set of convex DLRs Dk) C r be the set of DLRs that are not convex. Under the inrandletD=(Dl,..., condition that C is satisfiable, r if Di does not block C for any 1 < i < k. is satis-able Proof. Pick one disequation di out of every Di such that {C, di) is satisfiable. This is possible since no Di blocks C. We show that r’ = {C, dl , . . . , dk) is satisfiable and, hence, r that di = (ai # ci) for each i, 1 < i < k. Define the hyperplanes HI,..., HA such that is satisfiable. Assume Hi = (X EIR’ [(Yi(X)=C}. Since every [C, di) is satisfiable, hence convex by Fact 12) is not a subset of any Hi. Suppose r’ is not satisfiable. Then the polyhedron P defined by C (which is non-empty and k P_UHi=0 ;=1 which is equivalent to i=l By Lemma 16, there exists a Hj, 1 < j < k, such that P 5 Hi. Clearly, so the lemma holds. q our initial assumptions, this contradicts It is important to note that the previous satisfiability of Horn DLRs. Now, we need an auxiliary of an observation previously made. lemma does not give a necessary condition for lemma which is a formal version 150 I? Jonsson, C. Biickstriim /ArtQicial Intelligence 102 (1998) 143-155 Lemma 18. Let r be a set of Horn DLRs and let C E r be the set of convex DLRs in r. Zf there exists a heterogenous DLR y E r such that y blocks C, then r iff (r - {v}) UC(y) is satisfiable. is satisfiable Proof. If: Trivial. If r Only-if is satisfiable, satisfied in any solution of r. then y has to be satisfiable. Since y blocks C, C(y) must be q Proving soundness and completeness of SAT is now straightforward. Lemma 19. Let r be a set of Horn DLRs. Zf SAT(r) accepts, then r is satisfiable. Proof. Induction over n , the number of heterogenous DLRs in r . Basis step: If n = 0 and SAT(r) accepts, then the formulae in A are satisfiable and there does not exist any y E r that blocks A. Consequently, r is satisfiable by Lemma 17. the claim holds for n = k, k 3 0. Induction hypothesis: Assume Induction step: r contains k + 1 heterogenous DLRs. If SAT accepts in line 5, then - {v)) U C(y), which contains k heterogenous DLRs, is satisfiable by the induction (r hypothesis. By Lemma 18, this is equivalent in line 6, then there does not exist any disequational or heterogenous y E r which blocks A. By Lemma 17, this means that r to r being satisfiable. If SAT accepts is satisfiable. q Lemma 20. Let r be a set of Horn DLRs. Let C s r be the set of convex DLRs in r. rf there exists a disequational DLR y E r that blocks C, then r is not satisjable. Proof. disequational In any solution to r, the relations in C U {y} must be satisfied. Since )/ is and blocks C this is not possible and the lemma follows. q Lemma 21. Let r be a set of Horn DLRs. Zf SAT(r) rejects, then r is not satisfiable. Proof. Induction over n , the number of heterogenous DLRs in r . Basis step: If n = 0 then, SAT can reject in lines 3 and 4. If SAT rejects in line 3, then, trivially, r is not satisfiable. If SAT rejects in line 4, then there exists a disequational y E r that blocks A. Hence, r is not satisfiable by Lemma 20. the claim holds for n = k, k 3 0. Znduction hypothesis: Assume Induction step: r contains k + 1 heterogenous DLRs. If SAT rejects in line 3, then r is not satisfiable. If SAT rejects in line 4, then r is not satisfiable by Lemma 20. If SAT rejects in line 5, then (r - (v}) UC(y), which contains k heterogenous DLRs, is not satisfiable by the induction hypothesis. By Lemma 18, this is equivalent to r not being satisfiable. 0 Finally, we can show that SAT is a polynomial-time algorithm and, thus, show that HORNDLRSAT is a polynomial-time problem. Theorem 22. Horn DLRSat can be solved in polynomial time. R Jonsson, C. B~ckstriim /Art$cial Intelligence 102 (1998) 143-155 151 Proof. By Lemmata 19 and 2 1, it is sufficient to show that SAT is polynomial. The number of recursive calls is bounded by the number of heterogenous DLRs in the given input. By time. Since this has to be Corollary 1.5, we can decide the blocking property in polynomial the theorem follows. q decided only a polynomial number of times in each recursion, By using the previous theorem, we can now show that DLRSAT is NP-complete. Theorem ;!3. DLRSAT is NP-complete. the satisfiability finite set of DLRs. If 0 Proof. Let 0 ={@I,..., &) be an arbitrary then for each i, 1 6 i 6 n, there exists a linear relation yi E 0i such that r = { ~1, . . . , yn} is by Theorem 22. Thus, given satisfiable. Checking in polynomial 0 we can let r be the non-deterministic time. Consequently, DLRSAT is in NP. NP-hardness from 3- COLOURABILITY. For each vertex u we introduce a DLR of the form {v = 0, u = 1,~ = 2} to ensure that v is coloured by one of three colours. To guarantee that adjacent vertices are not coloured with the same colour, add a DLR {u # w } for each edge (u, w). q is polynomial guess which can be checked follows trivially by reduction is satisfiable, of r 4. Temporal constraint reasoning We begin this section by showing temporal constraint general most of the proposed methods for tractable reasoning about temporal constraints. for reasoning. Furthermore, we show that Horn DLRs subsumes several proposed methods that DLRs subsumes In the sequel, let x, y be real-valued variables, c, d constants and A Allen’s algebra [I]. It is trivial to see that the DLR language subsumes Allen’s algebra. Furthermore, the universal language by Kautz and Ladkin which is defined as follows. temporal it subsumes Definition 24 (Kautz and Ladkin augmented with formulae of the form -crl(x endpoints of intervals. [16]). The universal language consists of A - y)rzd where rl, r2 E { <, 6) and x, y are temporal DLRs also subsumes the quulititutive algebra (QA) by Meiri [21]. In QA, a qualitative constraint disjunction of the form between two objects Oi and Oj (each may be a point or an interval), is a where each, one of the ri ‘s is a basic relation that may exist between three types of basic relations. two objects. There are that can hold between a pair of intervals. These relations (1) Interval-interval correspond (2) Point-point correspond relations to Allen’s algebra. relations to the point algebra [25]. that can hold between a pair of points. These relations (3) Point-interval and interval-point relations that can hold between a point and an interval and vice versa. These relations were introduced by Vilain [25]. 152 l? Jonsson, C. Btickstriim /Art$cial Intelligence 102 (1998) 143-155 Obviously, DLRs subsumes QA. Meiri also considers QA extended with quantitative constraints intervals. let x1, . . . , x,, be time points or endpoints of of the following two forms: l (Cl <Xl <4)v ..,V(Cl <xn<dl); 0 (C1~X,-~~~d])v~~~v(C1~Xn-xn_l~dl). Also this extension satisfiability problem for all of these formalisms the different restrictions imposed on these formalisms to DLRs, especially since they do not reduce the complexity of the problem. to QA can easily be expressed as DLRs. It has been shown that the [ 16,21,26]. In retrospect, is NP-complete seem quite artificial when compared We continue by showing reasoning. temporal constraint that Horn DLRs subsume several tractable methods for Definition 25 (Nebel and Btirckert [22]). An ORD clause is a disjunction of relations of the form xry where I E (<, =, #). The ORD-Horn subclass those relations in A that can be written as ORD clauses containing only disjunctions with at most one relation of the form x = y or x < y and an arbitrary number of relations of the form x # y . ‘Ft contains Note that the ORD-Horn class subsumes both the continuous endpoint algebra [26] and the pointisable endpoint algebra [24]. Definition 26 (Koubarakis on either of the forms (1) (x - y)rc, (x-y)#corx#c. [ 181). Let r E (<, 3, #}. A Kuubarukis formula is a formula (2) xrc or (3) a disjunction of formulae of the form Definition 27 (Dechter et al. [6]). A simple temporal constraint is a formula on the form c < (x - y) <d. Definition 28 (Kautz and Ladkin form --crl (x - y)r;?d where rl, r2 E { <, <}. [16]). A simple metric constraint is a formula on the Definition 29 (Meiri following is a formula on one of the two forms: (1) crl (x - y) r2 d; or (2) x r y where r E { <, <, =, #, 3, >) and [21]). A CPA/single interval formula rl, r2 E I<, <I. Definition 30 (Gerevini et al. [lo]). A TG-II formula forms: (1) c < x < d, (2) c < x - y < d or (3) x r y where r E { <, 6, =, #, 3, >). is a formula on one of the following The tractable formalisms defined in Definitions 25-30 can trivially be expressed as Horn DLRs. Beside these six classes, other temporal classes that can be expressed as Horn DLRs include the approach by Barber [3], the have been identified by different authors. Examples algebra V23 for relating points and intervals by Jonsson et al. [ 131 and the temporal part of TMM by Dean and Boddy [5]. Also note that Golumbic and Shamir [ 1 l] and Drakengren and Jonsson further tractable classes that cannot (in any obvious way) be [8,9] consider F! Jonsson, C. Bdckstriim /Artificial Intelligence 102 (1998) 143-155 153 transformed Horn DLRs is especially into Horn DLRs. The finding that the ORD-Horn algebra can be expressed as important in the light of the following theorem. Theorem 31 (Nebel and Btirckert basic relations. Then either [22]). Let S be any subclass of A that contains all (1) S C 7-l and the satisjiability problem for S is polynomial, or (2) satir$ability for S is NP-complete. By the previous theorem, we cannot expect to find tractable classes that are able to in A and, at the same time, are able to handle any single relation handle all basic relations that cannot be expressed as a Horn DLR. 5. Discussion Several researchers in the field of temporal constraint reasoning have expressed a feeling that their proposed methods should be extended so they can express relations between more than two time points. As a first example, Dechter et al. [6] write “The natural extension of this work is to explore TCSPs with higher-order (e.g., “John drives to work at least 30 minutes more than Fred does”; X2 - X1 + 30 6 X4 - X3). . .“. Even though they do not define the exact meaning of “higher-order expressions” we can notice that their example is a simple Horn DLR. Something similar can be found in [ 181 where Koubarakis wants to express “the duration of interval I exceeds the duration of interval J”. Once again, this can easily be expressed as a Horn DLR. These claims seem to indicate that the use of Horn DLRs is a significant contribution to temporal reasoning. expressions that problem We have shown are computationally for Horn DLRs can be solved linear programs which are available the satisfiability time. However, the method builds on solving polynomial spread belief that such calculations for solving truth any longer. These packages easily solve linear programs containing variables and tens of thousands of constraints. Nevertheless, proposed rnethod cannot outperform highly specialized algorithms classes. It should be likewise obvious Horn DLR.s in terms of expressivity. We are, as always the trade-off between expressivity that the complexity better alga~rithms than SAT. The algorithm SAT is constructed its correctness proofs and it is not optimized with respect to execution in linear programs and it is a wide- heavy. The commercial packages today shows that this is not an absolute thousands of that the for severely restricted that the specialized methods cannot compete with facing in tractable though, improved by devising in a way that facilitates reasoning, complexity. We believe, it is fairly obvious can be drastically and computational time in any way. of deciding satisfiability Throughout time to be dense. One question this paper we have assumed this may not be the case in real applications. For example, assume changing reasoning time, however. Meiri where integer time satisfiability that time is linear, dense and unbounded but in a sampled system we cannot is what the effects of time will probably make discrete reasoning problems of time are. Switching harder. There are some positive [21] presents a class of temporal constraint the assumptions computationally in the future to discrete results concerning is polynomial. to answer 154 p Jonsson, C. BSickstriim /Artificial Intelligence 102 (1998) 143-155 6. Conclusion We have suggested DLRs as a formalism for reasoning about temporal constraints. We for temporal constraint have shown that DLRs subsumes most of the formalisms proposed in the literature. A restricted polynomial-time temporal constraint algebra by Nebel and Btirckert and the simple temporal constraints by Dechter et al. type of DLRs, Horn DLRs, has been shown to have a to tractable the ORD-Horn satisfiability problem. We have proved that most approaches can be encoded as Horn DLRs, including reasoning reasoning Acknowledgements We would like to thank Marcus Bjareland, Thomas Drakengren and the anonymous for discussions and valuable comments. We are also indebted reviewers Waterhouse who improved our original proof of Lemma 16. This work has been sponsored by the Swedish Research Council for the Engineering Sciences (TFR) under grants Dnr. 92-143,93-291,95-731,96-737 to William C. and 97-301. References [l] J.F. Allen, Maintaining knowledge about temporal [2] J.F. Allen, Temporal and planning, reasoning intervals, Comm. ACM 26 (11) (1983) 832-843. in: J. Allen, H. Kautz, R. Pelavin, J. Tenenberg (Eds.), Reasoning about Plans, Morgan Kaufmann, San Mateo, CA, 1991, pp. l-67. [3] EA. Barber, A metric time-point and duration-based 141 S. Benzer, On the topology of the genetic fine structure, Proc. Nat. Acad. Sci. USA (1959) 1607-1620. [5] T. Dean, M. Boddy, Reasoning about partially ordered events, Artificial Intelligence 36 (1989) 375-399. [6] R. Dechter, I. Meiri, J. Pearl, Temporal constraint networks, Artificial [7] T. Drakengren, M. B&eland, Reasoning about action in polynomial temporal model, SIGART Bull. 4 (3) (1993) 30-49. Intelligence 49 (1991) 61-95. time, in: Proceedings 15th International (IJCAI-97), Morgan Kaufmann, San Mateo, CA, 1997, pp. 1447- Joint Conference on Artificial Intelligence 1452. [8] T. Drakengren, P. Jonsson, Eight maximal tractable subclasses of Allen’s algebra with metric time, J. Artif. Intell. Res. 7 (1997) 25-45. [9] T. Drakengren, P. Jonsson, Twenty-one large tractable subclasses of Allen’s algebra, Artificial Intelligence 93 (1997) 297-319. [lo] A. Gerevini, L. Schubert, S. Schaeffer, Temporal reasoning in Timegraph I-II, SIGART Bull. 4 (3) (1993) 21-25. [11] M.C. Golumbic, R. Shamir, Complexity and algorithms for reasoning about time: a graph-theoretic approach, J. ACM 40 (5) (1993) 1108-l 133. [12] P. Jonsson and C. BLckstrom, A linear-programming National Conference on Artificial Intelligence [13] P. Jonsson, T. Drakengren, C. Backstrom, Tractable approach to temporal reasoning, in: Proceedings 13th (AAAI-96). Portland, OR, 1996, pp. 1235-1240. subclasses of the point-interval algebra: a complete and classification, Reasoning @X-96), Morgan Kaufmann, San Mateo, CA, 1996, pp. 352-363. in: Proceedings 5th International Conference on Principles of Knowledge Representation [14] P.C. Kanellakis, G.M. Kuper, PZ. Revesz, Constraint query languages, J. Comput. Syst. Sci. 5 1 (1) (1995) 2652. [15] N. Karmarkar, A new polynomial [16] H. Kautz, P. Ladkin, Integrating metric and temporal qualitative time algorithm for linear programming, Combinatorics reasoning, temporal 4 (1984) 373-395. in: Proceedings 9th National Conference Artificial Intelligence (AAAI-91), Anaheim, CA, 1991, pp. 241-246. [17] L.G. Khachiyan, A polynomial algorithm in linear programming, Soviet Math. Dokl. 20 (1979) 191-194. fl Jonsson, C. Biickstriim /Artificial Intelligence 102 (1998) 143-155 1.55 [IS] M. Koubarakis, Dense time and temporal constraints with #, in: Proceedings 3rd International Conference on Principles of Knowledge Representation and Reasoning &R-92), 1992, pp. 24-35. [19] M. Koubarakis, Tractable disjunctions of linear constraints, on Principles and Practice for Constraint Programming, 1996, pp. 297-307. in: Proceedings 2nd International Conference [20] J.-L. Larsez, K. McAloon, A canonical form for generalized linear constraints, J. Symbolic Logic 13 (1992) 1-14. [21] I. Meiri, Combining qualitative and quantitative constraints in temporal reasoning, Artificial Intelligence 87 (l-2) (1996) 343-385. [22] B. Nebel, H.-J. Biirckert, Reasoning about temporal relations: a maximal tractable subclass of Allen’s interval .algebra, J. ACM 42 (1) (1995) 43-66. [23] E Song. R. Cohen, The interpretation Conference on Artificial Intelligence (AAAl-88), 1988, pp. 745-750. of temporal relations in narrative, in: Proceedings 7th National 1241 P. van Beek, R. Cohen, Exact and approximate reasoning about temporal relations, Comput. Intell. 6 (3) (1990) 132-144. [25] M.B. Vilain, A system for reasoning about time, in: Proceedings 2nd National Conference on Artificial Intelligence (AAAI-82), Pittsburgh, PA, 1982, pp. 197-201. [26] M.B. Vilain, H.A. Kautz, P.G. van Beek, Constraint propagation algorithms for temporal reasoning: a revised in Qualitative Reasoning about Physical Systems, Morgan Kaufmann, San Mateo, CA, report, in: Readings 1990, pp. 373-381. 