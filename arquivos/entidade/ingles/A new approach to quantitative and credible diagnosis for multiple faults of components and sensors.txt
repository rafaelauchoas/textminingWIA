ELSEVIER Artificial Intelligence 91 (1997) 103-130 Artificial Intelligence A new approach to quantitative and credible diagnosis for multiple faults of components and sensors T. Washio a**, M. Sakumab, M. Kitamurab a hstitute of Scientijc and Industrial Research, Osaka University, 8-l Mihogaoka, Ibaraki, Osaka 567, Japan b Nuclear Engineering Department, Faculty of Engineering, Tohoku University, Sendai, Miyagi 980, Japan Received April 1996; revised September 1996 Abstract Many practical applications of system diagnosis require the credible identification of multiple faults of nonlinear components and sensors in quantitative measures. However, the state of the art of diagnosis technique is considered to be still insufficient to meet these severe requirements. The approach of diagnosis using the traditional linear system identification theory can diagnose the disturbled parameters of a system in detail and evaluate the quantitative amplitude of the disturbance. However, it hardly provides the diagnosis of the multiple faults and the diagnosis of the components having high nonlinearity. On the other hand, some recent model-based diagnosis approaches can diagnose the multiple faults even for highly nonlinear components, though they involved in components and the do not provide the detailed diagnosis of elements indivisibly quantitative: amplitudes of the faults. The method proposed in this paper provides an efficient remedy to achieve all of the practical requirements, i.e., the credible, detailed and quantitative diagnosis of multiple faults of nonlinear components and sensors. Our study newly proposes the frameworks of optimal constraints and causal ordering of physical systems. Also, a systematic and strict theory to synthesize these frame- works together with the model-based diagnosis is provided to characterize an optimal consistency checking method in diagnosis and to evaluate quantitative amplitudes of faulty disturbances. First, the detection of faulty behaviors of an objective component is performed based on the quantitative consistency checking between observations and the optimal constraints, called as “minimal over- constraints”, consisting of first principles in the components. Second, once if some inconsistencies are detectesd, a mathematical operation of model-based diagnosis derives the candidates of faulty elements and functions even under multiple fault conditions. Third, the anomalous quantities di- rectly dishtrbed by the faulty elements are identified systematically based on causal ordering. * Corresponding author. E-mail: washio@sanken.osaka-u.ac.jp. 0004-3702/97/$17.00 @ 1997 Elsevier Science B.V. All rights reserved. PIISOOO4-3702(96)00060-4 104 T. Washio et al./Art@cial Intelligence 91 (1997) 103-130 Furthermore, the quantitative deviations of these quantities are evaluated by using the minimal over-constraints. The performance of the proposed method is demonstrated through an example to diagnose an electric water heater. The ability of this diagnosis has been confirmed for the multiple faults in nonlinear and dynamic systems. @ 1997 Elsevier Science B.V. Keywords: Model-based diagnosis; Multiple faults; Minimal over-constrained subset; Causal ordering; Assumptive structural equation; First principle; Function; Process system 1. Introduction The diagnosis of anomaly is requested applications nonlinear states is strongly needed such as nuclear power plants and air planes. The diagnosis require components The methodologies the credible, detailed and on-line and sensors of diagnosis in quantitative measures. so far can be categorized in systems where high reliability tasks in those faults of identification of multiple proaches based on the traditional approaches based on the recent theories and techniques developed gence field. The latter can be further categorized based on knowledge and pattern ecognision constraints of normal systems [ 10,16,22,32], (b.2) model-based of fault modes [28], and identification [ 7,8,10,23]. theory [ 3,9,24] in the artificial (a) ap- and (b) intelli- rules into (b. 1) synthesis of diagnostic [ 201 engine generic diagnostic checking of causal consistency proposed linear system into Generally speaking, the methods (a) can diagnose it hardly provides amplitude of a the disturbed parameters of the disturbance under a the diagnosis of the multi- having high nonlinearity. On the other faults even for highly non- on (b. 1) the methods they use a priori to di- they the multiple can also provide detailed diagnosis and sensors. However, faults, since (b.2) have an advantage of fault modes, to unpredictable the methods the detailed diagnosis of elements amplitudes of the faults. Also, many of the methods faults without using knowledge though in components (b.2) assume in a system can be probed. How- in most of process systems are initially designed and indivisibly involved that states at any point the quantitative of sensors. However, in detail and evaluate (b) can diagnose Some methods of (b.1) and parts in components system given arrangement ple faults and the diagnosis of the components hand, most of the methods linear components. disturbed parameters have limitations knowledge agnose any unexpected do not provide and the quantitative a diagnostic ever, the arrangement fixed. of their applicability of fault modes. In contrast, environment of sensors Accordingly, the state of the art does not provide an efficient remedy which addresses all of the following requirements. (i) Diagnosis of highly nonlinear (ii) diagnosis of elements (iii) diagnosis of multiple element (iv) quantitative (v) diagnosis under a given arrangement of sensors. components, involved faults including diagnosis of fault amplitudes, indivisibly in components, sensor faults, ‘I Washio et al. /Art$cial Intelligence 91 (1997) 103-130 105 in the objective of (i) , (iv) and (v) these issues. For example, system meet the requirements Some past works tried to address the works based on the diagnosis and the use of a nonlinear quantitative model of the principle of the model-based the objective main purpose of these works is the identification the issues of (ii). The of the components the integrity of sensors other researches since the installed in some operation conditions of nuclear power reliability of sensors plants and1 air planes, where e.g., high pressure and/or mechanical vibration. However, most of the methods require some assumptions and do not solve the issue of (iii). in the field of “sensor validation” in the objective system have been reported is not maintained system and not to address to diagnose in many literatures such as integrity of some specific sensors and no faults in the components, to the severe environments, the sensors are exposed of the fault location [21,31]. However, in the granularity [ 3,9], This research proposes a generic method to overcome all of the issues previously component category of (b.2) is utilized faults of elements for diagnosis is represented in which only by and dynamic. The approach the to provide a highly credible in of and causal these an to synthesize to characterize involved indivisibly under a given arrangement theory is provided can be diagnosed the frameworks of optimal constraints and strict diagnosis of first principles which may be nonlinear to the aforementioned the multiple here belongs that the objective stated under a premise the constraints presented knowledge of the model of a normal component result. Nevertheless, diagnostic: nonlinear components and dynamic sensors. Our study newly proposes ordering of physical frameworlks optimal consistency of faulty disturbances. example problem section, demonstrated section, throughout for the demonstration tlhe theory of each reasoning mechanism the example. systems. Also, a systematic the model-based In the subsequent together with through the overview of our method and an In the third this paper are described. is is explained, and its applicability checking method in diagnosis and to evaluate quantitative amplitudes 2. Overview of method and application Fig. 1 shows the outline of the diagnosis method we propose. The knowledge in advance at the blocks of (A), is prepared reasoning in off-line manners. First, a model consisting including of the objective component type of optimum constraints [ 27,29,30]. in high resolution (C) (A), a certain in the diagnostic quired and normal condition block fault identification correspondence component quantities for physical termination derived based on the information (C) are prepared expertise is prepared. Block systematically in the objective component systems of the values of quantities [ 25-27,29,30]. of first principles its sensors is derived from the model In block (B), under is given. Then re- (B) the in to enable the knowledge of the in the objective among theory of causal ordering the orders of the de- is (A) and (B) depends on some by using an extended This knowledge [ 11,12,19]. All of the diagnostic knowledge represents of the normal component. The knowledge by off-line processing, while between a set of first principles is to derive (C) and a set of functions the knowledge of dependency 106 T Washio et al. /Artificial Intelligence 91 (1997) 103-130 (A) knowledge of minimal over-constrained subsets (C) knowledge of causality (1) identification of faulty mechanisms based on consistency checking between observations and consUaint.s (2) identification of faulty functions through intelpretaticm of faulty tist principles (3) identification of anomalous quantities and their quantitative deviations Fig. 1. Entire procedure of a proposed diagnosis method. (A). process [ 5,7,18] checking diagnosis resolution to identify information of installed is performed faulty elements in the knowledge and the knowledge In reasoning block that the arrangement based on the quantitative is applied. The constraints the diagnosis proceeds of faults ( 1 ), (2) and the identification blocks of the consistency the conditions checking between are detected, consistency If some inconsistencies is started, in the order of the reasoning the operation of the component of dynamic component behaviors are not available without using in the objective in on- (3) ( 1 ), the detection of faulty behaviors of an objective the the (A) are to have the in terms is ini- and that any quantitative the com- and the sensors’ observations. Reasoning block (2) derives a set of first prin- into Once component line manners. component observed model-based named as minimal over-constrained subsets [ 27,29,30]. They are defined maximum of first principles under tially given and fixed during expectations ponent description suspicious ciples and the knowledge suspicious diagnosis and the knowledge of the correspondence functions. In the final reasoning block by the faulty first principles i.e., the dependency viations of these anomalous quantities on-line processing blocks diagnosis procedure and the the anomalous quantities directly disturbed (C), the quantitative de- (A). The the algorithm of the model-based the first principles in reasoning search, while the model-based through some operations on the resultant set of suspicious ( 1) and (3) does not require any combinatorial required to derive diagnoses ( 1) and (2) has the most computational are evaluated based on the knowledge checking and the deviation evaluation in the objective system by using are identified among the quantities. Furthermore, based on the knowledge from the inconsistency In short, suspicious for the consistency are interpreted first principles systematically information. information complexity in blocks functions functions between sensors in the (B). (3)) The performance of the proposed method is exemplified through in Fig. 2. A resistant wire is electrically the diagnosis of an from the shielded and its resistance has a nonlinear feedback effect from water temperature. electric water heater depicted surroundings, Z Washio et al. /Artificial Intelligence 91 (1997) 103-130 111 the measurements of sensors. Though each of them is quite simple where * indicates stating only that the observed value of a sensor is equal to the actual value, the addition of these cIonstraints enables the component the separation of the sensor failures. The constraint-quantity matrix Q becomes as follows failures from ( Ip Is I R V Fj, H kt T I; 1; v* M* T* \ 101000000000 011000000000 0 0 1 1 1 0 0 0 0 0 0 0 001011000000 000001 100000 Q= 0 0 0 0 0 0 1 1 1 0 0 0 000100001000 100000000100 010000000010 000010000001 000000010000 \o 0 0 0 0 0 0 0 1 0 0 0 . (13) 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 1) The rows correspond to Eqs. ( 1) -( 12). Step Pl of the aforementioned procedure converts this matrix to the following Q’ by removing the lOth-14th columns. Ip Is I R V Fh H M T 101000000 011000000 001110000 001011000 000001100 Q’ = 000000111 (14) 000100001 100000000 010000000 000010000 000000010 0 0 0 0 0 0 0 0 1, As every row has some nonzero elements, step P2 is skipped. Step P3 in the loop derives a number of over-constrained subsets C”. Some examples of C” are 112 I: Wushio et al. /Artificial intelligence 91 (1997) 103-130 C3 = {1,2,8,9}, C4 = {1,2,7,8,9}, C5 = {1,3,7,8,10,12}, C6={1,2,3,7,8,9,10,12}. In step P4, only the minimal over-constrained subset which is a super set of any other over-constrained over-constrained example of Eq. ( 15), C4 and C6 are super sets of C3 and C5 respectively. Accordingly, C4 and C6 are removed. By continuing the following 10 minimal over-constrained subsets are obtained. this process, finally subsets are rested by removing every subset. In the (15) M3 = {1,2,8,9}, M~={1,3,7,8,10,12}, M; = {2,3,7,9,10,12}, M~={1,4,5,6,8,10,11,12}, M; = {2,4,5,6,9,10,11,12}, M;={3,4,5,6,7,10,11,12}, M~={1,3,4,5,6,7,8,10,11}, M;={1,3,4,5,6,7,8,11,12}, M;={2,3,4,5,6,7,9,10,11}, Mi = {2,3,4,5,6,7,9,11,12}. 3.3. Consistency checking (16) of a systematic scheme of the consistency Some definitions checking are presented for the establishment first. The deletion of a constraint c from SD is defined as an oper- Definition 4 (Deletion). ation to remove the c while leaving the quantities involved in the c. Definition 5 (Self-contained SD in which the number of undetermined while each constraint in the subset. is mutually connected subset [ 12, 191). A self-contained quantities is identical to that of the constraints the other quantities and constraints through subset is a subset of A self-contained subset determines if the deletion of Eq. ( 10) in the minimal over-constrained resultant constraints in the M: become as follows. the values of its quantities by itself. For example, the subset Mz is performed, Z Washio et al./Art$cial Intelligence 91 (1997) 103-130 107 to a power supply * stands for observations by sensors. Fig. 2. An electric water heater. The Water is assumed to be always mixed well to avoid temperature. The physical model of this process component principles as follows. the spatial is expressed fluctuation of its in terms of first 1 = I,, , zg = I, V = l’RR, Fh = w, H = j-L, Fi,dt, T = H/( CM), R = I’ + k(T - tc)2, (1) (2) (3) (4) (5) (6) (7) 0 I,: electric currents of a power supply, 0 I: electric currents of a resistant wire, l Z,: electric currents of the ground, l R: resistance of the resistant wire, l V: voltage of the resistant wire, l Fh: heat generation l H: contained heat of water, l M: mass of water, l T: tejmperature of water, l c (= 4.2J/cal): l t, (= 3OOK): standard l r (= 1OOsZ): resistance of the wire at tc, temperature l k (= 5R/K2): temperature, rate of the resistant Wire, specific heat coefficient of water, coefficient of the wire. 108 T Washio et al./Ar~ijcial Intelligence 91 (1997) 103-130 This example has the characteristics haviors feedback the generality of our proposing method. of nonlinearity, to demonstrate loops and dynamic be- 3. Minimal over-constrained subsets and failure identification 3.1. Definition of minimal over-constrained subsets The past methods of the model-based (i) Systematic (ii) The of the number limitation criteria to select the constraints for the use are not well defined. taken the location of sensors is not into and diagnosis have the following issues. account. The first issue has been addressed by de Kleer et al. [4,6]. His approach steps. On the other hand, only is to the limited number in components of the process systems such as in the second issue must be also addressed aspect. In this case, the most effective constraints for giving high resolution information to generate partial conflicts results under the limited resource should be selected instead of the best efficiency. For this purpose, Biswas and Yu proposed an approach in the linearity and steady state of in this section addresses both issues and dynamic process components. the maximum giving is to derive a set of constraints their approach assumes for each measurement its applicability quantity faulty elements by using the information of sensor arrangement in probing checking faults at minimum identify of sensors are provided at specific points nuclear power plants and air planes. Hence, theoretical of diagnostic ones having of consistency [ 21. However, process systems the objective components. Our approach explained while maintaining to the nonlinear The key idea of our approach to identify resolution the components. First, Reiter’s [ 181. A system system description, our approach, of a component normal behaviors of the component. framework: Accordingly, Eqs. ( 1 )-( 7) belong in SD are always over-constrained of initially component. Especially, the sense of the number of elements resolution are proposed framework of the system definition is a triple in the consistency [ 27,29,30], each constraint belongs the system components each constraint In addition, c standing to SD, (SD, COMPS, OBS) where is introduced for general discussion for a first principle and a set of observations, respectively. the abbreviations stand for the In in the complete model the the constraints play another role in our i.e., c E COMPS. in our case. The constraints they are used to derive c provides a basic granule of anomaly, to both SD and COMPS by the information in OBS obtained i.e., c E SD, because given sensor signals having some redundancy to monitor the over-constraints with one degree have the minimal involved. They are expected to provide the maximum the following definitions checking. Under this circumstance, from a set the state of the sizes in Definition 1. An over-constrained in SD involving n undetermined through connected the other quantities subset of the nth order (C”) quantities where m > n and each constraint is a set of m constraints is mutually and constraints in the set. T. Washio et al./Art$cial Intelligence 91 (1997) 103-130 109 Definition. 2. A minim& over-constrained subset of the nth order (M") is a set of any other n + 1 constraints over-constrained the other quantities in SD involving n undetermined subsets where each constraint in the set. quantities and not involving through is mutually connected and constraints The undetermined having a nominally by solving a simultaneous undetermined arrangement introduced quantity is neither a directly observed quantity nor a quantity fixed value in SD and OBS, and hence their values must be obtained and determined quantities to the conflict generation equation composed of the constraints. This categorization introduces of of sensor in diagnosis. The following assumption must be the information explicitly for the valid use of these definitions in the consistency checking. Assumption 3. The model constraints {c 1 c E SD} are mutually independent which provides each minimal over-constrained subset M” to be well posed. The indlependency of model constraints the relations teed, because constraints of a process system are almost independent tical applications. Hence, process systems. the present over-constraint among quantities in a nonlinear system are state dependent. However, is not always guaran- the model in prac- to under normal operations condition can be adopted widely 3.2. Derivation of minimal over-constrained subsets Although the efficiency of the derivation of all minimal over-constrained not the m.ain issue for the off-line preparation of this knowledge procedure maintaining quantities S involved of SD is defined as Q in the following manner. the efficiency has been in the constraints is in advance, a generic First, a set of in SD is given. Then, a constraint-quantity matrix investigated [27,29,30]. subsets Procedun: 1. in SD involves the jth quantities in S, If the ii.h constraint then Q(i, j) = 1, else Q(i, j) = 0, where Q(i, j) is the ij-element of the matrix Q. The procedure depicted in Fig. 3 derives all minimal over-constrained matrix Q. Step Pl derives another constraint-quantity subsets based matrix in the objective component quantities the relations among undetermined the columns of quantities determined introduces on the constraint-quantity Q’ representing by removing servations. This procedure known parameters. Step P2 obtains minimal over-constrained unique constraint. Such an example (OBS) procedure, n undetermined if it is identical with the nominal value all over-constrained is the measurement step P3 enumerates quantities under to confirm the knowledge of the arrangement by nominal values and sensor ob- of sensor and subsets containing only a of water amount in a container in SD. In the loop of the subsets where m constraints constrain the minimal the condition of m > n. Step P4 chooses 110 T, Washio et al./Arh@ial Intelligence 91 (1997) 103-130 start Ir Pl : Remove the columns of all observed and nominally S, and let the reminder be S’. Let the number of quantities fixed quantities from in S’ be N. * P2 : Let each constraint which row has no elements of 1 be a minimal over-constrained (i is the index number of the constraint.) subset of zero order My. Yes P3 : Let every set of n quantities Let the set of all constraints S y be Lf , and let the number of constraints more than n, and also if the constraints another, let Lp be a over-constrained in s’be St. (i=l,...,$ that have only the quantities belonging is in q be rnp. If 4 in Ly are connected one subset of nth order CF. n) to P4 : Let every set of n+l constraints in Cybe C 4. (i=l,...,m~Cn+l) V n=n+ 1 If C ~j does not involve any other minimal over-constrained and also if the constraints be a minimal over-constrained subset, in C yjare connected one another, let C ?j subset of nth order M ? i. Fig. 3. A procedure to derive all minimal over-constrained subsets. over-constrained subsets M” having TI + 1 constraints among C” obtained in P3. The complexity of this procedure is far less than the thorough search, since the enumeration number of subsets in SD with this procedure is almost proportional to 2N where N is the number of the undetermined quantities in SD. Whereas, that of the thorough search is 2K where K is the size of SD and larger than N. We demonstrate these procedures through the aforementioned example of an electric water heater. Each sensor model is explicitly added to the component model to enable a uniform diagnosis of sensor failures and component failures. I; = z,, I; = Is, v* = r! IV* = M, T* = T, (8) (9) (10) (11) (12) T. Washio et al./Art@cial Intelligence 91 (1997) 103-130 113 I, = I, V = 1’R, R = r + k(T - tC)*, z; = zg, v*, (17) V* and .V remain in the model. The five constraints {Is = I, V = ZR, R = r+k(T-t,)*, Zl = Zg, T* = T} except V* form a self-contained {I, VR, Zg, T}. In another case, if the deletion of Eq. (3) resultant constraints in the Mz become as follows. subset of five undetermined quantities in the MS is performed, the (18) zg = I, y ZR, R = r + k(T - tC)*, z; = zg, v* = y T* = T. Three sdf-contained subsets are obtained by this deletion. One {Zs = I, Zl = Zs} containing constraints the set {R = r+k(T-t,)*, T* = T} containing the set {Vc = V} solely forms a self-contained two undetermined subset of one undetermined two undetermined quantities {I, Is}. Another The following theorems establish a systematic scheme of the consistency based on the above definitions and the minimal over-constrained subsets. Theorem 16. If the deletion of any one constraint c in a minimal over-constrained subset M is conducted, the M becomes one or more self-contained subset(s). is the set of two is quantities {R, T}. Also, quantity {V}. checking Proof. By definition, quantities (i) the M becomes a subset of n constraints with n undetermined involved to form a set of constraints where all quantities exist among quantities in the deleted are connected by the deletion of a constraint. In ‘case that the extra connections c, the M remains through some constraints, In case that the deleted c involves the M is partitioned ki undetermined where all quantities new subset also forms a set of connected does not involve any other over-constrained into new Q subsets are connected quantities (Q > 2). Each new subset and thus becomes a self-contained some unique connections subset. among quantities, involves (n = Cf, ki). As the M forms a set of constraints each through some constraints by definition, as the M constraints. Furthermore, subset by definition, each new subset (ii) 114 T. Washio et al. /Artificial Intelligence 91 (1997) 103-130 is a part of the original M is not over-constrained. involves ki or less constraints. On the other hand, which subset the undermined number of the remaining constraints which subset, and hence each new subset is a self-contained in all new subsets, constraints. Accordingly, to the number of undetermined is identical quantities i.e., n, is identical each new subset Therefore, each new the total number of to the total involves ki in the quantities subset. q Theorem 7. Any undetermined appears in two or more constraints within the M. quantity x in a minimal over-constrained subset M is introduced Proof. An assumption constraint minimal over-constrained tities can be always obtained by the removal of the c from the M. subset M’ having n constraints c in a minimal over-constrained subset M. In this case, the following and n - 1 undetermined that an undetermined quantity x belongs to a unique smaller quan- M’ = M-ccM. This is contradictory to the definition of minimal over-constrained subsets. 0 Theorem 8. Two or more self-contained subsets which can independently determine the value of an undetermined quantity x always exist in a minimal over-constrained subset M. quantity x in M, a set of multiple Proof. Due to Theorem 7, given an undetermined constraints C(x) = {ci 1 ci involves x, ci E M and i = 1,. . . , k(x)}, where k(x) 2 2, always exists. On the other hand, the deletion of each ci E C(X) always derives a set subset derived by the of self-contained deletion of ci from M, j = 1,. . . , m(s)}, where m( ci) > 1, as stated in Theorem 6. Hence, the value of the x is ~~~’ m( ci), and it is always greater than or equal to 2. the total number of the self-contained in M which can determine \ Sj is a self-contained S( ci) = {Sj subset(s) subsets 0 among subsets subsets including quantities Any undetermined the scheme of the causal ordering quantity x in a minimal over-constrained its values derived by the multiple self-contained subset M can be chosen in M. for the derivation of the x have been set, the values of the x in those subsets are sequentially [ 11,12,19] while treating for the comparison Once the self-contained all undetermined by following observed and nominally the values of the x exceed a certain threshold value, some constraints is applied to be faulty. This procedure the SD. In the example of the electric water heater, one of the schemes of consistency two values of V derived from checking subset {Is = I, V = IR, R = r + k(T - tC)2, Zg* = Zg, T* = T} obtained the self-contained by Eq. (17) and the set {V” = V} by IQ. (18). determined the directly If the residuals among in M are considered fixed quantities as exogenous quantities. in Fig. 4. This is the case to compare to every minimal over-constrained subset M in is depicted For the demonstration of the consistency on the minimal over-constrained failures are numerically simulated. subsets checking and the anomaly detection based the following multiple the example, through T Washio et al. /Artificial Intelligence 91 (1997) 103-130 115 Objective Component Power Supply Ground (2), V=IR (3), R=r+k(T-tJ2 (7) - T*=T (12) if r 14 > E then Mz is inconsistent.- Residual rg Fig. 4. A procedure to derive all minimal over-constrained subsets. Case 1. The break of the electric happened by a mechanical leak between been changed and fixed at the level of 5OOn. of the resistant wire shock at the time 200s. 30% of the electric current began to the power supply and the resistant wire, and the resistance of the wire has the deformation shield and Case 2. The electric shield of the resistant wire and the voltage sensor were broken by shock at the time 200s. 30% of the electric current began to leak between a mechanical the power supply and the resistant wire, and the indication of the voltage sensor has been changed and fixed at the level of 15OV. Ripples of 20% sine wave were added to the voltage of the power supply the result of the consistency tlhe performance of the consistency evaluate represents set M in the former case. The undetermined chosen shows time 200s. Generally speaking, in each M. All subsets except I$ became the result of the latter where all subsets except checking in the system model and each minimal over-constrained the noise subset in the observation checking in order to in the dynamic behavior. Fig. 5 sub- quantity x for the checking was arbitrarily for each minimal over-constrained inconsistent at the time 200s. Fig. 6 at the inconsistent i’t4: became for consistency remedies errors dundancy ous and efficient applied to a powerful measure noise. this difficulty. For of an undetermined checking in the field of numerical the Kalman instance, to distinguish the physical inconsistency is not very robust to the because of its low re- x. However, vari- theory can be [ 141 provides the observation quantity state estimation technique filter from 116 Z Washio et al. /Art$icial Intelligence 91 (1997) 103-130 I OO . . . t (SK) I 500 3mv 0 500 B 330 , 0, % 5 320 B g 310 B g .----_ 3ooo 3000 MI 8 : 2000 1000 LzLI OO ,/’ ,’ CO’ ,’ ,/’ ,/ t (=I 500 3MX)r . . , t (=) 500 95: 0 t (W 500 8 115 3 c 110 / 4 S F 105 .5 9 B 100 I 950 4 115 3 5 110 S c 105 .B 6 2 100 .’ ,’ ,- ,,*’ ,**’ /-- _* . . . t kc) . I 500 _J’ _--a ___.--- i s5v 0 K) (solid lines: evaluations by a self contained subset, dashed lines: evaluations by another self contained subset) Fig. 5. A result of consistency checking in Case 1. 1: Washio et al. /Artijicial Intelligence 91 (1997) 103-130 117 "0 t (SM SO0 0- 0 t (set) 500 200 4 E 150 &o 2 P=l 50 "0 It-, ,--, ,-*. t.1 l _, ..# t (SW) 500 0 t (s=) 500 t (set) 96 A 0 108 8 M4 3 $104 d ? pl E 96 : 0 t (sN 500 t (W 500 0 t (set) 500 (solid lines: evaluations by a self contained subset, dashed lines: evaluations by another self contained subset) Fig. 6. A result of consistency checking in Case 2. 118 Z Washio et al./Artijicial Intelligence 91 (1997) 103-130 3.4. Identification of first principles disturbed by faults First principles disturbed by faults are identified by applying model-based consistency and demonstrates checking. This section explains their application diagnosis some to our frame- to the result of the aforementioned basics of the model-based work. diagnosis, The most representative in COMPS from the information [ 7,181 and kernel diagnoses [ 51. The former derives elements theory has been extended where in a set of constraints, definitions play central roles in these theories. theories of the model-based diagnosis are minimal diagnoses of abnormal in SD. This into account, cancel not to cause any inconsistency and the theory of kernel diagnosis was established. The following of constraints take the cancellation of inconsistency the influences of multiple the combinations of inconsistency faults mutually to explicitly Definition 9 (Conjict). Let a clause C be a conjunction lAB(cj) where ci, cj E COMPS and AB(ci) is the negation of a clause C, where C is not consistent with SD U OBS. of literals AB( ci) and/or stands for the abnormality of ci. A conflict Definition 10 (Minimal conflict). A minimal clude any other conflict. conflict is a conflict which does not in- Once all minimal conflicts are given, the following standard procedure derives possible diagnoses [ 5,7,18]. Procedure 2. the minimal conflicts (i) Multiply (ii) Delete any conjunction (iii) Delete any conjunction (iv) The remaining conflicts. to give a disjunction a complementary containing covered by some other conjunction. of conjunctions. pair of literals. conjunctions are the prime implicants of the original minimal These prime implicants are the possible interpretations of faulty states of the objective component. The following assumption made in the theory of minimal diagnoses adopted in our work as well as many other diagnosis methods. [ 181 is Assumption mal set of constraints are faulty. 11 (Principle of parsimony). A diagnosis is a conjecture that some mini- This principle derives the diagnoses which assume minimal numbers of faulty elements to explain the observed inconsistency. Because each minimal over-constrained straints c belonging on each minimal over-constrained tion of literals AB( ci) and/or to COMPS in our approach, subset in SD is also the collection of con- checking subset directly entails a clause C which is a conjunc- lAB( cj) where ci, cj E COMPS and C is not consistent the result of the consistency l? Washio et al. /Artificial Intelligence 91 (1997) 103-130 119 with SD L OBS. Thus, each result of the consistency checking yields a minimal con- flict. In more detail, when a minimal over-constrained subset M” is inconsistent, the proposition that “every constraint ci is normal where ci E M”” contradicts with the fact. Consequently, its minimal conflict becomes v AB(c). CEM’ (19) For the consistent minimal over-constrained subset, some options provided by the di- agnosis theories are applicable to derive its minimal conflicts. In our current work, the following assumption is introduced for process diagnosis. Assumptim hardly occurs 12. The mutual cancellation of anomalous behaviors of multiple faults in process systems. This assumption makes our diagnosis basically equivalent to Raiman’s approach [ 171. As the proposition that “one or more constraints in M” are abnormal” is against the consistent result of Mn, its negation -AB( c) for every c E M”, becomes minimal conflicts. (20) In Case 1 of the example of the electric water heater, all subsets except Mz became inconsistent at the time 200s as explained at the end of Section 3.3. The inconsistency of M3 yields the following minimal conflict. M3: .AB(l) VAB(2) VAB(8) VAB(9). (21) The minimal conflicts for the other inconsistent minimal over-constrained subsets are derived as well. M;: AB(l) vAB(3) VAB(7) VAB(8) vAB(10) vAB(12), M;: AB(2) vAB(3) vAB(7) vAB(9) vAB(10) VAB(12), M:: AB(l) vAB(4) VAB(5) vAB(6)v AB(8) vAB(l0) VAB(ll) vAB(12), M;: AB(3) vAB(4) vAB(5) vAB(6)v AB(7) vAB(10) VAB(ll) vAB(12), My: AB(l) vAB(3) vAB(4) vAB(5) vAB(6)v AB(7) vAB(8) VAB(lO) vAB(ll), M;: AB(1) vAB(3) AB(7) vAB(8) vAB(5) vAB(4) vAB(11) vAB(12), vAB(6)v (22) 120 T Washio et al. /Artijicial Intelligence 91 (1997) 103-130 44;: AB(2) VAB(3) VAB(4) VAB(5) VAB(6)V AB(7) vAB(9) VAB(l0) VAB(ll), M;: AB(2) vAB(3) VAB(4) VAB(5) vAB(6)v AB(7) vAB(9) vAB(l1) VAB( 12). The minimal conflicts of the consistent Mz are derived as follows, since the proposition of “an equation in h4; is abnormal” is against the consistency of it472 under Assumption 12. M;: -AB(~),~AB(~),TAB(~),-AB(~), 1AB(9),1AB( lO),lAB( ll), TAB( 12). (23) The aforementioned Procedure 2 derives the candidate diagnoses based on these minimal conflicts. In step (i), the following clauses are obtained for example. AB( 1) AAB(2) A TAB(~) AAB(3) A TAB(~) A 7AB(5)A -TAB(~) A TAB(~) A dB( 10) A lAB( 11) A 1AB( 12), AB( 1) A TAB(~) AAB(3) A TAB(~) A yAB(5) A TAB( AB(7) A TAB(~) A 1AB( 10) A lAB( 11) A lAB( 12), AB( 1) A TAB(~) A&3(3) A 7AB(4) A lAB( TAB(~) A TAB(g) A et& 10) A lAB( 11) A lAB( 12). (24) (25) (26) Formula (24) is removed at step (ii), as it involves a contradiction of AB(2) A is redundant and removed at step (iii), because it includes Formula (25) TAB(~). formula (26). In this manner, formula (26) and the following solutions are determined. AB( 1) A TAB(~) A TAB(~) A TAB(~) A TAB( AB(7) A TAB(g) A 1AB( 10) A TAB( 11) A 1AB( 12), TAB(~) AAB(3) A TAB(~) A TAB(~) A --AB(6)A AB(8) A1AB(9)A1AB(lO)A-AB(ll)A1AB(12), TAB(~) A TAB(~) A TAB(~) A -TAB(~) AM( AB(~)AT~B(~)A~AB(~O)A~AB(~~)A-AB(~~). (27) (28) (29) These solutions state the abnormality of the electric current balance of Eq. ( 1) and the wire resistance of Eq. (3), Eq. ( 1) and the wire resistance of Eq. (7), Eq. (3) and the electric current sensor of Eq. (8), and Eq. (7) and Eq. (8), respectively. Among these solutions, formula (26) and formula (27)) saying the change of the wire resistance and the leakage of electric current between the power supply and the resistant wire, are the appropriate interpretations of Case 1 in the example. I: Washio et al./ArtiJicial Intelligence 91 (1997) 103-130 121 The same approach derives the following two solutions in Case 2. AB( 1) A lAB(2) A TAB(~) A TAB(~) A TAB(~) A dB(6)A ~AB(7)A7AB(9)AAB(lO)A~AB(ll)A~AB(12), TAB(~) A +lB(3) A TAB(~) A TAB(~) A TAB(~) A +B(7)A AB(8) AlAB AAB(10) ATAB A-+tB(12). (30) (31) Formula (30) stands for the violation to the electric current balance between the power supply and the resistant wire (IQ. ( 1)) and the anomaly of the voltage sensor (Eq. ( 10) ) . This result is correct for the original faults in the simulation. An erroneous solution of formula ( 3 1) cannot be eliminated under the given SD and OBS. If we apply the methods of minimal diagnoses and kernel diagnoses, the number of the candidate solutions may be significantly increased, because those theories take wider possibility of faults. 4. Identification of faulty functions The results of the aforementioned diagnosis are represented by the constraints of first principles in SD and COMPS. They do not show faulty functions we interpret in the objective component. However, the diagnoses in terms of detailed functions sometimes give more effective information for trouble shooting than that in form of first principles. For doing so, the knowledge of the correspondence between each constraint and a set of functions IS needed. More strictly speaking, when a constraint c in COMPS corresponds to a functron c’ in a set of functions COMPS’, and it is represented as c + c’, the set of functions WC(c) corresponding to c is: FNC(c) E {c’ ( Vc’ E COMPS’ where c + c’}. (32) The systematic method to derive this knowledge has not been established yet, and the derivation must rely on expertise. However some recent work on the systematic function- based modeling may relax this issue [ 151. In this paper, we assume that the knowledge for each c is correctly given by experts or designers of the component. For of FNC(c) a set {FNC(c) the following procedure derives the conflicts in terms of functions under Assumption 12. 1 t/c E COMPS}, Procedure 3. (i) If c has been identified as abnormal, then {Vc,EF,vc(c) AB(c’)} is a conflict, else { lAB( c) for every c E M”} are conflicts. (ii) Apply Procedure 2 to the set of derived conflicts. The conflicts given by step (i) are not always minimal conflicts, since some FNC( c) s may include the other FNC( c) s. Therefore, step (ii) must be applied to obtain the valid diagnoses. 122 T Washio et al. /Arti&ial Intelligence 91 (1997) 103-130 For the example of the electric water heater, we initially give the following set of FNC(c)s. FNC( 1) = {electric shield between power supply and resistant wire (Ft ) , electric shield of resistant wire (F2) }, FNC( 2) = {electric shield between resistant wire and ground (Fs) , electric shield of resistant wire ( FT)}. FNC( 3) = (electric conduction of resistant wire (Fa)}, FNC( 4) = {heat generation of resistant wire (Fs ) , heat conduction from resistant wire to water (&)}, FNC( 5) = {heat conduction heat containment from resistant wire to water (F6) , of water container (F7) }, FNC( 6) = {water containment of water container (Fs) }, (33) FNC( 7) = {electric conduction of resistant wire (F4), heat conduction from resistant wire to water (Fe)}, FNC( 8) = {electric current sensing between power supply and resistant wire (F9) }, FNC(9) = {electric current sensing between and ground (FIo>}, resistant wire FNC( 10) = {electric voltage sensing ( FII )}, FNC( 11) = {water amount sensing (Ft2) ), FNC( 12) = {water temperature sensing (Ft3)). If we consider Case 1 in the example, Procedure 3 gives the following diagnoses both solutions of formulae (26) and (27). for AB(FI) AAB(F4) ATAB AlAB(F3) ATAB r\~AB(Fh)fi lAB(F7) A -AIS A TAB(F,~) A TAB(F,~) A 1AB(F12) A 74B(F,3). Also, the following is the solution for formulae (28) and (29). AB( F4) AAB( F9) A 1AB( F2) A dB( F3) A 1AB( F5) A -A& Fe) A -AE( F7) A lAB( Fs) A +l3( FIO) A 4B( FI1) A lAB( F12) A 7AB( F,3). (34) (35) As a result, the combination of “electric shield between power supply and resistant wire (Fl )” and “electric of “electric current sensing between power supply and resistant wire (F9)” and “electric conduction of resistant wire (F4)” are the diagnoses. ( FJ)“, and the combination of resistant wire conduction In Case 2, AB(F1) AAB(FlI)~~AB(F2)~~AB(F3)~7AB(F4)~~AB(F5)A dB( Fe) A ---AB( F7) A dB( F8) A 4Z3( F,o) A 7AB( F12) A lAB( F13) (36) Z Washio et al./Art@cial Intelligence 91 (1997) 103-130 123 is the solution for formula (30), and AB(F9) AAB(F,,) AlAB ATAB ATAB r\-AB(F5)~ lAB( F6) A lAB( F7) A lAB( Fs) A -AB( FIO) A 1AB( F,2) A lAB( F,3) (37) (3 1) . Accordingly, of “electric shield between power supply for formula and resistant wire (Fl )” and “electric voltage sensing of “electric current sensing between power supply and resistant wire (Fg)” and “electric voltage sensing (Fl I)“, and the combination (Fl1 )” are the diagnoses. the combination 5. Identification of anomalous quantities and their quantitative deviations 5.1. Causal ordering and identification of anomalous quantities to identify Causal ordering is required In the conventional are derived based on the specification [ 11,12,19] disturbed 'by faulty mechanisms. of process quantities the system and the time derivative quantities application instance, because they just mutually balance. Furthermore, frequently misleads any of the inlet flow and the outlet flow can be exogenous the determination of exogenous quantities their integrals. However, directly orders in the the result of the causal ordering. For in a water pipe, in Faraday’s law of induction, i.e., of these criteria framework, to change anomalous quantities dB - dt =: -rot(E) or B = - J rot( E)dt, where B is magnetic directly determines derivative within a fundamental of exogenous quantities equations may derive inappropriate tems. This discussion we have made flux density, and E is electric the value of E. In other words, the time integral determines field intensity, and the change of B its time physical law. Accordingly, the arbitrary and the unique assumption of the causality specification in time differential interpretations [25,26] of causal structures sys- is also supported by Iwasaki and Simon for physical 1131. theory in our example defines this type of restrictions the authors proposed an extended for physical systems the quantitative in this law, but CM is not changed by H and T within Based on these discussions, ambiguity of the causal ordering law (Eq. (6)) the exogenously determined named quantities the physical constraint inherent Once representation with the quantitative manner and the to reduce [ 2.5,27,29,30]. The specific heat relation between H and T under given heat capacity CM. Either of the values of H and T is physically this law. The authors among of the [ 25,261. its knowledge is given by the following in the equation, on the direction of the disturbance propagation it is independent as inherent causal structure, where [ 2529,301. c;utsal structure of each equation can be seen in the authors’ work the inherent causal structure of each equation has been [ 25,261. First, let Xl be a set of exogenously to the applications to determine in the equation. Any element in Ye has a let Ye be a set of the other quantities The details of the generic method relation of the equation given quantities identified, 124 I: Washio et al. /Artificial Intelligence 91 (1997) 103-130 to be physically possibility in each set are located on either of the right-hand following determined rule. in the equation. Subsequently, the quantities side and the left-hand side by the If Xe # (8) then Ge(G) = Fe(Xe), else then Ge(l$) =O, (39) side of equation, and Ge is the left-hand the equality of the right-hand where Xe n I$ = 0, Ye # 0, Fe is the right-hand side of equation. The symbol “=” does not merely represent side and the left-hand quantities an equation equation has only one quantity on its left-hand side, the value of the quantity determined by the other quantities on the right-hand can be made. side. It states the causality as the possible determination side to the left-hand side. This knowledge structural equation”. order of of structural is uniquely side. Thus, the following definitions is called as an “assumptive from the right-hand If an assumptive representation Definition 13. A determining equation is an equation having a unique quantity on the left-hand side. Definition 14. A determined quantity is the unique quantity on the left-hand determining equation. side of a When equations, of the quantities Its resultant their right-hand the model of the objective let a set of all quantities system is a set L of the assumptive in L be S. The unambiguous determination in L can be derived by the systematic procedure depicted revised equations stand for the determination orders of the quantities structural orders in Fig. 7. from sides to the left-hand sides. The model of the electric water heater can be represented by the following assumptive structural equations [ 25,261. z-zp=o, Is -I =o, vZ=R, Fh = M, H = sLw Fhdt, H/T = CM, R = t + k(T - t,)*, z; = zp, z; = zg. v* = y M* = M, T* = T. (1’) (2’) (3’) (4’) (5’) (6’) (7’) (f-0 (9’) (10’) (11’) (12’) Z Washio et al. /Artificial Intelligence 91 (1997) 103-130 125 Pl : Let the set of all determining equations in (L-La) be Li. Let the set of all determined quantities in (S-Sa) be Si. La =La+Li , S a =Sa+Si i P2 : Move quantities in S i from Yl to XI in each equation 1 in (L-La), if the transfer is possible in the equation form. Are any determining equations in (L-La)? Fig. 7. A procedure of extended causal ordering. (3’) given (Ohm’s determined law) defines sides, because equations. Eq. is unidirectionally resistance R. The heat generation in Eqs. ( 1’) and (2’) are located on their left-hand they the relation between V and Z All quantities are balance under an exogenously (Joule’s law) in a thermodynamic an irreversible process time evolution. The structure of Eq. (6’) has been aforementioned. another are trivial. The causal ordering procedure of Fig. 7 is applied as determining Eqs. (4’), determined side in Eq. (6’). Thus, (4’) this law represents phenomenon. Eq. (5’) stands for a standard Eq. (7’) represents from T to R. The rests are for sensors, and their structures to this model. In step Pl, In step P2, a (5’) and (7’)-( 12’) are identified quantity H of Eq. (5’) is moved from the left-hand by V and I, because irreversible process rate Fh in Eq. equations. side to the right-hand (6”) T = .H/(cM). As no other determined quantities appear in any left-hand sides, the procedure goes back to step Pl . Then a new determined quantity T in Eq. (6”) is identified. However, the loop is halted in step P2, because no T exists in any left-hand sides. The resultant equations of Eqs. ( 1’) -( 5’), (6”)) and (7’) -( 12’) indicate The orders are depicted remaining Based on this result of the causal ordering, orders of the quantities. in Fig. 8. The quantities influence bidirectionally. the quantities directly disturbed by the faults in the form of a causal network side of Eqs. ( l’), on each left-hand the determination (2’) and (3’) 126 Z Washio et al. /Artificial Intelligence 91 (1997) 103-130 Fig. 8. The causal network of an electric water heater. In the solution of formula (27) of Case 1, the directly disturbed quantities are identified. to be any of Z, and I based on the final structure by the fault of EQ. ( 1) are known is R. In of Eq. ( 1’). Moreover, case of formula in Case 2, the anomalous quantities directly disturbed by the fault of E!q. (1) are any of Zp and I as well. In practice, any of Z, and Z can be the power supply and the resistant changed by the break of the electric shield between wire. Also, the directly disturbed quantity by the fault of Eq. (7) the quantity directly disturbed by Eq. (10) resulted (30) Many physical systems partially example, and the derivation of the exact causal structure of large systems intuition. Accordingly, ficult within our physical provides an efficient remedy constraints. in this is highly dif- this systematic causal ordering method to identify anomalous quantities directly disturbed by faulty the bidirectional as shown involve is identified as V*. causality 5.2. Evaluation of quantitative deviations The following theorem ensures the ability to evaluate anomalous quantity directly disturbed by any multiple the quantitative deviation of any faults identified in Section 3.4. Theorem 15. For any abnormal constraint AB(c) belonging to a diagnosis D, at least one inconsistent minimal over-constrained subset exists which involves AB( c) and does not involve the other abnormal constraints in the D. ProoE An assumption the AB(c) set involving the standard Procedure 2 described is introduced involves some other abnormal constraints in Section 3.4, the following sub- in a D. In step (i) of smaller diagnosis D’ that any inconsistent minimal over-constrained 7: Washio et al. /Artijicial Intelligence 91 (1997) 103-130 127 can be always obtained by selecting an abnormal constraint except the AB( c) from every minimal to each inconsistent minimal over-constrained conflict corresponding subsets. D’= D-AB(c) c D. is contradictory This involve any other diagnoses. to the requirement 0 in step (iii) of Procedure 2 that D does not Theorem 16. When a quantity x is contained in an AB(c), any minimal over- constrained subset M involving the c includes a self-contained subset which determines the value of x without including the c. In the mean time, the minimal over-constrained subset M involves another self-contained subset which determines the value of x by using the c. Proof. Due to the aforementioned Theorem 8, the former self-contained subset is derived by the deletion of the c in the M. The latter is obtained by the deletion of a constraint connected with the c through x in the M. Cl As a consequence lous quantity x, one minimal over-constrained the unique abnormal equation. Accordingly, value of each anomalous self-contained similarly of Theorem 15, for every AB(c) which directly disturbs an anoma- subset always exists in which the AB( c) is the actual anomalous value and the normal quantity x can be always evaluated by the former and latter is determined in Theorem 16. The value of the x in these subsets to Section 3.3. subsets formula (8) which (7) having faulty constraint Its actual anomalous is evaluated by an Q. ( 1) and Mg for I$. In case of the diagnosis subsets contain a unique (7). We choose M3 for Eq. (27) of Case 1, the directly disturbed quantities are any of ZP and Z by the fault of Eq. ( 1) and R by the fault of Eq. (7). Some for both Eq. ( 1) minimal over-constrained and Eq. the smallest they are convenient cardinal numbers, where load. For ZP, its to save computational through Eqs. ( 1). (2) and (9) which are obtained by the normal value is evaluated is value deletion of FXJ. (8). the normal value of Z is derived from Eqs. made by the deletion of Eq. ( 1) . Similarly, ( 1) and (8)) and its actual anomalous value from EQs. (2) and (9). Furthermore, the normal value of R is derived from Eqs. (7) and ( 12) in MS, and its actual one is from those normal values Eqs. (2), (b) and (c) of Fig. 9. The actual value of Z, is and actual values are depicted than it normal value. greater than its normal value, and the actual value of I is smaller These are because of the leakage of the electric current between the power supply and the resistant wire. The value of the resistance R seems to be fixed at the level of 5OOn. These results are consistent with the actual conditions given in Case 1. in Case 2, the anomalous of formula ( 1) and V* by Eq. ( 10). For Z, and I, the procedure are In case of the diagnosis to ZP and Z disturbed by Fq. is identical, and the same results are obtained. For evaluate the quantity V*, its actual anomalous value is obtained by its direct measurement. The normal value is derived by the Mi which involves Eq. (10) but not Eq. (1). Fig. 9(d) the actual value of this anomalous shows (9) and ( 10). The quantitative deviations between their quantitative quantity, where the quantitative deviations deviations quantities in (a), (30) (3), 128 7: Washio et al./Art$cial Intelligence 91 (1997) 103-130 I 1 - I 3 z g 0.5 B L CI -0 faults on set (200sec) 4 L-S __-.___-_ t (set) 500 “0 t (set) 500 (a) Case 1: quantitative deviation of Ip (b) Case 1: quantitative deviation of I “0 t (set) 500 (c) Case 1: quantitative deviation of R 0' 0 t (=I (d) Case 2: I 500 quantitative deviation of V* (solid lines: actual anomalous values, dashed lines: normal values) Fig. 9. The deviations of anomalous quantities. of V* is fixed at the level of 15OV. The results are quantitativeIy consistent with the multiple failures introduced in Case 2. 6. Related work In the ATMS-based methodology [ 71, conflicts are generated incrementally as new 5 are made. A heuristic probing of the obvious and semi-obvious conflicts me usi ty information [ l] and one step look ahead random probing [ 61 indicate :y to identify faults, when the objective system is large and has many pos- got sibL, ylvvl.16 points. On the other hand, the preparation of all minimal over-constraints beforehand in our approach usually does not face the difficulty of the combinatorial ex- plosion, since the size of COMPS and the number of given sensing points in a process component are quite limited. The definition of minimal over-constraints does not depend on any causality information. The idea to prepare all schemes for consistency checking in advance has also been presented by Biswas and Yu [ 21. They proposed “partial conflicts” to derive a conflict for each observation. The elements of COMPS in their work are parameters attributed to each I: Washio et al./Ar@cial Intelligence 91 (1997) 103-130 129 process mechanism. models and to highly nonlinear approach dynamic Their framework essentially requires the linearization the steady state assumption and dynamic of the process, and hence systems. On the contrary, the basic element of process is not applicable in our and is a constraint features of the system do not limit its application. the parameters among and state variables. The nonlinear 7. Conclusion The operations used in this method are well defined and well combined in which an efficient and credible procedure multiple faults of elements namic processes diagnosed ing is quite loosing to meet the severe requirements the real-time the maximum performance limited, and sensors occurred the quantities in a component. Non-linear to synthesize for diagnosis. This proposed method can diagnose and dy- to one another can be in the on-line process- and quantitative diagnosis can be performed without of this method. The high possibility of this method connected load required are intimately in practical applications has been demonstrated. in high resolution. As the computational Acknowledgements The authors wish to express their thanks and Prof. Toyoaki Nishida comments. The authors extend Takahashll in Mitsubishi Research in Nara Institute of Science and Technology to Dr. Hiroshi Motoda in Osaka University for their useful to Dr. Shuichi Koike and Dr. Hideaki their gratitude Institute, Inc. for their extensive support. References [I] R.R. Bakker and M. Bourseau, Pragmatic reasoning in model-based diagnosis, in: Proceeding 10th European Conference on Artificial Intelligence, Vienna (1992) 734-738. [2] G. Biswas and X. Yu, A formal modeling scheme for continuous systems: focus on diagnosis, in: Proceeding IJCAI-93, Chambery (1993) 1474-1479. [3] R.N. Clark and B. Campbell, Instrument fault detection in a pressurized water reactor pressurizer, Nuclear Technol. 56 (1982) 23-32. [ 41 J. de Kleer, Focusing on probable diagnosis, in: Readings in Model-Based Diagnosis (Morgan Kaufmann, Los Altos, CA, 1992) 131-137. [ 51 J. de Kleer, A.K. Mackworth and R. Reiter, Characterizing diagnosis and systems, Artif: Intell. 56 ( 1992) 197-2122. [6] J. de Kleer, 0. Raiman and M.H. Shirley, One step lookahead is pretty good, in: Readings in Model-Based Diagnosis (Morgan Kaufinann, Los Altos, CA, 1992) 138-142. [7] J. de Kleer and B.C. Williams, Diagnosing multiple faults, Art$ Intell. 32 (1987) 97-130. [ 81 T.P. Hamilton, HELIX: a helicopter diagnostic system based on qualitative physics, Art$ lntell. Eng. 3 (3) (1988) 141-150. [9] K.E. Holbert and B.R. Upadhyaya, An integrated signal validation system for nuclear power plants, Nuclear Technol. 3 (1990) 41 l-427. [lo] Y. Ishida and L. Eshelman, AQUA: integrating model-based diagnosis and symdrome-based diagnosis, Tech. Rept. CMU-CS-87-111, Carnegie-Mellon University, Pit&burg, PA ( 1987). 130 Z Washio et al. /Artijcial Intelligence 91 (1997) 103-130 [ 111 Y. Iwasaki, Causal ordering in a mixed structure, in: Proceedings AAAI-88, St. Paul, MN (1988) 313-318. [ 121 Y. Iwasaki and H.A. Simon, Causality in device behavior, Artif. Infell. 29 (1986) 3-32. [ 131 Y. Iwasaki and H.A. Simon, Retrospective on “Causality in device behavior”, Artif Intell. 59 (1993) 141-146. [ 141 R.E. Kalman, A new approach to linear filtering and prediction problems, Trans. ASME Ser. D; J. Basic Eng. 82 (1960) 33-45. [ 151 M. Lind, Human Detection and Diagnosis of System Failures: The Use of Flow Models for Automated Plant Diagnosis (Plenum Press, New York, 198 1). [ 161 D.A. Pearce, The induction of fault diagnosis systems from qualitative models, in: Proceedings AAAI-88, St. Paul, MN (1988) 353-357. [ 171 0. Raiman, A circumscribed diagnosis engine, in: Proceedings International Workshop on Expert Systems in Engineering, Lecture Notes in Artificial Intelligence 462 (Springer, Berlin, 1990) 90-101. [ 181 R. Reiter, A theory of diagnosis from first principles, Artif: Intell. 32 (1987) 57-95. [ 191 H.A. Simon, Models of Discovery (Reidel, Dordrecht, 1977). [20] P Struss and 0. Dressier, “Physical negation”-integrating fault models into the general diagnostic engine, in: Proceeding HCAI-89, Detroit, MI (1989) 1318-1323. [21] M. Takahashi, M. Kitamura and K. Sugiyama, Application of non-monotonic logic to failure diagnosis of nuclear power plant, in: Proceedings 7th Power Plant Dynamics, Confrol & Testing Symposium, Knoxville, TN (1989) 57.01-57.19. [22] M. Takahashi, M. Kitamura and K. Sugiyama, Representation of generalized failure mechanism knowledge for diagnosis of nuclear power plant, J. Atomic Energy Sot. Japan 34 (1992) 678-692 (in Japanese). [23 ] P. Torasso and L. Console, Diagnostic Problem Solving (North Oxford Academic, Oxford, 1989). [24] J.L. Tylee, A generalized likelihood ratio approach to detecting and identifying failures in pressurizer instrumentation, J. Nuclear Technol. 56 (1982) 485-492. [25] T. Washio, Causal ordering methods based on physical laws of plant systems, Tech. Rept. MITNRL-033, Nuclear Reactor Laboratory, Massachusetts Institute of Technology, Cambridge, MA ( 1989). [ 261 T. Washio, Derivation of exogenously driven causality based on physical laws, J. Japan. Sot. Artif: InteN. 5 ( 1990) 482-491 (in Japanese). [27] T. Washio and M. Kitamura, A new approach for plant component diagnosis based on credible and transparent physical knowledge, in: Proceedings 8th Power Plant Dynamics, Control & Testing Symposium, Knoxville, TN (1992) 15.01-15.06. [ 28 ] T. Washio, M. Kitamura and K. Sugiyama, Development of failure diagnosis method based on transient information of nuclear power plant, J. Nuclear Sci. Technoi. 24 ( 1987) 452-461. [29] T. Washio, M. Sakuma and M. Kitamura, A diagnosis method for multiple process failures, in: Working Papers DX-93: Fourth International Workshop on Principles of Diagnosis. Aberystwyth, Wales ( 1993) 327-340. [30] T. Washio, M. Sakuma and M. Kitamura, A diagnosis method for multiple process failures in a nonlinear and dynamic process, in: Proceedings Tenth Biennial Conference of the Canadian Society for Computational Studies of Intelligence, Banff, Alta. (1994) 139-146. [31] N. Yamada and H. Motoda, A diagnosis method of dynamic system using the knowledge on system description, in: Proceedings IJCAI-83, Tokyo ( 1983) 255-229. [32] T. Yamaguchi et al., Knowledge compiler II based on domain model and failure model, /. Japan. Sot. Artif: InteZi. 7 ( 1990) 663-674 (in Japanese). 