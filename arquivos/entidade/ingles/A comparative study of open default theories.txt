ELSEVIER Artificial Intelligence 77 (1995) 28.5-319 Artificial Intelligence A comparative study of open default theories Michael Kaminski* Department of Computer Science, The Hong Kong University of Science and Technology, Clear Water Bay Road, Kowloon, Hong Kong Received February 1993; revised December 1993 Abstract The paper examines the definitions of open default theories known from First it is shown Next a new approach definitions, but possesses that none of them is considered. their positive properties. is satisfactory either for formal or for intuitive It is free from the obvious deficiencies the literature. reasons. of the known 1. Introduction One of the widely used nonmonotonic is Reiter’s default logic [HI. This logic deals with rules of inference called defaults which are expressions of the form formalisms 6(x) = a(x) : MP, (4, . . . , W, (4 Y(X) 7 of formulas where a(x), PI(x), . . . , P,(x), Y(X), m 3 1, are is predicate calculus whose free variables are among x =x1, . . . ,x,. A default closed if none of (Y, PI, . . . , &, y contains a free variable. Otherwise a default is called open. The formula cy(x) is called the prerequisite of the default rule, the formulas PI(x) , . . . , p,(x) the justijications, and the formula y(x) is called the conclusion. Roughly speaking, the intuitive meaning of an open default is as follows. For every n-tuple of objects t = t,, . . . , t,,, if a(t) is believed, and the to deduce -y(t). Thus an open default pi(t)% can be thought of as a kind of a “default scheme”, where the free variables x can then one is permitted are consistent, are called first-order the * Current address: Department of Computer Science, Tecbnion-Israel 32000, Israel. Institute of Technology, Haifa 0004-3702/95/$09.50 SSDZ 0004-3702(94)00035-Y 0 1995 Elsevier Science B.V. All rights reserved 286 M. Kaminski I Artijicial Intelligence 77 (1995) X5-319 be replaced by any of the theory’s objects. Various examples of deduction by default rules can be found in [15]. there towards is no common attitude Whereas closed defaults have been quite thoroughly investigated, very little is their known about open ones. Moreover, meaning. However, interesting cases of default reasoning usually deal with open defaults, because the intended use of a default is to determine whether an object rather than accepting or rejecting a “fixed statement”. possesses a given property to the treatment of open defaults are known from the Three major approaches literature. The first one belongs to Reiter [El, where he gives explicit names to language with new constants. Then the theory objects by extending in the enriched Reiter language. The second approach to Poole [14] who replaces an open default by the set of all its closed instances over the is that of Lifschitz [9], where free variables original in defaults are treated as object variables, rather than metavariables for the closed terms of the theory. treats an open default as a set of all its closed instances is similar to the first one and belongs language. The last approach the theory theory for an open default the above approaches In this paper we examine from formal and intuitive the most natural formal test for accepting a definition to the theory. However, definitions points of view. Obviously, of an extension original definition of Reiter, when applied to a closed default of is not sufficient, because this necessary extensions for closed default theories become different when one extends them to open default theories. Since there are no (and cannot be any) formal criteria for a in order to choose the right definition we should rely on our sufficient condition, to tell us what we should expect from an extension for an open intuition imprecise default is that it must be equivalent equivalent condition theory. sound. is counterintuitive to implicitly defined objects In particular, Reiter’s definition from a formal point of view, Poole’s definition As the result of our analysis we argue that all Reiter’s, Poole’s and Lifschitz’s that gives definitions are not entirely and also is not explicit names acceptable that deals only with explicitly defined objects is too weak (yet it passes the formal test), and Lifschitz’s that treats explicitly defined objects as implicitly defined ones is not definition reason. However, Lifschitz’s either acceptable definition to seems Lifschitz’s definition which makes it free from its obvious deficiencies. The main feature of the modified definition is that it clearly separates between explicitly and implicitly defined theory objects. It also passes the formal test and its connection to circumscription for a formal or for an intuitive to be more promising, is similar to the original one. and we propose a modification for closed default theories, The paper is organized as follows. In the next section we recall the definition of in Sections 3 and 4 we examine, respective- extensions ly, Poole’s and Reiter’s definitions of extensions for open default theories, and in to Reiter’s definition. Section 6 Section 5 we consider a possible modification contains a semantical definition of extensions for closed default theories, which is In Section 7 we examine the starting point for Lifschitz’s and our approaches. in Section 8 we present a modi- Lifschitz’s approach to open default theories, M. Kaminski I Artificial Intelligence 77 (1995) 285-319 287 fication to this approach which is more robust than the original, and in Section 9 we show how extensions for default logic with fixed constants can be expressed in terms of the modified approach. In Section 10 we establish a relationship between the modified Lifschitz’s approach and circumscription. Finally, we end the paper with some concluding remarks. 2. Closed default theories In this section we recall Reiter’s definition of extensions for closed default for In for open default if we accept Reiter’s definition for closed default theories as a “right one”, then a “right” definition theory, for open default theories. This definition accepting or rejecting definitions of extensions particular, in the introduction, of extensions of extensions must be equivalent is frequently used in this paper as a formal criterion theories. theories, when applied to a closed default to Reiter’s definition. as was mentioned Definition 1. A default theory is a pair (D, A), where D is a set of defaults and A is a set of first-order sentences (axioms). A default theory is called closed, if all its defaults are closed. Otherwise it is called open. Definition 2. Let (D, A) be a closed default theory. For any set of sentences S let q,,,,(S) that satisfies the following = B, where B is the smallest set of sentences three properties.’ (beliefs) (Dl) AcB. (D2) Th(B) = B, i.e., B is deductively closed. (D3) A set of senten:es E is an extension for (D, A) if T;,,,,(E) If u’Mpl,...,MPm~D, and -&,...,1/3,,,$S, aEB, then yEB. = E, i.e., if E is a fixed point of the operator qD,A). All the examples, but one, we consider very intuitive case of defaults of the form w without prerequisites. We shall need the following lemma. in this paper deal with the simplest and which are called normal defaults Lemma 3. Let D be a set of closed normal defaults without prerequisites. Then a is a consistent extension for (D, A) if and only if it is a maximal set of sentences consistent set of sentences of the form Th(A U A’), where A’ C {p: $@ E D}. Proof. The “if” part of the lemma is, actually, closed defaults. [14, Theorem 4.11 restricted to I This definition I;,,,,(S) = B. This notation is more convenient for a technical reason. follows [9] and differs from the original one in [15] in introducing the notation 288 M. Kaminski i Artificial intelligence 77 (1995) 285-319 For the “only if” part, let E be an extension for (D, A), and let A, = E fl It remains {p: +@ ED}. Th en, by [15, Theorem 2.51, E = Th(A U A,). to show that Th(A U A by) (=E) set of to the sentences of the form Th(A U A’), where A’ C {p: 9 contrary that this is not the case. and let Th(A U A’), where A’ C {j?: 9 E D}, be a maximal consistent set of sentences containing E as a proper subset. By the “if” part of the lemma, Th(A U A’) is an extension with the Minim&y is a maximal consistent E D}. Assume [15, Theorem 2.41. 0 in contradiction of Extensions for (D, A), 3. Poole’s definition of open default theories In this section we analyze Poole’s definition of open default theories. Even eight years later than Reiter’s one, it is reason. For both Poole’s and Reiter’s though, discussed approaches we need the following definition. this definition was introduced first for a methodological Definition 4. A. (closed) instance of an open default 6(x) = u(X) ’ MBl’“,:x;- ’ MP&) a closed default S(t) = a(t) ’ MP~(:);tJ. MP&) . where t = t,, . (or ground) all closed instances of 6 is denoted by 6, and for a set of defaults D, d = U,,, is the set of all closed instances of all defaults of D. is , t, is a tuple of closed language L. For an open default 6, the set of 8 terms of the underlying In [14] Poole deals with normal defaults without prerequisites only, and treats an open default theory if all defaults (D, A) as a closed default from D are closed, that Note then D = D. Therefore Poole’s definition when applied to closed default theories is equivalent to Reiter’s original definition. However Example 5 below’ shows that Poole’s approach which deals individuals, only with explicitly defined theory is too weak. theory (0, A). 5. Let Intuitively, (D, A) be a default Example {ilxQ(x)}. satisfying Q that it satisfy P in the extension expect of 3x(P(x) A Q(x)) (D, A) has a unique Poole extension E = A. to belong theory, where D = {w}, and A = individual for this theory. That is, one would since b = 0, to the extension. However, one would expect of an implicitly defined 4. Reiter’s definition of open default theories In [15] Reiter suggests an interpretation of an open default as the collection of all closed defaults of the form 6(t) = EC’) ’ MP1(ly);l;. . MP& , where t = t, , . . . , t, is a ‘The example is similar to that of Reiter [IS. pp. IIS-1161, see Example 6 in the next section M. Kaminski I Artificial Intelligence 77 (1995) 285-319 289 tuple of the theory explicit representation depends on the underlying dealing with open default dividuals. Reiter motivates examples. individuals. However, of the objects under consideration, this interpretation depends on an or, in other words, it language. As has been pointed out in [15], when in- theories, their following is to specify the the main problem that problem by his approach to theory (D, A), where D and A contains two axioms 3xQ(x) and +‘(a). Example 6 [ 15, pp. 115-1161. Consider an open default consists of only one default w This theory contains an explicitly named individual a together with an implicitly the implicitly defined defined individual this reason he individual would satisfy P in the extension by Q(c). This symbol c and a new constant introduced immediately yields P(c) in the extension, which implies that 3x(Q(x) A P(x)) is also in the extension. for (D, A). For replaced &Q(x) that satisfies Q. Reiter suggests that The next example deals with the case in which implicitly defined individuals are introduced by default. Example 7 [ 15, p. 1161. Consider an open default theory (D, A), where D consists of two defaults : M3xP(x) &P(x) ’ : Me(x) Q(x) ’ there In this theory is an implicitly defined and A is empty. individual which is introduced by the first default, and which satisfies P. One would expect, by the second default, that this individual would also satisfy Q, i.e., one would expect 3x(P(x) A Q(x)) to be in the extension. As in Example 6, Reiter introduces a new the first default by constant w. in the extension and then, by the second default, Q(c) in the extension, and hence so is 3x(P(x) A Q(x)). This immediately yields P(c) this individual, and replaces symbol c to denote In view of these examples, when dealing with open default theories, Reiter the theory objects by giving names to individuals by the means explicitly describes of Sk&em the set of axioms A by its Skolemization, and interprets an open default by the set of closed instances of its Skolemized functions. For this purpose, he replaces form, see the definitions below. The Skofemized form of a formula 4 is obtained as follows [16]. First put 4 in prenex normal form 4’. Then replace each existentially quantified variable x of 4’ . . ,x,,), where each xi, i = 1, . . . , n, is either a free variable of +‘, or is by f(x,-. bound by the universal quantifier preceding 3x in the prefix of +‘, and f is a new function symbol distinct from any in the language L and distinct from any other introduced. Do this for all existentially quan- such function symbols previously is a formula 4’ tified variables of 4. The result of the above transformation 290 M. Kaminski I Artificial Intelligence 77 (1995) 285-319 without existential quantifiers and with the same free variables. Deleting all of 4”s quantifiers results in a quantifier-free formula c#J’, called the Skolemization of 4. The language L extended with the new function symbols will be denoted by L’. for an open default theory Reiter also needs form of is a default that results from 6(x) by the notion of a(x) = Z!rcX) Mfl~(Xy;r. Mflwt(x) , denoted form of a default. The Skolemized For his definition of an extension the Skofemized (a(x))‘, replacing its conclusion y(x) by (-y(x))‘. That is, that the “top part” of a default remains unchanged in converting it to its Notice Skolemized form. Finally, for a set of formulas A we define the Skolemizution of A, denoted by for a set of defaults D we define the Skolemization of and the Skolemization of a default A”. by AS = { 4”: C#J E A}, D, denoted by Ds, by Ds = (6 ‘: 6 E D}, theory (D, A)S, is defined by (D, A)S = (D’, A’).” (D, A), denoted Definition 8. Let (D, A) be an open default extension theory. A set of sentences E is an for (D, A) if and only if it is an extension for the closed default theory (0’. AS). Note that an extension is a set of sentences over the language L’. Therefore, when applied to a closed default theory, Definition 4 differs from Reiter’s original this problem by definition allowing to admit into extensions theories sentences over the language L’. (Definition 2). In [15] Reiter suggests to overcome for closed default The following examples In to Definition particular, when applied to close default theories, 2. That is, Reiter’s definition of extensions for open default theories does not pass the formal indicate some shortcomings of Reiter’s definition. it is not equivalent test. 3_&‘(x)}. Since P(u) ~&9’(x), Example 9. Let A , = {P(a)} and A z = {P(a), Th(A ,) = Th(A2). Therefore closed default theories (0, A,) and (0, A*) have the same unique extension Th({P(u)}). On the other hand, of and the Skolemization of (0, AZ) is (0, A ,) is a closed default theory a closed default (O-place function symbol) Since without Skolem axioms (see Definition 12 in the next section) way to deduce P(c) from P(u), (0, A,) default (0, {P(u), 3xP(x), P(c)}), where c is a new constant in the process of Skolemization of 3xP(x). is no as open theories having different extensions. and (0, A *), when considered the Skolemization introduced (0, {P(u)}), theory there ’ In general, definition equivalently the elements of A’ are not sentences. of a default replaced (Definition theory by A’ = {w’: w E A} 1). However, Therefore it is not a problem (D’, AS) does not satisfy Reiter’s at all, because AS can be M. Kaminski I Artificial Intelligence 77 (1995) 285-319 291 Example 10. Consider a closed default defaults theory (D, A), where D contains two : MP(a) VxP(x) ’ : MlP(a) lP(U) ' and A consists of only one axiom Th({+‘(a), +‘(b)}). H owever, lP(b). theory has a unique extension its Skolemization which is an open default theory The (D”, AS) = ({ : T;y), : f$;y)}, bP(b))) has two extensions, one of which contains lP(a) and the other contains P(u). An obvious reason for such a counterintuitive is introducing in the definition of the Skolemized the new free variable x by Skolemization form of a default, consequence of Reiter’s defini- of $$$ . In it seems more to replace the conclusion y by 7’. tion particular, natural the default w and A = 0. Example 11.’ Consider a default theory (D, A), where D = {w} Intuitively, to be false whenever possible,and we can expect that it will allow us to prove VxlP(x). But when passing to (D’, AS), all that this default gives us is the sentences for the closed terms t of L’. is assumed that P(x) expresses lP(t) In the next section we overcome extending A with Skofern axioms, and restricting theories to St,>, where St, denotes the set of all sentences over L. the above illnesses of Reiter’s definition by for open default the extensions 5. A modification to Reiter’s definition of open default theories In this section we briefly discuss a version of Reiter’s approach proposed in [6]. Example 11 suggests that in order to interpret an open default as the set of its closed instances, we need the domain closure assumption. In [6] the domain of the theory is completely described by means of Skolem functions. individuals to a list of new function symbols f&. We assume Definition 12. Let f be a mapping from the set of all formulas over a language L is that f of the form 3x+ . . ,xn, then one-to-one f 3x+ is an n-place function symbol. We call the language L* obtained from L by extending the set of function symbols with {f&,} the Skolem expansion of L. The sentence and if 3x1,!@, , . . . ,x,,, x) has exactly it free variables xi,. (Skolem) 4 This example is a simplified version of the example in [9]. 292 M. Kaminski I Artificial Intelligence 77 (1995) 285-319 vx, . . -Vx,,(W(x,,. ,x,,,x)>$(x ,.“‘., X,,f~,&,~ ..,x,)>) is called a Skolem axiom. The set of all Skolem Finally, for a first-order X* over L” defined expansion [13, Theorem i.e., 11,38(iii)(c), by X* = X U SK. for an L-sentence p. 2131. of’ X. axioms theory X over L, the Skolem expansion of X is a theory is a conservative is denoted by SK. It is known 4, X k 4 that X* if and only if X* k 4, see Remark 13. Skolem rule of inference. (Note that the Carnap X* 14(t) {3x1$(x)} model, in contradiction expansions If X* 14(t) rule also admit f or each closed the domain the use of the following Carnap-like term of L*, implies the Carnap rule for has a model. Then, by [6, Lemma 11, X* U {~~(f,,,,c,,)} closure assumption.) assume is admissible closed each of L*, but X* k Vx4(x). in Skolem term expansions, then X* 1 Vx+(x). To show that that X” U also has a to the contrary Therefore with X* k 4(f,,_,,,,,). Definition there exists an extension E* for (D, A*) such 14. A set of sentences E is a modified Reiter extension for (D, A) if that E = E* fl St,.’ It was shown theories, in [6, Theorem is equivalent default 2). That if and only to the original is, a set of sentences E is an extension extension if E is a modified Reiter definition of extension (Definition for a closed default for (II, A). theory (D, A) 31 that Definition 14, when restricted to closed for (D, A*) are maximal is consistent, 3, extensions Example 15. Let (U, A) be as in Example By Lemma the form Th(SK U A’), where A’ C {iP(t)} {VxlP(x)} Therefore the Carnap St,> = Th( {Vx+‘(x)}) extension to be false whenever fits the intuitive meaning (0, A”) has a unique rule, VxlP(x) possible. the set of sentences E E*. Thus, E* =Th(SKU extension E* = Th(SK U {~P(t)}7P~,~EStL.). By and E* fl (D, A). This that P(x) is assumed {VxlP(x)}), for extension saying of default w IS a unique modified Reiter 11. That is, D = { ’ !Y$~~‘} and A = 0. of consistent l,,C,jESt,_+. Since SK U {VxlP(x)} sets of sentences the set of sentences is also consistent. The Reiter’s following approach two leads to undesirable that consequences. examples demonstrate the above modification to expect Example 16.” Let D = {--A:*} would extension every sentence 4 such that A U {3x17(x), Th( {Vx(P(x) = x = a)} ). H owever, 4) 1.5, one (D, A) to have a unique modified Reiter for as it was shown by G. Schwarz, is consistent, (D, A) has a modified and A = {P(a)}. Similarly the open default to Example theory 5 Note “The default that SKI@ t 6’. Therefore thcrc is no need to convert theory in this example is that of the example defaults of Lifschitz into Skolemized in [9]. form. M. Kaminski I ArtifTcial Intelligence 77 (1995) 285-319 293 Reiter extension that contains 4. Thus, in particular, extension that contains lVx(P(x) =x = a). Schwarz’s proof By Definition 14, it suffices to show that (fi, A*) has an extension containing let w be Indeed, (D, A) has a modified Reiter is as follows. 4. Let $ denote P(x) A 14. Then A* U {UP} a model of A U {3x3’(x), Since w b 4, w k 13x+. Therefore w can be extended A * U { 3xlP(x), 4}, by defining an assignment that f2,+ is assigned u, see [l, proof of Proposition 3.3.1(i), p. 1641. By Lemma 3, there is an extension E* of (D, A*) such that lP(f&) to Skolem functions is consistent. c$}. Then for some u in the domain of w, w k lP(u). to a model w* of in such a way definition, both P(u) and 3x(P(x) A 14) > (P(&) fore, E* j- T#I 3 P&,), Since E* is deductively closed, 4 E E*. which together with lP(f,,,,) E E*. By A 14) belong to E*. There- E E* implies E* 14. Example 17. Let (D, A) be an open default A = {Q(a) A P(a)}. This default extension Since Q<a> A P(a) i- 3xQW7 by SK, A* k Q<.L,,,,h there is an extension E* for (D, A*) such that -#(faXecX,) E E*. Thus 3x(Q(x) A (even by default) and has a modified Reiter is like that in Example 6. an4 since A* k W&x,)~ that contains Zlx(Q(x) A lP(x)). The proof theory, where D = { ’ f$$)}, should Q(u) A P(a) (surprisingly?) E E* n St,. But why theory imply lP(X)) Bx(Q(x) A if’(x))?’ An obvious reason for the excessive strength of the modified definition implicitly defined that refers is giving theory objects, and the unique if we use in an indirect to the theory objects those objects. This problem can be avoided explicit names for too many name assumption Lifschitz’s semantical approach way. for 6. Semantical definition of extensions This section contains a semantical definition of extensions introduced by Guerreiro and Casanova theories for Lifschitz’s and our approaches precise definition of semantics for the first-order predicate calculus. for closed default in [4], which is the starting point in Sections 7 and 8. For what follows we need a An L-interpretation w consists of a non-empty domain U,,,, an assignment to each n-place predicate symbol P of L of an n-place relation P” in U,,,, and to each n-place function symbol f of L of an n-place function f w : U”, + U,,,. (We treat the constants of L as O-place function symbols.) For a term t(xl, . . . , x,J all of whose variables are among xi, . . . ,x,, we define . . . , u, E U,. If t is is an t”‘, from U”, to U, by induction, as follows. Let ul, t”‘(z+, . . . , un) = ui; and if t =f(tl, . . . , t,), where f a function, a variable xi, then m-place function symbol, then ’ A similar argument shows that Reiter’s original definition suffers from the same problem. 294 M. Kaminski I Artificial Intelligence 77 (1995) 285-319 t”‘(u,, . . . ,qr) =fw(ty(u,, >Un), ,t;;(u,, . . ,uJ) (Recall t”‘(u, . that we treat . ) u,,) the value of t(x,, ,x,,) at u,, . . . .u,. the constants of L as O-place function symbols.) We call ,x,,) be a formula all of whose variables are among x1, . . , u,!, denoted w k +(u,, Let 4(x,, . say that w satisfies C#I at u,, . holds. (t;(u,, w~~;w~l~ifandonlyifw~~;andw~Vx~(x)ifandonlyforeachu~U,, w I= 4(u). formula P(t,, is an atomic If 4 . , fff’(u,,...,U,I))EP”;w~$>cC,ifandonlyifw~+implies . . , u,), then w k 4 .u,,), , t,), . ,x,. We if the following if if and only For an interpretation w we define the L-theory of w, denoted Th,(w), as the set of all sentences of L satisfied by w. That is, Th,(w) = {$ E St,: w k +}. Let X be a set of sentences over L. We say that w is a model of X, if XC Th,(w). Finally, for a class of interpretations W we define the L-theory of W, denoted Th,(W), as the set of all sentences of L satisfied by all the elements of W. That is, Th,(W) = n ,, Ew ‘Q_(w). We say that interpretations w, and wa are L-equivalent, Note that the assignment to the equality relation in interpretations if Th,(w,) = Th,(w,). that does not have to be identity in the domain of the interpretation, relation satisfies the equality first-order axioms. (Interpretations where the assignment the equality normal, see [12, p. 781 for details.) That ordinary dyadic predicate which satisfies the equality axioms. in the domain of the interpretation is, equality is identity relation relation is a binary but to are called is treated as an Extensions for a closed default theory can be defined semantically as follows. theory. For any class of Definition 18 [4]. Let interpretations W let ZCD,AJ (W) be the largest class of models of A that satisfies the following condition. (D, A) be a closed default m E D, (Y E Th,(-ZC,.,,(W)), and iPI,. . , lP,,,gTh,(W), then If a :MP,,....MP Y ETh,(&;,,,(W)).8 It is known from [4] that the definition of extensions as the theories of the fixed (Definition 2). That is, a (0, A) if and only if points of _Z is equivalent set of sentences E is an extension for a closed default theory for some fixed point W of Z;D.Aj. E =Th,(W) to Reiter’s original definition 7. Lifschitz’s approach to open default theories. In this section we examine Lifschitz’s definition of extensions for open default theories, called a default logic with a fixed universe [9, Section 31. This definition involves a class of interpretations, called U-worlds, which are defined below. ’ This largest class ,I ” ,o,a,(W) always exists, see 19, Proposition 11. M. Kaminski I Artificial Intelligence 77 (1995) 285-319 295 19. Let U be a non-empty set. A U-world is a normal L-interpretation Definition w such that U,,, = U. That identity: w k u1 = w u2 if and only if u1 and z.+ are the same element of U. relation of L is interpreted is, the equality in w by Lifschitz’s definition of extensions for open default theories is a relativization of Definition 18 to U-worlds. 20. Let U be a non-empty ) theory. For Definition any set of U-worlds W let A&,Aj( W be the largest set, V, of U-worlds which are models of A and for which the following condition For any a(x) ’ MPl(~~x;~ ‘2 MP&) E D, and any set and let (D, A) be a default tuple u of elements of U, is satisfied. if 4~) E Th,o(V), where L, denotes with all elements of U.9 l&(u), and . . . , %WB’%,,W)~ the language obtained from L by extending then ~(4 E Th,JV), its set of constants We refer to the set W as the set of possible worlds, and we refer to the set V as form is a formula of L all of the set of belief worlds. Note . . > u,), where ul,. 4(u,, whose free variables are among x1, . . . , x,. the sentences of L, and +(x1,.. are of . .,u,EU, . ,x,) that the A set of sentences E is called a U-extension fixed point W of A&,Aj. Below U-extensions extensions. for (D, A) if E = Th,(W) referred for some to as Lifschitz are As it was pointed out in [9], Definition 20 when applied is not equivalent to Definition 2, because in the following manner. For a positive to closed default the cardinality of U can be integer n theories extracted consider from a U-extension the sentence 3x,*--3x, A ( I<i<,<n X,fXj Avx( ,~nx=xi)) ) denoted e,, , which states that there are exactly n distinct theory objects. For a if U is of a finite cardinality n, and card, = domain U we defined card, = {e,}, follows from Definitions 19 and 20 as a subset, even for closed default (whose extensions do not depend on U). Thus Lifschitz’s approach does {~enL=l.2....9 that any U-extension must contain card, theories not pass the formal if U is infinite. It immediately test.“’ the same domain. That As we shall see in the next section, the above deficiency of Lifschitz’s approach interpretations if we replace U-worlds by infinite non-normal can be eliminated, to be with that satisfies the equality interpreted axioms, exactly as in the classical model theory. (For example e, has a model w with an infinite domain U,,,. In this model the number of the equivalence classes of CJ, modulo = w is n.) However, Lifschitz’s definition has a deeper intrinsic problem, illustrated by the following example. by identity, but by an equivalence symbol does not have is, the equality relation largest 9 This ‘” Example set A” cD,a,(W) always exists, see [9, Proposition 31 21 below shows that it is also counterintuitive. 296 M. Kaminski I Artificial intelligence 77 (1995) 285-319 Example 21. Consider an open default theory A = {a # b, Vx(x = a v x = b), 3xP(x), and a #b are an instance of the domain closure assumption stating theory object only when Lifschitz’s definition (D, A), where D = { ’ f$ip,:“‘} and The axioms ~.x(x = a v x = b) that each either by a or by b. Thus, (D, A) has a U-extension in the case of this example, but raises a new problem. the cardinality of U is 2, which avoids the above deficiency is represented 3mP(x)}. of Given ~X(X = a v x = b), it seems very natural to replace D by the set of its all closed instances DC= : M+‘(a) lP(a) : MlP(b) lP(b) ’ ” 1 ’ and we would expect the set of extensions coincide with immediately {+‘(a)}) follows from Lemma 3 that the set of extensions and Th(A U {lP(b)}). for a closed default for an open default (D, A) to It (DC, A) has two extensions Th(A U (D’, A). theory theory However (D, A) has only one Lifschitz extension Th(A). let U = {ur, u?}. It can be easily verified that Atb,,, has two fixed points V= {II,, u2} and W = {w 1, w2} which are defined by the following table. Indeed, UI u1 u2 u2 u2 ui WI u1 u2 W, u2 ul {u,> {u,) {u,: {u2) a b P In this table, the meaning of the column marked u, is that the assignment to in u1 is defined by a”’ = u 1 and b”’ = u2, and the assignment to P in u, is constants defined by P”’ = {ul}. The meaning of the other columns is similar. though U, and v2 (w, and wz) belong their to a and b are different. Therefore neither P(a), nor P(b) belongs to to the same fixed point, (Th,(W)). Thus Th,(V) = Th,(W) = Th(A). Even assignments Th,(V) the following holds. Remark 22. In [9] Lifschitz claims that his formalization of default reasoning does for each fixed point W of not assume the domain closure assumption. However, for every u E U, then V+(x) E Au to the ThL,(W) domain closure assumption) it is unclear how to deal with open defaults without the closure domain assumption, because we need a way to specify all objects of the theory, see [7] for a general discussion. together with the fact that in a U-world Moreover, the Carnap rule (which is equivalent the domain closure assumption is admissible for Th,“(W). as well. In other words, If 4(u) ~Th,~,(w) In general, ‘I To some programming. extent, such a replacement is analogous to the completion of a program in logic M. Kaminski I Artificial Intelligence 77 (1995) 285-319 297 the assignment name assumption, we can extract to the equality of L is identity (which corresponds to the unique see Proposition 43 in the next section) is the reason for which the cardinality of U from a U-extension. One of the reasons for counterintuitive that it does not distinguish between defined symbols properties. The precise definition function (constants) a and b are treated as objects the assignments In particular, is as follows. symbols, consequences of Lifschitz’s approach is to explicitly and implicitly in Example 21, the O-place function implicitly defined by their Definition 23. Let P be a mapping from the set of all function symbols f of a language L to a list of new predicate symbols Pr. We assume that P is one-to-one (defining) if f and, its predicate symbols with Pf’s the defining function expansion of L. The sentence Vx, - * - V.x,3!xPf(x1,. . . ,x,, x) is called a defining axiom. The set of all defining axioms is denoted by D. is an n-place symbol. We call the symbols and extending then Pr is an (n + 1)-place language L, obtained from L by deleting function symbol, its predicate denoted dp, its translation, as follows. Consider For a formula 4 of L we define into L,, a sequence &, +i, . . . of formulas over by induction, the language obtained by extending L with the new predicate symbols, such that & is If +i does not contain 9, and 4i+1 results from & in the following manner. function symbols, let f(tl, then the sequence . . . , t,) be the leftmost . . . , that term. Then 4i+1 is L), obtained . . . , t,, x) A P(. . . ) x, . . .)). Since +i+1 contains one function symbol less than &, the above sequence must terminate. The last formula is 4’. For a set of L-formulas X we define a set of L,-formulas Xp by Xp = (4’: 4 E X}, and for a set D of defaults over L we define a set Dp of defaults over L, by term in 4i such that all ti are variables, and let P(. . . , f(tl, . . .) be the atomic subformula of 4i that contains from +i by replacing P(. . . , f(tl, terminates at +i. Otherwise, . . .) with 3x(P&,, in the sequence . . . , t,), Finally, for a first-order theory X over L, the defining expansion of X is a theory XD over L, defined by XD = Xp U D. Proposition 24 below establishes a relationship between Lifschitz extensions for a default theory and its defining expansion, and sheds more light on the reason for the counterintuitive by Example 10. behavior of Lifschitz extensions demonstrated Proposition 24. Let (D, A) be a default theory. Then E is a Lifschitz extension for (D, A) if and only if E ’ is a Lifschitz extension for (D’, AD). Proof. Let w be an L-interpretation. Consider an L,-interpretation wp such that 298 M. Kaminski I Artificial Intelligence 77 (1995) 285-319 for any predicate U,P = U,, function symbol f of L, the assignment to Pf is defined by symbol P of L, Pwp = P”, and for any n-place P;‘={(u I,..., u,,. f”‘(U ,,..., u,,)): u I,..., U,,EU,.}. It can be Hu1,. readily verified that wp k D, and that for any LEw sentence . .9un), +4&.. . , u,) let w be an L,-interpretation if and only if wp k +“(ul,. such wF such Conversely, L-interpretation PWF = P”, and for any n-place f qu,, such that wkP,“(u,,... Luw sentence +(u,, an symbol P of L, ,u, E U,,, . . . , un) is defined as follows. By D, there is a unique (modulo = “) u E U , u,~, u), and we put fWF(u,, . . . , un) = u. Again, for any , un) if any only if w k +‘(ul, . . . , ~4~). . . Now it follows that W is a fixed point of AYn,A, if and only if Wp = {w’: w E IV} for any predicate symbol f of L and u,, that U,, = U,, function . . . , u,), wF k $(u,, . . , u,). that w k D. Consider is a fixed point of A&I,,~,~), which completes the proof. 0 8. A modification of Lifschitz’s approach In it free in the previous the cardinality of the this section we modify Lifschitz’s approach from to make section. An obvious way to avoid the the is to replace U-worlds by deficiencies discussed reference to interpretations, ordinary problem in Example 21, can be achieved by “separating” functions and predicate to have the same assignments require under consideration function symbols. Example 29 below formalizes these stronger requirements, shows that they are still insufficient. First we need the following definition. to In particular, we should to but in an interpretation. the interpretations the assignments and avoiding interpretation interpretation (constant) symbols function the Definition 25. An L-pre-interpretation F consists of a non-empty domain I!J~ and an assignment function f”: UF+ U,. the constants of L as O-place function symbols.) function symbol f of L, of an n-place to each n-place (Recall that we treat In view of the above definition, an interpretation together with an assignment pre-interpretation alternatively, corresponding denoted by F,, and we say that w is based on F,. a pre-interpretation interpretations.‘* The pre-interpretation to the predicate can be thought as a “function can be thought of as a symbols, or, of structure” of an interpretation w is I* Pre-interpretations function Herbrand Definition and predicate symbols. one. Our modification 34 below. are widely used in logic programming to separate between the assignments see [IO]. Usually only one pre-interpretation of Lifschitz’s approach is also based on free pre-interpretations, is considered, to the free, see M. Kaminski / Artificial Intelligence 77 (1995) 285-319 299 Definition 26. An L-interpretation F-world. based on a pre-interpretation F is called an The opening paragraph of this section suggests to modify Definition 20 by adding the following compatibility requirement. Definition 27. Let F be a pre-interpretation For any set W of F-worlds are models of A that satisfies the following condition. theory. let AF CD,AI(W) be the largest set, V, of F-worlds which and let (D, A) be a default For any U(x) ’ MP1c$j’ xMB&) E D, and any tuple u of elements of U,, if a(u) E Th,UF(V, and lP1(Io,. A set of sentences E is called an F-extension . . , -@&)~%,JW)~ then ~(4 E ThL,FW13 for (D, A) if there is a fixed point w of fG.A, such that E = l%,(W). (Note that W must be a set of F-worlds.) Remark 28. The notion of F-extensions is similar to that of default logic with fixed constants [9, Section 61, also see Definition 49 in the next section. In Lifschitz’s terminology, F-extensions are extensions all of whose functions symbols are fixed. Example 29. Consider a closed default extension Th( {CX # b}). However Th( {a Z b}). The former corresponds assignment where the assignments to a and b are different. theory ({w}, it has two F-extensions: to the pre-interpretations 0) which has a unique Th( {a = b}) and with the same to a and b, and the letter corresponds to the pre-interpretations, interpretation. Example 29 shows that the notion of compatibility introduced by Definitions 25-27 is not sufficient for the following reason. Fixing the assignments to function symbols might impose some undesirable constraints on the assignment to equality the example, uw =W b” is such a constraint on the in the if we want to proceed assignment to function in that way, we must restrict ourselves assign distinct symbols, i.e., elements of the domain (In in the interpretation w.) Therefore, to pre-interpretations to different to independent assignments to equality speaking, roughly which, terms. Definition 30. Let b be a set that contains no symbols of L. The Herbrand whose domain for L, ,I4 denoted Hb, is the pre-interpretation pre-interpretation UH, consist of all closed terms of L,, and for any n-place function symbol f and . . . , t,). The set b is called the closed terms t, , . . . , t,, of L,, f Hh(t,, . . . , t,) = f(tl, base of Hh.” inspection of the proof shows that it holds in the case of pre-interpretations I3 Similarly to [9, Proposition 31 it can be shown that this largest class A&,,(W) a routine I4 Recall that L, is obtained I5 It can be shown that any pre-interpretation Herbrand pre-interpretation modulo some congruence from L by extending the set of constants of L with the elements of b. can be obtained (up to an isomorphism) by factorizing a always exists. In fact, as well. relation, see the proof of Proposition 33. 300 M. Kaminski i Artificial Intelligence 77 (1995) 285-319 Definition 31. A pre-interpretation pre-interpretation. F is the subset of its domain U, which consists of those elements u such that for no (n-place) function symbol f of L and for no u, , The base b, of a free pre-interpretation . , CL, E U,, u = f F(u,, . . . , un). is called free if it is isomorphic to a Herbrand Free pre-interpretations approach; for a better For any free pre-interpretation play a major to Lifschitz’s intuition, some of their basic properties are stated below. role in our modification F the following holds. For all pairs of m- and n-place distinct function symbols g and f of L and for . . . , urn) #f F(u,, . . , u,). (Recall that all ul, . . . , u,, ul, . , u, E U,, gF(u,, we treat the constants of L as O-place function symbols.) For each n-place function symbol f of L and for all ul, . . , u,, , u,, . . . , u, E U, such that for some i = 1, . . . , II, u, # ui, f F(ul, . . . , u,,) #f “(u,, . . . , u,,). For each term t(x, , . and for all u,, . . the following binary relation cF on U, is well-founded. For u,u E U,, u <F u if symbol f of L, IZ > 0, and and only u,,..., U. ,x,,) of L, whose set of free variables is {x,, . . . ,x,}, u,EU,suchthatforsomei=l,...,n,u,=uandf~(u,,...,u,)= if there exist an n-place . ,un) # ui, i = 1,. . , II. Moreover, , u,~ E U,., f(u,, function The above properties of free pre-interpretations tions based on free pre-interpretations for the axioms of the equality pre-interpretation free. of a model of the equality show that normal satisfy the equality theory, see [lo, p. 791 it can be shown that if a then it is is well-founded, theory.16 Conversely, theory interpreta- Definition 32. A free pre-interpretation with an infinite base is called universal.17 The “universal” property of universal pre-interpretations is given by Proposi- tion 33 below. Proposition 33. Let A be a consistent L-theory, and let F be a universal pre- interpretation. Then A has a model whose pre-interpretation is F. if necessary, we Proof. Let b be the base of F. Renaming may assume that F = Hb. Since b is infinite, is a model w of A such that U, = b, see [l, Corollary 2.1.6, p. 671. For each u E UHh, we define an element by E(U) = u for u E b, and for a closed term f(t,, . . . , t,) of L, we E(U) of b(=U,), . , t,)) =fW(.$t,), . . , E(t,)). . t,)) by E( f(t,, define e( f(t,, the elements of U,, there In particular, lb In logic programming completion. unification I’ Universal [12, Lemma between pre-interpretations 2.161. first-order the equality it allows terms, naturally theory a consistency see [lo] arise is used in the context of defining equality between for a detailed of the subject. exposition in the Henkin proof of the completeness in a model negation and by Clark’s result of the theorem, see M. Kaminski I Artificial Intelligence 77 (1995) 285-319 301 . . . ,u,): that wb k 4(u,, Consider an interpretation wb such that F,,,, = Hb and for an n-place predicate (E(u~), . . . , E(u,)) E P”}. We prove by induction symbol P, Pwb = {(u,, on the length of an L-formula 4(x,, . . . , un) if and only if . . . ,x,) NJ t= 4(&(%), . . ., E(u,)). By the definition of wb this is true for atomic formulas, connectives 3 and 1 is immediate. For the case of and the case of propositional for some u E Uwb, the existential quantifier, hypothesis, w k +(E(u), E(u~), . . . , if w k Conversely, By . . , un), then for some u E U,,,, w k 4(~, E(u~), . . . , I). u = E(U). Thus, by the induction hypothesis, wb /= +(u, ul,. 0 &J), 3+(x, +I), definition, which implies wb k 3x+(x, ur, . . . , un). implies w k 3x$+, E(ZQ), . . . , E(u,)). if wb k 3x4(x, ul,. . . . , e(u,)), u1,. which induction . . , u,), then wb k #@, the . . > u,>* By Our modification U-worlds by F-worlds, to Lifschitz’s approach (Definitions 19 and 20) is replacing for a universal pre-interpretation F. Definition 34. Let F be a universal pre-interpretation theory. We call F-extensions extensions. and let (D, A) be a default for (D, A) modified Lifschitz extensions or universal of sets of normal finite domain by sets of interpretations The difference between Definition 34 and Lifschitz’s original definition (Defini- interpretations the same based on the same universal to vary In particular, whereas Lifschitz’s original of the equality relation, emphasizes the tion 20) is the replacement possibly pre-interpretation. over definition, the predicate structure of compatibility of the function assignments. domain.) the normal interpretation the pre-interpretation requiring (In other words we allow the assignments our approach is based on interpretation, to equality over the show the behavior of the modified definition Examples 38-41 below (which are continuations of Examples 5, 16, 17, and 21 in some cases where respectively) both Reiter’s and Lifschitz’s approaches are counterintuitive. in this section are based on the following definition and lemmas. In particular, Lemma 37 is similar of [9, Proposition 61 to the F-worlds. to Lemma 3 and is a relativization The proofs Definition 35. Let p(x) be an L-formula. For an interpretation w, p”’ denotes the set of tuples u such that w k P(U). Let D be a set of normal defaults without and let F be a pre-interpretation. We say that an F-world w is prerequisites E D, p”’ C p ‘“‘; and D-maximal E D, p”’ is a proper subset of p”‘. Finally, we say that F-worlds for some w w1 and w2 are D-equivalent, denoted w1 -D w2, if /?“‘I = /3”‘, for all w E D. (It immediately if there is no F-world w’ such that for all w follows from the definition that yD is an equivalence relation.) Lemma 36. Let (D, A) be a default theory and let D contain a normal default Let F be an L-pre-interpretation and let W be a set of without prerequisites w. 302 M. Kaminski I Artificial Intelligence 77 (1995) 285-319 F-worlds. If for some w E W and some tuple u of elements of U,, w + /3(u), then for any u E Af,,,,(W), TV k P(u). Proof. The proof follows immediately 27). 0 from the definition of Af;D,aj (Definition The following lemma is similar to [9, Proposition 61 which shows that the fixed to the extends of /3 in {/3}-maximal U-worlds. ,,,) correspond points of A:;+J) Lemma 37. Let F be a pre-interpretation and let D be a set of normal defaults without prerequisites. A set of F-worlds is a fixed point of Aru,Aj if and only if it is an equivalence class of the restriction of --tI to the D-maximal F-worlds which are models of A. Proof. Let W be an equivalence class of zu restricted to the D-maximal F-worlds which are models of A. Then the set of belief F-worlds W satisfies the condition of to show that W is the Definition 27 for the set of possible worlds W. In order maximal set of F-worlds satisfying that condition assume to the contrary, that it is a proper subset of AcI,Aj(W). By definition, Aru,Aj(W) k A, and, by Lemma 36, each element of AF (D,Aj(W) is D-equivalent is D-maximal. Since W is an equivalence class of -D restricted F-worlds which are models of A, AF (n Aj(W) c W, in contradiction with assumption of the lemma. Conversely, to the elements of W, and, therefore, to the D-maximal the that W is a proper subset of iru,Aj(W). This proves the ‘Yf” direction let W be a fixed point of AFn AI. By Lemma 36, for any two worlds ED we w,,w? E W and for all w may write p W for p”‘. where w E W. In order to prove that W is an equivalence class of the restriction of --[) to the D-maximal F-worlds which are models of A, that there exists an F-world w’F W such that w’ k A and assume to the contrary ED, pw c j3”“. Then the set of belief worlds V = W U {w ‘} satisfies for all w the condition of Definition 27 for the default theory (D, A) and the set of possible worlds W, in contradiction with the maximality of W. This proves the “only if” direction of the lemma. /3”’ = bw2. Therefore, for all w ED, 0 if an F-world w satisfying ZlxQ(x) is P-maximal, Example 38. Let (D, A) be as in Example 5. That Ob vrously, {3xQ(x)}. w k VxP(x). Therefore {VxP(x), 3xQ(x)}. this extension contains 3x(P(x) A Q(x)), which is what we expect in our case of an implicitly defined individuals, see the discussion in Example 5. (D, A) has a unique modified Lifschitz and A = then extension In particular, is, D = {q}, 39. Let and Example A = {P(a)}. Let w be a lP-maximal F-world. Then (iI’)“’ = U, - {a”‘}. Thus, by Lemma 37 (D, A) has a unique modified Lifschitz extension Th({Vx(P(x) =x = (D, A) be as in Example 16. That is, D = { ’ y$y’>, M. Kaminski I Artificial Intelligence 77 (1995) 285-319 303 a)}). We see that, like in Example 15, the meaning of default w is assumed to be false whenever possible. is that P(X) (D, A) be as in Example 17. That Example 40. Let A = {Q(a) A P(a)}. Let w be a lP-maximal Thus, (D, A) has a unique modified Lifschitz Th({Vx((Q(x) A P(X)) =x = a)}). That is, as above, P(X) is assumed whenever possible. and is, D = {w}, F-world. Then (+‘)” = U,,, - {a”‘}. extension to be false by Lemma 37, Example 41. Let (D, A) be as in Example 21. That and By Lemma 37, (D, A) has two A = {a # b, Vx(x = u v x = b), 3xP(x), 3x-#(x)}. which are modified Lifschitz extensions Th(A U {lP(u)}) exactly what we expect in our case of an explicitly defined finite domain, see the discussion and Th(A U {+‘(b)}), in Example 21. is, D = {w} The next theorem shows that modified Lifschitz extensions pass the formal test. That is, for closed default theories they coincide with the ordinary extensions. Theorem 42. Let (D, A) be a closed default theory. Then a set of sentences is an extension for (D, A) if and only if it is a modified Lifschitz extension for (D, A). Proof. Let E be an extension let F be a universal L*-pre- interpretation. By Proposition 33, for each model w of E there is an L-equivalent interpretation wF based on F. (D, A) and for Thus Let W= {wF: w k E}. By the definition of wF, W is a set of F-worlds such that it for (D, A), that satisfies the (D, A) and the set of possible to prove to show that W is the largest set of belief F-worlds E = Th,(W). suffices condition of Definition 27 for the default worlds W. is an F-extension in order that E theory for and i.e., that (W). lpi,. such . . ,%, (kecall a EThr+(W), a :“Pl,...,MPm E D, that W is the largest set satisfying 27 is satisfied. To prove (D, A), y E E (=Th,(W)), theory.) Since, Th,(W) = E that (D, A) is a closed default Let $Th,” the condition of and E ‘is an extension that Definition condition, assume to the contrary, that Afb,Aj(W) contains Was a proper subset. Let wF E A;“D Aj (W) - W. Then, by the definition of W, wF p E, which implies is a proper subset of E. Obviously, B satisfies properties that B = l%&&,,,(W)) the (D, A) and S = E, of Definition 2 for (Dl)-(D3) the proof of the “only if” part of the theorem. minimality of E. This completes for (D, A). That is E = ThL(A&Aj(W)), (Dl)-(D3) for some fixed point W of A[D,A,. Obviously, B = E satisfies properties of Definition 2 for (D, A) and S = E. It remains to prove that B is the minimal set satisfying is a proper subset of B(=E). Then, by Proposition 33, there is a model w of 4, Aj(E) such the set of belief worlds that F,,, = F, and w k E. Thus we W. It follows those properties. Assume let E be an F-extension in contradiction with to the contrary, that q,,,,(E) Conversely, that 304 M. Kaminski 1 Artificial Intelligence 77 (1995) 285-319 W U {w} satisfies the condition of Definition 27 for the default theory (D, A) and the set of possible worlds W, in contradiction with the maximality of W, which Cl completes the proof of the theorem. Propositions theories can be defined 43 and 44 below give a relationship between modified Lifschitz’s approaches. They state the Lifschitz extensions large class of default extensions. expressed by the axiom card,, and the reference expressed assumption, assumption by two defaults: the original and for a rather in terms of modified Lifschitz of domain U can be can be the unique name the unique name to normal interpretations to see [7, Section 31. In Proposition 44 we simulate ’ ::&:I”2 which corresponds the cardinality the default Proposition 43 shows that by : Mx, #x2 : Mx, =x2 IX x,#x, - x, =x, . which allows extensions without explicit reference to describe Lifschitz extension to the cardinality of the domain. in terms of modified Lifschitz Proposition 43. Assume sentences modified Lifschitz extension for is a Lifschitz extension for that L contains no function symbols. Then a set of (D, A) if and only if for some U, it is a Proposition 44. Assume that L contains no function symbols. Then a set of sentences is a Lifschitz extension for (D. A) if and only if it is a modified Lifschitz extension for :Mx,fx2 :Mx,=x2 x, #x, ’ x, =x2 Propositions 43 and 44 are immediate corollaries, and 54 which we prove propositions to default The following corollaries extensions can be translated logics with fixed constants. to Propositions into modified ones. in the next section. The respectively, of Theorems 53 the generalize theorems 43 and 44 show how Lifschitz Corollary 45. Let (D, A) be a default theory. Then a set of sentences is a Lifschitz extension for (0, A) if and only if for some U, EP is a modified Lifschitz extension f or I* These M(x, =x2)1(x, defaults correspond to the modal strict equality axioms M(x, #x2) > (x, Zx,) and =x2), see [5. p. 1901. M. Kaminski I Artificial Intelligence 77 (1995) 285-319 30.5 (DP”{ :y~~},ADUcard,). Proof. The proof follows immediately from Propositions 24 and 43. Cl Corollary 46. Let (D, A) be a default theory. Then a set of sentences is a Lifschitz extension for (D, A) if and only if EP is a modified Lifschitz extension for : Mx, #x, : Mx, =x* x,#x, ’ x1 =x* Proof. The proof follows immediately from Propositions 24 and 44. q 9. Default logic with fixed constants In this section we express extensions in [9, Section 61 in terms of modified Lifschitz extensions, for default logics with fixed constants introduced see Theorems 53 and 54 below. These theorems show that a predicate P can be fixed That is, fixing constants can be by two “opposite” defaults and w. level”, which allows US to moved down from avoid Lifschitz’s explicit reference to the “object to fixed constants. the “meta-level” : ?I$?) We believe the expressive power of modified Lifschitz extensions, that the results in this section are of interest because, apart from they allow to (modified) Lifschitz extensions and the original the cir- showing establish a relationship between McCarthy’s cumscribed one) and all the function symbols are fixed.” circumscription, where the predicate symbols (but all To proceed we need the following generalizations of Definitions 25-27. s consists of a non-empty domain US, an assignment symbols of L. A Definition 47. Let C be a set of function to each n-place C-structure predicate relation P” in US, and to each n-place function symbol f of C of an n-place function fS : 17: + Us.” If C contains = and =S is identity, symbol P of C of an n-place then s is called normal. and predicate Definition 48. Let s be a C-structure. We say that an L-interpretation w is an symbol P of C, P” = P”; and for each s-world, function symbol f of C, f w = f”. If s is a normal C-structure, then s-worlds are also called normal. if U, = U,; for each predicate I9 Some embeddings of circumscription *’ In particular, with the class of L-pre-interpretations, then the class of C-structures coincides with the class of L-interpretations. in the next section. if C consists of all the function symbols of L, then the class of C-structures coincides and if C consists of all the function and predicate symbols of L, into open default theories are presented 306 M. Kaminski I Artijicial Intelligence 77 (1995) 285-319 Definition 49. Let C be a set of function and predicate symbols of L. Let s be a C-structure let A” (D,Aj(W) be the largest set, V, of s-worlds which are models of A that satisfies the following condition. theory. For any set W of s-worlds and let (D, A) be a default For any *MBi(x:(X;, MP&) E D, and any tuple II of elements of U,, if a(u) E Th,[, (V), and l&(u), . . . , -R,(4~ThLU (W>, then ~(4 ~ThLUJV).Z’ A set of sentences E is called a (normal) C-exteksion for (II, A) if there exist a (normal) C-structure (Note that W must be a set of s-worlds.) s and a fixed point W of ATD, Aj such that E = Th,(W). Remark 50. By definition, each normal C-extension the fixed constants C and vice versa, see [9, Section 61. is a Lifschitz extension with Example 51. Let C consist of all the function extension is an F-extension and vice versa. symbols of L. Then each C- Example 52. As we shall see in the proof of Theorem 54 below, each {=}- extension is a Lifschitz extension and vice versa. Theorems 53 and 54 below describe a large class of normal C-extensions in terms of modified Lifschitz extensions. Theorem 53. Assume that L contains no function symbols. Then a set of sentences is a normal C-extension for (D, A) if and only if for some CT, it is a modified Lifschitz extension for Theorem 54. Let C contain all the function symbols of L. Then a set of sentences is a normal C-extension for (D, A) if and only if it is a modified Lifschitz extension f or D” ( i : MlP(X) lP(X) : MP(x) ’ P(x) Ld4~ We see that Propositions 43 and 44 follow from Theorems 53 and 54, respectively, with C = 0. Proof of Theorem 53. Let U be a non-empty interpretation and let W be a fixed point of set. Let F be a universal pre- A;&,{ ox +I MPlP(Xj 3 x1:x2’~J Ip(,) ’ p(x) }mzc.A”-rdc~) ’ ” Similarly to [9, Proposition 31 it can be shown that this largest class A;,,,,(W) always exists M. Kaminski / Artificial Intelligence 77 (1995) 285-319 307 -tP(x) for p(x) in Lemma 36, P E C U { =}, we obtain the Substituting to P is the same relation Pw on U, in all the elements of W. (Recall assignment that all the elements of W have the same domain U,.) In particular, =w ’ is a the cardinality of the set of equiva- congruence lence classes of =w . 1s equal to the cardinality of U, if U is finite, and is infinite otherwise. Therefore we may replace U by the set of equivalence classes of =w, which we shall also denote by U. We denote the equivalence class of u E U, by E(U). relation. Since card, E Th,(W), that For an F-world w E W, let E(W) denote .* t un) E P”}. Since such that for an n-place predicate (u,,. distinguishable the restriction of any E(W) to the assignments same C-structure s. Moreover, the elements of the same equivalence the interpretation symbol P of L, P”““’ = {(I, over the domain U . . . , E(u,)): in- to w). It follows that to the elements of C results in the class are since, by definition, =’ is identity, s is normal. in w, E(W) is well defined (and is L-equivalent Let E(W) = {E(W): w E W}. We contend that E(W) is a fixed point of A&,Aj such that Th,(s(W)) = l%,(W). from Let w E W. It follows the definition of c(w) . . . ,xn) of L and any ui, . . . , u,, E U,, w 1 +(u,, . , E(u,)). Therefore, (p(u,, . . . , un) E Th,$W) that . . . , un) if and only for any formula if if and only if . , E(u,)) E ThLo;(.s(W)). This, in particular, imphes that ThL(c(W)) = 4(x,, c(w) t= +(s(%)Y.. 4(&(U,), . . (therefore E(W) k A), and that the set of the belief normal s-worlds Th,(W) E(W) satisfies the condition of Definition 49 for (D, A) and the set of possible normal s-worlds c(W). It remains to show that e(W) is the largest set of the belief normal s-worlds satisfying that condition. So, assume to the contrary that there is a set of the belief normal s-worlds V such that E(W) is a proper subset of V, and V satisfies the condition of Definition 49 for (D, A) and the set of possible normal s-worlds E(W). Since s is a normal C-structure, V satisfies the condition of Definition 49 for the following interpretation and the set of possible worlds c(W) as well. For an element LJ E V, let E-~(U) based on F. For an n-place predicate symbol denote . . . , E(u,)) E P”}. Then W is a proper P of L, PE-l(U) = {(ul,. subset of K’(V) = {E-~(U): u E V}, and the set of the belief F-worlds E-‘(V) satisfies the condition of Definition 27 for . . , u,): (a, and the set of possible F-worlds W, because, by the definition of E, for any any ui, . . . , u, E U,, +(ul, . . . , un) E formula ThLUF(e-l(V)) this contradicts the maximality of W. if ~(E(u~), . . . , E(u,)) . . . ,x,) if and only E Th,JV). However, of L 4(x,, and 308 M. Kaminski / Artificial Intelligence 77 (1995) 285-319 let s be a normal C-structure, between the case of finite and pre-interpretation Conversely, We distinguish infinite. Let F be a universal symbols, function satisfies F-worlds F = U, = U, .) Then the belief the condition of Definition 27 for infinite U,. First assume and let W be a fixed point of A;D,AJ. that U, is with the base U,. (Since L has no as a set of set W considered : MlP(x) : MP(x) lP(X) ' P(r) PEC , A U card, in the case of infinite U will be completed and the set of possible F-worlds W. (Recall the proof largest set of the belief F-worlds that there V satisfies is a set of the belief F-worlds Vsuch 27 for the condition of Definition satisfying the elements of Ware s-worlds.) Thus that W is the if we show that condition. Assume that W is a proper to the contrary subset of V, and : MlP(x) : MP(x) lP(X) ' P(x) PEC , A U card, the set of possible F-worlds W. Let P E C U { =}. Substituting 1P for p in that V is a set of s-worlds, which contradicts the maximality and Lemma 36, we obtain of w. Now assume ” - be a mapping interpre;a;ion,over ,(u, , L, P’ the definition from of F-‘(U) elements over, since L contains {F-‘(W): w E W}. We intend that are . , u,,): that U, is finite. Let F be a universal and from U,; onto U,. For an s-world w E W, let E-‘(W) denote pre-interpretation the domain U, such that for an n-place predicate (In particular, E P”}. . , E(u,,)) (.$u,), . let E the symbol P of follows it for a uE Us, the by E-‘(W), E-‘(W) k A U card,. More- = to w.) Since Let L’(W) f-‘(w) is L-equivalent indistinguishable no function symbols, E-‘(W) that K’(W) is an F-world. is a fixed point of to show : MlP(x) : MP(x) lP(X) ' P(x) P E c , A U card, such that Th,,(F ‘(W)) = Th,.(W). Obviously, for any 4(u,, . . . . L~,,)ET~,.~,(F formula ‘(W)) . 4(x,. if and only ,x,) of L and any u,, . . . , u,, E U,, if +(E(u,), . . . , E(u,)) E ThrJW). Th,,(f-‘(W)) =Th,(W). Therefore assignments implies of Definition of that and the predicate that 27 for This together of C U {=} symbols the definition with the in the elements of E-I(W) the condition satisfies of e-‘(W) the set of the belief F-worlds : MlP(x) : MP(x) 1P(r) ' P(x) PEC , A U card, and largest the set of possible F-worlds set of the belief worlds to the contrary that Assume t‘ -l(W). satisfying there It remains to show that e-l(W) that condition. is the is a set of the belief worlds V such that M. Kaminski I Artificial Intelligence 77 (1995) 285-319 309 &-‘w> . the default IS a P P theory ro er subset of V, and V satisfies the condition of Definition 13 for . . . ,u,) v k P(u,, if and only and the set of possible F-worlds E-‘(W). Let u E V. Then for any P E C and if e-‘(W) k P(u,, . . . ,u,). any u,,...,u,,EU~, Indeed, since W is a set of s-worlds, either E-‘(W) k P(u,, . . . , un) or E-‘(W) k K,,). Then the “if” direction follows from Lemma 36 with p being P, lP(U,,..., and the only if direction follows from Lemma 36 with /3 being -IP. Let u1 and u2 be distinct elements of U,. We contend = follows Let E(u,) # E(u~). Then &-l(W) k u1 # u2, and the “if’ direction E(u~). from Lemma 36 with p being #. Now let u k u1 # u2. Were E(u,) = E(u~), the number of elements of U, distinguishable by u would exceed the number of elements of U, in contradiction with card,. This proves that u b u1 = u2 if and only if E(u,) the contention. It follows that E(V) is a set of s-worlds which contains Was a proper subset and satisfies the condition of Definition 49 for (D, A) and the set of possible s-worlds W. However, the maximality of W. 0 this contradicts Proof of Theorem 54. The proof universal pre-interpretation and let W be a fixed point of is similar to that of Theorem 53. Let F be a $>U( M7P(r) :MP(r) 7,‘(X) . p(X) )p~cu(=)J) ’ lP(x) that the Let P E C U { =}. Substituting assignment to P is the same relation Pw on U, in all the elements of W. (Recall that all the elements of W have the same domain U,.) In particular, = w is a the equivalence class of u E U, modulo =w by congruence is, F(U), and we denote for p(x) in Lemma 36 we obtain classes of =w by .$U,). That the set of equivalence relation. We denote &(UF) = {G)>,EU,.. over u,EU,, denote . 74s)): symbol predicate an n-place the interpretation F(U~) such that For an F-world w E W, let E(W) the domain P of L, P E(W) - for - (u,, . . .7 un) E P"} , and for an n-place function symbol f of L the in w, E(W) is {(&(U,)T.. and for u ,,..., elements of the same equivalence class of =w are indistinguishable well defined (and is L-equivalent to the elements of C U { =} results in the same C-structure S. to the assignments since, by definition, = ’ is identity, s is normal. Now exactly as in the Moreover, proof of Theorem 53 it can be shown that E(W) = {E(W): w E W} is a fixed point Of ‘SD A) such that Th,(e(W)) = Th,(W): to w). It follows that the restriction of any E(W) f E(W)(E(UI), . . . , E(u,)) = ~(f”‘(z.+, . . . ,u,)). Since Let ’ w E W. It follows from the definition of E(W) that x ) of L and any u,, . . . ,u,EUF, w k+(u,,. ~($~~,;Ei;,), . . . , E(u,,)). Therefore, 4(u,, . . . , u,) E Th,_(W) +(a&,), . . . > 4~,,)) E ‘-,$P))~ Th is, in particular, . . ,u,) for any formula if if and only if and only if implies that Th,(c(W)) = 310 M. Kaminskl ! Artificial Intelligence 77 (199.5) 285-319 (therefore E(W) k A), and that the set of the belief normal s-worlds Th,(W) E(W) satisfies the condition of Definition 49 for (0, A) and the set of possible normal s-worlds E(W). It remains to show that E(W) is the largest set of the belief normal s-worlds satisfying that condition. that there is a set of the belief normal s-worlds V So, assume to the contrary such that E(W) is a proper subset of V. and V satisfies the condition of Definition 49 for (D, A) and the set of possible normal s-worlds E(W). Since s is a normal C-structure, V satisfies the condition of Definition 49 for : MlP(X) :MY(x) lP(X) ' P(x) .A /'t<'U(= ) and the set of possible normal s-worlds e(W) as well. For an element u E V, let F-‘(U) denote based on F. For an n-place predicate symbol is a proper subset of F ‘(V) = {E -l(u): u E V}, and the set of the belief F-worlds the following I’ of L, P’~““‘= {(u,, . . ,F(u,))EP”}. interpretation Then W (.z(u,). . . .u,): F-‘(V) satistics the condition of Definition 49 for DU i i : M1P(x) :MP(x) lP(X) - P(x) I /'EC'lJ-) 1 .A and the set of possible F-worlds W, because, by the definition of F, for any formula 4(x,. if the , un> ET&_+(V) this contradicts E ThLU (E(V)). However, .x,,) of L and any u,, . . . yt E UFI 4,(u,, . . if &F(u, ). and only . F(u,,)) maximality of W. Conversely, Ict s be a normal C-structure, and let W be a fixed point of A&,). as follows. For an n-place such that the cardinality of b, induction u,, E II,., E(~~(u,. Let F be a universal pre-interpretation is not less than the cardinality of U,. Let E be a mapping from b, onto U,. We extend E onto U,, by f of L and (Here we use the con- u,,..., dition that C contains all the function symbols of L.) For an s-world w E W, let E-‘(W) denote such that for an n-place predicate symbol P of L and u ,,..., P”}. Let F-‘(W)= point of u,,EU~, P’ {E ‘(w): w E W}. We intend to show that E-I(W) the interpretation . , u,!)) =~$(E(u,), based >z,F (+1),...,44J)E is a fixed function symbol . . .,&J: = {(u,, . , I). : MIP(x) lP(X) +%)},,E_ * P(x) i, A) such that Th,,(& ‘(W)) = ThJW). By definition, F-‘(W) is an F-world, and a straightforward complexity of a formula 4(x,, . , u,,) if and only if E.-‘(W) k ~(E(u,), . . , I). ~(LL,, A. Let P E C u { = } . Since s is a (normal) C-structure, same in all the elements the set of the belief F-worlds F-‘(W) induction on the shows that for all ui, . . . , u, E Us, w F In particular, E-‘(W) b the assignment to P is the and that satisfies the condition of Definition 27 for of 6 ‘(W). Therefore Th,(&-l(W)) = Th,(W), . ,x,) . M. Kaminski I Artificial Intelligence 77 (1995) 28.5-319 311 : MlP(X) D” ( 1 lP(X) : MP(x) ’ P(x) lp.cu,;,~ A> and the set of possible F-worlds &-l(W). largest set of the belief F-worlds satisfying that condition. It remains to show that e-*(W) is the Assume to the contrary is a set of the belief worlds V such that is a proper subset of V, and V satisfies the condition of Definition 27 for that there e-‘(W) : MlP(X) :MP(x) lP(X) ' P(x) e-‘(W). e-‘(W) k P(u,, that u b P(u,, if and only . . . ,u,) the set of possible F-worlds Let u E V, P E C U {=}, . . . , u,,) and and let Ml,..., U, E U,. We contend if e-‘(W) k if and only if P(u,, *. . ,u,). As we have seen earlier, w I= P(&(%), . * . , E(u,)), and, since all the elements of W are (normal) s-worlds, either W k P(e(ul), the “if” direction of the contention follows from Lemma 36 with p being P, and the only if direction follows from Lemma 36 with /3 being -IP. Thus, E(U) is an s-structure. It follows that E(V) is the set of s-worlds which contains W as a proper subset. Also the set of the belief s-worlds e(V) satisfies the condition of Definition 49 for (D, A) and the set of possible s-worlds W, which contradicts the maximality of w. . . . , E(u,)) or W b ~P(E(u~), . . . , E(u,)). Therefore cl Next we describe normal C-extensions in terms of Lifschitz extensions. Theorem 55. A set of sentences is a normal C-extension for (D, A) if and only if it is a Lifschitz extension for D" ( 1 :M1P(x) : MP(x) lP(X) ' P(x) ” :Mf(x)#x :Mf(x)=x 1 PEC { f(x)#x ’ f(x)=x 1 lecYA . > For the proof of Theorem 4 we need to extend Lemma 36 to arbitrary C-structures. Lemma 56. Let (D, A) be a default theory and let D contain a normal default without prerequisites w. Let s be a C-structure and let W be a set of s-worlds. If then for any for some w E W and some tuple u of elements of US, w k p(u), u E A;,,,,(W), u I= P(u). Proof. The proof follows immediately 49). 0 from the definition of A;D,Aj (Definition Proof of Theorem 55. The proof is similar to those of Theorems 53 and 54. Let U be a non-empty set and let W be a fixed point of 312 M. Kaminski I Artificial Intelligence 77 (1995) 285-319 For any P E c‘ (f E C), substituting obtain that the elements Therefore, the same normal C-structure the assignment of W. (Recall the restriction lP(x) is the same to P (f) that all the elements (f(x) # x) for /3(x) in Lemma 56, we in all the same domain U.) in relation Pw (function of W have of W to the symbols of C results f”) of interpretations s (IU~ = U). That is, W is a set of normal s-worlds. Since W is a tixed point of -l:;,“; ,!‘i:,‘;‘,!‘. ,+$!;I; ,,, ( U( ?p)+‘.~* I 1 j IE(, A) 1 the set of the belief s-worlds W satisfies and the set of possible normal set of the belief worlds the condition s-worlds W. It remains that condition. of Definition 49 for (D, A) to show that W is the largest satisfying that there to the contrary subset of V, and V satisfies set possible Yf4&J E D. and any normal is a set of the belief worlds V such the condition s-worlds W. By of Definition definition, of U (= U,), tuple u of elements that W 49 for (D, A) for any if a(u) E Also, to C are since the of U, if . .l&(~)~Thi,~~(W). to the predicate and function then Y(U) ETh,>JV). symbols belonging of V, for any P E C and any tuple II of elements lP(u) ETA,, and lP(U)gThr,JW), then P(u)E for any f E C. any tuple u of elements f‘(u) # u ETh,[,(V), then It follows that 30 for (D, A) and of U and any u E U, if then the the set of possible U-worlds W, which if f(u) # uj&ThrJW), the set of the belief U-worlds V satisfies and of the Assume is a proper and It(x) MI-(lH. - Y(Xl Th,_ (V). and 1/3,(u). the assignments same P(u)gTTh,_ Th,,, (V). Similarly. f(u) = rr,&Th,,, (W). f(u) = II E Th,,( (V). condition contradicts in all the elements then (W), of Definition the maximality of W. Conversely. let s be a normal C-structure, and Let U = U,. As we saw in the proof of the “only the belief U-worlds W satisfies the condition let W be a fixed point of A;D,Aj. the set of if” part of the theorem, of Definition 20 for c i DU : MlP(X) : MP(x) : Mf(x) # x : Mf(x) =x ) A lP(X) - P(x) I PE(‘ ” { f(x)Sx * f(x)=x 1 fGC > the set of possible U-worlds W. The proof will be completed, that condition. satisfying largest if we show that set of belief U-worlds that there to the contrary subset of V. and V satisfies is a set of the belief U-worlds V such that W the the condition of Definition 20 for and W is the Assume is a proper default :M1P(x) : MP(x) lP(X) ' P(x) : Mf(x) # x f(x) #x /‘EC ” I 1 : Mf(x) = x ’ f(x) =x I fGC ’ A > of U, v k P(u) and u of elements (Recall that w k P(u) with p being P, and the only interpretations the set of possible U-worlds W. Then if and only W k P(u). That for any P E C, any v E V and any tuple is, V is a set of s-worlds. of W are s-worlds. Therefore W k P(u) if and only for some 1%’ E W.) Indeed, the “if” direction if direction follows from Lemma from Lemma 56 with p being follows if 56 -IP. theory c i DU hf. Kaminski I Art@cial Intelligence 77 (1995) 285-319 313 if and Similarly, for any f E C, any u E V, any tuple u of elements of U and any u E U, u /= f(u) = u any G) ’ MBl(~(zj. TMB&) E D, and any tuple u of elements of U, if a(~) E ThrJV), then y(u) E ThL,(V). That is, the set of the and l&(u), belief normal s-worlds V satisfies the condition of Definition 49 for (D, A) and the set of possible normal s-worlds W, which contradicts the maximality of W. only W k f(u) = u. . . . , -@,(u)$ThtJW), definition, for By 0 in view of Theorems 53 and 54 one can try in terms of modified Lifschitz extensions. However to express normal C- this cannot be done because modified Lifschitz extensions are based on interpreta- symbols are fixed Now, extensions straightforward, tions where assignments dependent manner. One possible way to avoid such an independence allow all the functions to fix the defining predicates of the functions belonging in- is first to to vary by passing to the defining expansion of L, and then in a very special to function to C. Proposition 57. Let C be a set of function and predicate symbols of L. Then a set of sentences E is a normal C-extension for a default theory (D, A) if and only if for some U, E ’ is a modified Lifschitz extension for (Dp”{‘~~::2}“{‘~~,, $$)},,,,: A41Pf(X) d4Pf(X) lP,W ’ p,<4 fEC , AD U card, . Proof. Let Cp=(C-{f}fEc)U{Pf}fEC. Exactly as in the proof of Proposition 24 it can be shown that E is a normal C-extension normal CP-extension a normal CP-extension for (D, A) if and only if EP is a for (D’, AD). By Theorem 55 and the definition of Cp, EP is for for (D’, AD) if and only if it is a Lifschitz extension Dp" :ikhP(x) :MP(x) lP(X) ' P(x) ( 1 ” A41Pf(X) : MPf(X) PEC 1 { TPf(4 ' P,(x) I f&C ‘AD * > Now the proof follows immediately from Theorem 53. 0 Proposition 58. Let C be a set of function and predicate symbols of L. Then a set of sentences E is a normal C-extension for a default theory (D, A) if and only if EP is a modified Lifschitz extension for :M1P(x) : MP(x) lP(X) ' P(x) The proof of Proposition 58 differs from that of Proposition 57 only in replacing the words “Theorem 53” by “Theorem 54”. We leave it to the reader. Proposition 60 below shows that normal C-extensions can be expressed in terms of modified Lifschitz extensions instead of passing to the defining expansion of L and fixing the defining predicates of the in a more direct manner. Namely, 314 M. Kaminski I Artificial Intelligence 77 (199.5) 285-319 functions belonging to C, it suffices to “define” We shall need the following generalization of Definition 23. the varied function symbols, only. its function its predicate from L by deleting as follows. Consider symbols with {Pf: fjZC} For a formula 4 of L we define symbols Pf. We assume that P is one-to-one language LDc, obtained to C and extending Definition 59. Let C be a set of function and predicate symbols of L. Let P be a mapping from the set of all function symbols f of L which do not belong to C to a list of new predicate and if f is an n-place function symbol, then Pr is an n + l-place (defining) predicate symbol. We call the symbols not the (C-) belonging defining expansion of L.22 For f$ C, the sentence Vx, . . . Vx,3 !xPf(x, , . . . , x,, x) is called a (C-) defining axiom. The set of all C-defining axioms is denoted by D,. into LD,, by the induction, language extended with the new predicate symbols, such that +,, is (6, and $i+ l If 4; does not contain function symbols results from 4, in the following manner. let to C, not belonging . . , t,) be the leftmost term in +i such that f$ C and all t, are variables; and f(t,,. that let P(. . . . , t,), . . .) with term. Then +,+, is obtained .)). Since the number of function symbols of &+ , 3x(P& which do not belong to C is one less than the number of those in $i, the above sequence must terminate. The last formula is 4”. For a set of L-formulas X we define a set of L,(,-formulas Xp’ by Xp’ = {4’,-: 4 E X} and for a set D of defaults over L we define a set Dp’ of defaults over LDc. by , t,l), . . .) be the atomic subformula of 4, that contains from $i by replacing P(. . . , f(t,, a sequence &, 4,) . . . of formulas over at 4i. Otherwise, in the sequence its translation, the sequence , t,, , x) A P(. . denoted $“, terminates , f(t,, then , x, ) . . Dp’ = ~“,(x):MP~(x),...,MP~(x). Y pc c-4 a(x):MP,(x),...,M&(x)ED Y(X) Finally, for the first-order theory X over L, the (C-) defining expansion of X is a theory XDC over LDc. defined by XD’ = Xpc U D,. Proposition 60. Let C be a set of function and predicate symbols of L and let (D, A) be a default theory. Then a set of sentences E is a normal C-extension for (D, A) if and onZy if EP’ 1s a modified Lifschitz extension for :khP(x) : MP(x) lP(X) ' P(x) , AD” PECU{ -; Proof. The proof is similar to those of Propositions 57 and 58. Exactly as in the proof of Proposition 24 it can be shown that E is a normal C-extension for (D, A) if and only if EP” is a normal C-extension for (Dpc, ADC). Since C contains all the for function (D”-, AD’) symbols of L,,., by Theorem 54, E pc is a normal C-extension is a modified Lifschitz extension ‘f d 1 an on y I ‘f ‘t I for 1 ” In particular, if C contains no function symbols, then LDc = L,, see Definition 23 M. Kaminski I Artificial Intelligence 77 (1995) 285-319 31.5 : M-lP(x) : MP(x) lP(X) ' P(x) PEcu(=) 10. Modified Lifschitz extensions and circumscription It is known from [9] that circumscription in terms of normal extensions with fixed constants. Since, by Propositions 57, 58, and 60, normal in terms of modified Lifschitz extensions with fixed constants can be expressed in terms of modified Lifschitz extensions, extensions as well. For the proofs of the expressibility results in this section we need to extend Definition 35 and Lemma 37 to arbitrary C-structures. can be expressed can be expressed circumscription Definition 61. Let D be a set of normal defaults without prerequisites. Let C be a set of function and predicate symbols and let s be a C-structure. We say that an s-world w is D-maximal E D, E D, /3 w is a proper subset of p w’. We say that P” c P”‘; and for some e s-worlds w1 and w2 are P-equivalent, denoted w1 -D w2, if /3 w1 = /3 w2, for all w follows from the definition relation.) is no s-world w’ such that for all w that -D is an equivalence E D. (It immediately if there The proof of the following lemma is similar to that of Lemma 37 and will be omitted. Lemma 62. Let C be a set of function and predicate symbols and let s be a C-structure. Let D be a set of normal defaults without prerequisites. A set of s-worlds is a fixed point of ATD,*) f i and only if it is an equivalence class of the restriction of -D to the D-maximal s-worlds which are models of A. Propositions 63-65 below are different translations of [9, Proposition 71 into modified Lifschitz extensions. Proposition 63. Let P be a set of predicate symbols, and let C be a set of function and predicate symbols disjoint with P. A sentence 4 is entailed by the circumscrip- tion of P in A(P) with the fixed constants C if and only if for all U, 4’ belongs to all modified Lifschitz extensions for Proposition 64. Let P be a set of predicate symbols, and let C be a set of function and predicate symbols dkjoint with P. A sentence 4 is entailed by the circumscrip- , AD U card, . 316 M. Kaminski I Artificial Intelligence 77 (1995) 285-319 tion of P in A(P) with the fixed constants C if and only if 4’ belongs to all modified Lifschitz extensions for Proposition 65. Let P be a set of predicate symbols, and let C be a set of function and predicate symbols disjoint with P. A sentence 4 is entailed by the circumscrip- tion of P in A(P) with the fixed constants C if and only if 4”. belongs to all modified Lifschitz extensions for Proof of Proposition 63. The proof is similar to that of [9, Proposition 71. By 18, Proposition 11, a sentence 4 is entailed by the circumscription of P in A(P) with the fixed constants C if and only if it is satisfied by all P-minimal C-structures which are normal models of A(P). Obviously, a model of A(P) and only if it is { w}p_. coincides with the union of all (normal) if -maximal. By Lemma 62, the class of such models fixed points of all is P-minimal A” .MIP~ (1 +(Jj L)ptp.{AV?~) - where s is a C-structure, and the result follows from Proposition 57. 0 The proof of Propositions 64 and 65 differs from that of Proposition 63 only in the words “Proposition 57” by “Proposition 58” and “Proposition 60”, replacing respectively. We leave them to the reader. Now the original McCarthy’s circumscription of one predicate can be very nicely expressed in terms of modified Lifschitz extensions. Proposition 66. A sentence $I is entailed by the circumscription of predicate P in A(P) if and only if 4 belongs to all modified Lifschitz extensions for : MlQ(x) ((:“I;g+Ji lQ(X) : k@(x) ’ Q(x) Id A>. Proof. The proof follows immediately all the function and predicate symbols, but P, then ADC is A itself. from Proposition 65, because if C contains 0 In the above propositions, used the assumption in normal approach interpretations, we implicitly that = does not belong to P. Indeed, by definition, = is fixed (which are #-maximal). One of the features of our is that it allows = to vary. Thus, we can try to circumscribe equality, by dealing with normal interpretations M. Kaminski ! Artificial Intelligence 77 (1995) 285-319 317 substituting = for P in Proposition 66. Note that for this we have first to pass to the defining expansion, for fixing function symbols. Equivalently, instead of passing to the defining expansion of L, we may assume that L does not have function symbols. because we cannot use equality anymore Let EQ(=) be the set of all the equality axioms. The “syntactical” circumscrip- relation, which also states that = is the minimal congruence tion of = in EQ(=) follows from If in Proposition 66 we substitute = for P, we obtain that u sentence 4 ti entailed by the circumscription of = if and only if 4 belongs to all modified Lifschitz extensions the definition of equality without applying circumscription.23 for or, equivalently, semantically, intuition. Since interpretations know, that 4 the circumscribed the syntactical is satisfied by all normal That is identity, which perfectly matches is, the of satisfiability by all the normal in the first-order predicate calculus, as we already equality counterpart interpretations. is provability the result of circumscription of = in EQ(=) is = itself. 11. Concluding remarks from literature, and considered theories known [9], whereas other definitions of extensions In this paper we pointed out some obvious lacks of definitions of extensions the for a possible follows Lifschitz’s for open default in the free variables of a default are treated as open default definition which is less vulnerable. This definition, basically, semantical approach theories known Reiter’s and Poole’s approaches they are treated meta-variables as the theory object variables. The reason for choosing semantical definition of extensions (but indirect) description of the theory objects, which in turn, for closed terms, in Lifschitz’s and our approaches implies the domain closure assumption. is that it provides a complete In particular, whereas are syntactical. literature from the interpretation considered The difference between ours and Lifschitz’s original definition is the replace- over the same possibly finite domain by sets ment of sets of normal interpretations of interpretations with the same universal pre-interpretation. Whereas normal and in the case of universal non-normal in [4], closed default the in the case restriction of open default theories. seems unnatural, because, language has only finitely many predicate and function symbols. The second difference between Lifschitz’s and our approaches to the equality In general, for example, equality interpretations if the underlying is that Lifschitz’s relation, empha- implies undesirable consequences approaches by Guerreiro the assignment of identity to normal interpretations and Casanova are equivalent the restriction is definable, to normal definition, requiring theories 23 The fact that circumscribing equality does not produce anything new was pointed out in [3]. 318 M. Kaminski I Artificial Intelligence 77 (1995) 285-319 sizes the predicate structure of the interpretation, whereas our approach on the compatibility of the assignments for the compatibility is that the assignment to functions of Kripke models for the first-order modal logics must be compatible assumed universal), theories and nonmonotonic modal logics, see [6]. is based to function symbols. An indirect support in the worlds (and can be between closed default is a tight relationship requirement there and Finally we would like to note is only intuitive. There approach criteria The question “which definition test. for the evidence that is no (and cannot be any) conclusive the rightness of our formal theories. is the right one?” can be answered only by a field for open default for the rightness of a definition of extensions Acknowledgement I am deeply indebted to G. Schwarz for his careful reading of the last versions of the paper, for his help in fixing some incorrect statements, and many extremely helpful discussions which led to the present form of the paper. Also I would like to thank the anonymous for their criticism and suggestions, M. Tiomkin for pointing out some flaws in an earlier version of the paper, and N. Francez for his comments and for calling my attention to reference referees [lo]. References [l] C.C. Chang [2] D.W. Etherington, and H.J. Keisler, Model Theory (North Holland, Amsterdam, 1990). Milan, Italy (Morgan Kaufmann, Relating default reasoning and circumscription, San Mateo. CA. 1987) 489-494. in: Proceedings ZJCAI-87, [3] D.W. Etherington, closed-world R.E. Mercer and R. Reiter, On the adequacy Comput. Zntell. 1 (1985) 11-15. reasoning, of predicate circumscription for [4] R. Guerreiro and M. Casanova, An alternative semantics for default logic, Preprint, Third International Workshop on Nonmonotonic Reasoning, South Lake Tahoe (1990). [5] G.E. Hughes [6] M. Kaminski, and M.J. Cresswell, An Introduction to Modal Logic (Methuen, Interpretations in non-monotonic of open default theories London, 1972). logics, Annals Math. Artif. Intell. 9 (1993) 307-325. [7] K. Konolige, Quantification [8] V. Lifschitz, Kaufmann, Computing San Mateo, CA, 1987) 121-127. in autoepistemic circumscription, logic, Fund. Inform. XV (1991) 27-300. Italy IJCAZ-87, Milan, in: Proceedings (Morgan [9] V. Lifschitz, On open defaults, in: J.W. Lloyd, ed.. Computational Logic: Symposium Proceed- Berlin. 1990) 80-9. Foundations of Logic Programming, Second Extended Edition (Springer-Verlag, Circumscription-a form of non-monotonic reasoning, Artif. Intell. 13 (1980) [12] E. Mendelson, Introduction to Mathematical Logic (Wadsworth and Brooks, Monterey, CA. 1987). 1131 J.D. Monk. Mathematical Logic (Springer-Verlag. New York, 1976). [lo] [ll] ings (Springer-Verlag, J.W. Lloyd, Berlin, J. McCarthy, 27-39. 1993). M. Kaminski / Artijicial Intelligence 77 (1995) 285-319 319 [14] D. Poole, A logical framework for default reasoning, Artif. Zntell. 36 (1988) 27-47. [15] R. Reiter, A logic for default reasoning, Artif. Intell. 13 (1980) 81-132. [16] J.A. Robinson, A machine oriented logic based on the resolution principle, J. ACM 12 (1965) 25-41. 