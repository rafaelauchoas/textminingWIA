Artificial Intelligence 80 (1996) 309-348 Art ifkial Intelligence Model simplification by asymptotic order of magnitude reasoning Kenneth Man-kam Yip NE 43-432, MIT AI Lab, 545 Technology Square, Cambridge, MA 02139, USA Received February 1994; revised September 1994 Abstract One of the hardest problems in reasoning about a physical system is finding an approximate model that is mathematically tractable and yet captures the essence of the problem. This paper describes an implemented program AOM which automates a powerful simplification method. AOM is based on two domain-independent ideas: self-consistent approximations and asymptotic order of magnitude reasoning. The basic operation of AOM consists of five steps: (1) assign order of magnitude estimates to terms in the equations, (2) find maximal terms of each equation, i.e., terms that are not dominated by any other terms in the same equation, (3) consider all possible n-term (4) propagate the effects of the balance assumptions, and (5) dominant balance assumptions, remove part al models based on inconsistent balance assumptions. AOM also exploits constraints among equal:ions and submodels. We demonstrate its power by showing how the program simplifies difficult flui’d models described by coupled nonlinear partial differential equations with several parameters. We believe the derivation given by AOM is more systematic and easily understandable than those given in published papers. 1. Introduction Model simplification-the derivation of simpler equations from more genera1 ones-is Few physical in many areas of science and engineering. a recurrent problem theories can be matched directly with experiments. To an experimenter wondering why a certain say, why water boils at about 1OOT under ordinary is got for a measurement, value conditions, interacting a complicated with one another with a complicated quantum reduce to a form responsive laws of is to together and interpretation. Approximate models are not just statistical mechanics would not be exactly helpful. The real problem so complex and general, with so many variables force law, governed by the fundamental system of equations describing these equations, 1O23 molecules, to analysis linked 0004.3702/96/$15.00 SSD/OOO4-3702(94)00068-9 @ 1996 Elsevier Science B.V. All rights reserved them are and to the “bag constructive 310 K.M.-K. Yip/Artificial Intelligence 80 (1996) 309-348 useful; experiments they are essential. Without and assess numerical it, we cannot make predictions. With it, we can guide results. Professional scientists simplify problems by all sorts of methods. Among estimates, exploitation that beginners in a systematic, can apply directly of small parameters, are seldom articulated and order of magnitude often requires an understanding in choices of what idealizations These methods and others besides, which belong dimensional symmetry considerations. of tricks” of a skilled practitioner, manner scientist must exercise judgement make. Making such judgement the solution, knowledge of the relative eration of limiting cases. The purpose of this paper is to demonstrate knowledge model approximation The implemented the in scientific works. To simplify a model or approximations to of the gross features of importance of terms in the model, and consid- how this kind of the difficult problem of ideas: reasoning. Given order of magnitude self-consistent approximations, and a few order equations, a system of fluid equations, in the equations, AOM finds all the simplified of magnitude equations consistent with the problem specification. The spirit of the analysis is heuristic and exploratory. We will not be able to prove that the simplified equations have strict validity. Rather these equations are the only ones which could possibly be valid. program, called AOM, is based on two domain-independent such as the Navier-Stokes in a computer program in fluid dynamics. can be embodied for the variables and asymptotic to tackle estimates is a good domain Fluid dynamics First, the domain is extremely solutions of many scientific and technological drag on ship hulls, and to evolution coupled nonlinear partial differential numerical difficulties. So methods of simplification the domain important Despite to heat transfer of galaxies. Second, of that subject-has in reentering for testing simplification important. Knowledge of fluid dynamics problems-from spacecrafts, life in moving ideas for three reasons. is critical for the fluids, to to motion of air masses, systems of and are likely to have large payoff. Third, are in general the fluid equations equations, which present enormous analytical because a list of identifiable, is appropriate for the development the appearance of the program as an application of AI techniques accumulated significant over the years. approximations- to a spe- l To study the nature of scientific cialized domain, we want to stress our more general concerns reasoning as practiced that professionals for this line of research: in normal science. We would problems, like to codify some of the skills making approximations, l To solve real problems l To provide scientists with an intelligent workbench consisting of a library of pow- explaining data, and testing in an area of significance have in formulating theories. to modern science. erful heuristic and qualitative methods. Our work is thus rooted in the tradition of focusing on the problem solving behavior of articulate professionals their methods so that a computer can exhibit similar behavior on similar problems. Works with a similar (such as Slagle’s SAINT, Moses’ SIN, and intent range from the early expert systems in MIT to the engineering Dendral), [ 1,5,33], and to the recent researches problem solving project and dynamicist workbench domains and formalizing in well-structured reasoning [ 91. This work is closely related automatic model generation and order of magnitude reasoning. Raiman introduces order of magnitude scales to ex- in qualitative to the researches concerning K.M.-K. Yip/Artificial Intelligence 80 (1996) 309-348 311 in the context of comparative [20]. Weld explores analysis algebra tend the power of qualitative called exaggeration Stephanopo’ulos lyzing chemical processes assumptions combine numerical and symbolic order of magnitude [ 141. Raiman and Williams explore in finding dominant equilibrium behaviors of an acid-base related [ 271. Mavrovouniotis ideas in a technique and in ana- relations the use of simplifying [ 281. system from these works Our project differs in two major aspects. First, whereas all the previous works deal with either qualitative models or models specified by algebraic or (ODES), we believe AOM is one of the first programs ordinary differential equations (PDEs) . Second, we base partial differential to handle systems of nonlinear of functions, which, be- our programs on a theory of asymptotic sides being closer to algebraic equations and ODES as well as to PDEs. to what applied mathematicians order of magnitude or fluid dynamicists use, ’ applies equations The use Iof asymptotic order of magnitude [32]. The program has since been extended in particular a well-known flow, the triple-deck model, a composite model having it can reproduce in qualitative reasoning originally to deal with more substantial, appeared non- approximate model subparts. interacting the the additional capability of AOM, and greatly expands examples; in textbook, for laminar This paper demonstrates explanation of new examples and the underlying algorithm. some terminology the relatively complicated as follows. We first introduce ideas can be understood by a careful is organized the fluid domain. We then explain necessary in Section 3 the model simplification the essential in Sections 4 and 5 where we describe asymptotic order of magnitude, The paper to understand task in the context of a fluid problem. Despite the paper, examples method of dominant algorithm and 8. In Section 9, we present a detailed evaluation of the strengths and weaknesses of the program. Section 10 puts AOM magnitude this paper presents. in the context of previous works on order of advances reasoning. We finally conclude with a summary of the technical in Section 6. We show the program’s performance reading of the motivating to find self-consistent The simplification approximations. in Sections 7 is described equations and the balance in 2. Characteristics of the problem domain 2.1. Some terminology laws of motion. The basic equations and conservation Fluids obey Newton’s servation of momentum Fig. 1 are -just examples of Newton’s Second Law (F = mu), In fluid mechanics, customary the equation, Since to have the acceleration and the remaining the motion of a fluid particle can change with both time and space, the inertia consists of two parts: the local acceleration (i.e., rate of change of velocity with respect for con- in it is side of of mass. The three momentum terms written on the left-hand force terms on the right. are expressions or the inertia equations ’ The asymptotic theory is also commonly used in the analysis of algorithms. 312 K.M.-K. fip/Artijicial Intelligence 80 (1996) 309-348 Conservation of momentum: inertia forces / lOCEll convective . ’ pWSS”E applied forces viscous !?+uF?+v~+ aw @ 1 waz = -az + G ( 2 aw+!?+$ ax2 2 ay2 . . > Conservation of mass: s+g+g=o Fig. I. Meaning of terms in the 3D incompressible Navier-Stokes equations. When the velocity is indepen- dent of time, and the w-component of the velocity is zero, the general equations reduce to the 2D steady incompressible flow. to time), gradient). and the convective acceleration (i.e., product of velocity and the velocity A steadyjow is one in which the local acceleration into two types: (1) su@zceforces, fluid can be divided include pressure and friction external pressure constant, and y is the vertical coordinate). law is expressed The mass conservation forces due to viscosity, and (2) body forces resulting force fields like gravity or magnetic term to include gravity (i.e., p +pgy, where p is density of fluid, g gravitational field. It is often convenient to define is zero. The applied forces on the caused by molecular attractions, from the is zero. This equation fluid velocity the net flow-in must be equal to the net flow-out. not permitted idealization, to accumulate. Such a flow is called incompressible. but it is a good approximation just means in a differential form: the divergence of the that in each region, no matter how small, is is an In other words, whatever Incompressibility is flowing for most flows under ordinary temperature. The momentum equations express a balance of opposing inertia forces keep the fluid moving steadily against viscous forces. The ratio, called the Reynolds number: the the effects of pressure gradient and forces on the fluid: Rez44fr. V where u is a characteristic be thought of as a comparative measure of the inertia and the viscous indication of the relative Reynolds numbers the Reynolds number, e.g., by increasing Re*, the viscosity will no longer dissipate energy quick enough velocity, L a length scale, and v the kinematic viscosity, can it is an since high increase then at some critical value the flow. A importance of viscosity-actually are associated with slightly viscous the unimportance flow. If we gradually the flow speed, to stabilize forces; KM.-K. Yip/Art$cial Intelligence 80 (1996) 309-348 313 from laminar transition of laminar and turbulent not exactly flow to turbulence occurs. It is remarkable flow is described by four lines of mathematical that the whole world symbols-well, the whole world because there are flows that are compressible. 2.2. Ontology Description involves of fluid motion (2) time, space, and mass, quantities: such as velocity, acceleration, mechanics that are less familiar but can be easily derived and1 pressure gradient, gradient turbulent stress, scale parameters, interest. parameters such as 6, which determine (1) a variety of quantities: the usual dynamical quantities force, pressure, and momentum, the fundamental from particle (3) quantities the more basic ones: velocity forces, and such as the Reynolds number, and (5) scale of the length, from acceleration, time, or velocity (4) dimensionless convective shearing viscous 3. The task inputs: We are interested in the task of model simplification. in the early heuristic takes dependent and variables of the model, and (3) essential physical effects. is one or more simplified models with constraints on the parameters. These the region of validity of the approximation. They might also phase in the mathematical modeling of a scientific problem. Model simplification three variables, Its output constraints might delimit important contain ( 1) a detailed model, independent about the character of the solution. of the parameters, (2) a description It occurs information Detailed Fluid models are usually available of variables and variables. from standard If the detailed model physical me,anings of parameters specifies detailed equations input description description is problem-dependent; and estimated maximum order of magnitude. The order of magnitude the phenomenon obtained observations of simple effects can also be obtained experiments. For instance, neglecting non-physical textbooks and so are the the for each of its component models. The their boundary values estimates can be or from solutions from terms in the equation will predict concerning of essential physical the so-called d’Alembert paradox to be discussed shortly. flows. Knowledge from experimental all the viscous is composite, includes it often results, In general,, a simplified model is valid only under a range of parameter values-within a certain range of Reynolds numbers, As our first motivating example, we will derive Prandtl’s boundary inside a narrow region around a body, for example. layer approxi- (but not too high so that the flow remains the single most important approximation made in the his- for high Reynolds number is probably mation laminar), which tory of fluid mechanics. For ease of exposition, we consider steady, incompressible three-dimensional, flow over arbitrary bodies. unsteady flows flow over a flat plate (Fig. 2). The same technique will work for the case of two-dimensional, The detailed model is the 2D steady incompressible Navier-Stokes Eqs. ( 1) and (2) are the momentum (or conservation of mass). The model equations, while (3) equations is the equation of continuity is a system of three coupled PDEs containing (Fig. 3). RI4 K.M.X. Yip/Artificial Intelligence 80 (I 996) 309-348 free stream velocity up0 / /._.... .I.’ ,...... ‘. . . . . . ..l \ flat plate outer flow (inviscid) Y t u : I - .I,... e _’ _.’ _* . . . . . . . . . . . . . ..,._....,.....,...... boundary layer 6 L Fig. 2. Boundary layer over a semi-infinite flat plate. The velocity gradient near the surface is large because of the no-slip condition. As one moves away from the surface, along the y-direction, the local velocity increases steadily as it approaches the free stream velocity. The width of the boundary layer is denoted by 6, it grows downstream. three unknowns U, o, and p. The objective Reynolds numbers. is to simplify the model in the limit of large l), terms in the momentum It might be thought in first approximation. that since Re is Iarge (> equations the coefficient multiplying is small and therefore we can neglect the these that neglects viscosity will predict from reality. in drag is known as the d’Alembert paradox. The resolution of this paradox depends to the whole viscous terms zero drag on a solid body in steady flow- The observation cal~uiation on Prandtl’s theoretical theoretical predictions diverge it is-can’t layer, an idea that brought much credibility However, a model matter how small idea of boundary that viscosity-no be neglected fluid dynamics. idea is that at high Reynolds numbers viscosity remains important near the Prandtl’s i.e., that fluids do not slip with respect body surface even if it could be disregarded everywhere else. As long as the “no-slip” there will be a thin condition holds, the body where rapid changes of velocity produce notable effects, despite layer around layer. Although the small coefficient Re-‘. The layer boundary their effects on drag layers are typically and transport properties can be eno~ous. To get a feel of the type of reasoning in the derivation of the boundary to the body dimension, is called boundary thin compared in question to solids, involved approximation, we will quote a passage, slightly edited for our purpose, Ruid dynamics textbook [30]: layer from a standard layer, is small compared that S*, the width of the boundary To start with we assume with L., the length of the flat plate if Re is large. That means 6 = 6*/L < 1, and the layer y is 6. Since u and x are all of order of unity, Eq. (3) range of the boundary terms in Eq. ( 1) are all of O( 1). states that o is of order 6. Now the convective so that A glance at the viscous the first can be neglected and the viscous Since as the inertial that 8*u/8x2 << 2*u/8y2 terms can be replaced by Re-‘d2uf8y2. terms are of the same order of magnitude terms, Re-‘>*u/~Yy* = O(1); terms in Eq. (I > reveals layer the viscous this shows that: in the boundary K.M.-K. Yip/Artificial Intelligence 80 (1996) 309-348 315 Model name: prandtl-boundary-layer variables: Independent lower-bound = 0 physical . . . upper-bound = 1 features = space, streamwise ,variables: depends-on = x, y lower-bound = 0 physical . . . upper-bound = 1 features = velocity, streamwise X y Dependent u 0 Parameters: Re 6 type = large-parameter physical type = small-parameter physical features = dimensionless-number features = dimensionless-number, terms: viscous, Essential Equations: Streamwise-momentum: inertia z+“$-$++.(S+$) Transverse-.momentum: Continuity: $+$=o Order of Magnitude estimates: 14=0(l) x=0( 1) length, transverse (1) (2) (3) It consists of three parts: (2D steady, (1) declarations incompressible Navier-Stokes for flow over semi-infinite plate. (2) detailed equations of motion specification and parameters, Fig. 3. Problem of variables Equations: the Reynolds number), >> I, and small if << 1. The essential viscous or inertia terms. a and L’ are the horizontal and normal components and (3) a few order of magnitude estimates. A parameter terms specification of the velocity, p is the pressure, and Re is is that do not contain any is large if its magnitude rules out simplified models 316 K.M.-K. Yil,/Artificial Intelligence 80 (1996) 309-348 Re=O f . ( > larger term d*o/Jy*. Then all the terms To see how p varies, we turn to Eq. (2). Again to a much it is added since u are of O(6). Hence layer boundary pressure distribution derivative of the pressure layer is governed by: the pressure variation with respect the is of 0( S*>, and can be neglected. Thus we take the pressure outside layer, the the partial term by the total derivative. Thus the flow in the boundary the term c’~*u/~x* can be neglected involving to y in the boundary the boundary is a function of x only. So we can replace inside. But outside to be the pressure layer p(x) au c3.t U~+u-=dx+-2’ JY dp 1 d% Re dy to which must be added the equation of continuity (3). (5) two equations ignored. Second, Much can be learned in the equations; we have from this explanation. First, we notice that the simplified model (5) and (3), and two unknowns u and U; the momen- the elimination (such as those of 6, u, and x), estimates (2) consists of only tum equation be given by the solution ity can be totally terms pressure terms. Third, to justify estimates involving partial derivatives portant conclusion the thin boundary balancing tionship, Eq. (4), between Re. Since Re is proportional the dimensional boundary ally. * the inertia layer will is discarded. The pressure p becomes a known boundary the reasoning makes heavy use of order of magnitude term the explanation to to the outer flow, the far field approximation, where viscos- refers to physical meanings of the inertia terms, convective terms, viscous terms, and estimates of small terms. Fourth, given a few basic order of magnitude quantities the im- of the pressure on y, i.e., the variation across Finally, by rela- thickness 8 and the Reynolds number from the leading edge, and the rapidly and then gradu- the boundary to X, the distance downstream to be 6* = 6 x x, we can predict at this level of approximation. it obtains a semi-quantitative for more complicated are automatically downstream-first In particular, it derives inferred. terms, layer that terms and the viscous that the dependency layer, can be neglected thickness 8’ is defined increase parabolically 4. Asymptotic order of magnitude of functions the smallness of parameters or variables approximate models formulation Exploiting in almost to construct every branch of physics. In planetary motion, we ignore all but the forces exerted by the sun. In water waves, we ignore viscosity like these will and compressibility. give accurate predictions. But the simplicity of the models allows us to make qualitative In projectiles, we ignore air resistance. There is not always a guarantee idea that finds applications that approximations in a mathematical is a powerful 2 The details: Re = 0( l/6*) implies S 0: l/a IX l/d. But S* = 8 x x 0: x/d = 6. K.M.-K. fip/Art@cial Intelligence 80 (1996) 309-348 317 E--O ? SOlUtiOIl Fig. 4. The simplified equation Lou(n) = 0 is obtained by letting the parameter E + 0 in the full equation respectively. L,u(x) = 0. The solutions to the full and simplified equations are denoted by u,(x) and un(x) The validity of the approximation depends on whether u,(x) -+ Q(X) as E + 0. or semi-quantitative predictions is not satisfactory, we probably should reexamine that can be checked with measurements. throw away too much terms. Let’s be more explicit about the approximation some of the neglected in the original (could be algebraic, differential, is an operator = 0, where L, on a small parameter E and acting on the function u(x) ,~ou(x) = 0 is obtained by taking equation to the complete equation, and UO(X) the solution solution Do the solutions exist? Are they unique? If so, how do they compare? problem. Consider an equation L,u(x) or integral) depending (see Fig. 4). An approximate the limit E --+ 0. Suppose u,(x) is the to the approximate equation. If the match and formulation, Except for the happy rare cases, existence So the discussion a language of error estimates to describe to the true one, if they both exist. One obvious candidate for PDEs are is largely academic. Rather the sense in which an approximate for closeness and uniqueness theorems almost non-existent. we would solution measure is “close” is the approximate like to introduce equality, namely, U,(X) :Z us(x) u lu,(x> - ua(x)l < 1 as E + 0. the absolute difference between the approximate to zero. While sometimes useful, approximate equality the function solution and the true is less informative sinx near x = 0. it might seem. Suppose we want to approximate :Y 0 for small x, the constant function 0 might be a good approximation. fi M x x x2 M 0. The “shape” of sin x, however, or x *. Specifically the function looks more sinx approaches 0 In other words, one is close than Since sinx But so are the functions like that of x than like those of fi at the same rate as the function x. Approximate equality its singular points, namely, near example, consider between is also not a good measure when we approximate the places at which a function the function blows up. For an the difference the two functions eX + x and ex as x + 00. Although thelm is infinite, they look remarkly the same for large x. 318 K.M.-K. Yip/Artijicial Intelligence 80 (1996) 309-348 For these two reasons, the notion of “asymptotic the relative difference between an approximation equality”, denoted by the symbol N, and the true solution, which measures is widely used in approximation function as E approaches can assume EO = 0, since translation any nonzero finite and infinite f(e) limiting values. theory. We will consider some critical value au. Without (E - ~0) and inversion the asymptotic behavior of a loss of generality, we ( 1 /e) can be used to handle i.e., whether There are several ways to describe the asymptotic behavior of a function with varying as E -+ 0 degrees of precision. For instance, we could describe it is bounded, vanishing, or infinite. Or, we could describe qualitatively, for the bound. But we the limiting value quantitatively find is to describe approached. The description uses the order symbols 0 (“big oh”), o (“little oh”), and N (“asymptotically by giving a numerical the shape of the function qualitatively the relative magnitudes of two functions. the limiting value f(a) it most useful as a limit to express equal”) value Definition 1. f(c) = O(g(.s)), E -+ 0 if lim,,o number. If(e) /g(e) 1 = K where K is a finite Definition 2. f(g) = o(g(c)), E --+ 0 if lim,,cf(e)/g(e) = 0. Definition 3. f(s) - g(c), E -+ 0 if lim,__,c ]f(e)/g(a)j = I. The notation with f = o(g). The notation f N g means f << g, which reads “f f = O(g) the relative error between compared the ratio of f/g is negligible implies f and g goes to 0. to g”, is synonymous is bounded, whereas Typically, we will use a convenient function the gauge functions because in the neighborhood the powers and inverse powers of E. For example, and exponentials they are called arbitrary include For more complicated be used. But we shall not consider Throughout II is any rational number and its value will be determined analysis. the paper, we will assume logarithms problems, set of simple functions they are used to describe inside an order symbol; the shape of an of a critical point. Common gauge functions sin(a) = O(E) as E -+ 0. of powers of E may also in this paper. the unknown gauges all have the form F” where this larger class of gauge functions as part of the simplification The asymptotic order of magnitude must be distinguished from the numerical order If f = 106g, then f and g differ by 6 numerical orders of magnitude, but of magnitude. they are still of the same asymptotic order. Below we list some useful rules of operation on order symbols [lo]: =max(Wf>,W)). (1) O(.fs> = O(fvxg). (2) O(f+g) (3) O(f) + o(f) = O(f). (4) o(fg) = O(f)o(g) (5) Order relations cannot If f=O(g), = o(f)o(g). generally a differentiable function f(x, y), then ~,“f(t)dt=O(~~[g(t)ldt) as~-+O. then it is not in genera1 be differentiated. That is, if f = O(g), true that f’ = O(g’). However, using the definition of the total differential of K.M.-K. fip/Artifcial Intelligence 80 (1996) 309-348 319 df = gdx+$dy, ‘W df-x * df-> where df-x involving partial derivatives: and df-y are the partial differentials, we can derive some useful rules (I) O(l?f/ax)O(dx) = O(df-x). (2) O(Jf/Jy)O(dy) (3) 0(1jf) = max(O(df-x),O(df-y)). These rules are used to approximate not infinitesimal = O(df-y). in general), when the independent the amount the function f changes, df variables x and y change. (which is One final remark about the formal properties of the gauge functions. This property will reasoning. to those who want to formalize asymptotic order of magnitude their orderings with those of real numbers be important Let’s consider in the interval the powers of E, and compare (0,~). Evidently we have: 1 - < ;t n iff I? << .$. the reals have ordering properties However, notable ones are the least upper bound, and the greatest instance, whereas any E” and the zero function, One example would be 0 << e-‘jE < E” for all n (as E + 0). 3 that are not shared by the powers of E. Two lower bound properties. For to 0, to the zero function. Between small functions. sequence of reals { 1 /n}, where n = 1,2,3,. sequence {E”} does not converge the decreasing th’e decreasing there are infinitely many transcendentally . . , converges 5. Theory of simplification 5.1. Simphfication by balancing terms A powerful idea to simplify an equation is to identify drop these terms, solve the simplified equation, and check for consistency this does n’ot always work. Consider simple polynomial: the following the small terms in the equation, [ 2,131. But 3E2X3 +X2 - EX - 4 = 0 are small. But if we do that, we only get two roots x = 4~2, losing in the limit E -+ 0. We might naively drop the cubic and the linear coefficients root. Thus, the process of simplification have a singular perturbation interesting problems their the third information. We problem when the reduced equation changes order. Many in fluid mechanics have this singular character can lead to a loss of important terms because (see [ 261) . What went wrong? The problem The missing root depends is that terms that appear small are not really small. is not inversely on E in such a way that the cubic term 3 Note that this is an asymptotic relation, namely, it holds as E - 0. For anypnite E, we can indeed find a value of II for which the statement is false. But the statement is valid in the limit of small E. 320 K.M.-K. Yip/Artificial Intelligence 80 (1996) 309-348 even its coefficient becomes three negligible concepts: an undetermined gauge, a signiJicant gauge, and a maximal set. To begin, we will assume x = O(e”) where n is still undetermined-hence gauge. The order of each term is then: small. To fix this problem, we introduce the name undetermined *+a- o(&%,?) O( &I”) O(E”“) & -&=O. o(t) Since n is still unknown, we could not determine which are small. To proceed, we could assume remaining being negligible. We balance magnitudes With n determined, we could check whether If they are, we have a self-consistent are asymptotically equal, the equation the two dominant thereby obtaining is dominated by two terms, terms are large and which the i.e., assert that their for the unknown n. terms, an equation the neglected terms are in fact negligible. approximation. A little technicality before we state the general method of dominant balance. Since we must allow the situation where two or more terms may have the same asymptotic order, we group set is any such class that is not smaller above has four maximal as follows: than any other classes. As an example, sets each containing one term. The heuristic can then be stated classes by the relation N. A maximal terms into equivalence the cubic polynomial Method of Dominant Balance. them; these m maximal sets are called dominant. Assume negligible. Self-consistent choices of dominant maximal simplified equations. If the equation has n maximal sets, balance m (6 n) of (n - m) sets are to significant the remaining sets correspond Our heuristic is a straightforward generalization [2]. The m-term balance two maximal sets does not give any self-consistent of the more common 2-term dom- for is needed For to handle equations approximations. inant balance procedure which balancing instance, the ODE dy ---=_ dx y x cosx x2 first the resulting a 3-term balance because all the pairwise balances like the fluid models to be discussed simplifications. Values of m larger requires are inconsistent. simple case, the 3-term balance does not produce any simplification. However, equations, complicated can produce significant be that useful because the equation we start with, and second approximate models To understand number of maximal singleton is that the first two terms are dominant, undetermined terms are 0( e-t) how the heuristic works, sets n is 4. All and 0( 1) , which is consistent with the assumption i.e., e2x3 N x2 > &x,4. Equating In this in more later, the 3-term balance to from the number of possible gauges, we get 3n + 2 = 2n and this implies n = -2. The remaining the cubic equation. Here the they are because are given by 2-set balances. For instance, one possibility simplification will not be much different than 3 have not found sets. Six possibilities that the first two are inconsistent l-set balances let’s consider to be tested. it rapidly increases the two K.M.-K. Yip/Artificial Intelligence 80 (1996) 309-348 321 0.2 0 0.2 0.4 0.6 0.0 1 Fig. 5. The solution of the differential equation e(d2y/dx2) + 2(dy/dx) + y = 0 for E = 0.1 The “inner solution” is a rapidly increasing function inside a region of O(E) around the origin. The “outer solution”, indicated by the dotted line, is a slowly decaying function. (Adapted from [ 13, Fig. 9.1, p, 1871.) is included. On the other hand, if we assume terms are dominant. So this possibility the .s2x3 N EX >> x2, 4, we get n = - l/2. But then x2 = 0( a-‘) >> 0( e’/*), violating than the first term. This possibility must be assumption excluded. A similar analysis shows that only one more possibility, when the second and fourth terms are dominant, that we should consider that it should be much smaller i.e., n = 0, is self-consistent. twu simplified polynomials: So the heuristic concludes 3e*x~+x*=OJxN~ and x2 - 4 = 0 + x N f2. 3&2 The values of E” for which we get self-consistent signi&ant a qualitatively asymptotic behavior. significant gauges. Notice that each significant gauge generates an equation dominant maximal sets are called that captures The balancing procedure can also be used to simplify differential equations. Consider the equation: d*y dy e-d7+2;i;+y=o, O<x<l, O<E<l, conditions [ 131. We see that the solution curve y(0) = 0 and y( 1) = 1. The equation can be solved exactly with boundary is composed of two parts: a slowly (see Fig. 5) varying part in the region away from x = 1 and a rapidly changing part in the region near x = 0. Pretending we don’t know the exact solution, we will see how the balancing procedure: recovers the two significant approximations. As in the cubic equation, just dropping not quite work because boundary when x approaches 0. So we rescale x by an undetermined conditions. The problem here is the derivative the resulting term (d*y/dx*) gauge 8(e): the apparently does first-order equation cannot possibly satisfy the two is not 0( 1) term e(d*y/dx*) small 322 K.M.-K. Yip/Artificial Intelligence 80 (1996) 309-34X The exact form of the unknown gauge C?(E) will come out of the balancing procedure. 4 Substitution of this change of variable into the original equation yields: The orders of magnitude of the three terms are c/6*, 2-term balances, consistent balance two are self-consistent, implies S N 1, giving namely, l/S, and 1. Of the three possible l/6 N a/6*. The first l/S N 1 and 2g+y=o, while the second implies 6 N E, giving 2 $$+2$0. (8) is derived under the assumption that x = 0( 1 ), Eq. (7) should the right y( 1) = 1. In the applied mathematics condition the boundary Since the approximation satisfy literature, valid when x = O(E) and so it satisfies the so-called needs more work; we will return this equation is called inner approximation. Ascribing on the outer approximation. the left boundary to this problem in a later section. to be is presumed Eq. (8) condition y(0) = 0; this is for Eq. (8) the second boundary condition To illustrate the use of maximal sets, we consider the boundary the independent variable y by an unknown gauge S < 1 and applying rules, we get the following estimates for the terms layer equations. the order in the streamwise Scaling of magnitude equation (see Section 6) : ug =0(l); U; =0(l); g =?; -!-!-CO $ ; J-$=0 ( > A$ ( ; > where the symbol “?,’ indicates we have Re-’ < Re-‘6-*. four terms are maximal and grouped into three sets: that the estimate for a quantity is unknown. Since 6 < 1, So the term Re-’ (d2u/dx2) is not maximal. The remaining A={+&}, El={%}, c={+-$}. Similarly, the estimates for the transverse equation are: 4 It should be noted that 8 is pstulared balancing procedure then reveals that for that to happen, 6 = O(E), step for this class of gauge functions does not require any user input. to be the unknown gauge that makes the derivatives 0( 1). The i.e., n = I (see text). The substitution K.M.-K. Yip/Art$cial Intelligence 80 (1996) 309-348 323 and the maximal sets are: 5.2. Constraints from multiple equations For a model containing multiple equations, one can often exploit constraints among the number of possible dominant balances. For (for m < 3) to the streamwise equation in different equations terms instance, a direct application of m-set balance generates five possible balances: to reduce (1) A> (2) A,B, (3) A,(~, (4) B,C, (5) A,B,C. are possible live balances is 5 x 5 = 25 for the momentum Similarly, balances inconsistent. equation, implies D >> F. Or, if the sets A and C balance, have the same order of magnitude then the set F can’t be dominant if we assume For instance, for the transverse equation. The total number of equations. But many of these balances are the set A is the dominant set in the streamwise in the transverse equation because A > C imply both D and F then it would and hence they belong to the same maximal set. checks are the most expensive part of the procedure, set. Of the three maximal sets in the streamwise equation, this self-consistency to rule out certain balancing possibilities Since is useful concept of significant them-A and C-have (Fig. 3), (2) no other maximal terms, and (3) namely, A >> D and C >> F. Maximal significant sets in the transverse equation are significant. additional properties: they dominate (1) sets in the equation contain the same type of essential sets satisfying they contain it quickly. A useful criterion uses the two of terms that are essential the same type of essential in all other equations, these three properties are called terms. None of the maximal terms sets. The terms in A and C are called significant Significant Set Filter. Of the possible consistent m-set balances, not contain the significant sets. remove those that do Applying the filter leaving only to the streamwise two balances equation, we remove three out of the five to consider. Either of the balances, balances would imply that the maximal sets D and F have the same order of magnitude. Thus, only {D, E, F}--are two of the five possible balances {A, C} and {A, B, C} in the transverse equation--(t), consistent. F} and 324 KM.-K. Yip/Art@cial Intelligence 80 (1996) 309-348 The rationale set A. It contains set cannot contain all essential set filter comes from the observation for the significant a significant that a simplified the model not containing equation. significant the If A is neglected, should also be neglected. Thus, no inertia inertia only that some inertia terms will be kept in the simplification, terms must be present. The significant the generation of candidate dominant balances. The filter is applicable whenever we have an in the simplified model. a priori knowledge the only inertia terms in the streamwise momentum argument the input requirement is quite useful terms in the transverse equation, types of terms must be present then by order of magnitude the set D, which contains terms. Consider in constraining that certain set filter violating 5.3. Constraints from matching submodels The approximation for the ODE (Eq. (6)) the inner and the outer approximation. by the balancing procedure. The missing boundary the inner and outer equations, can only be found by matching subparts: independent with two nearly 5. I, we are able to determine conditions approximation imations. The conclusion constraints how this is done in the ODE by explicitly illustrate how additional we will solve the submodels. explicitly The idea behind solution matching to complete solving constraints that the interaction between the specification of the submodels is an example of a composite model In Section and all but one boundary for the inner the detailed solutions of the two approx- supplies additional is general. We will first show approximations. Then, even when we cannot the individual can be generated the submodels condition is the hope that the regions of validity of the inner to region, both solutions [ 131. In this intermediate and outer approximations the approximate Solving equations the outer approximation overlap should give reasonable gives: approximations to the true solution. hut = e (l-x)/2 and the inner approximation gives: yin = K( 1 - e-2X), where K is the coefficient variable s = O(X/E”), where 0 < it < 1. Rewriting of the intermediate variable s and taking to be determined. Denote the limit E --t 0 yields: the intermediate region by the the solutions yout and yin in terms Y”ut = e( l-47)/2 3 e1/2 =f? K. By assumption, e'12 5 the two solutions agree in the intermediate region, which implies K = SThis matching procedure will not always work, but because it works for a sufficiently large class of problems, it is among the most popular methods in the singular perturbation literature. Rigorous justification of the matching procedure is still a subject of research. For a useful review, consult [ 12 I. KM.-K. kip/Artijicial Intelligence 80 (1996) 309-348 325 flow -- -O@tieCI) ,..................................: ! uppetdeck - - i________________; : maindeck ;________________j ; lowetdeck i . . . . . . . . . . . . . . . . . . ‘\ trailing edge O(Ri”‘s O(Rc?) t I v A O(Re-(r! Fig. 6. Schematic picture of the triple deck structure around are marked by dotted the decks are as follows: O(Re-0) upper deck. The qualitative deduce the values deck. for unknown parameters three deck structure the trailing edge of a finite plate. The three decks The vertical dimensions of for the is to ( I ) in each for the main deck, and O(Rema) the flow equations is given to the program. The task of the program such as (Y and p, and (2) simplify lines. The horizontal dimension of the decks is O(Repa). for the lower deck, 0(Re-1/2 Prandtl’:s approximation subparts, is another example of a composite mode1 with nearly for the boundary i.e., the role of the free stream non-viscous pendent the external pressure flow is not affected by what happens fluid problems, we find that the submodels often interact non-weakly. To determine structure of each submodel balancing adjacent the and its region of validity, we have to consider not only the at the boundaries of Iof effects in the region, but also the matching conditions layer, and to a first approximation inside the thin boundary flow is limited inde- to setting the free stream layer. In more complicated regions. A good example of a composite mode1 with non-weakly artson and Messiter’s edge of a flat plate flow because including [ 241. The model is considered a major landmark is Stew- triple deck model which successfully models flows near the trailing in theory of laminar to many other problems, flow. can be applied immediately interacting ilow near a corner, a hump, a tilted trailing edge, and even supersonic the same technique subparts Roughly, the triple deck mode1 has three subparts (Fig. 6): a “lower deck” reacts to just like Prandtl’s thin boundary and a “main deck” transmits layer, an “upper deck” is controlled the displacement effect of the (Fig. 7) describes and explain the qualitative triple deck structure. parameters. Re is the usual Reynolds number. To make the expressions we use the convention quantities, and bar - the lower deck quantities. For example, the new features. This problem has eight to read, tilde” the main deck ii, ?r, and ii represent the upper deck quantities, that hat * denotes easier the solid boundary by the free stream condition, lower deck to the upper deck. The problem specification Let us go over the encoding 326 K.M.-K. Ylp/Artificiul Intelligence 80 (1996) 309-348 Model name: flat-plate-with-trailing-edge Dependent variables: PO UB Parameters: Re ii ii ?r & * ; Relations: x depends-on: lower-bound = 0 physical . . . upper-bound = 1 features = pressure, external type = large-parameter physical type = small-parameter physical type = small-parameter physical type = small-parameter physical type = small-parameter physical type = small-parameter physical type = scalar type = scalar features = dimensionless-number features = dimensionless-number, features = dimensionless-number, features = dimensionless-number, features = dimensionless-number, features = dimensionless-number, pressure pressure pressure velocity velocity CY<+,p>; Regions: :vertical layout: lower-deck (lower-deck, main-deck, upper-deck) inherit: prandtl-boundary-layer , . . . dependent variables: UI expansion: u = Re”*-%I estimates: x = 0( Reea), . . . main-deck y = O(ReeP) inherit: 2d-incompressible-steady-flow dependent variables: ~1,. . . expansion: u = UB + UI estimates: x = O(Re-“), . . . upper-deck y = 0( Rem’/*) inherit: 2d-incompressible-steady-flow dependent variables: ut , . . . expansion: u = U, + ur estimates: x = O(Re-“), . . . y = O(Re-a) Fig. 7. The problem specification for flow over a finite plate. It is a composite model consisting of three subregions. Subregions can be specified by the type of flow they inherit. Local declarations of parameters and variables are permitted. Some variable declarations and all boundary conditions are omitted. The r’s are orders of magnitude of the pressures; the C’S are the velocities. K.M.-K. klp/Artijicial Intelligence 80 (1996) 309-348 327 in the upper, main, and lower deck for the pressure the symbolic orders of magnitude respectively. The two parameters, c-and 6, are the unknown magnitudes of the streamwise velocity characterizing the dimensionless fold: ( I ) find constraints the dependency determine governing of the seven unknowns on Re. size of the upper and lower decks respectively. AOM’s in the main and upper decks. Finally, and (2) solve the constraints task is two- to a and /3 are unknowns these parameters, in the encoding. First, Two new features appear and upper-deck. Declaration to be made up of several submodels. model lower-deck, main-deck, the same as in the parent model. Variables declared local to that model. The vertically. Currently only the inherit Second, from a previously defined the Prandtl boundary with more genera1 equations to rederive composite model inherit layout descriptor two types of layout-vertical the steady 2D incompressible Navier-Stokes flow model. For instance, slot allows the momentum layer equations (model-4 specifies slot allows the Regions the flow In this case, the three submodels are named conventions within a submodel are inside a submodel are considered are stacked supported. to be inherited inherits in Fig. 10). We could have started for a non- layer equations. The main and upper decks that the subregions and horizontal-are the lower deck submodel and continuity equations in which case AOM would repeat the analysis the boundary equations. Two types of hints are given in the encoding the qualitative constraints on (Y and p encode the Prandtl boundary Second, the flows inside is shown profile to AOM to solve this problem. First, the that the lower deck is inside information the upper deck is outside. that the decks are small perturbations from the Blasius profile, UB( y) . (The in Fig. 2.) The size of the perturbations will come out of the analysis. the relations defining ut in the lower and main deck encode the assumption is O(Re-‘I* )), while (which layer is fairly complicated: The triple deck model seven unknown parameters Seven equations We will explain how four of these seven equations come from interactions submodels. Applying its specification the values of requires in terms of the Reynolds number Re. these parameters are therefore needed for a well-posed problem. the to the main deck yields four possible approximate (a, j3, ii, +, ii, %,5> relating among the balancing procedure models, none of which can be solved explicitly models, MD-l, the form of the equations. is simple enough so that two important constraints (see Section 7). However, one of the can be deduced from MD-l: lJB+- JUB 8Y = 0, First, @/Jy = 0 implies lower deck without modifying in the three decks: that the main deck transmits it, which generates two constraints the pressure from the upper to the pressures relating ii = ii. + = n-. 328 KM.-K. Yiy /Artificial Intelligence 80 (1996) 309-348 In other words, the pressures important piece of information simplified equation, in all three decks have the same magnitude. Note that this alone: a is not deducible from dominant term balancing the second equation of MD-l, has to be solved. Second, the streamwise momentum equation and the continuity equation can be com- bined to give: u d ayiz ( > = 0. where the quantity o/lJB, called the streamline modification the streamline the streamline slopes in the three decks: slope. So we conclude the ratio of the vertical velocity slope, which gives rise to two additional constraints to the horizontal velocity, is that the main deck also transmits without relating 5Re”- I /2 _ ~~2n--4P+3 /2 eRea-1/2 = 8. The remaining and the upper deck; they will be explained three constraints are consequences in Section 7. of balancing assumptions in the lower 5.4. Domain-specific knowledge in simpli$cation follows estimate the horizontal in the specification role in the simplification Two types of domain-specific extent must be much greater than the boundary knowledge play an important process. The first type, given as part of the input specification, nitude and bound estimates on quantities. For instance, deck problem, (Y < l/2. This order of magnitude layer that the horizontal boundary thickness, which scales in Section 6. Another example specification. The leading order of magnitude estimate, Re’/2-B, profile solution The second concerns order of mag- for the triple extent of the lower deck is given by x = O(Re-“) where of the layer relationship of the velocity u in the lower deck is based on the Blasius relating velocities flow and pressure the pressure like this can be used to generate additional constraints when the program already establishes the character of a flow. type of domain-specific in simple is proportional like O(Re -1/2). We will derive is the expansion knowledge consists of formulas the program knows that in a potential [ 161. Declarative knowledge to the Prandtl boundary flows. For instance, the latter scaling to the streamline from a general layer problem requirement [ 301. slope 6. Simplification algorithm Given a detailed model, the simplification algorithm finds all self-consistent simplified set balancing procedure. A simplified model models by the maximal and if ( 1) the terms neglected are consistent with the dominant balance assumptions, terminates when it contains (2) every equation among unknown parameters have been computed and resolved. The algorithm consists of two procedures: simplify-composite-modeland in the input. The algorithm set, and all the constraints essential has only one maximal simplify-atomic-model. is self-consistent terms specified K.M.-K. Yip/Art@ial Intelligence 80 (1996) 309-348 329 for each submodel. steps of the procedure simplify-composite-model the detailed model specification. The principal ( 1) Preprocess (2) Call simplify-atomic-model (3) Generate all possible composite models from the simplified (4) Compute consequences (5) Propagate all the transmission (6) Collect and solve the constraint The procedure simplify-atomic-model has no submodels. steps: of each composite model. constraints is to simplify all the equations Its purpose among submodels. set for all unknown parameters. are: submodels. operates on an atomic model, in the model. i.e. one that It has six estimates to all the terms of the equations. ( I ) Assign order of magnitude (2) Find the maximal (3) (4) Otherwise, pick one unsimplified (5) Propagate If every equation has one maximal sets. set, then return the model and stop. equation and consider all m-set balances. inconsistent ances. Each consistent balance generates a new partially simplified model. the effects of the balance assumptions to eliminate bal- (6) Call simplify-atomic-atom y-atomic-model The sirnplif the number of maximal simplification, call will return either a simplified model or nil self-consistent. recursively on all the partially simplified models. algorithm will terminate because during each call of sets is reduced by at least one. So each recursive is not if the partially simplified model We will first use the Prandtl problem as a running procedure. the steps of In the next section, we use the triple deck to explain example the simplify-atomic-model problem to explain the simplify-composite-model procedure. 6. I. Preprocessing the input speci$cation Given the input specification of a detailed model, the preprocessor creates (1) internal the the in infix form, relations defining external pressure representations quantities. The model specification momentum and free stream velocities, and a list of estimated orders of magnitude. for quantities and equations, and (2) a constraint network connecting consists of a name, a list of quantity descriptions, and continuity equations (X and y for space), Quantities are represented by CLOS objects. They are divided Quantities independent variables pressure, and u and u for velocity), 6 for length scale). Each quantity has slots for its upper bound, values, physical contains example, additional about the dependent variable u depends on both x and y. The input for Prandtl’s problem specifies nine quantities-x, and (3) parameters information features, (2) dependent variables into three types: (1) (e.g., P and PO for (e.g., Re for Reynolds number, lower bound, boundary variable variables. For and relations which other quantities. A dependent its dependency on the independent generates a total of 60 quantities. The reason y, u, u, Um, PO, P, Re, is that for each and 8. The preprocessor dependent variable, quantities corresponding and derivatives are also automatically to its total differential, partial differentials, generated. For instance, the dependent variable u 330 K.M.-K. Yip/Arrijicial Intelligence 80 (1996) 309-348 quantities: five additional generates also generated dependent variable d2Udx2/RE corresponding streamwise are for each term in the equations and relations. An example would be the in the du, du-x, du-y, &/ax, and du/Jy. Quantities term Re-’ (#u/iLx*) to the viscous equation. Input quantities have associated physical features such as space, velocity, and pressure. These features are used to determine the physical meaning of derived quantities by simple rewrite rules. For instance, a velocity quantity differentiated by a space quantity gives a velocity-gradient in a similar a velocity gradient is determined fashion. For example, a term that is the product of a velocity quantity and quantity. The physical meaning of a term in the equation the convective represents inertia term. A constraint Equations be deduced language are represented locally as constraints on quantities from the known ones. Our constraint so that unknown quantities can language has seven primitives: ( I ) The constant constraint, (2) The maximum constraint, (constant q v>, asserts that O(q) = o. (maximum ql q2 q3), asserts that O(q3) =max(O(ql),O(@)). Example: (3) The multiplier (maximum du-x constraint, du). du-y (multiplier ql q2 q3), asserts that Wql) x O(@) = we). Example: (4) The exponential (multiplier constraint, u dudx ududx). (exponential ql q2 q3), asserts that O(ql@) = O(q3). Example: (exponential x 2 x2). (5) The equality constraint, (== ql q2), asserts that O(ql) = O(q2). Example: (6) The variation the continuity equation (3) (variation constraint, when the partial differential of a function than the value of f at its outer boundary, boundary value. Symbolically, value of f at its outer boundary is represented by (== dudx dvdy). the inference f x df -x>, captures that f(x, y) with respect to x is much less to its df-x = o(fo) + O(f) = O(fo), where fo is the is asymptotically then f equal in the x-direction. (7) The total-variation constraint, (total-variation f df >, asserts that 0( df) = 0( upperbound( f) - lowerbound( f) ) Most of these constraints it should be noted that the differentials df or df-x do not have to be infinitesimals. They represent variables change. For instance, the amount let the function f changes when the independent In the variation constraint, are self-explanatory. f(x,y) =x2+y3. K.M.-K. Hp/Art$cial Intelligence 80 (1996) 309-348 331 Fig. 8. Equations are represented as a network of constraints for forward inferences. The change of f at a point (x, y) = ( 1,2) can be approximated by: df = 2dx + 12dy. (see below) relation holds The same approximation If LX = 0.1 and ay = 0.2, Af = 2.6 > 1. Here we use the notation LJ to differentiate A f, the result of the action of the mapping df from the mapping df itself. estimates. Mathe- to be to the set of real turns the usual way of looking at integrals upside down. Instead as something we do to a function, we regard it as the action of maticians prefer integrated. Formally, numbers. The definition of viewing the differential on a finite interval. This blends well with order of magnitude operations integration. because l-form, which exists intervals differential the set of finite to think of df as a (constant) for order of magnitude they are well-behaved it is a mapping integration under from Even when df happens any nonzero quantity-unlike asymptotic So if fo = O(.s2> and df-x = O(e), to be an infinitesimal, most other order of magnitude in AOM it is not true that it is less than systems. The reason is that (e.g., E, e2, . . .) . order of magnitude provides an ordering of infinitesimals then df-x # o( fo). 6.2. Assignment of order of magnitude The constraint language allows simple sider the network generated by the continuity equation Given deduced. 6 that u = O(l), x = 0( l), y = O(S), inferences about quantities (Fig. 8). the value u = O(S) to be made. Con- is automatically The estimates for quantities that result from forward inferences are given in Table 1. hThededuc:tionstepsare and O(du-x) = O(du-y) as follows: (I) u=O(l) =$ du-x = O(I) (4) y = O(S) and lowerbound dx = O(l), du/dx = O( I8 ), (6) du/dx = O( 1) and O(du/dx) dy = O(6) =+ dv-y = O(6), andlowerbound(u) =O+ du=O(l), (2) du=O(l) and du-jj = O(I), (3) x = O(1) and lowerbound = 0 =S = 0 =+ dy = O(6), = O(dv/dy) (5) du-x = O(I) and dx = O(I) + du/dy = 0( I ), (7) dv/dy = O(I) =S and (8) dv-y = O(6) and O(dv-x) = O(dv-y) =S dv-x = O(S), (9) dv-x = O(S) and dv-?j = O(6) + dv = O(6), (10) du = O(6) and lowerbound = 0 =+ u = O(6). 332 K.M.-K. Q/Artificial Intelligence 80 (1996) 309-348 Table I Estimates for quantities Streamwise equation Transverse equation Continuity equation uau/a..r = O( I ) r~arf/a,v = O( I ) ap/ax =? Rr-‘d’rr/d.r2 =O(Re-‘) Rr-‘d%/ayz = 0( Re-’ I/#) uav/ax = O( 6) lYk/A,Y = O( 6) apjlplay =? Re-‘d2r/dx2 = O(Re-‘6) Re-ld2~l$v2 = O(Re-‘l/6) 6.3. Finding the maximal sets au/ax = O( I ) aL’/ay = O( I ) Finding the maximal sets in an equation depends on resolving inequalities order of magnitude algebraic rewrite rules, expressions. Three mechanisms (2) bounding algorithms, are used to infer and (3) graph search. between (1) inequalities: Algebraic rewrite Many simple rules inequalities can be determined the interface between provides plemented on top of an algebraic simplifier extended expressions real numbers, infinitesimals by rewrite the rules and expressions. The predicate, which (see Section 7), handles rules. A predicate lessp is im- inequality between (such as 0+, 1 -), 7 and algebraic and hyperreals involving quantities. Some examples of rules are: x < ux, if x > 0 and u > I, xw < xv, if x > 0 and u < U, Xl’ < XI’ , if x > 1 and u < u, X” < xl’, if 0 < x < 1 and u > u. As an illustration, 0 < (Y < i and 0 < c < 1, is decided: let’s see how the inequality (+Rea--]/2 < aRe2a-‘J2, where Re >> I, gRe”-‘/2 < aRe2a-1/2 5 Rea-1/2 < Re2a-112 _!z+,-;<24 5a<2a where the third step, indicated by an asterisk, rule. is the action of an ordinary simplification Bounding algorithms Computing the upper and lower bound of an expression inequalities to be decided. We implement part of the inequality allows a wider class of in bounder described 7 See the description of hyperreal numbers in [ 27 I. In particular 0+ corresponds to (HALO 0 I ) KM.-K. Yip/Art@cial Intelligence 80 (1996) 309-348 333 [ 2 I ] : the ub-lb explored by many researchers and the sup-inf [ 4,6,22]. algorithm. The basic idea of the algorithms has been The ub-1.b algorithm computes numeric bounds is computed expression bound of an expression nontrivial part of the algorithm special cases which frequently recursively for an expression. The bound of an from the bounds of its parts. For example, the upper x + y is given by: ub(x + y) = ub( x) + ub(y). The only expression xp. We add two is to handle an exponential arise in comparing order of magnitude (such as Re >> 1 ), expressions. Case 1. When x is a large parameter L&(x?‘) = [ ub( x) yhCy) if ub(y) > 0, [Ib(x>]“h”’ ’ otherwise. 1 Case 2. When x is a small parameter (such as 0 < S << 1). L&(x?‘) = [ub(x>lf’(“) if /b(y) > 0, [ Ib( x) ] WY) otherwise. As an illustration, algorithm computes: consider the inequality Rt~*~‘-l < 1, where 0 < (Y < $. The ub( ReZa-’ ) Ib(Re) = 1+ ub(2cr - 1) = I- 2 &(a) =o- = ( Is)a- = l- < I. The hyperreals are manipulated by rules like: (I) p X l+=p+, (2) n x 1+ = n--, (3) p X o+ =o+, (4) n x o+ = o-, (5) p+ x 9+ =p9+, where p and 9 are finite positive real numbers, and n is a finite negative real number. techniques Graph search Algebraic the quantities algorithm, inferentially weaker lattice works much faster [23]. but its exponential to resolve inequalities become increasingly complicated when are related by symbolic constraints. We initially employed the sup-inf than the sup-inf time complexity quickly made it a bottleneck. Although idea of searching a quantity method, Simmons’ The basic idea is to represent explicitly the order relationships between quantities a directed graph whose nodes are quantities and edges are labeled order relations, in and 334 A <<6 t C K.M.-K. Yip/Artflcial Inielligence 80 (1996) 309-348 *B <t6 *I D ? (a) Fig. 9. Graph search to determine order relations. <<6 >> E-F- 96 G-H (b) search to include symbolic relations are also known: to find paths between quantities. We generalize Simmons’ to use a breadth-first representation factors in the order relations. Let’s look at an example (Fig. 9(a)). We have four quantities: A, B, C, and D. Assume 6 is a small parameter. and The following (3) O(A) = SO(C). To show that O(C) = O(D), we find the shortest path between factors are them, collecting divided the consists of one factor S, while edge is labeled < or >>. In the example, l/S. the B-factors The inference procedure can also handle partial information. For instance, factor of each edge of the path. The symbolic and the >-factors the <-factors consists of one factor (2) O(B) = 60(D), (1) O(A) = O(B), the <-factors, the symbolic two groups: on whether depending into in the graph that E > H even if it is not told what in Fig. 9(b), it will correctly conclude shown the symbolic factor of edge F > G is. The time complexity of the graph search is O(E), where E is the number of edges lattice only includes order relations terms having usually they can be easily compared. New order in the graph [ 81. To avoid a dense graph, the initial that can be easily computed by the algebraic features the same physical have similar order of magnitude relations are introduced (e.g. the inertia estimates; rewrite rules. For instance, terms in the momentum sets are balanced. as maximal equations) 6.4. Balancing maximal sets The maximal sets for the boundary layer problem with their order of magnitude estimates, first described in Section 5.1, are repeated here: A={+$}, B={g}, C={+-$}v 1, 7 ., 1 1 -- ReS2’ KM.-K. Hp/Arf@cial Intelligence 80 (1996) 309-348 335 The sets A and C are significant in the streamwise set filter gives the constraint two dominant equation because A > D and {A, C} and balances: 1 N Re-‘a-*, which says that the Note that this important qualitative relationship C > F. 1Jse of the significant {A, B, C}. Balancing A and C yields layer thickness 6 = 0( I /a). boundary is derived without solving any PDEs. from balancing derived Constraints assumptions the quantity through lattice. With the new constraint on S, the graph searcher is able to infer that the maximal sets D and F must have the same order of magnitude. The maximal set E is a singleton none of the terms in set and so O(E) the transverse equation contribute. In particular, we have aplay = 0. Details of the two possible is at most 8. Therefore, at 0( I ) approximation, simplified models are shown in Fig. 10. are propagated 7. An example of composite model: the triple deck In this section we will explain the steps of the procedure simplif y-composite-mo- triple deck problem will be used as the running del. The show how the values of the seven parameters in the problem--a, determined. The first two steps of the procedure, preprocessing the submodels, have already been described. We will start at step (3). example. In particular we p, ii, ii, 7j, &, e-are input and simplifying 7.1. Generating composite models The results of calling triple deck are displayed flow equations (LD-1 and LD-2). Balancing the streamwise boundary simplify-atomic-model on each of the submodels of the in Fig. 11. The upper deck equations are reduced to the potential layer equations (UD-1). The lower deck is the usual Prandtl boundary the inertia layer equation terms, pressure in LD-2 produces term, and the viscous term of two parameter constraints: ~=ReP-‘/*-a cu=3,6- ;. The main deck has four possible simplifications: MD-l, MD-2, MD-3, and MD-4, and the lower deck has two. Therefore eight composite models are possible. 7.2. Computing consequences The purpose of this step is to extract further consequences tha.t +? = 0(0/u) tions of each submodel. Two kinds of deductions are run on the submodels. For instance, asserts potential resolved give: flow. Second, simplified to a simpler form. For example, equations = B, after the program determines are made. First, domain-specific a rule relating pressure and streamline from the simplified equa- rules slope is a that the upper deck to see if they can be further to for MD-l can be resolved are checked the equations 336 K.M.-K. fip/Artijicial Intelligence 80 (1996) 309-348 > (simplify-atomic-model Making *model*) (MODEL-2: PRANDTL-BOUNDARY-LAYER-l) . . . (MODEL- I : PRANDTL-BOUNDARY-LAYER) from the leading order terms of TRANSVERSE-MOMENTUM-EQUATION terms in STREAMWISE-MOMENTUM-EQUATION are: to be: DPDY 2 candidate dominant sets: Assigning Significant UDUDX VDUDY D2UDY2/RE STREAMWISE-MOMENTUM-EQUATION: (D2UDY2/RE VDUDY UDUDX) (D2UDY2/RE DPDX VDUDY UDUDX) Making (MODEL-3: PRANDTL-BOUNDARY-LAYER-l) from (MODEL-2: PRANDTL-BOUNDARY-LAYER-l) (VISCOUS STRESS TRANSVERSE) Balancing 2 terms: DZUDY2/RE VDUDY (CONVECTIVE-ACCELERATION in STREAMWISE-MOMENTUM-EQUATION Assigning D2UDY2/RE (MODEL-3: PRANDTL-BOUNDARY-LAYER-I) and VDUDY and UDUDX the leading order terms of STREAMWISE-MOMENTUM-EQUATION with 1 parameter assumption: Re = I /8* to be: INERTIA TRANSVERSE) is self-consistent. Making (MODEL-4: PRANDTL-BOUNDARY-LAYER-2) from (MODEL-2: PRANDTL-BOUNDARY-LAYER-I) (VISCOUS STRESS TRANSVERSE) Balancing 3 terms: D2UDYZ/RE DPDX (PRESSURE-GRADIENT) (CONVECTIVE-ACCELERATION VDUDY in STREAMWISE-MOMENTUM-EQUATION Assigning DZUDY2/RE (MODEL-4: PRANDTL-BOUNDARY-LAYER-2) and and DPDX and VDUDY and UDUDX the leading order terms of STREAMWISE-MOMENTUM-EQUATION with I parameter assumption: Re = I /S2 to be: INERTIA TRANSVERSE) is self-consistent. . . . and . . and Two simplified models are found. Model-3: Model-4: I i9u = -2 Re @ au uz +“x au (II, - =o ;; z+;=o .’ _’ The drag coefficient is O( I/&). au au urlx+L+=---g+-~ ?V @J -_=O i?p 1 d2U Re d,v Fig. IO. The program models. It also computes finds two self-consistent simplified models. It deduces that Re = l/s2 in both of these the drag coefficient based on the magnitude of the velocity gradient &/a~). Equations of the form: ;Q=O KM.-K. fip/Art#cial Intelligence 80 (1996) 309-348 331 Upper deck UD-I: JP ax ap au1 -=:-a ax do ax=-ay au, dv x%=O Main deck MD-I: MD-3: 2 aY UB$,f + v- auB =O ap -0 ay- ay !%+.~=0 UB%+u-_=-_ auB ay 1 a2uB Re dy2 ap -0 ay- $+$o MD-2: MD-4: UBZ; + v- am ap ay =-Xii ,~+v~=_~+__ 1 d2UB Re dy2 ap ay= 0 =%=O allI au Lower declk LD-1: LD-2: [I- $-v- au au i a2t4 = -- ax ay Re ay2 ap I() -_= ay au au z+-=o ay ati au ap I a2u u-++-=_dx+-~ ax ay Re ay ap -0 ay- Fig. I I. Results after calling simplify-atomic-model The simplified model for the upper deck is a potential lower deck reduces combination to the Prandtl boundary on each of the submodels of the triple deck problem. flow. The main deck has four consistent models. The the layer equations. Eight composite models are possible. Only {IUD- 1, MD- 1, LD-2 } produces enough matching constraints for solving the seven unknowns. 338 K.M.-K. Yip/Artificial Intelligence 80 (1996) 309-348 are called transmission across adjacent two regions. regions. transmission constraint constraints, that asserts and Q is a transmission the quantity Q does not vary quantity. Physically, a in the y-direction It implies a matching constraint on the quantity Q between two 7.3. Propagation of transmission constraints For each transmission to Q in two adjacent transmission constraint, regions have constraint dp/ay in MD-l leads to two assertions: the program asserts that the quantities corresponding the same order of magnitude. For example, the Similarly, the transmission constraint (d/r?y) (o/U@ = 0 leads to two assertions: 7.4. Solving the constraint set The final step is to solve all the parameter constraints that have been asserted. Seven for the triple deck problem. They are collected here for such constraints convenience: are asserted *Re”- I /2 _ ~~2”-4P+3/2 , 5_Re”-1i2 = 6, ii = ii, ii = ii, 6- = 6, ,jj- = ReP-1/2-a , iY=3p-5 This set of nonlinear equations is easily solvable by hand. But simple-looking algebra system the Mathematics will not be able to solve for x in terms of a in a simple equation equations, like Mathematics. they are beyond the capability For example, of a commercial like many other computer 2.2 Solve procedure (see Fig. 12): log(x+ 1) +log(x- 1) =a. Our solution is to build an algebraic simplifier on top of Mathematics to complement function on an expression. For instance, one has an isolate solving capability. Our algebraic simplifier borrows an important solving for equation idea from [7]. The rewrite rules into packets. Each packet performs a packet whose job a single occurrence of the unknown. its equation previous AI works: Bundy and Wellham’s meta-rules meta-rule approach organizes algebraic particular is to isolate an unknown A collect one so that meta-rules simplification, from an equation containing packet reduce solving, rules for implementing and an attract the for equation and inequality and (3) isolate the number of occurrences of unknowns packet can apply. Our simplifier has three rule sets: (2) algebraic the ub-lb to (1) rewrite rules for standard algorithms. A and sup-inf KM.-K. Kp /Artificial Intelligence 80 (I 996) 309-348 339 To solve: log( x + 1) + log( x - 1) = a Apply attract rule: {log?x + log?y -+ log(?x*?y)} to get: log( x + 1) * (x - 1) = a Apply collect rule: { (?x+?y) (?x-?y) -+?x*-?y*} to get: log(x* - 1) = a Apply isolate rule: {log?x =?y -+?x = e?!} to get: x2 - 1 = e” Apply isolate rule: {?x-?y =?w -+?x =?y+?w} to get: x2 = 1 + e” Apply isolate rule: {?x?” =?y +?x =?y’/?“} to get: x = (1 + ea)‘/*. Fig. 12. Repeatedly apply meta-rules to the equation to solve for n. Fig. 13. Complete solution for the seven parameters in the triple deck problem. derivatives, significant portion of the rules handle exponentiation, maximum/minimum, and inequalities. The solutions Important physical are given in Fig. 13. for the parameters information can be deduced the extent of the lower deck: values esta.blish The horizontal vertical O(Re-“18). 0(Re-‘/8) from which we calculate velocity gradient and the definition the horizontal extent of the lower deck, we arrive at the following correction due to the finite edge effect: extent velocity u in the lower deck the velocity gradient au/G’y = O(Re”*). Using of drag coefficient CD [30], and integrating from these parameters. The cx and p and = the over to the drag is 0(Re-“/8) is 0(Re(‘/2-p)) the horizontal CD = 0(Re-7’8). that the finite edge effect contributes O(Rem7/*) that the next order correction The conclusion Researchers flat plate is O(Re-‘) triple deck equations! had for years assumed [26]. Notice is highly nontrivial. to the drag on the the that we arrive at the conclusion without solving 340 K.M.-K. fip/Artifcial Intelligence 80 (1996) 309-348 flow direction irrotational 1 turbulent wake Fig. 14. Free turbulent flow over solid body. The width of the wake grows as the square root of the distance downstream. The velocity profile for the mean flow shows a deficit near the centerline. The velocity defect w is defined as the difference between the free stream velocity and the mean flow velocity. The velocity profile recovers the free stream velocity uo3 in a distance of O(6). 8. A third example: turbulent wake Turbulent flows occur frequently ing of turbulence we will illustrate free turbulent is rather primitive. Few analytical the generality of our model simplification flow, a flow that is free of wall boundaries. in nature and engineering. However our understand- In this section, results are available. in algorithm with a problem The problem concerns the shape of the wake and the behavior of the velocity profile in the downstream of a plane flow over a solid body (Fig. 14). The flow is studied at a place far away from the body so that ( 1) the details of the body won’t matter, and (2) the averaged velocity profile reaches a steady state. Turbulent the macroscopic properties type of averaging-the the results obtained flows are chaotic and unpredictable. Almost all theoretical studies use some type of statistical averaging. The hope is that averaged properties are easier to calculate for engineering and would represent purposes. A particular commonly used. The idea is to average in each experiment one measures the experiment is repeated many An average of these experiments ensemble write the velocity and pressure variables as follows: the velocity and pressure at specific times with identical is the ensemble the experiment value is the fluctuating part. So we can For instance, locations. Then conditions. average. The difference between from a series of identical average and an individual initial and boundary experiments. averaging-is important ensemble ll=lJ+d, p=P +p’, where U and P are the mean velocity the fluctuating parts. Substituting and pressure, and the prime quantities are the mean and fluctuating variables into the Navier- KM.-K. Yip/Artificial Intelligence 80 (1996) 309-348 341 turbulent-free-wake variables: Model name: Independent x lower-bound = 0 physical upper-bound = 1 features = space, streamwise y *.* Dependent variables: U 11’ depends-on = x,y lower-bound = 0 physical . . . upper-bound = 1 features = velocity, streamwise, mean-flow Parameters: Re features = dimensionless-number 6 140 ~0 type = large-parameter physical type = small-parameter physical type = small-parameter physical type = small-parameter physical terms: turbulent, inertia features = dimensionless-number, features = dimensionless-number, features = dimensionless-number, Essential Equations: Streamwise-momentum: length, transverse velocity, turbulent velocity, streamwise au au ,+“-__~+I JY Transverse-momentum: Re(g+~)+-$(-;ii)+-$m) (9) Continuity: au av z+F=O Relations: U = U, Order of Magnitude - w estimates: u, =:0(l), U=O(l), x=0(1). y =0(S), u’ =0(&-J), u’ = O( ua) ) w = O( wg) (10) (11) Fig. IS. Problem specification for flow in the asymptotic downstream of a turbulent wake. The detailed model gives the 2D Reynolds averaged equations for the mean flow U and V. The equations are similar to the 2D involving the fluctuating quantities Navier-Stokes equations except for the extra terms (like ( -u’o’)) (fi/@) u’ and 1.‘. the Reynolds stress terms. These are called stress terms-even though they have nothing to do with molecul,ar stresses-because mathematically they behave as if the total stress on the flow were composed of the viscous stress plus an additional component due to the mean product of the fluctuating velocities. forms are in general The Reynolds stress terms are never negligible in a turbulent parameters: Re, unknown. The overbar 6, u,~, and wu. Important analytical reasoning without explicitly modeling for ensemble averaging. The problem has four dimensionless can be deduced by order of magnitude the details of the Reynolds flow, but their analytical relationships stands stress. 342 KM.-K. Yip/Artificial Intelligence 80 (1996) 309-348 Two simplified models are found. Model- I : Model-2: a !E + - a~ ay ( - “‘2 =o ) aP -+q-q=() ay ay Parameter constraints: Parameter constraints: wa >> $ and Re= & Fig. 16. The program finds two self-consistent simplified models for the turbulent free wake problem. Notice it also deduces constraints among the dimensionless parameters. With an additional hypothesis of self-preserving Row, i.e., the various turbulent quantities are self-similar at various downstream locations, Model-l can be solved analytically to produce formula relating the velocity defect and the width of the wake as functions of the downstream distance. Stokes equations and performing equations for the mean flow (Fig. 15). the averaging, we will arrive at the Reynolds averaged Using 2-set balance, the program finds two simplified models (Fig. 16). If the program uses a 3-set balance, The turbulent wake problem turbulence problems-jet way [25]. Second, if the flow is assumed of the velocity defect and analytical reliable because terms. results are extremely the simplification it will find five simplified models. is interesting and shear flow for example-can the simplified models are simple enough for two reasons. First, a host of other free in an identical be simplified to be solved explicitly to be self-similar. The solution gives an explicit dependence the width of the wake on the downstream rare in turbulence. One also expects the results does not depend on the details of the Reynolds distance. Such to be stress 9. Evaluation is described that automates formal perturbation In conjunction with a program flows in turbulent wake, turbulent version including water waves, and deep water waves. We plan to extend the program non-simple boundaries, varying channel width. Modeling time-varying research (an early in [ 3 I ] ), AOM is used by the author to simplify many fluid models, in a tank, shallow to handle flows over such as shallow water waves with a sloping bottom or a slowly to involve soliton equations with [ 151. Many aspects of these flows are still subject of current coefficients in the fluid dynamics jet, chaotic wave motion such flows is known expansion literature. K.M.-K. Yip/Artificial Intelligence 80 (1996) 309-348 343 What has been automated? The method of dominant balance equations with several parameters the technique has never been automated. is one of the most general and powerful simplifica- to partial tion methods. However, because of differential checks. the multitude of possible simplifications, found in typical published papers are usually am- The explanations of choice of scalings biguous and not well-motivated. We do not usually understand them on first reading. The original papers on the triple decks are good examples of this problem.8 By explic- the balancing possibilities with the associated boundary matching and itly enumerating parameter of the triple deck scalings which we believe ;assumptions, we obtain an explanation than the published accounts. parameter assumptions, is much clearer and consistency straightforward is not entirely Its application In general, seven steps: simplification of a flow model by the dominant balance method involves into qualitatively distinct subregions. for a subset of quantities. the form of gauge functions. (1) (2) (3) (4) (5) (6) the orders of magnitude Break up the region of interest Estimate Det’ermine Enumerate balancing possibilities. Deduce consequences Malch boundaries parameters. Solve the resulting (7) AOM automates set of constraints. of balancing assumptions on parameters. and solve simplified equations to get additional constraints on the last five steps. It depends on hints about the qualitative the trailing edge of a flat plate. AOM would be much more useful try out some simple models, compare between prediction of the simplified models. For instance, AOM in modeling can nondeterministically experimental construction on the flat plate, potential looks for regions where a viscous plate, it finds the horizontal boundary data, and use the discrepancy of more elaborate models. For instance, first propose flow model gives zero drag, term becomes length scale is no longer layer, and therefore a new inner viscous it might structure is told that there should be three decks if it their predictions with the and data to guide the viscous drag the and important. Near the trailing edge of the flow model. Noticing of viscosity the importance in calculating large compared to the O(Re-I/*) layer may come into existence. the simple potential it conjectures Step 3, the substitution fluid problems classical they frequently systematic of powers of E, is automatic as explained require a more general class of gauge functions expansion in the paper. Several (such as E log E) ; is carried to higher-order. Not much arise when a perturbation theory about these gauge function is known. x The origin11 author, K. Stewartson, came up with the triple deck in 1968 and published a paper in which the scalings of the regions are wrong. It took another year before the correct scalings as given in this paper were derived. Although the balancing idea is straightforward, applying the problem to coupled equations with several paramleters and boundary conditions can be quite hairy even for experts. Scaling choices-no matter how non-obvious-are typically not explained in published papers. Disagreements among experts over the choice of scaling are quite common. The present author had personal experiences with this type of discussions when I was a coauthor of a fluid mechanics paper. 344 K. M. -K. Yip/Arr@cial Intelligence 80 (I 996) 309-348 When does the simplijkation heuristic fail? The simplification algorithm described first one can be handled by appropriate one requires a completely new method of attack. extensions in this paper has two major limitations. The to the current program. The second functions, The first limitation has to do with the class of gauge functions. The program currently that more general for many in Stokes flow, the solution recognizes only powers and negative powers of E. It is well known gauge problems: just matching procedure such as logarithms the slender body approximation, to name a few. Including more general gauges would complicate [26], a topic we plan to pursue. and higher order matching of E,~ are required and exponentials The second few significant water at room water molecules, layer. But as the temperature (647 K and 217 atm), that used to dominate at the molecular at the critical mathematical model eddies of many framework of model simplification length scales is more serious. The simplification limitation length scales characterizes temperature. There are only a few length scales: assumes algorithm that a the physics of a problem. Consider a glass of the random motion of in the thin boundary to critical values fluctuations scale become increasingly macroscopic. Therefore and pressure of the water are raised the density of the water and steam is equal. Density the surface waves, and perhaps viscous effects region, effects of many wavelength [ 291. A similar phenomenon scales have to be incorporated occurs during into a the energy cascade via the like these fall outside in a turbulent described flow. Problems in this paper. How good are the approximate models? to this question. First, balance depends on a continuity like many simplification methods, the to property between in the equation correspond space, namely, small changes in its solution. So one can expect a poor approximation when equations the intersection of two nearly parallel in the coefficients of the linear equations can lead to a large change in finding There and the solution is no simple answer the accuracy of the dominant equation small changes do not have this property. For instance, lines, small changes in the solution. In numerical analysis, Second, existence and uniqueness such set of equations theorems is called ill-conditioned. for PDEs are rare. One often does not if that is not self-consistent the approximate model has a solution at all or whether know whether exists will be unique. The strongest claim one can make seems to be this: An approximate model to justify. T(x) be a term of the equation X, we can state the continuity property as follows: is easy to an equation, and let solutions to be neglected. Assuming T varies continuously with lo Let x and x’ be the true and approximate is certainly a poor approximation. the solution This claim T(x) small =+ x x X’ + T(x’) small. Hence, if T(x) is large, then T(x’) is large and therefore x $ x. L, These are the so-called Hardy’s L-functions [ II]. I” A similar argument is made in [ 131. K.M.-K. Hp/Art$icial Intelligence 80 (1996) 309-348 345 before impact Fig. 17. Raiman’s colliding ball examples. Two balls with masses Q, and ins are approaching each other with an equal and ‘opposite velocity V. Assume that the collision is elastic and that ?nh >> Ins. What is the velocity of the small tlall after impact? In practice, an approximate model perimental the validity and accuracy of Prandtl’s boundary experimental to ex- checks. In fact, there still exists no theorem which speaks to but ninety years of layer approximation, leave little doubt of its validity and its value. is validated by subjecting and numerical its predictions results 10. Related work Previous work in equation simplification involves the various styles of order of mag- nitude reasoning. Raiman’s Estimates [20] is based on the notion of order of magnitude is that an order of magnitude description intuition The coarse value V(q) of a quantity q is defined as a set of values which contains value of q. Two quantities p and q are said to be equal in order of magnitude scales, The is a coarse description of a quantity. the if the sets they can scales, small and rough, are provided; and V(q) overlap. Two primitive V(p) be used to build up finer order of magnitude scales. Order of magnitude sequence, one cannot machinery. Part of the justification colliding ball example by the use of gauge function without sacrificing equality, under Raiman’s definition, substitute is ltof transitive. As a con- inference the (Fig. 17). We will show that the problem can be easily solved the substitution of equals for equals. for equals, which complicates for the intransitivity from considering comes equals the Let mb and m, be the masses of the big and small ball respectively. Let u and u to denote their velocities before and after impact. The is: What are Ub are mb > m,, ub = V, and us = -V. The question subscripts equations (30) and (3 1) in terms of a small parameter with the corresponding initial conditions and u,? Rewriting Raiman’s & = !?&/1?‘rb < 1 yields: r/b--\I=&(--V-US), &,+v=&--t! 346 K.M.-K. fip/Art#icial Intelligence 80 (1996) 309-348 terms in the first equation are ub and V on the left-hand The maximal them gives Ub = V. Substituting Ub = V into the second equation desired answer: us = 3V. side. Balancing immediately gives the smaller relations, Mavrovouniotis and moderately seven primitive 0[ M] program and Stephanopoulos’ [ 191. 0[ M] provides real line as an ordered set of disjoint points, E, l/( 1 + E), I, 1 + E, and E- ’ . This interpretation [ 141 improved on Raiman’s such as much than. These relations are based on an in- intervals delimited by is reminis- theory of AOM. But there are the two schemes. First, AOM uses a much richer set of earlier FOG formalism smaller than terpretation of the positive five distinguished cent of the ordering of gauge functions three major differences between gauge functions, namely, all powers of E, which are necessary singular equations. Second, AOM’s order of magnitude 0( 1) are first compared, Third, AOM’s gauges are functions whereas 0[ Ml’s E is a problem-dependent Thus, 0[ M] formalizes asymptotic order of magnitude. scales are hierarchical. Terms of followed by those of O(E*‘~), and so on. scalar. rather than that of the concept of numerical order of magnitude for handling complicated then those of O(E”), in the asymptotic [ 171 introduces space, incorporating a four-level quantity relations, and logarithms. The use of logarithmic Murthy is infinitesimal [ 181. These authors explored by Bennett define the order of magnitude of a quantity 0( 9) to be log, 141. The choice of the base b than the scales is problem-dependent. in 0[ M], to handle numerical order of magnitude. they are designed with a similar purpose, namely, [ 31 and, more extensively, scales are more refined scales in approximation in Nayak’s Napier some of Raiman’s the logarithmic Although In summary, most of the previous works explored order of magnitude reasoning based on either numerical order or some form of infinitesimal. These programs handle algebraic them by a theory equations of asymptotic for simplifying algebraic equations, ODES, and PDEs. order of functions, which provides a uniform equations. AOM complements and qualitative differential foundation 11. Conclusion is not just useful: approximate models Building derstanding of the relevant physics plification method based on three balance procedure, and constraint ary matching. The paper introduces a number of technical advances: for a clear un- they are essential in a difficult problem. This paper describes a sim- the dominant ideas: asymptotic order of functions, and bound- formulation due to parameter assumptions (2) asymptotic solvable by qualitative ( 1) It introduces problems It articulates and explains graduate student can use the technique with several parameters. It produces more systematic like the triple deck. models (3) order of magnitude reasoning to extend the range of reasoning techniques. the dominant balance method so that even a beginning equations to simplify partial differential explanations of the scalings used in classical fluid K.M.-K. Yip/Art~$cial IntelliXence X0 (1996) 309-34X 347 for the automatic application of formal pertur- (4) It provides bation expansion procedures. the scalings necessary Professional scientists have the ability of small parameters, is attempted. Dimensional to simplify problems. They routinely use many to simplify a problem and get at its essence es- use of analytical properties of physical quantities, consequences powerful heuristic and qualitative methods lengthy calculation before any cases, perturbation timates, exploitation of symme- expansions, methods are try, diagrammatic ideas for strategic not mere tricks to solve specific problems; and intelligent reformulation Isolating of problems these ideas and articulating them explicitly would go a long way towards understanding some of the core skills rather they embody general guess of the form of the solutions. that make up a theoretical and order of magnitude and renormalizability of theory-these representations, consideration of limiting scientist. Acknowledgements This paper was greatly improved by suggestions K. Sreenivasan, W.T. Tsai, Dick Yue, and two anonymous Harold Abelson, Drew McDermott, Gerald Sussman, encouragement. CCR-9 109567. The research was funded from Michael Beetz, R. Bhaskar, thanks referees. The author for continual and and Jack Wisdom in part by NSF NY1 Award ECS-9357773 References 1 I 1 H. Abelson, M. Eisenberg, M. Halfant, M. Katzenelson, E. Sacks, G. Sussman, J. Wisdom and K. Yip, Intelligence in scientific computing, Commun. ACM 32 (5) ( 1989). 1 2 1 C. Bender and S. Orszag, Advanced Mathematical Methodsfiw Scientisr.s and Enginerrs (McGraw-Hill, New York, 1978). [ 3 1 S.W. Bennett, Approximation [ 4 1 W.W. Bledsoe, A new method for proving certain presburger formulas, in: Proceedings in mathematical domains, in: Proceedings AAAI-87, Seattle, WA ( 1987). IJCAI-75, Tblisi, Georgia (1975). 15 1 E. Bradley and F. Zhao, Phase space control system design, IEEE Control Syst. MaX. 13 ( 1993). [ 6 1 R.A. Brooks, Symbolic reasoning among 3-D models and 2-D images, Art$ 17 1 A. Bundy, The Computer ModellinX of Mathematical Reasoning 18 1 T.H. Cormen, C. Leiserson and R. Rivest, Introduction (McGraw-Hill, New York, 1989). 19 1 J. de Kleer and B.C. Williams, eds., Qualitative Reasoning abour Physical Systems II (Special Volume) (Academic Press, New York, 1983). Intell. 17 ( I981 ) 285-348. to Alprithms A,?$ /n/e/l. 51 (1991). 1 IO 1 A. Erdelyi, Asymptotic Eqxtnsions (Dover, New York, 1956). 1 I I 1 G.H. Hardy, Orders of’hzfinify, Cambridge Tracts 12 (Cambridge University Press, Cambridge, 2nd ed., 1924). 1 I2 1 J. Kevorkian and J.D. Cole, Perturbcttion Methods in Applied Mathematics ( Springer-Verlag. New York, 1981). 1 I3 1 C.C. Lin and L.A. Segel, Mathematics (MacMillan, New York, 1974). Applied to Deterministic Problems in the Naturul Sciences 1 I41 M.L. Mavrovouniotis and G. Stephanopoulos, Formal order-of-magnitude reasoning in process engineering, Cornput. Chem. EnX. 12 ( 1988). 1 I S I C.C. Mei, The Applied Dynamics c$ Ocean Surjtice Waves (World Scientific, 1989). I I6 I J. Moran, An Introduction (Wiley, New York, 1984). I I7 I S. Murthy, Qualitative reasoning at multiple resolutions, in: Proceedings AAAI-XX, St. Paul, MN ( 1988). to Theoretical and Computational Aerodynamics 348 K.M.-K. Yip/Artificial Intelligence 80 (1996) 309-348 I I8 I W? Nayak, Order of magnitude reasoning using logarithms, in: Proceedings 7th International Workshop on Quulitutive Reasoning, San Juan Island, WA ( 1993). I I9 1 0. Raiman, Order of magnitude 1201 0. Raiman, Order of magnitude I21 I EP Sacks, Hierarchical I22 I R.E. Shostak, On the SUP-INF method for proving Presbutger I23 I R. Simmons, Commonsense I24 1 K. Stewartson, Multistructured reasoning, reasoning, Artg reasoning about inequalities, reasoning, arithmetic boundary in: Proceedings AAAI-86, Philadelphia, PA ( 1986). Intel!. 51 ( 1991) 11-38. in: Proceedings AAAI-87, Seattle, WA ( 1987). formulas, .I. ACM 24 ( 1977). in: Proceedings AAAI-86, Philadelphia. PA ( 1986). layers on flat plates and relations bodies, Adv. Appf. Mech. 14 (1974). 125 I J.L. Tennekes and H. Lumley. A First Course I26 I M. Van Dyke, Perturbation Methods I27 1 D.S. Weld, Exaggeration, ArfiJ I28 1 B.C. Williams and 0. Raiman, Caricatures: in Fluid Mechanics Intell. 43 ( 1990) 31 l-368. in Turbulence 6th International Workshop on Qualitative Reasoning ( 1992). I 29 I K.G. Wilson, Problems I30 I C. Yih, Fluid Mechanics 13 I I K. Yip, Computer aided heuristic and qualitative (West River Press, 1977). (MIT Press, Cambridge, MA, 1972). (The Parabolic Press, annotated edition, 1975). generating models of dominant behaviors, in: Proceedings Rice, eds., Arfi’cicd Amsterdam, 1992). Intelligence, Expert Systems, and Symbolic Computing reasoning in fluid mechanics, in: E.N. Houstis and J.R. (Elsevier Science Publishers, I 32 I K. Yip, Model simplifications I33 I E Zhao, Extracting Proceedings IJCAI-91, Sydney, Australia ( I99 1) . in fluid mechanics, in: Proceedings AAAI-93, Washington, DC ( 1993). and representing qualitative behaviors of complex systems in phase spaces, in: in physics with many scales of length, Sci. Americun 241 ( 1979). 