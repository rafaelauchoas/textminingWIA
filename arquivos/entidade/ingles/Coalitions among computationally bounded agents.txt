Artificial Intelligence 94 (1997) 99-137 Artificial Intelligence Coalitions among computationally bounded agents Tuomas W. Sandholmav*, Victor R. Lesser b,l a Department of Computer Science, Washington University, One Brookings Drive, Campus Box 1045, St. Louis, MO 63130-4899, USA h Department of Computer Science, University of Massachusetts, Amherst, MA 01003, USA Abstract solving to operate efficiently the agents can sometimes in the world. By colluding (coordinating save costs compared This paper analyzes coalitions among self-interested agents that need to solve combinatorial op- their actions by to operating timization problems solving a joint optimization problem) individually. A model of bounded rationality is adopted where computation is not worthwhile the problems optimally: off against computation tions among bounded-rational are significantly putation. This relationship rational and bounded-rational routing with real data from five dispatch centers. This problem are so large that-with complexity. @ 1997 Elsevier Science B.V. resources are costly. It traded theory of coali- is devised. The optimal coalition structure and its stability profiles and the cost of com- including in vehicle and the instances is bounded by computational theoretically. Then a domain classification results are presented cost. A normative, application- and protocol-independent affected by the agents’ algorithms’ performance solution quality is decision-theoretically is introduced. Experimental agent’s rationality is first analyzed is NP-complete technology-any current agents agents Keywords: Distributed AI; Multiagent systems; Coalition formation; Negotiation; Bounded rationality; Resource-bounded reasoning; Game theory 1. Introduction Automated negotiation systems with self-interested agents are becoming increasingly important. munication One reason this infrastructure-Internet, for is the technology WWW, NII, EDI, KQML push of a growing standardized com- [ 81, FIPA, Telescript * Corresponding author. Email: sandholm@cs.wustl.edu. ’ Email: lesser@cs.umass.edu. 0004-3702/97/$17.00 PII SOOO4-3702 (97)00030-l @ 1997 Elsevier Science B.V. All rights reserved. 100 lIW Sandholm, VR. .f.esser/Arti&ial Inteliigence 94 (1997) 99-137 [ 141, Java, etc.-over which separately designed agents belonging to different or- ganizations can interact in an open environment in real-time and safely carry out transactions. The second reason is strong application pull for computer support for negotiation at the operative decision making level. For example, we are witnessing the advent of small tr~saction commerce on the Internet for purchasing goods, in- formation, and communication bandwidth [ 21,3 11. There is also an industrial trend toward virtual enterprises: dynamic alliances of small, agile enterprises which together can take advantage of economies of scale when available (e.g., respond to more di- verse orders than individual agents can), but do not suffer from diseconomies of scale. Multiagent technology facilitates the automated formation of such dynamic coalitions at the operative decision making level. This automation can save labor time of human negotiators, but in addition, other savings are possible because computational agents can be more effective at finding beneficial short-term coalitions than humans are in strategically and combinatorially complex settings. This paper discusses coalition formation in inherently distributed combinatorial prob- resource and task allocation and multiagent planning and scheduling-in lems-e.g., situations where agents may have different goals, and each agent is trying to maximize its own good without concern for the global good. Such self-interest naturally prevails in negotiations among independent businesses or individu~s. In building computer support for coalition formation in such settings, the issue of self-interest has to be dealt with. In cooperative distributed problem solving [7,5], the system designer imposes an interaction protocol* and a strategy (a mapping from state history to action; a way to use the protocol) for each agent. The approach is usually descriptive: the main question is what social outcomes follow given the protocol and assuming that the agents use the the imposed strategies. On the other hand, in m~ltiugent systems [ 35,23,5,48,42,45], agents are provided with an interaction protocol, but each agent will choose its own strategy. A self-interested agent will choose the best strategy for itself, which cannot be explicitly imposed from outside. The protocols need to be designed normatively: the main question is what social outcomes follow given a protocol which guarantees that each agent’s desired local strategy is best for that agent-and thus the agent will use it. The normative approach is required in designing robust non-manipulable multiagent systems where the agents may be constructed by separate designers and/ or may represent different real world parties. Interactions of self-motivated agents have been widely studied in microeconomics- especially in game theory [29,11,24,34]. Most of that work assumes perfect rationality of the agents [ 50,181, e.g., flawless and costless deduction. We extend the normative approach of game theory to settings where the agents lack full rationality because they cannot enumerate or evaluate all alternative solutions to a 2 By protocol we do not mean a low the possible actions determines the sealed-bid $rst-price aucrion, where each bidder task, which mechanism in game theory is awarded [ 11,241. level ~ommunica~on protocoi, but a negotiation that agents can take at any point of the negotiation. An example protocol is free to submit one bid to take responsibility protocol which is for a is called a to the lowest price bidder at the price of his bid. The analog of a protocol TU? Sandholm, VR. Lesser/Artificial Intelligence 94 (1997) 99-137 101 coalition’s optimization incurs expenses search attempt to find optimal solutions traded off against problem. 3 Instead, in terms of CPU the cost of computation. they have to search for good solutions. Such to time. Therefore Instead, solution quality needs to be it is unreasonably costly to hard problems. 1.1. Example application: distributed vehicle routing The methods presented and there is an underlying because two characteristics dispatch centers, manufacturing these rationality self-interested, the agents’ Applications with independent agile enterprises, meeting scheduling, classroom multiagent information in multi-provider multi-consumer developed concrete, the paper. problem the problem in this paper are needed intractable include distributed planning scheduling of patient in settings where combinatorial cannot be solved optimally the agents are that limits in practice. routing among among multiple across hospitals, planning software projects, gathering on the World Wide Web, and allocating bandwidth to name just a few. The methods to make the concepts more throughout and scheduling treatments independent. However, computer networks, of multi-contractor and scheduling scheduling, vehicle the distributed vehicle routing problem will be used as an example in this paper are domain The distributed vehicle for certain deliveries and has a certain number of vehicles is structured that we study routing problem in terms of a dispersed dispatch centers of different companies. Each center to take care of its own vehicles and delivery routing a dispatch center-has is a heterogeneous fleet multi-depot number of geographically is responsible them. So teach agent-representing tasks. The problem with the following constraints. local problem of each agent 0 0 l Each vehicle has to begin and end its tour at the depot of its center the pickup nor the drop-off Each vehicle has a maximum Each vehicle has a maximum vehicles. load weight constraint. These differ among vehicles. load volume constraint. These also differ among locations of the orders need to be at the depot). (but neither l Each vehicle has the same maximum l Every delivery has to be included route length (prescribed by law). in the route of some vehicle. is to minimize The objective route lengths of the vehicles transportation in the solution the domain cost is the sum of the costs: that has been reached. The problem reduced is NP-hard, because dTSP can be trivially the cost and feasibility of a solution can easily be checked instances because Thus, the problem are so large that even the smallest ones are too hard to solve optimally-unlike in Fig. 1. is NP-complete. Moreover, the problem It is in NP, time. to it.4 in polynomial in our experiments the one 3 Others in game theory have examined the effects of computational agents play a combinatorially game, see e.,g. [ 321. 4 ATSP is :I Traveling Salesman Problem where trivial game, but complexity limits on rational play in settings where repetitions of that same stems from numerous the distances between cities satisfy the triangle inequality. TX Sandholm, VR. .kwer/Art@ciai intelligence Q4 (1997) 99-137 Fig. 1. Small example problem instance of distributed vehicfe routing. This instance has three dispatch centers represented in the figure by computer operators. They receive the delivery orders and route the vehicles. Each parcel is numbered according to the dispatch center that is responsible for delivering it. No routing solution is shown. it can often be less expensively to handle a delivery. The cost of handling The geographical operation areas of the centers overlap. This creates the potential multiple centers because ones while honoring be incorporated with lowest cost into the routing solution of the center have adjacent make cost savings for it may vary between agents than remote routes length constraints. So it can often to costs among agents for handling a delivery often tasks among agents. This allows considerable integrated the weight, volume and route routes. The asymmetric to reallocate delivery into adjacent that happens it beneficial the agents. among Distributed vehicle instances used in the experiments from five real dispatch centers. They represent one week delivery order and vehicle data. 5 The collected data is characterized aspects of automated in Table 1. Our prior work has already is a real world problem, and the problem of this paper were collected focused on different from coordinative routing s Company A owned the first three centers and company B owned the last two. Even though some of the dispatch centers were owned by the same company, in practice they acted self-interestedly because they had their own fiscal goals. The centers were located around Finland. T.W Sandholm, VR. Lesser/Ari@cial Intelligence 94 (1997) 99-137 103 Table 1 One week of real vehicle and delivery data used in the experiments Dispatch center Number of delivery orders Number of vehicles Average delivery length 1 2 3 4 5 All 65 200 82 124 300 771 10 13 21 18 15 77 121 km 169km 44km 145km 270 km 187km negotiation studied an almost non-normative example applications in this domain [ 38,41,45,39,40,27,46,43], identical problem, yet with randomly generated and lately other researchers have and with a instances routing problems have often been used as [ 35,60,53,58]. systems research approach [ 91. Also, simpler in recent multiagent 1.2. Coalition formation setting In many domains, self-interested to solve combinatorial people-need they can save costs by coordinating the planning activities are automated, ities as well. This can be done via a negotiating In such automated arise: what coalitions divided within each coalition? Coalition negotiations should companies real world parties-e.g., problems optimization or individual to operate efficiently. Often their activities with other parties. For example when activ- each party. the following questions it can be useful to automate software agent representing the coordination self-interested among agents, the agents form, are they stable, and how should costs be three activities: formation l Coalition structure generation: formation by the agents such that includes of coalitions agents within each coalition coordinate between coalitions. Precisely tive and disjoint coalitions. This partition example, choosing which dispatch centers will work together as coalitions. their activities, but agents do not coordinate into exhaus- the set of agents (CS) . For involves is called a coalition structure this means partitioning structure generation routing problem, in the vehicle coalition l Solving the optimization problem of each coalition. This means pooling the tasks this joint problem. For and resources of the agents example, a routing problem with the delivery orders and vehicles of all member agents. The coalition’s objec- tive is to maximize monetary value: money for accomplishing the cost of using resources. 6 routing problem in the coalition, from outside tasks minus and solving the vehicle this means the system received solving in ’ In some problems, not all tasks have to be handled. This can be incorporated solving also the selection of tasks involves each omitted paper applies from outside task. Then problem to such cases but in our example application, the system are received for them. a cost with to handle. The theory of this all tasks have to be handled, and no payments by associating 104 T.W Sandholm. VR. Lesser/Artificial Intelligence 94 (1997) 99-137 * dividing the value of the generated among agents. This value may be solution incur costs for using their resources. negative because agents These activities on the portion of the value that the agent would be allocated interact. For example, that an agent wants to join depends in each potential coalition. the coalition This paper addresses these coalition formation activities with a special emphasis on problem cannot be solved exactly due to computations settings where the opti~~tion limitations. The paper is organized as follows. Section 2 describes our model of bounded rationality where computation cost precludes enumerating a coalition’s optimization Section 4 analyzes vehicle solving capabilities Section 8 concludes to structure, and in the distributed and agents with different problem research, and related in Section 6. Section 7 presents future research directions. problem. Section 3 studies the optimal coalition routing domain with real data. Externalities its stability. Section 5 presents experimental are discussed and describes and evaluating all solutions results 2. Computation unit cost and algorithm as limits to rationality Coalition formation has been widely studied edge, only among exactly, i~ediately, model differs because rarioaal agen& which can solve the coalition’s optimization [ 20,57,33,54,53,60,22], but to our knowl- problem cost. This section describes how our and without computation it takes into account the cost of computation. Let us call the entire set of agents A. Say that the lowest cost achievable by agents S C together, but without any other agents, is c!. For example, in a task allocation this is the ~nimum A working setting agents S. A coalition game in characteristic? function defined by a characteristic game (CFG, Fig. 3)-is of each coalition S: cost to handle the tasks of agents S with the resources of form-i.e., function & which defines the value a c~aracteristicfirnction “R” emphasizes The superscript the maximum value that is reachable by the coalition given its optimization rational agent can solve costs such as CPU time costs or time delay costs. this combinatorial that we mean the rational value of the coalition, problem optimally without any deliberation i.e., problem. A However, if the problem is hard and the instance is large, it is unrealistic to assume that it can be solved without deliberation of bounded resources cost ccomp 2 0 per CPU time unit is assumed. 7 The domain cost associated with coalition S is denoted resources by Q(Q) [ 55,151, where each agent has to pay for the computational that it uses for deliberation. A fixed computation costs. This paper adopts a specific modeE 3 0, i.e., it depends on (decreases with) rationality (CPU cycles} the allocated computation 7 In practice, CPU time can already be bought, e.g., on supercomputers. Similarly, the developing infrastruc- ture for remotely executing agents provides an equivalent setting. For example in Telescript [ 141, the remotely executing agents pay Teieclicks for CPU time to the owner of the host machine. In this paper, the market for CPU time is assumed to be so large that the demand of the agents that we are studying has negligible impact on the price of a CPU time unit. It is also assumed that this price is common to all agents, which corresponds to an open CPU cycle market. TW. Sandholm, VR. L.esser/Art@cial Intelligence 94 (1997) 99-137 105 .__--- - _ _ _ _ ----__--_ i 7S=t1’z’31 S-(1,2) S={2,3) S=( 1,2,3) S=[ 1,2) S={2,3) S=(2) S={1,3) S={l) + cs(rd ____--.-- -I---__----- t-t f= from experiment the vehicle i.e., solution cost as a function of allocated computation Fig. 2. Example profiles, algorithm has reached a local optimum. Right: bounded-rational unit cost. The value of each coalition computanon initial solutions are used (their computation umt cost ccomp that is so high that it is not worthwhile is negative because requirements . resources. The curves become coalition value as a function of computation flat when the the cost is positive. The curves become to take any iterative refinement flat at a steps: the are assumed negligible). routing domain with agents 1, 2, and 3. Left: performance in the vehicle routing problem, 2 (left). For example the domain cost is the rs, Fig. sum of thee lengths of the routes of the coalition’s vehicles. 8 The functions CS( rs) can be viewed; as pelformunce profiks of the problem solving algorithm. They are used to decide how much CPU time to allocate rationality, coalition minimizes computation is allocated) to each computation. With this model of bounded agents can be defined. Each the sum of solution cost (i.e., domain cost, which decreases as more the value of a coalition with bounded-rational increases as more computation is allocated) : 9 and computation cost (which US(C(:~~~) = -n$dcs(rs) + ccomp. rsl. or they have as the unit cost of computation This coalition value decreases as the CPU time unit cost c,,,~ Intuitively, the computation to use accordingly. Our model also incorporates algorithm may be incomplete, algorithm the rational value determined by three factors: increases, less computation In all, the bounded-rational the bounded-rational a second form of bounded i.e., it might never find the optimal solution. and acquire worse solutions the base rationality: If the base value of a coalition when ccomp = 0 equals is value of a coalition increases, Fig. 2 (right). to pay more for (us(O) = u!). agents need is complete, 8 In games where incorporated g Throughout strictly speaking Thus, to be precise, receive the agents into cs(rs) by subtracting this chapter on coalition from outside-e.g., revenue the coalition members’ formation, min-operators for handling tasks-this revenue can be revenues from the coalition’s domain cost. although the value of such a min-operator may be undefined because cs( rs) need not be continuous. are used due to their familiarity, infoperators should be used. 106 TU! Sandholm, KR. Lesser/Artificial Intelligence 94 (1997) 99-137 l The domain problem: tasks and resources of the agents rational routing problem). Among in our vehicle (e.g. trucks and delivery this is the only agents orders determining factor. l The execution architecture on which the problem solving algorithm is run. Specif- ically, the architecture determines the unit cost of computation, ccomp. l The problem soEving algorithm. Once the coalition formation game begins, fixed. This model profiles are considered resources. We make no assumptions that agents design different algorithms gorithm’s performance possibility of computation rithm uses the execution architecture. This is realistic because hard to construct algorithms sell and Subramanian in simple settings, but in more complex settings criterion of optimality for different possible allocations the algo- it is often that optimally use the architecture. For example, Rus- for the architecture that are optimal they had to resort to an asymptotic as to how effectively in practice have devised algorithms incorporates [ 361. the al- the 2.1. Discussion of this model of bounded rationality to a computation, theory of self-interested time rs it will allocate is used instead of the anytime framework that will find a solution of cost cs( rs). The design-to-time to use design-to-time algorithms [ 12,59,13] : once it Conceptually we allow the agents an agent has decided how much CPU can design an algorithm framework normative to time has to be accounted CPU time allocation or solution quality, a noninterruptible be constructed worst case, the design-to-time algorithm. However, a specific CPU time allocation or solution quality, and in such cases the design-to-time algorithm will outperform because that they design their algorithms performance profiles, for any desired algorithm can In the the anytime tailored for algorithm may actually consist of executing there are cases where the algorithm can be beneficially that performs no worse than an interruptible the anytime algorithm. for. With deterministic agents, the possibility anytime algorithm. design-to-time [44,4,17,59] to devise a We assume that the performance profiles exactly predict for any given CPU level algorithm deliberation controller that not assume level computation tion rely on assumptions meta-level ing optimality there ondly, the performance is uncertainty time allocation. So, we have relaxed is optimal (complete and costless), (meta-level the deliberation reasoner) controller actions since even that often do not hold composes the optimal the most advanced methods cost attained the solution that the base the assumption the that but instead we assume is exact and costless. However, we do of base sequence for such composi- that the than assum- In practice is not exact. lo Sec- instance, features of the problem [37]. Assuming the meta-level in practice exactly and costlessly predicts the solution cost is more realistic of the base level, but it still does not match reality exactly. in each performance profile: profile depends on several profiles are only probabilistically lo If the performance their flexibility with respect of a probabilistic performance instance on previous CPU time steps [44,59,16]. to termination time. In general, profile should be conditioned on the algorithm’s performance known, anytime algorithms may be desirable due to the remaining part on that problem for optimal meta-reasoning, TU? Sandholm, KR. Lesser/Artijcial Intelligence 94 (1997) 99-137 107 from time, the mapping and computing take considerable thus making rithm would be run at the meta-level time setting. Our assumptions at the base rationality They also allow us to sidestep the meta-level, infinitum. a meta-meta-meta-level level the instance to the performance the meta-level costly. In the limit, to determine what it would achieve profile [44] may the base algo- for a given enable us to analyze bounded profiles. controlling and so on ad of the performance the problem of having a meta-meta-level controlling the meta-meta-level, regarding in isolation the meta-level from uncertainty problems is relaxed For now-this in Section 6-we that the agents solve the combi- natorial optimization and for any setting of CPU time, the cost of the solution potentially generated by each agent is the same. The agents need not generate With such shared deterministic of each potential the same solutions, only the same quality. performance equally well. For any coalition’s problem coalition S up front. Therefore coalition profiles, each agent knows formation assume us(c,,,r) off taking place before any computation. This guarantees on coalitions that will not prevail. the value is best is wasted that no computation rationality is trivially in our model, (due to redundancy, After collusion, each coalition computes true since an agent could simulate distributed problem its solution using the optimal amount of CPU time rs as defined by Eq. (2). Because is bounded by CPU time cost, it costs the same for one agent to use nt CPU time units as it costs n agents to is solved by a single use t units. Therefore, it is best if a coalition’s optimization problem solving agent. This among n agents for time t by using a local algorithm it is not always for time t to reach a possible solution of the same quality as one agent using nt can reach. The computing agent can the coalition, and the coalition pays that agent its true be arbitrarily from within was cost for computing. This cost along with the domain in the coalition defined as will be presented rationality best to centralize across coalitions. computation within each coalition but computation may be distributed I1 the agents later. To summarize, with our model of bounded solution cost contribute-as etc.) for n agents solving for nt. Conversely, is divided among in Eq. (2)-to the problem us(c,,,r), chosen which it is 3. Social .welfare maximizing coalition structure. Outcomes of a game can be analyzed with respect to social welfare, which is defined that agent i gets is denoted by xi E R. in as the sum of the agents’ payoffs. The payoff The sum of the agents’ payoffs has to equal the sum of the values of the coalitions the coalition that formed. structure there unaffected by the real-time is no cost to real-time. This corresponds ” In our model, is (practically) This can occur either because real-time. To model settings where into the model of bounded computation within each coalition because distributed computing may reduce to reality that is used when consuming rationality. Under such a model, the amount of real-time is short, or because these conditions are not met, the cost of realtime should be incorporated it might no longer be optimal to centralize the the amount of real-time used. the domain cost in settings where the optimal amount of CPU time. to the domain cost is insensitive 108 ZW Sandholm, VR. Lesser/Artificial Intelligence 94 (1997) 99-137 A game one coalition: is called su~eradd~tive if any pair of coaIitions is best off by merging into Definition 1. A game S,T G A.‘* is superadditive if v FuUT 3 (I! + v$ for all disjoint coalitions cost is ignored, superadditivity When computation the agents coalition in the composite itself involves some cost, e.g., anti-test worst, they were in separate coalitions. A game can be non-superadditive process is important because superadditive the grand coalition where all agents operate {A) coalition games are ~uba~~t~ve, Fig. 3: superadditive it implies optimality of a specific coalition games are grand coalition games, is a social welfare maximizing together. structure can use the solutions almost always holds, because at that they had when only if the collusion penalties. The concept of superadditivity structure. Precisely, all i.e., the agents are best off by forming in such games, In other words, for rational agents. Some non- Definition 2. A game S,T S A. is subadditive if &- < z$ + u; for all disjoint coalitions structure is a social welfare maximizing In subadditive games, the agents are best off by operating alone, i.e., {(al}, {a~}, . . . , agents. Some coalition fulfills and the condition of subadditivity {alAl}} games are neither superadditive nor subadditive because the condition of superadditivity for others. In other words, some coalitions are best off merging while others are not. In structure varies. The grand coalition such cases, the social welfare maximizing may be in games which are not superadditive. structure Similarly, s~badditive. alone may be optimal even in games which are not every agent operating coalition even for some coalitions the characteristic the optimal for rational coalition function With bounded-rational agents, the coalition values incorporate the computation agents. A game earlier. Now we generalize as described bounded-rational if any pair of coalitions with bounded-rational In other words, a game coalition. reach given given the computation reach as a composite the computation cost plus the concept of superadditivity is called bounded-rational superadditive agents is best off by merging is BRSWP if the best value that one coalition the best value that another coalition cost is never greater than the best value that these coalitions coalition given the computation cost: costs to allow for (BRSUP) into one can can reach can Definition 3. A game is bounded-rational cost ccomp if USUT ( ccomp 1 2 0 (ccomp > + UT( ccomp) superadditive (BRSUP) for computation unit for all disjoint coalitions S, T C A. l3 I2 ~~~~tions 1,2 and 10 are from game theory. I3 The classic definition of rational superadditivity (Definition 1) is a special case of hounded-ration superadditivity (Definition 3) where the agents have complete algorithms (ones that find the optimal solution given enough computation time) and computation is costless (ccomp = 0). TN? Sandholm, VR. L.esser/Artijcial Intelligence 94 (1997) 99-137 109 Normal form game WFG) Characteristic function game (CFG) \ / / Fig. 3. Venn diagram of negotiation domains for rational agents. Normal lines show the classification from game theory. Dotted lines show the domain classification of Rosenschein and Zlotkin [ 351. They use “Subadditive” to mean that an agent’s cost for handling tasks is subadditive in tasks. We use subadditive to refer to coalition value functions that are subadditive in agents. The figure does not reflect the fact that Rosenschein and Zlotkin do not allow side payments. Every ElRSUP game agents are best off by all working in such games, bounded-rational coalition. structure games which are not BRSUP: although not all local poolings are beneficial. In other words, for bounded-rational is a bounded-rational grand coalition game. In such games, the grand together, coalition grand coalition agents. There also exist bounded-rational the grand coalition may be the optimal coalition structure i.e., by forming is a social welfare maximizing {A} Bounded-rational superadditivity for a given computation general, or neither. In does not always coincide with superadditivity. unit cost, a game can be superadditive, BRSUP, both, Only some non-BRSUP games are bounded-rational subadditive: Definition 4. A game is bounded-rational subadditive (BRSUB) cost Ccomp if QUZ-(~~~~~) < u~(c,,~~ ) + UT(C,~~~) for all disjoint coalitions S, T G A. for computation unit In BRSUB games, the agents are best off by operating alone, coalition structure is a social welfare maximizing {alAl}} This coalition that are neither BRSUP nor BRSUB, coalition structure may be optimal even in games the optimal coalition structures may be equally good with respect to social welfare. i.e., {{al}, for bounded-rational that are not BRSUB. {az}, . . . , agents. In games structure varies, and several 110 ‘I U? Sandholrn, VR. Lesser/Artificial Intelligence 94 (I 997) 99-137 Bounded-rational characteristic fmctian game (BRCFG) Bounded-m&mat superadditive (BRSUP) 45 x Bounded-rational stable (BRC # 0) Fig. 4. Venn diagram of negotiation domains for bounded-rational agents. A particular game can lie in any region of this space, and it can simultaneously lie in any region of Fig. 3. Therefore, the domain classifications for bounded-rational and rational agents can be merged by observing that each region of one classification intersects with each region of the other classification. By “region” we mean any area enclosed by lines, not just the named classes. To enhance readability, the two classitkations are presented in separate figures. coalitions are known, values of potential can be computed according structure determined. However, some general process unnecessary. The rest of this section analyzes If the algorithm’s performance profiles and the unit cost of computation the to Eq. (2). structures can be evaluated, and an optimal results hold which may make the relationship profiles and the class of the game. Specifically, is: what types of performance profiles make a game BRSUF’ {or BRSUB) profiles, unit costs? If the agents have these types of performance irrespective of the unit cost of computation. bounded-rational Based on these values, all different coalition coalition this enumeration between the question for all computation they know This is important the unit cost of computation for example when agents are sent to execute on a remote host where the shape of the performance the optimal coalition is unknown. structure superaddi~vity Bounds-rayons cost of computation. profiles. Proofs of the theorems are presented If the condition holds, The next theorem the game is BRSUP in Appendix A. depends on the p~rfo~ance states a natural condition profiles and the unit on the performance for any computation unit cost. (BRSUP for Theorem 5. all disjoint coalitions S, T C A and all computation allocations rsI rT 2 0, then the game is Bk?SUP for all computation unit costs. ) If csUT( rs + rT) < cs( Q) + Q(Q) condition} (sufficient TN? Sandholm, YR. L.esser/Arti$cial Intelligence 94 (1997) 99-137 111 The condition states that the domain cost for coalition S after allocating after allocating rT of computation is never less than the domain cost of these coalitions plus the domain cost to another coalition T after allocating amount rs of computation certain amount combined in the rs + rr. This is always achievable worst case, the algorithm can allocate rs on the problem of S and then allocate rT on the problem the problem of T separately. is trivially by solving each agent’s problem guaranteed by bounded-rational does not allow the .agents to benefit if the algorithm decomposes separately, bounded-rational this trivial decomposition additivity. However, in theory because from cooperation. In other words, superadditivity a certain a Some other problem decomposition-i.e., lems to allocate computation peradditivity while allowing :It may be difficult coalition, the algorithm Often, decision on and how much-may some benefits to find an efficient decomposition. regarding which coalitions’ prob- su- from cooperation. However, given a large guarantee bounded-rational The real desideratum that is used on the composite problem does not apply this type algo- thus the superiority of the the highest structure, which need not be the grand coalition). is not necessarily but algorithms superadditivity that provide to generate structures), (and that guarantee bounded-rational of problem decomposition. rithms grand coalition over other coalition social wel-fare (for the best coalition Sometimes files actual!ly satisfy decomposition method depends on the problem, the algorithm the conditions itself. these two goals are in conflict. Whether for bounded-rational the algorithm’s performance pro- superadditivity without using a instances under study, and the specific In gene:ral, a game can be bounded-rational superadditive for all computation unit costs even if the condition of Theorem 5 does not hold on the performance profiles: Theorem 16. [ cSUT( rs + rT) 6 cs( rs) + cT( rT) for all disjoint coaktions S, T C A and all compu,iation allocations rs, rT > 0] p’: Game is BRSUP for all computation unit costs. to assume profile es(r) It is reasonable is decreasing in r if that the performance store the best solution in r: greater savings are achieved algorithms the base algorithm profiles of anytime profiles of design-to-time it has arrived at so far. Furthermore, the agent can inexpensively cs (r) in the early stages of computa- is often convex tion and the savings per time unit decrease as problem solving proceeds. We conjecture that performance the other hand, performance at points where ple is completing algorithm finement operator (e.g., 3-swap wise, noncontinuous manner in our experiments nonconvexities The performance profiles had true local nonconvexities are almost always convex. On are typically not convex to another. One exam- an exhaustive complete from using one re- to using another refinement operator refinements often decrease solution cost in a step- these step-related runs. exhibited an overall convex nature, but also algorithms from one mode algorithm by running the performance If the algorithm profile is stochastic, is averaged over multiple (e.g., 2-swap in TSP). Furthermore, after the refinement phase. Another example in our experiments (because are reduced as the performance algorithms were constructed locally nonconvex-as the design-to-time (Fig. 2 (left)). is switching an iterative refinement rendering [ 26,411) switches in TSP profiles 112 ZW. Sandholm, VR. Lesser/Arti$cial Intelligence 94 (1997) 99-137 from anytime ~gorithms, tion 5). Convexity BRSUP performance for all computation profiles holds: and were not tailored is significant because with convex performance profiles, a domain for each time setting separately, Sec- is unit costs if and only if the condition of Theorem 5 on the (BRSUP (necessary be decreasing Theorem 7. and convex in r for every coalition U S A. Now, [csu~(rs + rT) < es( rs) + C&-T) far all disjoint coalitions S, T 2 A and all computation allocations rs, rr 3 0] ($ Game is BRSUP for all computation unit costs. and suf~~ie~t condi~on)) Let c&r) Analogous to Theorem 5, there is an easy sufficient condition profiles that guarantees unit costs: that the game is bounded-rational subadditive on the performance for all computation (BRSUB rs + r-r) > cs( rs) + CT{ rT) fur Theorem 8. all disjoint coalitions S, T C A and all camputati~n allocations rs, rr 2 0, then the game is BRSUB for all computation unit casts. (sufficient condition) ) If c~r( This implies execution platform. that the agents would be best off by operating separately regardless of the Again, a game can be bounded-rational unit costs of Theorem 8 does not hold on the performance profiles. Unlike into an for all computation the implication does not turn superadditivity, subadditive even if the condition in the case of bounded-rational equivalence even for convex performance profiles: [ c$.)T( rS + r--r) > cs( r-s) 4- cT(rr) Theorem 9. for aR disjoint coalitions S, T 5. A and all computation allocations rs,rr 3 0] 6 Game is BRSUB for all computation unit costs. This holds even if all per$armance profiles are decreasing and convex. 4. Stability of the coalition structure In the previous section we presented methods for determining the social welfare the sta~~~~~ of that st~cture. so that every subgroup of agents than by separating coalition structure agents and the group of all agents are also considered this requirement is the solution concept that satisfies is structure. (individual In this section we analyze the social good be distributed in the social welfare maximizing coalition m~imizing can Specifically, better off staying into a new coalition subgroups here) ? The cure (C) [ 20,57,33]. The core of a game is a set of p~o~can~~~rat~~ns is a vector of payoffs depart from the coalition subgroup under CS. Obviously, the sense of the core because from any other coalition would prefer to a social welfare maximizing defined as follows: in such a manner structure CS. Given payoffs according is no greater than the sum of the payoffs only coalition to the agents to switch structures is motivated that no subgroup (x, CS), where each n to to Y, the value of each that the agents of that subgroup get in the group of all agents one. The core can be formaily structure, that maximize welfare can be stable TW Sandholm, KR. Lesser/Artificial Intelligence 94 (1997) 99-137 113 solution concepts The core too strong: it is empty in many cases is the strongest of the classical It is often is no way to divide payoff configuration that is acquired by the deviation an infinite explicit mechanisms norms need to be in place in the negotiation formation. there structure becomes stable: any the social good so that the coalition is prone to deviation by some subgroup of agents. The new solution to deviation and so on. There will be to another. To avoid this, rounds, contract costs, or some social sequence of steps from one payoff configuration such as limits on negotiation In such games is again prone [20,57,33,60]. in coalition setting. Another problem have to agree on one of them. An often used solution corresponds intuitively payoff vectors constraints is due to the combinatorial is that the core may include multiple payoff vectors and the agents is to pick the nucleolus which, that is in the center of the set of is that the the core increases. This [20,57,33]. A further problem with in the definition become numerous as the number of agents to a payoff vector subset operator in the core speaking, Now we generalize in the definition. the core to allow for bounded-rational agents. The classic defini- are the agents’ algorithms (Definition tion complete, and computation 10) corresponds unit cost is zero. to the special case where Definition 11. The bounded-rational core (BRC) for computation unit cost ccomp is BRC(c,,,,) = {(x, CS) 1 V’s c A xxi iES b ~s(~corn~) and c xi = c us, (cCO,p) } . iEA jECS in a way that no subgroup If the B’RC is not empty, bounded-rational the social good among themselves to break away from CS. Sometimes the BRC is empty, but this does not always coincide with the core being empty. There are games where the BRC and the core exist, games where either one of them exists separately, and games where both are empty. agents can divide is motivated If the agents are best off working separately, the coalition structure with separate agents is stable: Theorem 12. (BRC in BRSUB games) Game is BRSUB for computation unit cost ccomp =+ B’RC(cc,,) # 8. and sufficient the grand coalition maximizes that are not BRSUB, into necessary the BRC is sometimes empty. The condition C # 0 In domains in games can be converted the condition where on the US( ccomp) values analogously. Let B1, . . . , B, BRC( ccOITIp) # 8 into conditions be distinct, nonempty, proper subsets of A. The set B = {Bt , . . . , BP} is called balanced if there are positive coefficients At,. . . , A, such that Vi E A, xljliEB, l Aj = 1. A minimal balanced set includes no other balanced [ 52,6]. We convert on the v! values social welfare conditions sets. Table 2 Conditions shows presented pe~u~tion) for existence of the BRC in a 4-agent bounded-rational the last column the number of constraints generated from the constraint by permuting the agents (including the grand coalition game; Id Constraint ~!{i.z}(Ccamp) + u{3,4} (Ccomp) 6 u{1,2,3,4} (Ccomp) D{l,2,3} (hmpf f U{4) (cc~mp) < uj1.2.3.4) ihmp) “{1.2) (Ccomp 1 + U{3}(Ccnmp) + ~{4}(Ccomp) < U{1,2,3,4} (Gomp) iu{I,*,3) (Ccomp) + $u{1,2,4) (C camp) + iL’{3,4} (Ccomp) < u{1,2.3,4} (Ccomp) ~{t)(Ccomp) + u{Z}(Ccomp) + ~{3)(Ccomp) + ~{4}fCcompI 6 a( 1,2,3,4} (Ccomp) -$J{,.2) (Gcmlp) + fU(1,3] tGxnpf + 4U{2,3) fhllp) + ~f(4ffGomp~ < ~~{1,2,3.4) tee”,,) &1,&j) (c=Omp) +- ~~(L,4)bb”~) + ${2,4)hOmp) + +(3)bhm,7) < u{1,2,3.4} (%,m,) $‘{,,2.3) tccomp) + f~{,/,+Omp) + ~~{2,4)ho”I,d + &(X,4) (b”p) < u{l,2,3,4} (Ccomp) % 3 4 6 6 I 4 12 4 l (BRC Theorem 13. cient condition}-analogous rn~~rn~zing ~oa~it~o~ ~t~ct~~e ( ccomp ) =# 0 iffor Ccomp, BRC in bounded-rational to Shapley grand coalition games [52] ) in games where (A) and suffi- is il- social welfare for bounded-r~tio~~~ agents for ~orn~ut~tio~ unit cost every minimal hlanced set L3 = { B1 , . . . , B,}, (necessary ,j=t Example 14. In any 3-agent game where {A} is a social welfare maximizing structure iff agents for computation for bounded-rational unit cost ccomp, BRC(c,,,) coalition + 8 u{ 1) ( Gomp > + u(2,3}(ccomp) f ~{1,2,3)(hxnp)r ~{Z}(‘%om~) + ~(1,3)(Ccomp) < ~{1,2,3}hhnp). U{3>(fc*mpS + u~l,2~(C=~rn~~ < u{l,2,3}(C~~m~~, U{ 1) (Ccomp ) + U{2}(Ccomp) + ~{3)(%xnp) 6 ~{1,2,3}(~comp)~ ~U{1,2)(CcompI + ~~{1,3)(%xnp) + $U(2,3}(Ccomp) G u{1,2,3) and ( Ccomp All but the last in~uality coalition structure. are impIi~ by the fact that (A) is a social welfare rn~i~zi~g Example 15. In any 4-agent game where {A} structure iff the 41 inequalities of Table 2 hold. constants for bounds-rational agents for computation is a social welfare maximizing coalition unit cost c,,,~, BRC ( ccOmp) # 8 1, 2, 3 and 5 correspond to partitions ZW Sandholm, VR. L.esser/Art$cial Intelligence 94 (1997) 99-137 115 of A (every A equals 1). They are thus implied by the fact that {A} maximizing structure. coalition is a social welfare In BRSUP games, a subset of the above inequalities suffices. Let us call a minimal balanced set proper if no two of its elements are disjoint. (BRC in BRSUP games (necessary and sufficient condition) Theorem 16. to Shapley # 0 iff for every proper minimal balanced set t3 = {Bl , . . . , Bp}, [ 521) In a game that is BRSUPfor computation unit cost ccomp, BRC( ccO,) -analogous P c A.juBj,(Ccomp) < uA(Ccomp). j=l Furthermore, to [61). this set of inequalities is minimal: no smaller set is suficient (analogous Example 17. In a 3-agent game BRC(ccomp) + 0 iff that is BRSUP for computation unit cost ccomp, ~us{,2) (ccomp) + ;us{,,9) (ccomp) + ~us{*.s) (ccomp) 6 us{,.2.3) (ccomp). In a 4-agent game Example 18. BRC( cconlp) # 8 iff the 11 conditions are satisfied. that is BRSUP acquired for computation unit cost ccomp, from Table 2’s constraints 4, 8, and 9 Next we present conditions on the performance profiles that are s@icient the BRC exists. According to Theorem 12, the conditions to guarantee on the performance that profiles of conditions. maximizing that guarantee bounded-rational The following structure coalition subadditivity (Theorem 8) form one such set is a social welfare set suffices for bounded-rational for games where {A} agents: Theorem 19. (BRC In games where {A} rational agents for computation in bounded-rational is a social welfare maximizing grand coalition games (sufficient coalition structure condition) ) for bounded- unit cost ccomp, uor every minimal balanced set f3 = 19p}, WB E a,v’rB b 0) cy=, AjcBj(rBj) 2 CA(~& hjrB,)l * BRC(hmp) {Bl,..., + 0. In games where {A} is a social welfare maximizing coalition structure for bounded- rational agents for ull ccomp (2 0), the above conditions for all ccomp (2 0). This would mean stability of the grand coalition existence of the for guarantee BRC(cc,,,p) any execution platform. In BRSUP games, fewer conditions suffice: Theorem 20. for some 17,,,~ , > 0, lfor every proper minimal balanced set B = {Bl , . . . , BP}, (BRC in BRSUP games (sufficient condition) ) In a game that is BRSUP (VB E a,vrB b ‘3) c$ AjcB,(rBj) > CA(~;=I AjrBj)l * BRC(ccomp) # 8. 116 ZW Sandholm, VR. L.xsser/Artijcial Intelligence 94 (1997) 99-137 Again, if the game is BRSUP for all ccomp (2 existence of the BRC( ccOmp> for all grand coalition for any execution platform. ccomp (2 0). 0), the above conditions guarantee This would mean stability of the Example 21. In a 3-agent game that is BRSUP Vccomp, [ (‘v’r{l,2) > 0, b’r-{1,3) 2 o&-(2,3} 2 0)~ ${1,2)k{1,2)) + +{1,3}(~{1,3)) + ${2,3}k(2,3)) 2 C{,,2,3)($(1,2) + 5-{1,3} + $-{2,3))1 =+ ‘k,,,BRC(c,,,) # 8. 5. Experimental results Although one can construct problems, problem instances, and algorithm performance to populate any region of the Venn diagrams of coalition games (Figs. 3 and 4), this space. The role of the its real world problem, fall in the space of coalition that real world cases uniformly populate is to analyze where a particular profiles this does not mean experiments instances, games. Some quite surprising results appeared. of this section and a sensible refinement algorithm iterative Coalition formation among bounded-rational (while handling all of its orders) agents was tested on the vehicle routing problem using the large-scale real world vehicle and delivery order data described earlier. The domain cost cs ( rs) for a coalition S was the sum of the route lengths of the vehicles that had been reached of that coalition is defined by the tasks after computation (delivery in the coalition. orders) The problem instances hard to solve optimally. Therefore, [28] are unusable routing problems in our example are so large that even the smallest ones are too for vehicle in the solution the rational value ( L$) of each coalition rs. and the resources rational coalition in this case. (vehicles, depots) of the agents algorithms formation So, list) is removed the delivery is based on iterative the least cost without violating refinement. At each step, a delivery first generates in order, giving each vehicle To analyze a game, we ran the same algorithm on the vehicle routing problem of each subgroup of agents separately and thus acquired a performance profile for each potential an initial solution by giving each vehicle one coalition. The algorithm long delivery that can be added and then, the constraints. The second phase of to its route with the algorithm from a from the routing solution and inserted back randomly ordered circular to the solution, but into The drop-off the same vehicle’s the solution: a local optimum was algorithm until no remove-insert reached. In the performance profiles we ignored the initial solution, and only viewed how the solution cost decreased with more CPU seconds of iterative is an anytime algorithm, but because refinement, Fig. 2 (left). The refinement for experimental the performance profiles are exact (as explained, purposes by running execution on that instance time algorithm into into the same leg. We ran the refinement the agents do not gain information is equivalent location of the delivery has to be inserted after the pickup the least expensive place while not violating from to a design-to- the constraints. location route, but not necessarily they are precomputed the time to construct operation enhanced the base algorithm for our purposes. so far. Therefore the algorithm algorithm (chosen itself), TU! Sandholm. VR. L.esser/Art@ial Intelligence 94 (1997) 99-137 117 We analyzed all of the (z) = 10 3-agent games that can be acquired by choosing 3 of the 5 dispatch centers. There are 7 subgroups of the 3 agents: {l}, {2}, {3}, and 5 coalition structures: {{l}, {2}, {3}}, {{l}, {2,3}}, {1,2}, {2,3}, {{2},{1,3}}, profiles with {{1,2,3}}. agents 1, 2 and 3. (3, l}, {1,2,3} {{3},{1,2}}, the performance Fig. 2 shows only (point LH), is superadditive Each of our games of separate coalitions. if the collusion process for rational agents because at worst, a compos- In general, a game can be ite coaliti,on can use the solutions itself involves some cost, e.g., anti-trust non-superadditive the grand coalition. Surpris- penalties. Thus rational agents would be best off by forming ingly, none of the games were BRSUF’ for any ccomP, Fig. 5. For ccomp in the mid-range, the 3-agent games were often BRSUB ranges mixed games, for low ccomP, the grand coalition was the best coalition Lg). Existence of the core for rational agents LH, and Lg might all 3-agent games for all values of c,,,r. To summarize, agents would be best off forming rational agents should low values of ccomp), which are always stable. We also reran the maximum (point M in Fig. 4)) while in the low and high In some of these (point the points M, in in our 3-agent games, rational the possibly unstable grand coalition, while bounded- for some the experiments without is unknown really be M’, LH’, and Lg’ in Fig. 3. The BRC was non-empty they were often neither BRSUP nor BRSUB. and these results prevailed, Fig. 5. route length restriction, form varying coalition (the grand coalition for our games: structures structure items. joined savings adjacent colluding combined Intuitively, items and heavy than S’s-hindering load weight or maximum to a load without violating Centers 2, 3 and 5 were the route length restriction, 2 and 5 were located near each other, while 1 and 4 were far from low volume centers have from cooperation. Secondly, heavy and light items can often be the maximum each other and the other centers. Centers 1, 3, 4 and 5 transported heavy items, while 2 transported light voluminous more potential beneficially load volume constraint. Both with and without for any c,,,r. Their deliveries have considerable best off by only mutually low volume area1 overlap due to adjacency, and the light voluminous items can be profitably into the weight and volume constrained vehicles. Centers 2 and 3 did not collude as much as 2 and 5 because 3’s vehicles had tighter volume the transport of 2’s goods. No other two centers besides constraints of the third agent of 2 and 5 were always best off in a 2-agent coalition independent the game. Relaxing the distant 2 and 4 while demoting Next we analyzed the (3 = 5 4-agent games and the 5-agent game with and without the route varied many times as a function of ccomp but it existed for the largest values of ccomP. No game was range, BRSUP Fig. 5. The grand coalition was the best coalition in only one of the twelve games with four and five agents. This happened for low ccomp in the game with agents 1, 2, 3, and 4, and the route length restriction. When this occurred, BRC ( ccomp) happened (point Lg in Fig. 4). In all of the three, four, and five agent games, to be non-empty BRC(ccon,r) was always nonempty when structure was the grand the best coalition coalition. To summarize, depending on ccomp. the games were at the points M, LH, Lg, the fact or 45 (or M’, LH’, Lg’, or 45’). The best coalition for any ccomp, but some games were BRSUB collusion of the adjacent 2 and 3. increased collusion between the existence of BRC(c,,,) structure varied despite length constraint In every game, in the medium for values restriction. the route structure length 118 T.W Sandholm, VR. Lesser/Art@cial Intelligence 94 (1997) 99-137 J-agent games with route length restriction (BFWJB = Bounded rational subadditive) l11,Wl (25lA31 (251.(41 l”““t~~~~~~P;t= ~Ut.G$Pll~b J-agent games without route length restriction ,WP-~~ l(WWlb ,P5t.VtE I ;$I;,$ ) I ,;.., (11131 l511u5)~~311u1~31&51,~31 n,.; l11,~41,~1 ~151,(41 Utd4t,W tL5trl41 L 1 BRSUBI , WWt GW31,~41 L , is.451 ~BRSUB~ IBRSUB~ IBRSUB~ ' ~3td4tm IBRSUBl l35l~l41 WA41 WAt~l31 U&31.~41 l11.~21~~31.l41 _ , Ut,l2JtrW h ~1td251,~41 ) ,l7M4~(nst 1 ll5t,l3td4t~ , Wt.l~td4t ) 4-agent games with route length restriction 4-agent games without route length restriction 11531~~41 ~11,l21,~31,t41, , Ut,I25td31_ ,~11,~25t.l41 L jlt.(3,45t I ~11,~3td41#) ~15td31~(41 (11.131.(41,(51 ~1,51,~31,~41 [25),{3),(4L 1 BRSUB 1 5-agent game with route length restriction 5agent game without route length restriction (11. (251,~31. (41 111, (251.131,141 agents and bounded-rational Fig. 5. Optimal coalition structure structures of Ccomp. Tested by evaluating varying points of ccomp chosen from a grid where ccamp is always to a different for bounded-rational all possible coalition subset of agents. The arrows are not drawn to scale. subadditivity as a function at and bounded-rational incremented by 1%. Each arrow corresponds super/subadditivity that rational agents would be best off forming Again, whenever colluding for all computation both agents 2 and 5 participated, the grand coalition due to superadditivity. they were best off by mutually unit costs. In those games no other agents colluded. Put together, the main surprising routing games of our experiments-using result is that although this is anything but obvious among bounded-rational rational agents should always agents. real data and a sensible superadditivity. The observed of some of the games implies a non-empty BRC: the best bounded-rational form the grand coalition, None of the vehicle iterative refinement bounded-rational in those games coalition did not hold, the BRC was often non-empty-especially algorithm-exhibited subadditivity structure is stable. Even when bounded-rational for large ccomp. subadditivity agents interesting observation to choose coalition is that the presented normative structures Another bounded-rational man agents would select. The best bounded-rational with our intuitions tions such as adjacency of the dispatch centers and the combinability the other hand, agents would choose. the that agree closely with what hu- structures mostly agreed should form based on domain specific considera- of their loads. On from those which rational structures differ significantly of what coalitions theory prescribes these coalition coalition Finally, higher computation lower computation the refinement unit costs. This has a possible unit costs seem to often promote smaller coalitions intuitive than explanation. Each step of time, where u is the number of vehicles and d algorithm takes O(ud*) lYW Sandholm, VR. Lesser/Artificial Intelligence 94 (1997) 99-137 119 in deliveries, than the agents this is superlinear can. To compensate, is the number of deliveries. Because steps in a given can make fewer refinement coalition a refinement reduce solution cost more than a refinement saving has to be averaged over all refinement ccomp is low, more time is allocated, and small coalitions will often run out of profitable If ccomp is high, less time is allocated, and all coalitions will have profitable refinements. refinements, though was not surprising for very small computation a larger coalition in partitions of that time step of the larger coalition would need to step of a smaller coalition. The size of the If the larger coalition will have time to make fewer of them. Thus it it was optimal that in games where the grand coalition was optimal, steps in the optimal unit costs only. time allocation. Surprisingly, for large computation that higher computation by our choice of not including the initial solution was finished right to begin at the time when phase in the performance profiles. Shifting unit costs. The result is somewhat de-emphasized two agents colluding was often better than all agents working separately unit costs the even promote smaller coalitions initial solution construction profiles zero) would shift the performance profiles of small coalitions profiles of large coalitions because in tasks and vehicles. Thus small coalitions would gain an advantage-that for large ccomp. If the time of initial solution generation significant coalition steps are beneficial. the initial solutions of the different coalitions because no refinement coalitions { 1,5}, {2,5}, and {3,5} ac h ieved a better initial solution In our experiments, cost than the sum of the initial solution costs of the two agents separately, Fig. 5 (this set of pairs prevailed even without both is most the best unit costs depends only on the quality of less than the performance is superlinear the initial solution construction the route length restriction). for the highest computation the performance (instead of at is discarded, structure 6. Externalities among coalitions and different algorithms among agents As is common practice to studying coalition [20,53,54,60,22], formation our attention Fig. 3. In such games, the rational value of each coalition actions (it is given by the characteristic coalition may depend on nonmembers’ of the agents’ solutions). (interactions so far in this paper we have restricted (CFGs), in characteristic is independent of nonmembers’ function games function u!) . However, actions due to positive and negative externalities Such settings can be modeled as normal form the value of a in general games (NFGs) . CFGs are a strict subset of NFGs, Fig. 3. l4 Negative externalities between a coalition and nonmembers resources. Once nonmembers that resource at the minimum satisfying are often caused by shared to a certain extent, not enough of solution to carry out the planned can also be caused by conflicting goals. In their goals, nonmembers may actually move the world further from the coali- the resource in the coalition cost. Negative externalities is available to agents are using in constant-sum games with unrestricted side payments and perfect communication. I4 The two are equivalent In such games, game given that nonmembers the characteristic [ 571. A coalition’s minimax value choose strategies function value of a coalition is the maximum payoff that are worst for the coalition. is its minimax value from form that the coalition can bring about for itself the normal tion’s goal state(s) goals. In satisfying coalition’s than it could have without Let us now introduce goal state(s) [ 351. Positive externalities their goals, nonmembers may actually move the world closer are often caused by partially overlapping to the . From there the coalition the actions of nonmembers. can reach its goals less expensively between solutions a new domain class: bounded-rational characteristic function the value of each coalition S is defined by the game (BRCFG), bounded-rational Externalities domain from the class BRCFG also. In general, Fig. 4. In BRCFGs, value US( ccOmp ). Thus, so far in this paper we have studied BRCFGs. coalitions may exclude some the rational value of a coalition may problems depend on the actions of nonmember of the agents’ domain solutions as discussed above. Such games are NFGs, but not CFGs. For the same reason, computed by a bounds-r~ion~ and BRCFG. There the value of some bounded-rational agent-may by any u~(c,,,&. reason why a game may not be a BRCFG. depend on the actions of nonmembers, agents due to positive and negative Such games are not in the class is therefore not characterized ~oalition’s domain solution- If the agents have is also another of different interactions different pe@ormance profiles for a given coalition -due game may not be a BRCFG because nonmember This becomes the coalition members. computational actions of nonmembers. to compute if the nonmember In other words, the solution is willing an issue agent the value of a coalition can depend on whether a for the coalition (for a payment). agent has a better algorithm than any of the value of a coalition may depend on the to different algorithms-the Games where the agents have different unit costs (ccomp) for computation-e.g., also platforms-are execution to games with a global c,,~~ but agents with different performance due in general not BRCFGs. Such games are profiles. unit costs can be modeled as a game is to different analogous A game where agents have different computation with a uniform computation appropriately resealed based on the real ccOmp of the corresponding coalition S. unit cost after the ccomp-axis of each US(C~~~~) function to using aI~orithms There exist BRCFGs that are not CFGs. This is due to the fact that one can construct attained by the agent may be independent of the actions of nonmembers the domain cost of the best solution attained by a rational agent depends to restrict solutions whose values are not affected the agents value of a games where the domain cost of the actual solution (for any coalition) algorithm of a bounded-rational even though on the actions of nonmembers. oneself by nonmembers. may have different performance coalition may depend on whether nonmembers for the coalition. There algorithms of nonmembers reason why some CFGs are not BRCFGs. The that the agents use may produce solutions whose values depend on the actions the values of the optimal solutions would not. that are not BRCFGs. For example, to carry out the computation There also exist CFGs profiles and therefore the bounded-rational that only consider in some domains is also another For example, it is possible are willing although In the distributed vehicle routing problem discussed earlier, there are no positive or negative domain because distributed among thus each coalition) solution interactions all of the resources-vehicles between coalitions. There are no shared resources and exhaustively exclusively (and has its own goal: delivering all of the parcels at the lowest possible and depots-are thus among coalitions). Secondly, each agent the agents (and T.W Sandholm, VR. Lesser/Artificial Intelligence 94 (1997) 99-137 121 their deliveries. Therefore handling of its deliveries this vehicle cost. A coalition’s handle reason, do’main solution interactions class BRCFG. So, if all agents have the same performance earlier-the different performance profiles or computation unit costs, the games would not necessarily be BRCFGs. agents is a CFG. For the same to the was assumed routing games are BRCFGs. I5 Yet if the agents had is unaffected by how nonmember routing problem do not preclude from belonging the problem distributed profiles-as vehicle The core solution concept (as well as superadditivity and subadditivity) is defined via phys- that Similarly, superadditiv- for the more general games is not applicable the bounded-rational actions do not affect the coalition value (CFGs) . Therefore, the coalition values vf which are well-defined only in games where nonmembers’ ical and computational solution cloncept in non-BRCFGs, subadditivity) ity and bounded-rational needed. The rest of this section discusses appropriate alternative are applicable that agents are motivated space of agents’ strategies. This differs lier which has a purely axiomatic foundation: it postulates desirable of the outcomes, stability of the strategies outcomes. core (as well as bounded-rational is undefined. Thus other solution concepts are solution concepts which to general NFGs. They also have a strategic foundation which guarantees in the ear- stability properties that lead to those from the core solution concept presented they analyze stable points but does not guarantee to their strategies: (non-CFGs). to adhere l6 One alternative solution concept ity in the sense that no agent alone that others do not deviate. Often of agents IGUI deviate in a coordinated manner. is the Nash equilibrium [ 30,241. It guarantees to deviate by changing is motivated stabil- its strategy given is too weak because subgroups the Nash equilibrium The Strong Nash equilibrium [ 1 ] is a solution that there is no subgroup concept for NFGs that can deviate by changing more stab:ility. It requires strategies jointly nonmembers often too strong a solution concept: do not deviate in a manner that increases from the original the payoff of all of its members given solution. The Strong Nash equilibrium in many games no such equilibria exist. that guarantees their that is requires to the nonexistence that there is no subgroup the strategies of nonmembers the Coalition-Proof Nash equilibrium [2,3] for NFGs has been suggested problem of the Strong Nash equilibrium. This remedy that can make a beneficial deviation Recentlly, as a partial solution concept (keeping according to the sume criterion. A conceptual problem with this solution concept the deviation may be stable within the possibility agents that did not originally deviate. Furthermore, do not exist in all NFGs. Clearly, there is room for further research on coalition solution concepts-even in a way that the deviation itself is stable is that ignores to deviate again with even Coalition-Proof Nash equilibria formation the deviating group, but the solution concept that deviated may prefer that some of the agents fully rational agents. among fixed) scheduling in many distributed l5 Also sources. On -the other hand, even in toy problems often occur. I6 On the other hand, results with strategic core-based analyses are not (unless the coalition domains, domain interactions do not occur unless agents share re- such as the blocks world, positive and negative interactions solution concepts arc specific formation process itself affects the payoffs). to a given interaction protocol while 122 ZW Sandholm, KR. L.esser/Artijicial Intelligence 94 (1997) 99-137 The solution concepts presented above guarantee throughout for the beginning forms of stability should prevail in the equilibria [ 51,241, perfect this, subgame perfect [ 24,251 refinements of the above solution concepts could the game, tree also. To guarantee of the game. To ensure stability subtrees of the game Bayesian be used. [ 241, or sequential (NFGs), concepts solution among bounded-rational tool for analyzing The strategic solution concepts presented above provide a rigorous to settings where the strategic approach and they also extend like the core are well-defined. New analyses of coalition to include actions. This type of modeling of strategies, in the space of those strategies would to just formation process-as This is general games axiomatic formation its computational and the use of the strategic allow one to formulate the outcomes-which part of our current concepts theories of the coalition agents should extend each agent’s strategy actions and communication and communication. computation normatively incorporate research. opposed solution 7. Related research on computational coalition formation the dynamics. forma- to each other each agent that agent void. Players ter- Coalition formation has been widely relevant formation the most only are static. They address coalition among agents. Some of them also address should form. But being static in nature, coalition Friend concepts were presented. Many of the solution theory studied in game [20,2,3,1,57,33], and for the payoffs structure they do not usually address the dynamics of the the question of how to divide the question of which coalition concepts formation process. This section reviews work that has addressed [ 10,201 has developed that simulates a program a 3-agent coalition criterion coalitions and payoffs. and rejections in the next step. The model agent would be best off by using In the model, at most one offer regarding accept a new better offer if that introduces there is no lookahead or memory. The negotiations tion situation where agents can make offers, acceptances, regarding can be active at a time. A new offer makes old offers regarding consider only current proposals: minate when two agents have reach a dyad and the third one has given up. Specifically, an agent the termination is based on a local threat-counterthreat totally does not necessarily excluded that a self-interested Transfer examination: a risk of being is purely descriptive. There is no guarantee agents stay within a given coalition prespecified manner. Again, best off by using the specified be able to drive the negotiation schemes address coalition concept has been developed. This scheme alternates between an agent’s payoff the sum of the members’ coalition. [ 201. The in a agent would be local strategy: by using some other strategy, an agent may that is better for the agent. Transfer problem or for the core solution In the first, two operators. excess (value of the coalition minus in the equally, and just enough In the second, every agent’s payoff divided by the number of agents problem but not the optimization local strategy. formation schemes are another dynamic structure and iteratively the payoff distribution there is no guarantee structure generation. that a self-interested exchange payments to a final solution by its coalition’s current payoffs) is decremented is incremented For example, the specified to coalition a transfer approach scheme T.W Sandholm, VR. Lesser/Artificial Intelligence 94 (1997) 99-137 123 is nonempty, the numerous if the core reduce in a largest- to keep the total payoff vector feasible. The method can be implemented excess-first manner, or in a round-robin manner among agents. Both schemes converge to a payoff vector i.e., if such a stable payoff in the core vector exists. Transfer schemes the cognitive demands placed on the agents. For in the case of the core, the agents do not need to search for a payoff vector example that satisfies they can in the core has been reached. simply Transfer schemes assume function. the problem of agents not being able On the otlher hand, our work addresses precisely to solve these values due to combinatorial complexity. Transfer schemes can trivially be used in cclnjunction with our work. In this hybrid method, our approach would be used to determine coalition values, and the transfer scheme would be used to find an appropriate payoff division given those values. that the agents know the values of the characteristic the transfer scheme until a payoff division in the definition of the core. Instead the bounded-rational constraints follow Zlotkin and Rosenschein one agent handles structure generation [60] analyze coalitions rational agents is limited that cannot to “Subadditive among make side payments, while our agents do. Their analysis Task Oriented Domains” work, the coalition coalition. More specifically, is optimal because STODs never exhibit diseconomies one agent can take care of all the agents’ all agents have method guarantees The Shapley value agents to stay with the coalition core, the Shapley value does not in general motivate every subgroup of agents In a subset of STODs, “Concave Task Oriented Domains” also motivates every subgroup (STODs), which are a strict subset of CFGs, Fig. 3. In their is trivial since the agents always form the grand this that that for task sets). Their [ 20,331. individual In STODs of scale. We do not assume tasks. Unlike our work, they also assume the to stay. (Fig. 3), the Shapley value each agent an expected value that equals is a specific payoff division among agents structure and the group of all agents to stay. Unlike its Shapley value that motivates to stay, i.e., that payoff configuration the tasks of all agents. the same capabilities is in the core. cost functions (symmetric that guarantees complexity each agent an expected payoff equal to the Shapley in the number of agents, but Zlotkin and Rosenschein A naive method value has exponential present a novel cryptographic method number of agents. Yet each one of these linearly many problems tasks needs to be solved optimally. problem presented for that m.atter-this in the the agents’ problems such as the vehicle routing the Postmen Domain of Zlotkin and Rosenschein this with linear complexity instances are large. in this paper-and In combinatorial for achieving is clearly involving intractable that the problem if the problem instances (tasks and resources) of all In this paper we assumed agents are common with a large number of agents. agents’ characteristics to explicitly declare etarily. Rosenschein declare can optimally costs. Even under our knowledge, studied. truthfully knowledge. This is somewhat unrealistic in open environments In practice it is often necessary from previous encounters. Alternatively, the other the agents can be made their tasks and resources, but they may lie in order to gain mon- to and Zlotkin have analyzed when rational agents are motivated that work assumes only two agents and that they to learn [ 351. Unfortunately solve exponentially many NP-complete in most cases, rationality these assumptions, the effect of bounded problems without computation truth-telling is not achieved. To revelation has not been on truthful 124 TN? Sandholm, VR. Lesser/Artificial Intelligence 94 (1997) 99-137 Our problem is outside the domain classification of Rosenschein and Zlotkin due to heterogeneous [35], fleets. capabilities is not necessarily able to individually to allow asymmetric If we further dropped and Zlotkin’s definition were extended the maximum and restricted ourselves to satisfy Fig. 3, because agents do not have symmetric If Rosenschein capabilities, our domain would be in the class SOD but outside the subclass TOD. Our domain would handle all not be a TOD because any one agent tasks of all agents. (this length constraint to domains where each center experiment was also presented), has at least one sufficient vehicle constraints of any order then the domain would be a TOD. The following (not of any center the depots simple example shows that it would still not be a “Subadditive TOD” because are geographically (Al and A2), two delivery for each agent. Say that the pickup site and the drop-off site of Tl are close to Al’s depot, and T2’s pickup and drop-off are close to A2’s depot. Now say that the depots are far from each other. Thus the sum of the route lengths when Al manages Tl and A2 manages T2 is lower than when either agent individually manages both tasks. distributed. Let us look at a game with just two agents (Tl and T2), and two identical vehicles-one true in our data), the weight/volume route tasks coalition Ketchpel expectations (computational) of coalition values. The [ 221 presents a non-normative is not addressed. His assumption which have different these expectations from our setting where the agents have perfect The method addresses coalition two activities are handled simultaneously. Ketchpel’s coalition in cubic time in the number of agents, but does not guarantee based on mutual offers. In practice as multiagent the bounded-rational 2-agent auction formation method for rational agents origin of differs information but cannot perfectly deduce. structure generation as well as payoff distribution. These runs is offers such if the agents’ payoff vector is chosen from within is stable against all offers. Finally, his formation algorithm stability. His protocol it may be hard to prevent out-of-protocol offers. In our approach, and computationally core, the coalition is manipulable of imperfect information inefficient. structure Ketchpel’s method is related to a contracting protocol of Sandholm [ 41,471 ( TFCACO- NET) where agents construct at a time, and payments place. An agent updates the global solution by contracting are made regarding each contract before new contracts its approximate local solution after each task transfer. a small number of tasks take In general equilibrium market mechanisms such as WALRAS [ 581, non-manipulative agents iterate over the allocation of resources and tasks, and payments are usually made only after a final solution has been reached. Unlike our work, general equilibrium meth- to work in very restricted settings. For example, an equilibrium ods are only guaranteed if the domain exhibits economies of scale. General equilibrium mecha- may not exist in reality the agents affect that agents view the prices as fixed-although nisms assume is reached for the market, the prices. If all agents act as price takers, and an equilibrium is motivated that equilibrium to leave is not the case if agents speculate how their demands and supplies affect the market prices. Recently, Sandholm and Ygge have devised general market [49]. Speculative the context of learning by Hu and Wellman to be in the core: no subgroup of agents their own market to an equilibrium where the agent’s maximal gain from speculation materializes in general equilibrium markets has recently been studied is guaranteed the market and form that allow an agent [29]. This strategies to drive insincere behavior [ 191. the in TW. Sandholm, KR. L.esser/Art@cial Intelligence 94 (1997) 99-137 125 among agents with rational superadditive. Their protocol guar- a Shehory and Kraus [54] in CFGs analyze that are not necessarily coalition formation it (this assumption makes their approach non-normative), (K-stability) is met. This requires the solution of an exponen- information that if agents follow perfect antees certain stability criterion tial number of optimization stability of optimization algorithm switches each step: coalition problem solved using an approximation (polynomial K-stability), problems. Unfortunately, from one coalition structure structure generation is solved optimally. On the other hand, but only requires problems. Their other protocol guarantees a weaker form of number the solution of a polynomial each one of these may be intractable. Their at is an anytime algorithm although each domain is to another guaranteeing improvements in our work, each domain problem algorithm. (design-to-time) [ 531 also present an algorithm for coalition welfare maximizing, the payoff distribution i.e., not self-interested-agents. Shehory and Kraus among cooperative-social such agents tributed algorithm one task each-and is reduced by limiting coalition. from the best solution assumes cost, which work a coalition is a non-issue forms disjoint coalitions -which tasks structure generation Among and is thus not addressed. The dis- can only handle by their definition to the coalitions. The complexity of the problem the number of agents per optimality) is within a loose ratio bound that the solution that is possible given the limit on the number of agents. The work that the domain problem of each coalition can be solved optimally and without in our is not the case in the combinatorial can handle more than one task. ‘The greedy algorithm guarantees problems of this paper. Also, compromising (possibly allocates targeted the coalition and sometimes structure generation formation has addressed Put together, most prior work on coalition activity. That work has been in the number of agents while assuming the payoff di- activity, but not the com- can be the complexity of the optimization problem of each coalition while consid- in the reducing complexity off vision activity optimization plexity solved exactly and costlessly. On the other hand, computatilonal ering all possible coalition number of agents. Future work should focus on simultaneously all three activities of coalition dimensions. the computational problems number of which grows exponentially the work in this paper reduces both of these complexity that the optimization formation-along structures-the generating to reduce 8. Conclusions and future research their computational theory of coalitions This paper studied settings where agents coordinate real world. actions within each coalition but not across coalitions. A normative, tion- and protocol-independent sented where the rationality of self-interested plexity. This work is an extension of game that find the optimal rationality: On the other hand, in this paper, computational by a unit cost of computation and performance algorithms. actions and applica- domains was pre- com- assumes perfect unit cost. limitations were quantitatively modeled solving profiles of the agents’ problem agents theory which classically solution, in combinatorial is bounded by computational and zero computation algorithms 126 T.W Sandholm. VR. L.esser/Arti$cial Intelligence 94 (1997) 99-137 impact coalition that any rationality form. From the coalition of this paper, The algorithms the model of bounded unit cost are known. However, used by the agents significantly unit cost is not necessarily known that structure the social welfare structure can always be determined when the performance profiles for example when agents are sent to in advance. profiles for any should maximizing and computation execute at a remote host, the computation To attack this problem, a sufficient condition was presented that guarantees two coalitions computution unit cost, i.e., for any execution platform. is structure would be the grand coalition. Next it was shown that the presented condition (Theorem 6) but is one if the performance profiles not a necessary condition the exhibit diminishing case with design-to-time this general character also. Finally, a sufficient condition on the performance profiles was presented that guarantees is best off by splitting up (Theorem 8). It follows that all agents are best off alone. This condition does not turn into a necessary condition to added computation returns (Theorem 5) on the performance are best off merging even if the performance profiles exhibit diminishing unit cost, any possible coalition and often anytime algorithms that, for any computation to added computation that the best coalition (Theorem 9). algorithms, in general is usually It follows (Theorem 7). This exhibit returns if no subgroup of agents can increase in terms of the core solution con- their the formal model of com- that for one agents, can always be determined. There are games for both rational and bounded-rational relating the shapes of the performance unit cost to stability were also presented. First, if these Stability of the payoff configuration was analyzed stable limitations structures the other, and for neither. Theorems cept: the configuration is considered payoff by breaking off and forming a new coalition. From the stability limitations, putational have stable coalition but not profiles and the computation computation then that coalition conditions stability ity) holds grand coalition formance profiles (Theorem 20), or more generally, (Theorem if the mentioned (Theorem beneficial merging property 16), and more generally, bounded-rational the coalition’s that guarantee (Theorem (Theorem are such is stable structure 19). that on if the best coalition is the 13). Finally, sufficient conditions were presented on the per- the beneficial merging property holds is the grand coalition if the best coalition stability when structure structure the agents are best off operating 12). Second, necessary values were presented (bounded-rational individually, and sufficient that guarantee superadditiv- An application-independent theory, and one by Rosenschein domain (Fig. 4). Its relationship from game (one classification was also presented to two existing domain classifications for bounded- for fully and Zlotkin, Fig. 3) the optimal It also incorporates domain classes where the value is affected by the actions of nonmembers. Such games occur if agents have in routing problem and many other real world problems. Such games require rational agents rational agents was detailed. The domain classification coalition of a coalition different optimization the vehicle different solution concept as was discussed algorithms or if there are domain solution carries with it information structure and its stability. interactions-unlike in Section 6. about Coalitions were experimentally analyzed using real world data from a distributed ve- hicle routing problem. A local routing algorithm was used. The experiments show that the computational that was based on iterative refinement limitations of the agents signif- T.W Sandholm, VR. L.esser/Artificial Intelligence 94 (1997) 99-137 127 that should form as well as its stability. Although holds for rational agents in almost all in practice among bounded-rational agents. The optimal coalition structure for bounded-rational for agents var- rational agents should always form the grand coalition. Section 3 developed that the beneficial merging property this property exhibited agents. It also discussed a separate solving approach-based impact structure the coalition it was surprisingly (superadditivity) anything but obvious icantly the benefic:ial merging property domains, agents. None of the vehicle routing games of our experiments bounded-rational ied although conditions on the performance profiles that guarantee holds for bounded-rational on a problem decomposition conditions. With our sensible deterministic tions were-somewhat to generate algorithms grand coalition over other coalition social welfare Sometimes surprisingly-never that guarantee beneficial merging (for the best coalition these goals conflict. structures), guarantees step-that that the base algorithm algorithm, refinement iterative met. The real desideratum those fulfills these condi- is not necessarily (and thus the superiority of the the highest structure, which need not be the grand coalition). but algorithms that provide In the experimental games where structures were stable as our theory predicts. Even necessarily best off by splitting up, the coalition for large computation The experiments unit costs. that often with superlinear suggest the agents were best off separately, the coalition in games were subgroups were not structures were often stable-especially computation mote smaller ones. A plausible explanation unit costs promote large coalitions while high computation iterative refinement steps, low unit costs pro- for this phenomenon was presented. agents is that the presented normative Another interesting observation agreed with our to choose coalition bounded-rational human agents would select. The best coalition structures among bounded-rational mostly specific considerations of their those which rational agents would choose. loads. On the other hand, of what coalitions these coalition structures differ significantly such as adjacency of the dispatch centers and the combinability theory prescribes the that agree closely with what agents form based on domain structures intuitions should from rationality Our model of bounded is based on costly computation resources. Future another model where each agent has a fixed free CPU and no If the domain cost increases with real time due to a such agents with bounded computational capabilities are often the computation. work includes analyzing more CPI.J time can be bought. dynamic environment, best off b:y distributing the computations of this paper, models arc equivalent does not speed up computation. Certainly other models of bounded these two also deserve attention. arises. On the other hand, in the costly computation model to a single agent. The computation linearly with real time and distribution rationality besides it is best to allocate each coalition’s the problem of coordinating if the domain cost increases In such settings, themselves Our current work includes analyzing among bounded-rational the methods of this paper revision as well as anytime belief generalizing formance profiles, conditioned files may want to reselect a coalition the interplay of dynamic coalition [ 561. Extensions agents to agents with different and probabilistic algorithms where the performance formation and of our work include per- profiles are performance pro- is lower if the value of their original coalition on execution so far [ 44,59,16]. Agents with probabilistic 128 T.W Sandholm, VR. Lesser/Artificial Intelligence 94 (1997) 99-137 towards than expected-but should also address agents in the process of developing agents termined methods coalition’s payoff division. optimization by the theory developed that reduce the complexity-in problem-of the optimal and stable sunk computation research that can refine solutions generated by others. Finally, we are cost has already been incurred. Future interaction protocols that efficiently guide self-interested coalition (whenever possible) in this paper. The goal de- is to construct normative the number of agents and in the size of each and structure generation, optimization, structures-as coalition Appendix A. Proofs Proof of Theorem 5. Let us analyze S, T G A and S n T = 0. The conditions two arbitrary potential coalitions S and T, where in the theorem state Vrs 3 0,VrT 2 0, csdrs + r7-) < cdrs) + cdr7-) and obviously 3-k, r$ 2 0 s.t. cs(rk) + ccomp . r$ + CT($) + ccOmp . r$ = min[cdr) + ccomp . rl + kn[cdr) r + ccomp . r] It follows that % 4 2 0 S.t. csdr$ + rb) + ccomp . (r$ + r&) < min[cs(r> + ccomp . r] * rl + min[dr> + ccomp r H 3’ 2 0 s.t. c&r’) + ccOmp . r’ < mMcs(r) i- + Ccomp . t-1 + min[cdr) r + Ccomp . rl @ minicsdr) r + ccomp . rl 6 m;ln[cs(r> + ccOmp. rl + midcAr) r + c,,,~. rl @ WJT(ccomp) > 4ccomp) + Q-(ccomp) which completes the proof. 0 Proof of Theorem 6. Counterexample. Let us analyze a 2-agent game where A = { 1,2}. Let the performance profiles of the algorithms be C(l)(r) = C{2j(r) = and ifO<r<l, ifr>l r r ZK? Sandholm, VR. L.esser/Art$cial Intelligence 94 (1997) 99-137 129 C(l)(‘) = c(z)(r) 1 0.5 0 L q&2)(‘) 1 0.5 0 L 1 2 -1 -0.5 0 i= Ccomp 1 2 “{l)(%Jmp) = q2)hnp) -1 -0.5 0 ccomp r r 1 2 1 2 K= “tlJ)hmp) Fig. A. 1. Performance profiles and value functions of the counterexample. 1 ifO<r<l, c{1,2j(r) = 2-r if 1 <r<2, 0 if r > 2. Thus (see also Fig. A.l), ~{l~(~cComp) =u{2)(cComp) = -m!n[c{2)(r) + ccomp. r-1 = -GXlIp if ccomp 6 3, -- 1 2 i if ccomp > i and ~{1,2}bmlp) = - r ~n[ql,2j(r) + ccomp. rl -2ccomp if ccomp < i, = -1 i if ccomp > 1. So when ccomp < $, ~{1,2}(Gomp) = -2ccomp = -ccomp + -Ccomp = ~{1}(Ccomp> + ~{2}(Gomp) and when ccomp > i, ~{1,2}(cComp ) - -1 = -$ + -1 = ~{1}(CconIp) +u{2}(CcoInp). - wc~omp, Thus, game is BRSUP ‘v’ST G A, S n T = 8>, USUT(C~~~~) Z ~~~~~~~~~ + UT(C~~~~), for all ccomp. Butc(,,2)(~+~)=1>d+t=cc,>(4)+~(~>(~). i.e., the 0 130 l%? Sandholm, YR. L.esser/Art$cial Intelligence 94 (I997) 99-137 The proof of Theorem 7 relies on the following lemma: Lemma A.1. Let f(x) such that be a decreasing, convex function. For any given x*, 3 > 0 min[f(x> + CX] = f(x*) + CX*. x Proof. Let us define x’ = argmin, s.t. Vc > 0, [f(x) + cc]. Assume-for contradiction-that 3x* m;tn[fW -t cxl + .0x*) + CX* ti f(d) + cxf + fcx*) + cx* Because f(x) is convex, Thus c > 0 is well-defined when chosen as follows: B’T -4 j-(x*) - f(x* 8 - 8) < _c < lim _ftx* + 8) - f(x*) S-+0 s . Now there are two cases: Case 1: xl < x*. x’ < x* * e argmin[f(x) X + cx] < x* f(argmin[f(x) X +cxl) +c.argmin[f(x) +cx] < f(x*) +CX* X H f(x’) -t cx’ < f(x*> -t- cx* * w * * f(x* - E) + c . (x* -E) < f(x*) + cx* f(x*> - f(x* -E) > -C& t-(x*> - f(x* -E) > _c E f(x*) - .0x* - El > lim f(x*) & S-0 - f(x* 8 - 6) * This violates convexity. Contradiction. TM! Sandholm, KR. L.esser/Artijicial Intelligence 94 (1997) 99-137 131 Case 2: x’ > x*. x’ > x+ * argmin[f(x) X + cn] > x* eS .f(argmin[f(x) X + cx]) + c. argmin[f(x) x + cx] < f(x*) + cx* w .f(x’> + cx’ < f(x*) + cx* H * j .ex* + E) + c * (x* + E) < f(x*) + cx* p* +e> - f(x*) < -c E f(x* + 8) - Rx*) < lim 640 & .0x* + 6) - Rx*) s . This also violates convexity. Contradiction. Because both cases lead to a contradiction, the original assumption is false. 0 Proof of Theorem 7. The if-part was proven proven. in Theorem 5. Now the only if-part is Game is BRSUP ‘v’c~,,,,,~ ++ ( \JCcomp VS,T C A, SnT=0), wJT(Gmlp) b ~S(Gmlp) + ~dccolnp) @ ( ~bnpr VS,T C A, SflT=!!J), Inid CSuT(r) + Ccomp f 11 < min[cS(r) r + ccomp f I] + min[cr(r) r + c,,, . rl r @ ( Vccompr VS,TGA, SflT=0, V’rs,rT>O), Now, by Lemma A. 1, for any ?-s + ?-T > 0, ~ccomp 2 0 s.t. min, [c&~-(r) + ccomp . I-] = CSUT(r.7 + TT) + Ccomp ’ (TS + TT). ~‘JSv (v/s,T c A, SnT = 8, vrS,rT 2 0, komp 2 o), CSUT ( 0 + TT) + Ccomp ’ (TS + IT) < cS(rS) + ccomp ’ rS + cT(rT) + ccomp ’ rT w (v’s,TcA, SnT=& v’rs,rT>o, 3Ccomp~o), CSUT(rS + IT) < do) + cT(rT) w (v’S,TsA, snT=8, v’rS,rT>o), CSUT(rS + IT) 6 cS(rS) + cT(rT) This completes the proof. (cid:144)i 132 TU? Sandholm, KR. Lesser/Artijcial Intelligence 94 (1997) 99-137 Proof of Theorem 8. (VS,TGA, SnT=0, t, rs,Pr > O), CsUT(n + Q) > c&do) + CT(TT) (WT C A, SnT = 0, h,rS”T 2 O), a_dmJT) > cs(~s) + Q-(rSUT - rs) (komp~ ‘dS,TC A, SnT=(I), ‘hs,rsuT ZO), CSUT ( rSUT > + Ccomp ’ rSlJT > cscf-S) + Gomp * rS + 0” f fSUT - YS 1 i- Ccomp - (QUT - Q) WCcomp9 VS,TC A, SnT=@, vr,Y,rsuT 30), min[csdr) + Ccomp + rl r > Cs(~s) + ccomp . rs + c-r(rsur - f-s) + Gomp t (Q~T - rs) >, m.[cdr) + ccomp * rl + T[cdr) + Cwmp 9 (r) 1 WGomp, VSTc A* SnT=fl), USUT(‘%omp) < u~(ccomp) +uT(Ccomp) Game is bounded-rational subadditive tJcComp This completes the proof. c? and convex, Proof of Theorem 9. It suffices to show an example where all performance profiles are decreasing [ (VS, T 5 A,SnT = &~'Q,Q 2 O),c~"~~~~ + q) > cs(r,y) + q-(p)] to hoId. Let us analyze profiles of the algorithms be a %-agent game where A = (1,2}. Let the decreasing for all ccomp, and the condition and convex performance the game is BRSUB fails C(l)09 = 0.6 - 0.6r o if 0 6 r < I, ifr> 1, { { C{2)W = 0.4 - 0.4r o if 0 < r < 1, ifr>l, 1.01 - QSr if 0 < r < 2 C{1,2}W = 0.01 { if r > 2. Now, ~{i,~l(O t- 1) = 0.51 < 0.6 + 0 = ceil A,SnT=P),v~rs,rT3O).csuT(rs+rT) >cdrs) + qq(1). +c24vIl. This violates [(VS,T 2 What remains Case 1: 0 < c,,,, < 0.4. to be shown is that the game is BRSUB for all cComP u{ 1) t &amp ) = -Ccomp 9 U(Z)(Ccomp) = -Ccompr ~{1,2)(Gomp) = -2Ccomp - 0.01. So, u{1,2}(Ccomp) < u{l}(%omp) + u(2)CCcomp). ZU? Sandholm, VR. L.esser/ArtijTcial Intelligence 94 (1997) 99-137 133 Case 2: 0.4 < ccomp < 0.5. ql}(‘:comp) = -Ccomp9 ~{2}(CcoInp) = -0.4, u{1,2}(ccomp) = -2ccomp - 0.01. So, q1,2}(Ccomp) < ~{l}(Cco,) + ~{2}(Ccomp). Case 3: 0.5 < ccomp < 0.6. U{l}(Ccomp) = -Ccomp, ~{2}(Ccanp) = -0.4, U{1,2}(Cc0mp) = -1.01. So, q1,2}(Ccomp) < ~{l}(Ccomp) + ~{2}(Ccomp)* Case 4: 0.6 < ccomp. u{l)((-‘comp) = -0.6, u{~~(ccorn~) = -0.4, u{1,2~(cc0mp) = -1.01. So, ~{1,2}(Ccomp) < ~{1}(Ccomp) + ~{2}(Cc,nlp). 0 Proof of Theorem 12. Let a game be bounded-rational (V&T C A, S n T = 8), ~r(c,,,~) coalition Let US chofose x s.t. Vi E A, xi = U(i) ( cCOmp). NOW, for ccomp, i.e., subadditive < US(C,~~~) + w(c~~~,,). Let us study the social welfare. structure CS = {{l}, {2}, . . . , {[AI}} which clearly maximizes C X; = C U(i) (ccomp) = C Us, (ccomp) and iEA GA jECS V’s c A, c xi = c u(i) (Ccomp) 2 e(Ccomp) if3 iES Thus x E BRC(c,,,,) which implies BRC(C,,,~) Z 8. 0 Proof of Theorem 13. Shapley rational agents. for rational Cy=, hjuEj < ~2. Theorem 13 follows by analogy. agents, C # 8 iff for every minimal In games where {A} [ 521 proved the following is a social welfare maximizing balanced 0 fact (his Theorem 2) for structure set B = {Bl, . . . , BP}, coalition Proof of Theorem 16. Shapley rational agents. In a superadditive set B={Bl,. of inequalities **vBp}vC~=1 AjUij < u:. Charnes and Kortanek is minimal. Theorem 16 follows by analogy. 0 [ 521 proved the following fact (his Theorem 3) for game, C # 8 iff for every proper minimal balanced that this set [6] proved Proof of Theorem 19. Let us analyze an arbitrary minimal balanced set B = {Bl, . . . , BP). (‘JB E B, VrB 2 O>, f: AjCB, (rBj) > CA (2 AjrB,) j=l j=l * (‘JCcomp, VBEI~, VrB>O, gr,JaO), 1’ > lAjCBj(rBj) j::l P +ccomp. (-rA +cAjrBj) 2 cA(rA) j=l 134 T.W. Sandholm, KR. Lesser/Artificial Intelligence 94 (1997) 99-137 e wcomp, VBEB, c AjCBj (‘Bj > f P j=l vrg>o, 31A>b), P hnnp ’ c AjrBj 3 CA ( rA ) + Ccomp ’ IA .j=l @ WCcomp9 VBEB, b >o), P c A,jcBj(rBj) .j=l P + CCOmp. C AjrBj j=l 2 mW.c~(r> r + cCOmp. rl H (vCcomp9 VBEB, VrB>o), P c Aj[CBj(rBj) j=l + Ccomp . rBjl > min[cA(r) * + ccomp . r] * (VCcomp), kAjyLCsCrk,I +CCOmp.rkjl bmjn[CA(r) +Ccomp.r] j=l EI * (VCcomp) t f: j=l AjuB, (ccomp> 6 uA(ccomp) Since balanced this holds for an arbitrary minimal balanced set, it has to hold for every minimal set. Thus, by Theorem 13, BRC(ccomp) # 0. 0 Proof of Theorem 20. Analogous arbitrary proper minimal balanced orem 13 should be changed to the proof of Theorem set is considered. Furthermore, 19, except the reference that now an to The- to a reference to Theorem 16. 0 Acknowledgements The content does not necessarily Supported by AREA contract N00014-92-J-1698. should reflect the position or the policy of the Government of Massachusetts be inferred. Tuomas Sandholm was also supported by a University the Finnish Science Academy, Finnish Culture Founda- Graduate School Fellowship, Information Technology Research tion, Finnish Culture Foundation Rank Xerox Fund, Foundation, Economic Society, Leo and Regina Wainstein Foundation, Jenny and Antti Wihuri Foundation, Honkanen Foundation, Ella and George Ehrnrooth Foundation, Foundation. A short early version of this paper appeared and the Thanks in [ 451. and no official endorsement to Scandinavia Transportation References [ I] R. Aumann, Acceptable points in general cooperative n-person games, in: Contributions to the Theory of Games, Vol. IV (Princeton University Press, Princeton, NJ, 1959). [2] B.D. Bemheim, B. Peleg and M.D. Whinston, Coalition-proof Nash equilibria I: concepts, J. Economic Theory 42 (1987) 1-12. T.W Sandholtn, VR. L.esser/Art@cial Intelligence 94 (1997) 99-137 135 [ 31 B.D. B#emheim and M.D. Whinston, Coalition-proof Nash equilibria II: applications, J. Economic Theory 42 (1987) 13-29. [4] M. Boddy and T.L. Dean, Deliberation scheduling for problem solving in time-constrained environments, Artificial Intelligence 67 (1994) 245-285. [ 51 A.H. Eland and L. Gasser, Readings in Distributed Artijicial Intelligence (Morgan Kaufmann, San Mateo, CA, 1988). [6] A. Charnes Department of Industrial Engineering [7] E. Durfee, V.R. Lesser and D. Corkill, Cooperative distributed problem and K.O. Kortanek, On balanced sets, cores and Tech. Rept. 12, Ithaca, NY ( 1966). in: A. Barr, P. Cohen eds., The Handbook ofArtificial Intelligence, Vol. IV (Addison-Wesley, Reading, and Operations Research, Cornell University, linear programming, solving, and E.A. Feigenbaum, MA, 1989). 109-116. [lo] K.E. Friend, An information [ 81 T. Finin, R. Fritzson and D. McKay, A language and protocol to support intelligent agent interoperability, in: Proceedings CE & CALS Washington ‘92 Conference (1992). ]9] K. Fischer, J. Miiller, M. Pischel and D. Schier, A model for cooperative transportation scheduling, in: Proceedings 1st International Conference on Multi-Agent Systems (ICMAS-95). San Francisco, CA (1995) processing game, Ph.D. Thesis, Carnegie-Mellon University, Pittsburgh, PA (1973). to small group approach interaction in a coalition formation [ 1 I] D. Fudenberg [ 121 A. Garvey and V.R. Lesser, Design-to-time and J. Tirole, Game Theory (MIT Press, Cambridge, MA, 1991). real-time scheduling, IEEE Trans. Systems Man Cybernet. 23 (1993) 1491-1502. [ 131 A. Garvey and V.R. Lesser, A survey of research in deliberative real-time artificial intelligence, Real-lime Systems 6 (1994) 317-347. [ 141 General Magic, paper. Inc., Telescript technology: the foundation for the electronic marketplace (1994), White [ 151 1. Gocd, Twenty-seven principles of rationality, in: V. Godambe and D. Sprott, eds., Foundations of Statistrcal Inference (Holt, Rinehart, Winston, Toronto, Ont., 1971). [ 161 E.A. Hansen and S. Zilberstein, Monitoring AAAI-!)6, Portland, OR (1996) 1229-1234. the progress of anytime problem-solving, in: Proceedings [ 171 E. Horvitz, Reasoning about beliefs and actions under computational resource constraints, 3rd Workshop on Uncertainty in Artificial Intelligence, Seattle, WA (American Association Intelligence, Art$cral Intelligence, Vol. 3 (Elsevier, Amsterdam, also in: L.N. Kanal, T.S. Levitt and J.F. Lenuner, eds., Uncertainty in 1987) 429-444; 1989) 301-324. in: Proceedings for Artificial [ 181 N. Howard, Paradoxes of Rationali@: Theory of Metagames and Political Behavior (MIT Press, Cambridge, MA, 1971). [ 191 J. Hu and M.P. Wellman, Self-fulfilling bias in multiagent learning, in: Proceedings 2nd Znternational Conference on Multi-Agent Systems (XMAS-96), Kyoto, Japan (1996) 118-125. [ 201 J.P Kahan and A. Rapoport, Theories of Coalition Formarion (Lawrence Erlbaum, London, 1984). [21] R. Kalakota 1996) and A.B. Whinston, Fr0ntier.s of Electronic Commerce (Addison-Wesley, Reading, MA, [ 221 S. Ketchpel, Forming coalitions in the face of uncertain rewards, in: Proceedings AAAI-94, Seattle, WA (1994) 414-419. [ 231 S. Kraus, J. Wilkenfeld and G. Zlotkin, Multiagent negotiation under time constraints, Artificial Intelligence 75 (1995) 297-345. [ 241 D.M. Kreps, A Course in Microeconomic Theory (Princeton University Press, Princeton, NJ, 1990). [25] D.M. Kreps and R. Wilson, Sequential equilibrium, Econometrica 50 (1982) 863-894. [26] S. Lin and B.W. Kemighan, An effective heuristic procedure traveling salesman problem, the for Operarions Research 21 (1971) 498-516. [27] S. Linnainmaa, routing Directtons in Artificial Intelligence, Vol. 3, Espoo, Finland supported vehicle in: Proceedings Finnish Artificial Intelligence Conference (STeP-92), New (1992) 163-172. 0. Jokinen, T.W. Sandholm and A. Vepsalainen, Advanced computer transports, for heavy [ 281 M.G. Lundgten, K. Jomsten and P V&brand, On the nucleolus of the basic vehicle routing game, Tech. Rept. 1992-26, Department of Mathematics, Linkoping University, Sweden ( 1992). 136 TW. Sandholm, VR. L.esser/Art@cial Intelligence 94 (1997) 99-137 [29] A. Mas-Colell, M. Whinston and J.R. Green, Microeconomic Theory (Oxford University Press, Oxford, 1995). [30] J. Nash, Equilibrium points [ 311 Office of Technology Assesment, Electronic enterprises: 1321 C.H. Papadimitriou in n-person games, Proc. Nat. Acad. Sci. 36 ( 1950) 48-49. looking to the future ( 1994). and M. Yannakakis, On complexity as bounded rationality, in: Proceedings STOC-94 (1994) 726-733. the total transportation for decreasing Provably bounded-optimal and G. Zlotkin, Rules of Encounter (MIT Press, Cambridge, MA, 1994). agents, J. Art@ Intell. Res. 1 (1995) in: Nordic Operations Analysis in Cooperation (NOAS- [ 331 H. Raiffa, The Art and Science of Negotiation (Harvard University Press, Cambridge, MA, 1982). [341 r351 [361 [371 E. Rasmusen, Games and Information (Basil Blackwell, Oxford, 1989). J.S. Rosenschein l-36. S.J. Russell and D. Subramanian, S.J. Russell and E. Wefald, Do the Right Thing: Studies in Limited Rationality (MIT Press, Cambridge, MA, 1991). T.W. Sandholm, A strategy transportation centers, Turku School of Economics, Finland T.W. Sandholm, Automatic in: Proceedings Engineering, San Buenaventura, CA (1992) 449-467. T.W. Sandholm, A bargaining Intelligence Conference (1992) 173-181. T.W. Sandholm, An implementation Proceedings AAAI-93, Washington, DC ( 1993) 256-262. T.W. Sandholm, Limitations of the Vickrey auction 2nd International Conference on Multi-Agent Systems (ICMAS-96). Kyoto, Japan T.W. Sandholm, Negotiation self-interested University of Massachusetts, Amherst, MA ( 1996). (STeP-92), New Directions in Artijicial Intelligence, Vol. 3, Espoo, Finland of the contract net protocol based on marginal cost calculations, International Conference on Artijcial Intelligence Applications in Transportation in: Proceedings Finnish Artificial in computational multiagent agents, Ph.D. Thesis, ): OR in Business, of area-distributed in: Proceedings (1996) 299-306. computationally area-distributed costs among in vehicle cooperation intelligent systems, dispatch ( 199 1) network routing, limited centers agents, among for in: systems, formation rational agents, among bounded in: Proceedings analysis of the possibilities and V.R. Lesser, Equilibrium termination of anytime algorithms, in: Proceedings ECAI ( 1994) 88-99; extended at Amherst, the in: Proceedings 1st International Conference on Multi-Agent Systems (ICMAS- T.W. Sandholm and V.R. Lesser, Utility-based Workshop on Decision Theory for DA1 Applications, Amsterdam, Netherlands version: Tech. Rept. 94-54, Department of Computer Science, University of Massachusetts MA (1994). T.W. Sandholm and V.R. Lesser, Coalition IJCAI-95, Montreal, Que. (1995) 662-669. T.W. Sandholm in: Proceedings IJCAI-95, Montreal, Que. ( 1995) 694-701. multiagent T.W. Sandholm and V.R. Lesser, Issues in automated negotiation and electronic commerce: extending contract net framework, 95), San Francisco, CA (1995) 328-335. T.W. Sandholm of a in: Proceedings AAAI-96, Portland, OR ( 1996) 126-133; extended version: Tech. Rept. 95-72, Computer Science Department, University of Massachusetts T.W. Sandholm Proceedings IJCAI-97, Nagoya, K. Schweers Cook and M. Levi, The Limits of Rationality (University of Chicago Press, Chicago, 1990). R. Selten, Spieltheoretische Behandlung Sraarswissenschaft 12 (1965) 301-324. L.S. Shapley, On balanced at Amherst, MA ( 1995). losses of speculation sets and cores, Naval Res. Logist. Quart. 14 (1967) 453-460. eines Oligopolmodells mit Nachfragetrggheit, and V.R. Lesser, Advantages in equilibrium markets, leveled commitment and E Ygge, On 2 ftir die gesamte the gains and of unenforced contracting exchange protocol, ( 1997). Japan IL, in: in formation among autonomous agents, in: 1521 [53] 0. Shehory and S. Kraus, Task allocation Proceedings IJCAI-95, Montreal, Que. ( 1995) 655-661. via coalition [ 541 0. Shehory and S. Kraus, A kernel-oriented model for coalition-formation in general environments: implementation and results, in: Proceedings AAAI-96, Portland, OR ( 1996) 134-140. [55] H.A. Simon, Models of Bounded Rationaliry, Vol. 2 (MIT Press, Cambridge, MA, 1982). [381 [391 1401 [411 ~421 (431 1441 [451 [46J [471 [481 [491 1501 [511 T.U? Sandholm, VR. L.esser/Arti$cial Intelligence 94 (1997) 99-137 137 [ 561 F. TohIm and T.W. Sandholm, Coalition formation processes with belief revision among bounded rational in: Proceedings IJCAI Workshop on Social Interaction and Communityware, self-interested Nagoya, agents, ( 1997). [ 571 W.J. van der Linden and A. Verbeek, Coalition Japan formation: a game-theoretic approach, in: H.A.M. Wilke, ed., Coalition Formation, Advances [58] M.P. Wellman, A market-oriented in Psychology, Vol. 24 (North-Holland, Amsterdam, its application programming environment and 1985). to distributed multicommodity flow problems, J. Art$ Intell. Res. 1 ( 1993) composition l-23. of real-time [59] S. Zilberstein and S.J. Russell, Optimal systems, Artificial Intelligence 82 (1996) 181-213. [60] G. Zlotkin formation and J.S. Rosenschein, in task oriented domains, Coalition, in: Proceedings AAAI-94, Seattle, WA ( 1994) 432-437. and stability: mechanisms cryptography for coalition 