Artificial Intelligence 79 (1995) 39-63 Artificial Intelligence In search of a “true” logic of knowledge: the nonmonotonic perspective Grigori Schwarz * 2747 Del Medio Ct., Apt. 108,Mountain View, CA 94040, USA Received April 1994; revised September 1994 Abstract Modal logics are currently widely accepted as a suitable tool of knowledge representation, and the question what logics are better suited for representing knowledge is of particular importance. Usually, some axiom list is given, and arguments are presented justifying that suggested axioms agree with intuition. The question why the suggested axioms describe all the desired properties of knowledge remains answered only partially, by showing that the most obvious and popular additional axioms would violate the intuition. We suggest the general paradigm of maximal logics and demonstrate how it can work for nonmonotonic modal logics. Technically, we prove that each of the modal logics KD45, SW5, S4F and S4.2 is the strongest modal logic among the logics generating the same nonmonotonic logic. These logics have already found important applications in knowledge representation, and the obtained results contribute to the explanation of this fact. 1. Introduction The idea of using modal to Hintikka probably, believed” or “is known”. logics [ 71. The idea was to interpret to capture semantics of knowledge and belief is due, the necessitation modality L as “is There has been much argument among philosophers around the question, what is the logic of knowledge “true” Many different now clear that notions of knowledge economics, intelligence, computer and/or axioms and systems have been proposed, argued pro and contra. and belief are important It is in fields such as artificial about knowledge became subject science. Reasoning belief be (see [ 121 for a comprehensive survey). * E-mail: schwarz@flamingo.stanford.edu. 0004-3702/95/$09.50 SSDI0004-3702(94)00067-O @ 1995 Elsevier Science B.V. All rights reserved attracting prominent conferences of interdisciplinary A survey of reasoning about knowledge, emphasizing especially Importance of epistemic notions McCarthy research of “applied epistemology” for artificial [ 171, McCarthy and Hayes researchers its interdisciplinary in all the above fields. character, and in computer science, can be found in [ 51. intelligence was stressed and illustrated by While philosophers were mostly in the questions the most important question of knowledge logic of knowledge (and, more generally, “what is the ‘true’ logic in in concrete related research logic at all) of knowledge and belief”, Al is, how to apply situations. [ 1X I. interested about Its autoepistemic that nonmonotonicity is, in a sense, “autoepistemic”. in scope of the outer K reflects In fact we feel that logic of knowledge of a rational agent capable of reasoning clear as we try to see how the nested modalities [ 231 argued that is. reasoning and belief. literature is a natural property of autoepis- Robert Moore its temic reasoning, as it is discussed own knowledge character in philosophical are interpreted. Say, the becomes lp then cp”. That is. sentence K( Kv > cp) means “the agent knows everything and embedded K’s relate agent’s self-reflection. The novelty of Moore’s approach was that all the sentences (“axioms” the real world. So the “axioms” are interpreted as “initial beliefs” of an agent, and theorems are supposed speaking, assumed. Following Moore’s work, an external epistemic operator other nonmonotonic (see, e.g., [ 14, 151. We illustrate final beliefs based on initial beliefs. So, roughly that if it knows reasoning, and “theorems”) were supposed and belief have been suggested to represent agent’s belief the natural nonmonotonicity for knowledge to represent the agent’s formalisms is always implicitly rather simple example. Assume belief set (or knowledge base) autoepistemic consequence the initial belief set {p}. Then, of course, {p} i;/;,r 1Kp: should be able to conclude is in the knowledge that p is some elementary is empty. Then of the logic of knowledge by the following statement, and assume that the initial is the of Q). We can write this fact as 8 kae -Kp. But now consider to assume {p} I-,, Kp, and agent it is quite natural set of an agent, then the self-reflecting it is natural to assume that ‘Kp if p than that it knows p. logic of knowledge/belief that philosophers were interested mostly should be applied the questions of “applied logics”, that is we do not have any nonlogical in some nonmonotonic logics of knowl- in “pure” logics” remained uninvestigated. As long as to a axioms specific Thus, the modal way. Note however edge and belief, we consider “pure given situation, The basic idea of nonmonotonic the question of nonmonotonicity simply does not arise. versions of monotonic modal logics was suggested by and Doyle in [ 19,201. They did not state explicitly epistemic McDermott of modalities. However Moore’s analysis too. An earlier disregard of McDermott extent, to the unsuccessful turned out that the popular proved mott and Doyle’s Subsequently, much detail choice of the underlying monotonic modal logic-namely, logic S.5 does not give any nonmonotonicity. However, [ 231 applies logic and Doyle’s approach was due, to the large it it was logic is, formally, a special case of McDer- if we take the logic KD45 as an underlying monotonic basis. in logics were investigated scheme and comparison with in [ 301 that Moore’s autoepistemic formal properties of McDermott to McDermott and Doyle’s analysis of McDermott’s [ 16,301. Epistemic interpretation and Doyle’s logic, G. Schwarz/Art@cial Intelligence 79 (1995) 39-63 41 other approaches in [28]. to the problem of formalizing autoepistemic reasoning was sketched to contribute to the problem “what some formal problems. We look at the problem is a good logic the let us note that we do not think that some logic is the and belief are too vague and to consider some even realizing (see, e.g., reasonable for some particular to intuitive meaning of knowledge the very notions of knowledge it is sometimes and convenient applications, from The present paper is an attempt logic of knowledge by solving standpoint. First, of knowledge” nonmonotonic “true” logic of knowledge: too complicated. Moreover, logic as a suitable that its axioms do not correspond fully [ 51) . Our goal here is to give arguments than others, and some are in fact indistinguishable, view of knowledge because importance, epistemic standpoints, becomes unnecessary. representation. if we show that two modal the possible discussion that some of the logics are more reasonable if considered Such results, we think, are also of philosophical the point of from logics are indistinguishable of “which of these two logics the from is better” Let us recall McDermott and Doyle’s construction. Assume we have a (monotonic) logic S with the basic modal “is believed”. (necessitation) modality L interpreted as “is known” or Let S be any monotonic such that formulas logic in L. By an S-expansion of A we mean a set T of T = (40: A u {lLt,k (/I $ T} Es cp}. (1) Intuitively, as a knowledge set (say, deductive an S-expansion may be understood closure of an axiom set. In usual monotonic different set (or as a belief to the notion if two logics are then they give raise to different deductive closures of the same closures of the empty set of axioms are always different It may happen set) of a rational agent based on initial assumptions A. It is an analogue of a deductive (extensionally) axiom for different that two different monotonic modal modal of A if and only in the same range. ’ for nonmonotonic logics S and 7 give rise to the same nonmonotonic set T, T is an S-expansion logic in a sense that for each A and for each consistent of A. In this case we will say that S and 7 are logics). The situation if T is a I-expansion logics is different. setting, The reason two monotonically is the presence of the negative S c 7, it may happen introspection too. and S. Clearly, different introspection term {yL+: logics may generate the same expansions, that all the axiom schemata of I are derivable in this case all consistent 7-expansions 1+4 $! T} in E@. (1): say, if from the negative are S-expansions, The possibility for different monotonic modal logics to collapse into one nonmono- logic was first noticed tonic modal instance, and KD45 are in the same range (and coincide with the autoepistemic the logic with the only axiom schema 5 (ALP > L7Lq) logic of Moore). [ 161, and a few ranges were exhibited. For all logics between in ’ The usage of the term “range” here is motivated by a result of McDermott [ 191 stating of A; hence if S c 7 are in the same range, that if S & 7, then all the then each S-expansion logics between S and 7 are in the same range, of A is also a I-expansion too. logics. Among in the same range, the logics it states explicitly all the general epistemological if two modal Our point here is that, as epistemic indistinguishable logic is of particular interest: that hold in the logic, so it gives us the maximum from the results of [26] For instance, range: that is, there does not exist a logic KD45. That is, all the general epistemic principles introspection justification are already contained interest for the special logics are in the same range, they are the largest principles about the logic. in its logic in the same range which properly contains that follow from KD45 and negative is an additional available that KD45 is a maximal in KD45. Such result, in our opinion, this logic has received in the AI research. information it follows recently then in KD45. So we rule out the possibility In this paper we strengthen in its range: each the largest contained KD45 could be “nonmonotonically even stronger result: in KD45, expansion of A. ’ then the same nonmonotonic this result. We prove that KD45 is not just maximal, but is logic which generates incomparable with In fact, we prove in S5 and has any theorem not derivable of A is not a KD45- that some logic from KD45. indistinguishable” logic, if a logic S is contained there is a theory A such that some S-expansion the maximality of two more logics, S4.4 and S4F was proved in [ 25,28 ] ; But our main motivation these results by proving for writing that these logics are largest in their ranges. this paper was the famous logic S4. The segment (see, e.g.. to epistemologists logics. It has been much argued that S4 is of logics between S4 and S5 has been especially attractive [ l-31 ). S4 and S5 are the best known modal a true logic of knowledge. Moore 1221 used S4 as a basis for his theory of knowledge and action. than Moore’s autoepistemic logic (= nonmonotonic KD45) some intuitively undesirable properties of Moore’s autoepistemic in [ lO,24] ) can be avoided. that using nonmonotonic In [ 301 it was shown logic (mentioned S4 rather On the other hand, Lenzen [ 131 argued that S4.2 rather than S4 is the “true” logic of In this paper we show that S4 and S4.2 are in the same range, moreover, S4.2 that if we accept that logic of knowledge logic in that range. This means Similarly, we strengthen then S4.2 and S4 do not differ. On the other hand, as S4.2 is the the special role that Lenzen was right in stressing logic: it does not imply any hidden general epistemic principles this means formulated in S4.2, and their logical consequences. knowledge. is the largest is nonmonotonic, largest logic in this range, of S4.2 as an epistemic but those explicitly The situation with S4 is especially intriguing in the following set T is an SCexpansion set of sentences, A, a consistent of A. It was also proved that S4-expansions [ 161 that for each$nite and only if T is an S4F-expansion with S4F-expansions for A’s without nested modalities, clear that examples of theories A demonstrating and S4F are different should be rather sophisticated [ 161). The authors of [ 161 hoped, because of strong positive be not too many “nonmonotonically coincide for sets A having only positive occurrences of the modality L, and it is logics between S4 in that there should the logics between S4 and S4F. However, having only negative occurrences (one such example was presented that nonmonotonic of L. Thus, different” results, respect. It was proved in of A if ? We argue in the next section that only log~cs contained in SS are of interest in the nonmonotonic context: however, for a more rigorous reader we prove that a logic not contained in S5 always has an expansion of an P) which cannot be an expansion for any logic contained in SS. G. Schwarz/Art@cial Intelligence 79 (1995) 39-63 43 in I,,, Ii (therefore, representation for knowledge logic in its range is S4.3, and each I,, is the largest infinitely many logics between S4.2 and S4.3 logics. More precisely, we give the infinite sequence in In+,, In+1 is properly all methods of this paper allow us to construct generating different nonmonotonic of logics {Zn}n such that for each n, S4.2 is properly contained contained Z,, are different). Originally we were not going that they are irrelevant as a tense logic with the operator “always found interesting Lamarre and Shoham epistemic modalities, look at nonmonotonic S4F. By using methods of [ 161, it is not difficult contained logics of infinite depth between S4.3 and S4F (see S4.3 were effectively described by Fine many nonmonotonically to consider all these logic, believing S4.3 is considered [ l] of S4.3. Logic S4.3 also naturally appears in the work of [ 1 I] devoted to the investigation of relationships between different so we believe to take a S4.3. It is still an open question, what happens between S4.3 and to prove that all logics of finite depth there are infinitely many [ 21). Because all the extensions of to find how in S4F 3 are in the same range of S4F. However, in future”). However, recently Boutilier logics are between S4.3 and S4F. [ 21, it should be not too difficult that it would be both interesting (traditionally, applications and useful logics The rest of the paper as follows. Section 2 contains necessary prelimi- logic and nonmonotonic modal logic. In particular, Section 2.2 contains in [ 261. In and show that KD45, SW5 and S4F naries of modal description of semantics of nonmonotonic modal logics, previously published Section 3 we strengthen earlier results of [25,28] are strongest the main logic complicated paradigm of maximal KR theory, suggests directions Short proofs are presented is to demonstrate idea of the technique we use in Section 4 to prove that S4.2 is the strongest technically than, say, for S4F, but the basic logics, explains in their ranges. Another purpose of that section in the range of S4. The proof of the result in the main body of the paper, whereas idea is the same. Section 5 presents a results for the for S4.2 is much more for further research. of obtained significance technical different is organized presented SW5, which we feel are of lesser conceptual in Appendix A. Finally, some technical longer proofs are results about logics between S4.2 and in Appendix B. are presented significance, 2. Preliminaries 2.1. Modal logics We deal in the paper with propositional modal logics only. We write L for the necessity operator. The dual to L, the possibility ,Ll. We refer considered (q/Lp) to [8] two . The modal axiom schemata of interest b us are: for the basics of modal inference the reader the paper have operator M, is considered rules: modus ponens in logics. All modal as an abbreviation to logics and necessitation 3 Roughly speaking, consisting of n + 1 consecutive logics of finite depth n are logics whose axioms may be falsified on each Kripke frame say, S5 has depth 1, S4F and SW5 are of depth 2. clusters; K 4 T D 5 WS F 2 3 UP 3 rcI) 2 (LP J Q) L@ 3 LL* L* I* L* 3 Mf+b ML@ > Li,b $ > (ML@ > L@) (cpA ML@) > L(Mpv$ ) ML@ > LMIC, L(Lp 3 9, v L(Lg .~I cp) All logics discussed in the paper are rrot~ral. that is, contain the schema K. S.5 is the logic based on schemata K, T, 4 and 5; S4 contains K, T and 4; T contains K and T, is S4 with the schema WS, S4F is S4 with F, S4.2 is S4 with the schema 2. In SW5 other cases, we will simply concatenate logic is based on (for example, KD45). names of schemata a modal Logics SW5 and S4F are not widely known. However, these logic for a long time under [ 131 investigated SW5 from the epistemological in classical modal and have been known and S4.3.2. Formal properties of these logics were investigated 1291. Lenzen arguments logic S4F to knowledge Let S be a modal I/J is derivable in favor of SW5 as a logic of true belief. In [28] representation were found. logic, A be a set of formulas. We write A FS (I/ to denote from A in S. That means that that there exist a sequence of formulas is $, and Ihr each i. 1 < i < n, at least one of the following logics are rather old the names S4.4 in detail by Segerberg point of view and gave of applications interesting formula , . cpl conditions holds: , (pn such that C+CJ,! tautology: . P,EA; 0 cp; is a propositional l C,O~ is an instance of a modal axiom schema of the logic S; l for some j, k < i, C,O~ has the form ‘p, 2 cp,: l cp; has the form Lpk for some k < i. We write A F sl, to denote that CL is a propositional consequence of A (in the modal language). We assume the notion of a Kripke model and basics of Kripke models [ 81). Here we recall some notation. A Kripke model (see. c.g. (M, R, V), where M is a nonempty also the accessibility relutiorz) and { Va}crE,~ is a family of propositional (M, a) k Q we denote (M, a) k L$ if and only M b ~4, if for each LY t M, {it!, LY) i_ 4. if f or each p E M such that aRj3, (M,p) set of hvorlds, R is a binary that a formula 9 is true in the world cy E M. Let us recall to be known is a triple M = relation on M (called valuations. By that k +. We write Let K: be a class of Kripke models, S be a modal logic. We say that S is determined language, FS p if and only if for each M E K, hi K, if for each formula cp of the m&al M I=P. A Kripke model of the form (M, M x M, V) is called an SS-model. It is well known by by the class of all SS-models. We will denote this %-model the accessibility relation, which is uniquely determined by M. that S5 is determined CM, V). skipping G. Schwarz/Arti&ial Intelligence 79 (1995) 39-63 45 (thus, A KD45-model if CY E M, then a KD45-model is a Kripke model of the form ({a} U M, ( {a} U M) x M, V) , where M is nonempty is an SS-model). An SWS-model is a Kripke model of the form ({cr} U M, R, V), where M is nonempty, and yRP if and only if p E M or y = LY. Thus, a KD45-model consists of an SS-model and an h-reflexive is an SS-model plus a reflexive world below world below the SS-model; an SWS-model the model. We will call the corresponding SS-model an upper cluster of the KD45-model (or SWS-model). determined KD45 and SW5 have the finite model property, the class of all finite KD45-models is SWS-models). Moreover, both is determined by It was proved by class of all KD45-models that the logic KD45 (respectively (respectively SWS-models). that is, KD45 (SW5) (respectively in [29] SW5) A Kripke model (M, R, V) is an S4F-model, Ml and M2, and for each (Y and p, aR/3 if and only Ml and Mz are uniquely determined and Ml a lower cluster of the model. determined by the classes of all S4F-models, if M is a disjoint union of its subsets if (Y E Ml or p E MT. Clearly, for an S4F-model; we call M2 an upper cluster, that S4F is It was proved by Segerberg [29] and of all finite S4F-models. A model M = (M, R, V) is an S4.2-model, relation on M, that is, for each CX, p E M there is some y E M such that aRy and PRy. Logic S4.2 is [ 8,291. determined If R is also connected, is also an S4.3-model. Again, S4.3 and of all finite connected models. that is, for each cy,p E M, aR/? or PRa, frames, and of all finite directed by classes of all connected, by classes of all directed if R is a directed is determined then M frames Assume that (M, R, V) is a finite Kripke model with directed R. Consider the set MO = {p E M: b’y E M(PRy 4 yRP)}. It is easy to see that MO is a final cluster (that is, for each LY, /3 E MO, aR/3; for each LY E MO, for each p E M, PRcY; if CYRP and (Y E MO, then p E MO). Also, because M is finite, MO is nonempty there would exist an infinite sequence of worlds {ai}i such that for each i, aiRai+i and not (Yi+i Rai; because R is transitive and reflexive, all the ai must be different). (otherwise Thus, each finite directed (in particular, connected) model has the nonempty final cluster. logic S is characterized We will use also some stronger completeness results than just listed. Let K: be a class by Ic, if for each (p, A ES 40 if and only if for each M E K, M b A that S4 is characterized of Kripke models. We will say that a modal for each formula set A of formulas, by class of all transitive implies M + cp. It is well known reflexive models, S4.2 is characterized transitive directed models, S4.3 is characterized by the class of all connected models, S4F is characterized that, for instance, S4 is not characterized by the class of all S4F-models. Note, however, by the class of all finite this class of models. and reflexive models, although S4 is determined by by the class of all reflexive transitive If K is a class of frames, then we say that S is determined (characterized) by x if S is determined (characterized) by the class of all models based on frames in x. By using standard canonical model technique to show by class of all directed models with the final cluster, and it is straightforward [8,19], that S4.2 is also characterized S4.3 is characterized by class of all connected models with the final cluster. 46 G. Schwur,-/Arrificiul Intelligence 79 (1995) 39-63 2.2. Nonmonotonic modal logics and their semantics The basic notion of nonmonotonic modal given axiom set. Let S be any monotonic a set T of formulas such that T={q Au{~Lt,k r/Q@T}ts(~}. logic is the notion of an expansion of a ofA we mean logic in C. By an S-expansion A formula is called objective by To the set of all objective consequences We always assume of T, and by Go(T) we denote logic S to contain (Cn(T))o. the necessitation if it does not contain any occurrence of L. We denote the set of all tautological formulas in T, by Cn(T) rule (q/&p). Hence, each S- expansion T is stable, which means that: T is closed under the propositional for any p, if p +! T then ~Lqc E T; and for any p, if 9 E T then L+o E T. consequence; It was argued [ 6,231 that a knowledge set or a belief set of a rational agent must be stable. We now recall some important properties of expansions we use in subsequent sections. Proposition 2.1 (McDermott Then any S-expansion of A is a I-expansion qf A too. ( 19 1 ) Let S and I be modal logics, let S C 7 C S5. For a set A of objective formulas, we denote by B(A) objective part is Cno( A). For finite A, st( A) is decidable the following semantic characterization be an SS-model making all the formulas propositional canonical %-model the unique stable set whose ). We will use in [ 6,211. Let M = (M, I/) valuations for each in A true, and for each cy E M, U,(p) = a(p), variable p. Then st( A) = Th( M). The above model M will be called the such that its set of worlds M consists of all propositional for A, or the canonical SS-model of T. of St( A ) (described (see, e.g., [lo] If for each theory A, for each T. T is a consistent S-expansion if of A, then we can say, that different monotonic modal of A if and only I-expansion T is a consistent logics, S and 7, determine S coincides with nonmonotonic the same nonmonotonic logic, nonmonotonic the same nonmonotonic logic as S does. the same nonmonotonic modal logic, or that “nonmonotonic if S C 7 C S5, and S and 7 determine 7”. Clearly, then each logic between S and 7 determines the ‘same logic. A range ofS is the collection of all modal logics which determine We will need in the next section the semantic characterization of S-expansions given in [ 261, so called minimal model semantics. set N C M is called a final cone of the model M = (M, R, V) if: A nonempty (i) N is a cone, that is, for each cy E N, for each p, CYRP implies (ii) N is final, that is, for each (Y E M, for each p E N, (YRP. It follows from (ii), that a final cone is necessarily (because N C M), so we will call a final cone also a jinal cluster. Also, a Kripke model can have only one final cluster let LY E N, ,8 E K; from (ii) for K we have aR/3, from (i) for N, we get /3 E N). A model N = (N, R’, V’), where R* and V* are the restrictions is called a final cluster model of M. We will sometimes write “final cluster” for denoting a final cluster model. (assume N, K are two final clusters of M; on N of R and V, respectively, a cluster /3 E N; G. Schwarz/Artijkial Intelligence 79 (1995) 39-63 41 No ambiguity will appear. The final cluster (and the corresponding cluster model) is proper if there is some LY E M\ N for each /3 E N there is a propositional variable p such that V,(p) # V,(p). Let M = (M, R, V) and N = (N, Q, W) be two Kripke models. We say, that M is final cluster model of M. We write M c N to an if M c N, then N is necessarily preferred over N if N is a proper denote SS-model. that M is preferred over N. Clearly, The following obvious proposition explains why we need to distinguish proper final clusters. Proposition 2.2. Assume of N. Then for each modal formula p, M b sp if and only if N 1 cp. is a final cluster of N, but not a proper final cluster that M If we interpret the knowledge (or belief) then M c N implies is included in each world of a model, to M in which agent’s knowledge, an agent, we look for a minimal model according agent still knows A. These informal considerations in the one with respect the agent knows to N. Thus, set of an agent as the set of sentences that the knowledge true set with respect intuitively, we prefer models of set of relation, where the less. If A is the initial knowledge to our preference are formalized as follows. then, as usual, a model If A is a set of formulas, in any world of which all formulas of A are true. Let K be a class of Kripke models. Let M be an SS-model relation. We say, that is a model for A, and there is no N E K such M is a K-minimal model for A, if M that N is a model for A and N c M. in K, i.e. a model with the universal accessibility for A is a Kripke model If S is any of the logics KD45, SW5, S4F, S4 or S4.2, by an S-minimal model (So it is clear that we mean a K-minimal model, where K is a class of all S-models. S4-minimal models and S4.2-minimal models coincide). Analogous notions may be introduced for other modal logics which have good Kripke characterizations. Let M = (M, R, V) be a Kripke model, let MO c M be its final cluster. Let N = (N, U) be a cluster. By the cluster substitution of N in M we mean ((M \ Ma) U N, Q, W), where for each IX, p E (M \ MO) U N, aQ/3 if and only if aRp or p E N, W agrees with V on M \ MO, and agrees with U on N. (In other words, we substitute the cluster N in place of MO into M.) the model Let K be a class of models. We say that K clusters and for each M E K, at least one of the following concatenation of M and each cluster belongs each cluster N, the cluster substitution of N in M belongs to K. is cluster closed all the to K, or M has the final cluster and for if K contains two conditions holds: Theorem 2.3. Let a normal modal by a cluster closed class of models K. Let T be any consistent Mr be a canonical SS-model of A. Then the following in S5 and be characterized stable set of formulas, three conditions are equivalent: logic S be contained ( 1) T is an S-expansion (2) MT (3) of A; is an S-minimal model for A; for some SS-model M, T = {$: M k (cl} and M is S-minimal for A. Clearly, Theorem 2.3 applies to logics S4, S4.2, S4F, S4.4, KD4.5, S5, S4.3 and many others. McDermott [ 191 proved that for each logic S containing the necessitation are closed under S5. We believe that only logics contained and consider only expansions indication reasoning, reader, we can prove the following simple proposition asserting in S5 (but containing the necessitation contained logics contained in S5. in S5. However, for a formally oriented that a logic not contained rule) can never be in one range with any logic that this, along with the intuition, in S5 can be a reasonable basis for nonmonotonic rule all S- is a clear Proposition 2.4. Let S be any logic contuined in S5. Then there exists u consistent S-expansion I-expansion of (il. in S5, and 7 be any logic not contained is not a theory which of the empty Proof. All I-expansions are closed both under 7 and S5, hence they arc closed under the logic C which contains all the schemas of S and 7. C is a proper extension of S5. [ 291 gave a complete description of all extensions of S5. Each such extension Segerberg is a logic S,, which is determined by the class of all SS-models containing no more than II worlds, for some finite 72. Thus, for some II, C is S,,. But St(g) of 0 [ 301. Let PI, all the formulas M(pl A p;_i A m’p, A pl+ 1 A of all these formulas conjunction variables. Then St( 8) contains for each i, 0 < i < n. But the in S,,, hence St(@) cannot be closed under , p,, be pairwise different propositional A p,) is an S-expansion is refutable S,,. n of A, and A is inconsistent with S (that is, A FS false). Hence if we take inconsistent if A has an inconsistent two logics expansions. What [ 191 noticed that Remark 2.5. We defined consistent Dermott S-expansion and S and 7 are in the same range, different expansions consistent. Because expansion are usually understood in nonmonotonic we can still consider S and 7 as nonmonotonically logics containing a theory ing S4 all our results concerning too. S4, then such subtleties consistent is if some A has no S-expansions, the absence of expansions to be “undistinguishable”, expansions S-expansion then the only possibility if they have the same too? Mc- into account, it is the only then if S C 7 for 7 and S to have is in- logic as nonmonotonic indistinguishable. and the only I-expansion and the presence of the only inconsistent inconsistency, But if we consider that for logics contain- hold for arbitrary expansions at all. It is well known expansions are inessential is consistent with S4 iff it is consistent with S5. Hence 3. Maximality property of KD45, SW5 and S4F We proved in 1271 that the empty theory has only one KD45-expansion, SWS-expansion, theory has at least two S-expansions. contained and only one in S5, the empty for each logic S containing S4F and in S5, there is a theory I such that I has no nested modalities and no positive but for each extension S of KD45 or SW5, contained Similarly, G. Schwarz/Artijicial Intelligence 79 (1995) 39-63 49 of L, and there is an S-expansion of I, which is not an S4F-expansion results of [28] do not imply that KD45, SW5 and S4F are maximal that, say, S4F is the largest the possibility coincide with S4F-expansions. of the existence of a logic incomparable The situation of in their in logic for KD45 or that result from It follows these results they do not exclude occurrences I [28]. ranges. However its range: with S4F, whose expansions SW5 the logics are largest of S4F (or KD45) given by Segerberg logics incomparable with S4F (or KD45) in their ranges: we used the complete description of all extensions in [29], and no effective description of all the is known by now. is the same. Moreover, methods of [27,28] cannot give the stronger Below we prove that KD45, SW5 and S4F are largest in their ranges. That means, for example, in S4F. that each logic whose expansions coincide with S4F-expansions, is contained Theorem 3.1. Let S be any logic contained there exists a theory I such that some S-expansion in S5 and not contained of I is not a KD45expansion in KD45. Then of I. Proof. Presented in Appendix A. 0 Corollary 3.2. Zf S is any logic in the same range as KD45, then each theorem of S is a theorem of KD45. Theorem 3.3. Let S be any logic contained there exists a theory I such that some S-expansion in S5 and not contained of I is not an SWS-expansion in SW5. Then of I. Proof. See Appendix A. 0 Corollary 3.4. If S is any logic in the same range as SW5, a theorem of SW5. then each theorem of S is Theorem 3.5. Let S be any logic contained there exists a theory I such that some S-expansion in S5 and not contained in S4F. Then of I is not an S4F-expansion of I. Proof. See Appendix A. q Corollary 3.6. If S is any logic in the same range as S4F, then each theorem of S is a theorem of S4F. The depth of a Kripke model (M, R, V) with the transitive accessibility relation is the largest number k such that there exists a sequence of worlds of the length k, WI,. . . , Wk that for each 1 < i < k, wiRwt+l, and not Wi+t Rwi. Logic S has depth k, if such each underivable formula of S can be refuted on a Kripke model of depth k, and some I of S can be refuted on a Kripke model of depth k + 1. For instance, S5 is theorem of finite depth 1; SW5 and S4F are of depth 2. Logic of finite depth is a logic which contains K4 and has depth k for some natural number k. Logics S4, S4.2 and S4.3 are of infinite depth. We show in Appendix B that all logics of finite depth which are 50 G. Sclnwm/Arhjukzl 1ntelligetrc.e 79 (1995) 39-63 contained logic of depth k, so the range of S4F is quite large. in S4F are in the range of S4F. We also present for each k a (well-known) 4. The range of S4 It is clear that if M (cid:228) N. and M is also an S4.2-model, hence consistent S4-expansions coincide. However, this fact is quite simple and can be established without any knowledge of minimal model semantics. Moreover, leaves a logic in the same range. the scheme 2 always and S4.2-expansions is an S4-model, then M Proposition 4.1. Let S be uq modul logic contained by e.xtending S with the schemu 2 is in the same range as S. in S5. Then the logic I obtained It is sufficient $ $! T}) C T. Thus, to show I-expansion of A. Assume T = Cn7(A it remains that each consistent !? .I~@: @ $! T). Because S to prove that each p E T is derivable of A is also an S- i T, Ctzs(A U in S from 9 $T}. F or, it suffices to prove that each instance of schema 2 is derivable If 40 +! T, $ 6 T}), hence, by $ 6 T}. Let ~LlLqc X, L-lL~qc be such an instance. rule, we have L-T& the necessitation t Cns( {?L$: Proof. expansion {-L$: Au{-L$: in S from {+/J: then, using propositional logic, we have >Lm;Lq > L-Ly E Crls(A U {1Lt,b: (I $! T}). Assume now that p t T. Then ~rp $ T. and again, using necessitation tional logic we obtain ~LlLqo > Ll.Llq E Cns (A U {-LA): qb $! T}). and proposi- 0 Thus, S4.2 and S4 are in the same range. We prove that S4.2 is the largest logic in the construction this range. The basic idea is the same as for S4E but it requires essential modification: if we try to repeat of the proof of Theorem 3.5, we will fail, because for general S4.2-models we will not have /?Qa,, for each j3 not in the final cluster of P, in [ 161 that for all finite theories like we did for S4F-models. Moreover. the theory I having an I, S4F-expansions is not an S4.2-expansion, must necessarily be infinite. We achieve S-expansion which the goal carefully the formula LF --) (C A r) of the proof of Theorem 3.5 into infinitely many of I are the same. Thus, and S4-expansions it was proved formulas. splitting Theorem 4.2. Let S be any mod& logic which is contuined in S5, but does not contain S4.2. Then there exists a theory A such that A has u consistent S-expansion which is not an S4.2.expansion. Proof. See Appendix A. U Corollary 4.3. Logic S4.2 is largest in the runge of S4. The proof of Theorem 4.2 was constructive in S4.2 we can construct nonmonotonic an infinite logics. We give an example of applying enough, theory which will distinguish so for a logic not contained the corresponding to show that non- this technique G. Schwarz/Artijicial Intelligence 79 (1995) 39-63 51 S4.2 (and, hence, from nonmonotonic as “always logic S4.3 differs from nonmonotonic monotonic S4). S4.3 is very popular and serves as a basis for tense logics (the accessibility r is interpreted knowledge models as a basis that it be possible correctly nonmonotonic and to nonmonotonic for his proposal of a generalization to introduce gradation of belief. Thus, of the autoepistemic it might be worthy in the future”). But it appears logics: Craig Boutilier representation, relation to [l] used S4.3- logic so to locate that S4.3 is also relevant S4.3. Example 4.4. Consider an instance of the axiom of S4.3, F = L(Lp 3 q)) V L(Lq 3 p), where p and q are different the following Kripke model: M = (M, R, V), where: . M={O,P,QJ>; l ~RPiff~=Oorp=l; l p is true in P and 1, and is false in Q and 0; q is true in Q and 1, and is false in atoms. Consider P and 0. is an S4.2-model. Clearly, F(p,q) Thus, { 1) is a final cluster, and M is false in 0, is not an S4.2- so we can use F to obtain a theory having an S4.3-expansion which expansion, as we did in the proof of Theorem 4.2. In our case K = {l}, so formula C (p, q) is just one disjunct, namely, C(p, q) = p A q. Let pt , ~2, . . . and 41, q2, . . . be from all pi and qi. From the proof of infinite is not Theorem 4.2, we obtain an S4.2-expansion: theory A having an S4.3-expansion which lists of different variables, r be different the following A={(L(LPI >qi)VL(Lqt 2~1)) >r> u lJ{L(WR,., 3 qnr+1 ) VL(@,,I 3Pm+l)) 3 bnbn))l<n~<co. Remark 4.5. In [ 161 an example of a theory having an S4F-expansion, S4-expansions, was constructed; S4.3-expansions, is easy nonmonotonic in fact, the (infinite) to cheek. So nonmonotonic but having no there has no S4.3 lies strictly between S4.2 and S4.F. Note that for finite theories all three logics coincide. theory constructed which 5. Discussion. The paradigm of maximal logics There are infinitely many modal logics, but only few of them are considered as in philosophical intuitive considerations reasonable logic consist While intuitions by exact mathematical axiomatizations question “why are intuitively “why not more?‘. For instance, a typical argument logic of knowledge, if we interpret in favor of any particular logics of knowledge and belief. Usually, arguments speculations about intuitive meaning of particular axioms. are important, we feel that it would be nice, to augment based on answers on the arguments, why axioms of a given system to the question, in favor of the point that S4 is “the” to be natural (negative of logics these axioms?’ by providing acceptable. But they fail to provide a reasonable argument the modality L as “is known”. An SS-axiom ~Lrp > LlLp is the following. All the modal axioms of S4 appear is the following. They usually give reasonable results. A drawback of intuitive considerations possessing P. Then. 52 G. Schwarz,/Artijzciul lnrelli~ence 79 (1995) 39-63 does not correspond introspection) holds when q is in fact false; so s/he does not know 9, although Thus, S4 is the logic of knowledge. to the intuition (an agent can be convinced that p is not aware of this). But there are infinitely many normal modal logics between S4 and S5! In fact, from that the set of logics between S4 and S5 has the a result of Jankov cardinality of the continuum. So how we can be sure that there is no logic between S4 and SS satisfying our intuitions? [Y] it follows We suggest the following approach to the problem. Consider some property, P, ot modal logics such that: l P is “natural” for a suggested interpretation of the modal operator, or is otherwise desirable; l P is stable with respect the property to intervals of logics: if St and S2 are two logics both ‘P, then any logic between St and S2 also has the property if we find a logic S which is otherwise acceptable, has the property P and is to P, maximal with respect that we have put as much as we could we can prove that S is the largest off: S has no potential competitor then we have a strong, and not an ad hoc style, argument in S: nothing can be added to S. If, in addition, then we are even better logic with the property P, for its role. Of course, the above scheme may be applicable not only to logics of knowledge and argument that logics of knowledge There has been a reasonable belief, but in any situation, when we are in search for a “true” logic for any application. and belief are non- logics, and we focus our investigation on one of the most known and mostly and Doyle’s approaches reasoning. This in properties of is that this ap- logic monotonic advanced approach, which emphasizes approach a logic as a member of a family of all possible proach the corresponding logics, namely McDermott character of epistemic investigations when we are interested logics. The reason to nonmonotonic modal the self-referential to each possible monotonic modal very uniform: is technically is convenient It assigns to such logic. nonmonotonic Several results has been previously obtained In [ 251 we proved that logics KD45 and SW5 are maximal This theory has only one S-expansion. that each objective it states that if our axioms do not say anything about knowledge, expansions should be the same as that of the usual monotonic in this direction. logics S with the property is a very natural property: then the behavior of consequence. In [28] we proved that S4F is maximal with respect then A has only one S-expansion A consists only of formulas without nested modalities, in A are negative, the objective part of the deductive closure of A. This is a very important and desirable property: S does not admit so-called ungrounded expansions, like an expansion St(/>) of the theory Lp > p in Moore’s autoepistemic logic. it says that nonmonotonic roughly, to the following property: and all the occurrences if of L T, and the objective part of T is from It follows the above results in their ranges. In the present paper we strengthened that these logics are also largest in their ranges. This is only a partial success in the direction we outlined in their ranges, above: that logics KD4.5, SW5 and S4F are maximal this result by proving to show that they are largest not just It would be interesting G. SchwardArtijcial Intelligence 79 (1995) 39-63 53 for proving maximality to properties of the two previous paragraphs. We presented but largest with respect a technique results based on the minimal model semantics of nonmonotonic modal logics we developed earlier in [ 261, which is a significant advance there in comparison with the technique used in [25,28]: looked are infinitely general many), all extensions of logics technical as they referred the proofs had a very ad hoc character, as they used the complete description of in question. result of the paper is that S4 is not a maximal the results (which the logic containing, The central say, S4F although to all to an argument logic in its range, that S4.2 should replace a point expressed earlier in [ 131 based but the logic S4.2 is. This is a formal support S4 as a candidate for “the” logic of knowledge, on purely philosophical considerations. In view of our general program, it would be interesting for which S4.2 would be maximal. Because with S4F-expansions, Another open technical question we can suggest such a property must necessarily for finite theories S4.2-expansions to find a general property coincide involve infinite theories. is the following. Our example of involves but has no S6expansions theory A which has an S4F-expansion, an infinite infinitely many propositional coincide with S4-expansions. But can we give such an example many propositional variables? variables. We know that for finite theories S4F-expansions involving only finitely Finally, we would like to pose a problem concerning S4F which, although yond our outlined program of investigating tance for knowledge epistemic representation logics. ranges and maximal properties, as part of general program of exhibiting it lies be- is of impor- reasonable Previous research, including the present paper, suggest that the following particular interest: S.5, KD45, SW5 S4F and S4.2. Among one whose axioms do not look very natural under the epistemological modality: we cannot provide a reasonable argument hand, recent work shows that nonmonotonic for a detailed of that logic). investigation logic, Lin and Shoham’s default minimal) In many knowledge. logic, or reflexive autoepistemic it is more natural in [ 251. respects logic introduced and Lifschitz’s versions of logics S4F is a truly remarkable logics are of these logics, S4F is the only of in favor of the axiom F. On the other logic (see [28] logic, (or for grounded understanding It generalizes Moore’s autoepistemic then Moore’s autoepistemic Logics KD45 and SW5 have an important referring nonmonotonic corresponding without logic Moore’s autoepistemic reflexive autoepistemic logic expansion of A if and only if to any particular modal [ 25]), (see introduced logics: in purely propositional advantage over other modal the terms, logics. Nonmonotonic KD45 coincides with and nonmonotonic the in [25]. A theory T is a consistent KD45- SW5 coincides with logics admit description T = Cn(A U {+k I/ 6 T} u {Lt+k (Ir E T}), where Cn denotes usual propositional described as solutions to the fixed point equation closure. Similarly, consistent SWS-expansions are T = Cn(A u {+,k t+b $ T} U {I!# = @: $ E T}). to get a similar “purely propositional” It would be interesting monotonic S4F. Or to prove that such a description an appropriate work of Gottlob of Reiter’s default is very likely that a nice propositional logic into Moore’s autoepistemic [ 41, who proved formal definition of what a “propositional is impossible description of nonmonotonic description” logic is impossible, that in some precise sense, a syntactical for the non- description (this would require also is). In fact, recent translation suggests S4F is impossible. that it Concluding, we would outside find applications some new results on nonmonotonic like to express the McDermott-Doyle the hope that the idea of maximal logics can scheme. Our goal, besides presenting logics, was to show how such a paradigm can work. Appendix A. Proofs Theorem 3.1. Let S be unp logic, contuirled there exists u theoq I such that some S-e.xpansion of I is not a KD45-expansion in S5 and not contained in KD45. Then of I. in KD45, there is a formula which is a theorem of S but Proof. Since S is not contained ,p,, be not a theorem of KD45. Let F = F(pl , the complete theorem for KD45, there is a finite KD45-model M = ({a~} u M, R, V) with the upper cluster M, such that M p F. Because F is a theorem of S5, F is true in all the worlds in M, hence (~0 $ M and CM,cuo) pF(p~,...,p,,). , p,,) be such formula and let p,, . variables. By the completeness list of its propositional let M = {PI,. . , /3k}. F or each fl t M. by pfi we will denote ,6?, and its negation up, if p is false A ~7~0. Finally, let C = C(pl, . . ,pn) be a disjunction the variable in /?, By Pp we Now if ,V is true the conjunction in the world plB A p. denote PpI V V Pp.. Let I be a propositional letter different from all the pi’s. Finally, we put /={F(p ,,.... p,,) II) CC(p I..... pn) Ar)}. We shall prove the conclusion that I satisfies expansion of I, which is not a KD45-expansion of the theorem, of 1. that is, there is an S- First, since F is a theorem of S, I is equivalent Therefore, according I. Let N = (N, W) be the canonical SS-model I, which 2.3. is not KD45-minimal. Hence, to a result of [ 301, the theory T = St( C A r) is an S-expansion in S to an objective theory C A r. of is a model of the desired conclusion will follow by Theorem for C A r. We show that N Formula C A r is true in A’, hence I is true, too. Now it remains to construct a KD45-model P such that P c N. and P /= 1. Clearly N consists of all the worlds where r is true and one of Pp for some /? E M in N where Pp is true. is true. Let us denote by Np, for fl E M, the set of all worlds Clearly, each Np is nonempty, and N = U{ Np: p E M}. Consider now the KD45-model P = ({LUG} ii N, Q, Or), where Q = ({a~} u N) x N, that U coincides with W on N, and put r/,,, (y,) = V,,, (pi), Uan, (r) = false. We claim only variables ~1,. for each formula cp containing Np, (M,/3) k rp. l foreach Pt M, foreachyE l (M,q) . ,pn the following hold: kcp if and only kpifandonlyif if (‘P,,(j) (P,y) kp; G. Schwarz/Art$cial Intelligence 79 (1995) 39-63 55 We prove these claims by induction on 9. The induction basis follows immediately from the definition of P. The only nontrivial case in the induction step is if q = v. that /3 E M, y E Np, (M,P) the Assume Hence, by (P, S) b 9. Because (P. 8) + $, hence (P, y) I= W. hypothesis, induction each S E N belongs k L$. Then for each 77 E M, (M,v) + #. for each 7 E M, for each 6 E NV, we have to some N,, we have for each 6 E N, Conversely, assume that y E Np, (M, /3) k Le. Consider Because Ns is nonempty, we have some v E Na. We have rQ7, hence the induction hypothesis we have (M, 8) + q. Because S was arbitrary an arbitrary 6 E M. (P, 7) k $. By in M, we have (M,p) t=L$-. Assume now that (M, a~) b L$. Then for each p E M, (M, /I) b $. Repeating our that for each y E N, (P, y) b @, hence (P, ao) b L$. the repeating for the first clause, we get for each p E M, (M, p) I$, Conversely, if (P, LYO) t= Lt,k, then for each 6 E N, (P, 8) b r,~+. Again, considerations we presented hence (M, cq) + L$. Thus, our claim Because F contains no propositional is proved. letters other then pt , . . . , pn, we have above considerations, we obtain (P,,o) I+ F. (A.1) Hence we have (P, au) \ F 3 (C A r). Also, P c JV, because in n/, and is false in q. Thus, JV is a model of I which is not KD45-minimal, T = Th(N) is not a KD45-expansion of {F > (C A r)}. Cl I is true everywhere therefore, Theorem 3.3. Let S be any logic contained there exists a theory I such that some S-expansion in S5 and not contained of I is not an SWS-expansion in SW5. Then of I. Proof. The proof is the same as that of Theorem 3.1. The only difference should in S but not in SW5, and as a model-an falsifying F. take a formula derivable 0 is that as F we SWS-model Theorem 3.5. Let S be any logic contained exists a theory I such that some S-expansion in S5 and not contained of I is not an S4F-expansion in S4F. Then there of I. Proof. Here we need a small modification contained Let F be such formula and ~1,. . . , p,, the complete By the completeness theorem a world (~0 E M such that (M,ao) upper clusters of M, foreachcuand/3,crRPiffrwEMuorpEMr. to the proof of Theorem 3.1. Since S is not in S4F, there is a formula which is a theorem of S but not a theorem of S4F. variables. for S4F, there is a finite S4F-model M = (M, R, V) and Let MO and Ml be the lower and respectively. That is, M = MO U Ml, MO and Ml are disjoint, and list of its propositional F F(p~,...,p~). Because S is contained in S5, we have (M, p) k F for each /3 E Ml. Hence q E MO. Nowlet Ml ={/?I,.. in the proof of Theorem 3.1, using Ml different from all the pi’s. We put: . , Pk}. We define formula C = C (~1, . . . , p, ) exactly as we did letter in place of M. Let r be a propositional 56 G. Shwrz/Art~fihd htellipm~e 79 (I 995) 39-63 like we did in two previous to prove the truth of I in the worlds of the (Note that we would fail if we took the formula F > (C Ar) theorems, because lower cluster, different WC shall prove from LYO. ) that I satisfies then we would bc unable of I, which the conclusion is not an S4F-expansion S-expansion S, I is equivalent [30], S4F-expansion in S to an objective the theory T = St(C A r) is an S-expansion theory C A r. Therefore, according of I by using Theorem 2.3. that is there of the theorem, is an of I. First, since F is a theorem of to a result of of 1. We will prove that T is not an Let N = (N, W) be a canonical %-model for C A r. Let P = (MO U N, Q, U) be such that czQp iff a E MO or p E N, U coincides with W on M, and U,,,(r) = ,fhlse. Like in the proof of Theorem 3.1, we can show for each LY E MO, b -F, and, hence if (P. a) k p. Hence we obtain /3 E MO. /~Q(Yo, we have for each p E MO, (P,p> k LF > (C A r). And because we have N 1 C A r, we obtain P 1 I. a Kripke model Up(pi) = V,(pi), that for each formula 40 consisting (.A4, au) k (o if and only since (P,/?) of variables PI.. that (P, q) . ,p,, only, for each k lLF, Also. N is a final cluster of P, and, since Y is true in N and false in cy,, E MO, N is a proper final cluster of P. Thus, N model of I, hence T = Th( N) is not an S4F-expansion of 1. 0 is a model of I which is not an S4F-minimal Theorem 4.2. Let S be an! modul logic which is contained in S5, but does not contain S4.2. Then there exists a theoy A .ruch that A has a consistent S-expansion which is Yzot art S4.2-expansion. that there is a formula F = F( ~1,. , p,,) which is a theorem of S, Proof. Assume there exists a finite S4.2-model M = (M, R, V) and but not a theorem of S4.2. Then ,pII ). Because M is finite and directed, M has a0 E M such that (M, a final cluster. Let K be a final cluster of .M, P = M \ K. That means that M is a disjoint union of K and P, for each cy E M. for each p E K, aRP, and for each p E K, for each y E M, PRy implies y t K. p F(p1. q) Clearly, Let K = {PI,. (~0 $! K. (Because F is a theorem of S5, we have p k F for each /? E K.) (M, p) b pi, and let E’;p be 7p.i otherwise. Let Pfl be a conjunction P,fl A By C=C(pl,... of all formulas Pp for all p E K. , pn ) we denote the disjunction I < ,j < k, and for each p E K, let F’i’ be pi, if A P,,p. . , &}. For each j, Now we are in a position pairwise distinct propositional theory, consisting of the formula F(pl’ to give an example of a theory A. Let {Pj’}l<j<n,l</<a be from all pi’. Let A be an infinite letters, let r be different , ,p,,‘) > r, and of all the formulas LF(p?‘+ ,..., p,,“‘+‘) I C(p,“‘,. ...p,l”‘). for all 112 3 I. We assume that there are countably many propositional Therefore, we can assume, without variables of the language. loss of generality, variables that the p: in our language. and r are all the G. Schwan/Art$cial Intelligence 79 (1995) 39-63 51 We claim that A satisfies the desired properties. First, by the definition of a logic, and we consider . . . ,p,,“) rule. Hence, all the formulas LF(ptm, for variables, the necessitation the set of theorems of S is closed under substitutions only logics containing are theorems of S. Hence, r and all the formulas C (pt ,x, . . . , p,” ) , m 2 1. Hence, T = St( 0) of A. We will prove semantics. that T is not an S4.2-expansion in S, A is equivalent to the objective of A, using theory 0 consisting of is an S-expansion the minimal model .%-model Let N = (N, W) be a canonical in particular, that T = T/t(N) ). Each world cr of N has the following property: for each natural number j 6 n, W,(pj”) = Vpn(pj) m, there exists & E M, such is true in N) . is implied by the fact that the formula C (pt “‘, . . . ,p,,“> (this property Conversely, because N consists of all the worlds where all formulas of 0 are true, for there exists a world LY E N such that for each each sequence of worlds of M, {p,},, that for each (that means, j, 1 6 for 0 j, 1 6 j 6 n, Wa(Pj"'> = bn,(Pj). (A.2) variables of our that N consists of all Because I is true in all the worlds of N, and all the propositional language are p/’ and r, we can, without the infinite by (A.2) for pj”‘, and W,(r) is true for each (Y E N. loss of generality, assume sequences CY = {&,,}, of worlds of M, and the valuation W is determined In other words, (Y treats pj”’ like the mth component of LY treats pi. Because each member of A is an implication whose successor is in 0, and N is a model of 0. we have N +A. (A.3) the proof S4.Zminimal that T is not an S4.2-expansion Thus, we have that N is an S-5model of A, and T is the theory of N. To complete that N is not for A, that is, to construct an S4.2-model P such that P + A and P c N. that our initial the final cluster K and the rest P. For each natural the P,,, are disjoint copies of P. Let the model P = (B,Q, U) as follows. First, remember the set {m} x P. Thus, of A, it remains We construct to show model M consists of two parts: number m, let P,,, denote B be the disjoint union of N and all P,,,, m = 1,2,. relation Q as follows. Put rQP if and only if m < n or (m = n and PRy). for all p E N, y E B. For p, y E P, put (m, p)Q(n, y) . . . Now, define the accessibility In other worlds, N is the final cluster of P, and we put the infinite sequence {Pi}, the valuation U. For of copies of P, “converging” p E N, we put Up to coincide with Wp. to the final cluster N. Now, define Let us fix an arbitrary PO E K. Let a = (m, /I). We define U, (pi”) = V’(pi), and for all I f m, we define U,(pi’) = Vb(pi). Finally, we put W(l,,,) (r) = false, and Wp( r) = true for all /3 different from (1, a~). A formula r is false in (1, a)~) and true everywhere the proof of the theorem, in N. Therefore, N is a proper to prove that it remains final cluster of P. Hence, P FA. to complete 58 G. Schwun/Art~fkd intelligence 79 (1995) 39-63 Claim A.l. Let q(pl Then: , , p,, ) be any jtirmula constructed from variables ~1, , p,,. (i) For each cy = {a,}, t N, ,for each m. P, cy k qo(pl “I, . . . , p,,“‘) if and only if k q(p~“‘, . . ,p,,“‘) if and (ii) ~~(PI~~~..P,I)~ (M,%,) for each m. for each 1 > M. for each y t PI, (P,y) or&-if (M,Po) /=dp~,...,pn). (iii) For each m, for each y E P, (P.(m,y)) k q~(pk~*,.. .,p,,“‘) if and only if (M,r) t=dp~,...>p,,). Proof. All the items are proved by induction on the complexity of 9. immediately (i) The induction basis follows only nontrivial case in the induction L$(p,“‘, Fn 7’~ = p. we have (P, y) b $(p~ ‘I’. k@(p) have foreach PE M, (M,P) from the definition of the model P. The (P, (w) k . . , p,,“‘). Then for each /3 t M, for the world y = {Y~,}~! such that for each , p,,“’ ) Hence, by the induction hypothesis, we . . . . . p,?), hence (M,cu,,) kL$(p~ . . . . . pn). step is if 9 is L$(pl “I,. . , p,“‘). Assume Conversely, assume . p,,). Then for each y t M. (M, y) k , p,,). But for each /I E N there is some y t M such that Pnr = y, hence, ap- (M. a,,,) b L$(pl . the induction hypothesis, we obtain for each p E N, (P, /3) b $(pl (P,(w) /= L@(PI”‘, ,p,,“‘). ‘I,. . ,p,“‘), , @(p, plying hence (ii) The induction basis follows from the definition all the worlds of Pi coincide with values of p, in PO). In the induction nontrivial logical symbol of cp is L. case is if the main (for all 1 # m, values of pin’ in step the only (P,y) ,p,,“‘), b Ly?(pl”‘.... hence by (i). .p,,“‘). Then we have for each cr E N (P,,) Ibr each cy c M, k $(pl (M,a) .p,,), ,. k hence Assume *([q”‘. (M,Po) Conversely, ~=W(PI....,P,,). assume either 6 t N, or 6 t F’, for some latter case by the induction ,p,,“‘). (P,y) + L@(pln’, (M, PO) k L$(pi. (iii) Again the induction case is if q~ begins with L. (P, Assume (m, y)) j 3 1. In the former case by (i), and .I),,). y E P,, 1 > m. Assume yQ6. Then the (P, S) k @(pl m,. . . , p,“‘), hence in hypothesis we obtain basis follows from the definition, and the only nontrivial k L$(pl”‘. ,P,~“‘) and prove (M,r) k W(PI,...,P,). Assume yR6. Either 6 t N, or 6 E P (in which case also (m, y)Q(m, 6)). in the latter case by the induction case by (i), and hypothesis we have In the former (M, 6) k ccl(p~ . . . . ,P,~), hence assume three cases is possible: Conversely, (M,y) (M, y) k L@(pl ~=W(PI.....P,,). , .p,,), y E P. Let (m, y)Qs. Then one of (I) 6~ N; (2) (3) for some 1 3 m, 6 E 4: for some 71 E P such that yR7, 6 = (m, 7). If ( I) holds, we obtain (P, 6) 1 @(pin’. . . ,p,“‘) from hence holds. We have yR& If (3) holds, lcI(pl’l’, tion hypothesis. Thus, we obtain . ,p,“‘). k fi(pl,..., (M,Po) then we have (P, 6) b #(pt”‘, p,), (P, y) k L$(pl”, , p,“). hence by that (?,a) (i). Assume (ii), (2) k . . . ,p,“‘) by the induc- 0 G. Schwarz/Art@cial Intelligence 79 (1995) 39-63 59 Proof of Theorem 4.2 (Continued). From the claim we conclude that, for each m, (P, (m,ao)) k+h”,. . . ,pn”>. (A.41 Now we show that for each world LY of P, (P, cy) k A. Consider all the members of A. Because in all the worlds p different from (1, a~), ,p,,‘) > r is true in all these worlds. On the other . Thus we have P b in (1,cro) is false . .,p,‘> r is true, we have also F(pi’, hand, according . . to (A.4), F(pi’,. F(pl’, . . . ,p,‘) 3 r. All the other members of A are of the form LF(py’+‘, . . . ,pnn’+‘) 3 C(Pl”‘, . . . ,p,“). (P, a) k C(pim,. Let us denote (Y, hence q,,, is true of the claim, where k < m. Then we have aQ((m+ +(pi”‘+l,. Thus, we have P k A, and, because P model of A. ). Hence . . ,pp+l 0 this formula by p,,,. If (Y E N, then the successor of pm is true in (Y. If LY E Pk where k > m, then again, according . . ,pnm), hence l),cuc), and, by (A.4), (P, cr) + (Do. Assume (P,((m+ . . . ,pnmf’), hence is an S4.2-model, N is not an S4.2-minimal l),aa)) (P, a) + lLF(ptm+‘, in to (ii) that cr E Pk, k (P, a) 1 ppnt. Appendix B. Between S4.2 and SW5 look at the segment In this section we take a closer [ S4.2, SW51 . In particular, we infinitely many different show that S4.3 is the largest logic in its range. Also we present logics between S4.2 and S4.4 which are largest in their ranges (and therefore, different). All these logics belong As for the segment that all there are logics of infinite depth between S4.3 and S4F. We do not know by now different, or coincide with S4F, or whatever. But because [2], we hope that these logics of finite depth contained infinitely, many if they are nonmonotonically all the extensions of S4.3 are effectively described by Kit Fine questions to the family of so-called [S4.3, S4F], in S4F are in the same range as S4F. However, remains unclear. We show should not be too difficult. logics of finite width. the situation Careful examination of the proof of Theorem 4.2 allows us to separate the properties class of Kripke frames which are really used in the proof. of a logic and its characterizing We will list these properties and exhibit infinitely many logics with these properties. First, let us introduce some notation. Assume infinitely many copies of 3. Formally, and K be the final cluster of F. By 3- we will denote from F _? = (M \ K, R \ M x K) . By 3* we denote concatenating Then 3* = (w x M, Q), where (m, a)Q(n, p) By TX7 we denote Now, it is easy proof of Theorem 4.2. the concatenation to formulate of frames 3 and Q. conditions that 3 = (M, R) is a Kripke frame, the result of removing F the frame which is a result of let w be the set of natural numbers. if and only if m < n or m = n and aR/l. on logic S which were really used in the 60 G. Schwarz/Arti$cial Intelligence 79 (I 995) 39-63 in S5, and C and 2) are classes of that the following hold: from C and D are transitive, reflexive and have a final cluster,. that S is u logic contained Theorem B.l. Assume frames. Assume l all frames l V is a class of finite frames: l S is determined by V; l S is cluster closed: l S is characterized by C; l for each 3 E ‘D, and for each cluster K, (3~- ) *^K E C. Then for each logic I which theory I such that some I-expansion is contained in S5 but not contained of I. of I is not an S-expansion in S, there is a Proof. Careful examination general, proposition was proved. 0 of the proof of Theorem 4.2 shows that, in fact, this, more Now it is clear that S4.3 meets the conditions of the theorem: we can take the class frames with the final frames as V. and the class of all connected of all finite connected cluster as C. Now consider, for each n, the logic J,, which is the result of adding to S4.2 the following axiom schema: this schema asserts that there cannot be more than n pairwise incomparable Intuitively, worlds, visible A frame from any world. i and j, neither a;Raj, filtration (M, R) is said to be of width n if there are no worlds at,. . , a,+~ such nor ojRat. By using standard methods that for each different to (see of canonical model and the Lemmon prove that by class of all frames of width n with the final cluster, and is determined by the subclass of all finite frames of this class. Also, it is clear that JI coincides with S4.3, and that each I,,+! is properly is of is also of width n, hence all the conditions of theorem B.1 width n, then, clearly, 3-* in a proposition. all these observations apply to J,,. We summarize it is straightforward .Z,, is characterized in I,,. Also, [3,6,29]), included if 3 Proposition B.2. There is a sequence of logics {J,,}, such that for each n, S4.2 c J,,, J r1+ I is properly contained in J,,, J1 is S4.3. and each Jt is the largest logic in its range. class of logics, namely There is another well-known frame logics of finite depth. A transitive (M, R) has depth at most n , if there is no sequence LYI,. . . , a,,+] and reflexive such that for each i, 1 6 i < n, aiRat+, , but not (Yi+i Rai. Let Z, be a logic determined by the class of all frames of depth at most n. All these logics are different and can be it is easy to show that each I, axiomatized is also characterized by the class of all frames of depth n. Also, logics Z.2,, which are from Z, by adding schema 2, are characterized by classes of frames of depth obtained in [ 161 that all logics between S4 and S4F have n with the final cluster. It was proved [ 291. Also, using the methods of [ 8,19,29], G. Schwarz/Art@cial Intelligence 79 (1995) 39-63 61 the same expansions is also good for any logic Z,, n b 2, but without minimal model semantics, restriction even simpler proof can be given. for finite theories. The careful analysis of the proof shows, that it theories. Using for finite Proposition B.3, For each n 2 2, for each A and each T, T is an I,-expansion of A if and only if T is an S4F-expansion of A. to Proposition Proof. According 1.2, which of Z,,. 1.2, is characterized cluster. This class is cluster closed, so we can apply the minimal model semantics. for 1.2, in place by the class of all frames of depth n which have the final is I,, with schema 2, so it suffices to prove the proposition I,, coincides with nonmonotonic 4.1, nonmonotonic assume of A. Conversely, of A is also an S4F-expansion for T. It suffices to prove that M is &-minimal of A. Let us prove that T is an Z.2,-expansion, Clearly, 1.2, is a subsystem of S4F (because all S4F-frames are of depth 2), hence that T is too. Let M = (M, V) for A, where that N = (N, R, U) is a Kripke from all the maximal each Z.2,-expansion an S4F-expansion be the canonical SS-model K,, is a class of all models of depth at most n. Assume model of depth at most n, that N c M. Then for some (Y E N, V, is different Vp for all /3 E M. For each /3 E N, by rk( /3) (rank of /3) we will denote number m such that there exists a sequence of worlds pt , . . . , Pm such that for each i, piRpi+l, but not pi+, RPi. Since N is of depth n, rk( p) is defined and does not exceed n for each p E N. Now let m be the smallest number such that for some (Y of rank m, V, differs from all V, for all y E M, and (Y is some world of rank m with this property. Let M, = {y E N: aRy A yRa}. Consider the S4F-model M, = (M, U M, Q, U), where Q = (M, x (M, U M) ) U (M x M) . It follows from the choice of (Y and from 2.2 that for each p E N \ (M, U M), such that cuR/3, for each formula 7, Proposition to (M, p) b Lg if and only on sp that for each p, for each /? E M,, (N, p) + cp if and only prove by induction if (M,, p> k p. Hence we obtain M, k A, and (M,,(Y) c M, that T hence M of A and got is an S4F-expansion a contradiction, that is, M, is not an S4Fminimal model of A, which contradicts our assumption that T is not an I.2,-expansion hence T is an Z.2,-expansion of A. So we assumed if M k Lv. Using it is straightforward this observation, of A. 0 k 79, Thus, the whole bunch of logics of finite depth, contained this gives us no final answer Unfortunately, logics are between S4.3 and S4F, because among such logics logics of infinite depth. Fine of Kripke frames which determine corresponding not characterize methods of this paper are not applicable directly in S4F, is in the same range. to the question, how many different modal there are infinitely many in terms these classes seemingly do logics, and do not meet conditions of Theorem B.l, so [ 21 gives an effective description of these logics the logics. Unfortunately, to that case. Interestingly, the situation for logics of depth 2 (that there are infinitely many nonmonotonically is, those between SW5 and logics different S4F) among is quite different: them. Proposition B.4. Let SW5, be a logic determined by a class of all S4F-frames con- sisting of two clusters, where the lower cluster has at most m worlds. Then for each 62 r;. S[,/zwtrrr/Ar-fific.icrl fnrelli~ence 79 (I 995) 39-63 HZ, SW,,,~+i is properly SW,,,-expansion of S,,, is not an SW,,,+! -expansion of A,,,. contained in SW,, and there is a theory A,, such that some The proof is essentially is, however, rather long, because the same as the proof of Theorem 3.5. The complete proof to apply minimal model semantics we must show that by the class of all S4F-frames but also characterized sw5,,, where the cardinality of the lower cluster does not exceed II. This can be done by using the canonical model method, see [ 81. is not only determined, Acknowledgements The author is thankful to Joe Halpern, Philippe Lamarre and Yoav Shoham for useful discussions on the subject of the paper. Joe and Yoav also read the first draft of the paper and made useful comments. This work, along with earlier work of the author on [ 25,271, was inspired by a question asked by Wiktor Marek, whether S4 related topics is the maximal logic in its range. The work was performed when the author was visiting Robotics Laboratory of Stan- ford University and enjoyed full support of the NSF grant IRI-9220645. References 1 I 1 C. Boutilier. Epistemic entrenchment I@ 17 (1992) S-30. [ 2 1 K. Fine, The logics containing S4.3, Z. Mrrth. IAj,Sik Grundl. Muth. 17 ( I97 I ) 37 I-376. 13) K. Fine. Logics containing K4, .I. Symbolic Logic 39 ( 1974) 31-42. 141 G. Gottlob, The power of beliefs or translating in autoepistemic into standard logic. Fund. default logic autoepistemic logic, in: Proceedings fJCAf-93, Chambery, France ( 1993) 570-575. I S I J.Y. Halpem, Reasoning about knowledge: a survey circa 1991, Technical Report RJ-8068. IBM Research Division, Almaden Research Center, San Jose. CA ( I99 I ). 16 I J.Y. Halpem and Y. Moses, Towards a theory of knowledge and ignorance: preliminary report, in: K. Apt, ed., Logics and Models of Concurrent .Sysrems ( Springer-Verlag. New York, 1985) 459-476. 1 7 ) J. Hintikka, Knowledge cmd Religf: Arr Introdu<~tion m the Logic of Two Notions (Cornell University Press. Ithaca. NY, 1962). 18 / G.E. Hughes and M.J. Cresswell, A C‘onr~x~~ort IO Modul Logic 19 I V.A. Jankov, Constructing a sequence of strongly independent (Methuen, London, 1984). superintuitionistic propositional calculi, Sor: Marh. Dokl. 9 ( 1968) 806-807. 1 IO 1 K. Konolige. On the relation between default and autoepistemic I I I I I? Lamarre and Y. Shoham. Knowledge, certainity, belief and conditionalisation logic, Arfif: hrell. 35 ( 1988) 343-382. version). (KR’94), Bonn, (abbreviated in: Principles oj’Knowledge Represenltrtion and Rrusoning: Proceedings 4ih Conference Germany ( 1994). I I2 1 W. Lenzen, Recent Work in Epistemic Logic, Ac,~a Phdo.r. Fenn. 30 ( 1978). 1 I3 I W. Lenzen, Epistemologische [ I4 I V. Lifschitz. Nonmonotonicdatabases zu I S4,SS 1, Erkennfnis 14 ( 1979) 33-56. in: Proceedings and epistemic queries, Betrachtungen IJCAI-9I. Sydney, Australia (1991) 381-386. I IS 1 F. Lin and Y. Shoham, Epistemic semanttcs for tixed-points non-monotonic Conferencr on Theoretical Aspects of Krosonin,g About Knowledge Mateo, CA, 1990) I I I-120. ( TARK-90) logics, in: Proceedings 3rd (Morgan Kauffman, San I 161 W. Marek, G.F. Schwarz and M. Truszczynski. Modal nonmonotonic logics: ranges, characterization, computation, .I. ACM 409 ( 1993) 63-990. G. Schwarz/Arti$cial intelligence 79 (1995) 39-63 63 I 17 I J. McCarthy, Epistemological MA ( 1977) 1038-1044; ( Ablex, Norwood, NJ, 1990) problems of artificial intelligence, in: Proceedings IJCAI-77, Cambridge, also in: J. McCarthy, Formalizing Common Sense. Papers by John McCarthy [ 181 J. McCarthy problems and P Hayes, Some philosophical intelligence, in: B. Meltzer and D. Michie, eds, Machine fntelligence 4 (Edinburgh University Press, Edinburgh, also in: J. McCarthy, Formalizing Common Sense. Papers by John McCarthy (Ablex, 1969) 463-502; Norwood, NJ, 1990). 1191 D. McDermott, Nonmonotonic [ 20 I D. McDermott [ 211 R.C. Moore, Possible-world logic 1, Artij Intell. 13 (1980) 41-72. in: M. Ginsberg, theories, J. ACM 29 ( 1982) 33-57. from the standpoint of artificial logic II: nonmonotonic modal and J. Doyle, Nonmonotonic autoepistemic ed., Readings on semantics Nonmonotonic Reasoning (Morgan Kaufmann, logic, 1987) 137-142. [221 R.C. Moore, A formal theory of knowledge and action, in: J. Hobbs and R.C. Moore, eds., Formal Theories of Commonsense World (Ablex, Norwood, NJ, 1985) 319-3.58. considerations on non-monotonic logic, Artif: Intell. 25 ( 1985) 75-94. 1231 R.C. Moore, Semantical [24] PH. Morris, Autoepistemic in: M. Reinfrank, M.L. Ginsberg and E. Sandewall, eds., Non-Monotonic Reasoning, Lecture Notes in Artificial 346 ( Springer-Verlag, 1251 G. Schwarz, Autoepistemic stable closure and contradiction Berlin, 1989) 17% 186. eds., Logic Programming and Non-Monotonic Reasoning. Proceedings of the First International Workshop (MIT Press, Cambridge, MA, 199 1) 260-274. in: W. Marek, A. Nerode and V.S. Submarahmanian, logic of knowledge, J. de Kleer, Intelligence resolution, [26] G. Schwarz, Minimal model semantics for nonmonotonic modal logics, in: Proceedings 7th Annual IEEE Symposium on Logic in Computer Science, Santa Cruz, CA ( 1992) 34-43. [27] G. Schwarz, Reflexive autoepistemic [ 281 G. Schwarz and M. Truszczynski, Modal logic, Fund. Inf. 17 (1992) 157-173. in: Y. Moses, ed., Proceedings 4th Conference on Theoretical Aspects of Reasoning about Knowledge (TARK-92) (Morgan Kaufmann, San Mateo, CA, 1992) 184-198. logic S4F and the minimal knowledge paradigm, [ 291 K. Segerberg, An essay in classical modal logic, Filosofiska Studier 13, Uppsala University, Sweden (1971). [ 301 G.F. Shvarts, Autoepistemic modal logics, on Theoretical Aspects of Reasoning about Knowledge (TARK-90) CA, 1990) 97-109. in: R. Parikh, ed., Proceedings 3rd International Conference (Morgan Kaufmann, San Mateo, 