Artificial Intelligence 173 (2009) 180–195Contents lists available at ScienceDirectArtificial Intelligencewww.elsevier.com/locate/artintStrong mediated equilibrium ✩Dov Monderer, Moshe Tennenholtz∗Faculty of Industrial Engineering and Management, Technion – Israel Institute of Technology, Haifa 32000, Israela r t i c l ei n f oa b s t r a c tArticle history:Received 22 November 2007Received in revised form 5 October 2008Accepted 7 October 2008Available online 14 October 2008Keywords:Multi-agent systemsGame theoryMediatorMediated equilibriumStrong equilibriumStability against potential deviations by sets of agents is a most desired property inthe design and analysis of multi-agent systems. However, unfortunately, this property istypically not satisfied. In game-theoretic terms, a strong equilibrium, which is a strategyprofile immune to deviations by coalition, rarely exists. This paper suggests the use ofmediators in order to enrich the set of situations where we can obtain stability againstdeviations by coalitions. A mediator is defined to be a reliable entity, which can askthe agents for the right to play on their behalf, and is guaranteed to behave in a pre-specified way based on messages received from the agents. However, a mediator cannotenforce behavior; that is, agents can play in the game directly, without the mediator’shelp. A mediator generates a new game for the players, the mediated game. We provesome general results about mediators, and mainly concentrate on the notion of strongmediated equilibrium, which is just a strong equilibrium at the mediated game. We showthat desired behaviors, which are stable against deviations by coalitions, can be obtainedusing mediators in several classes of settings.© 2008 Published by Elsevier B.V.1. IntroductionWhen considering a prescribed behavior in a multi-agent system, it makes little sense to assume that an agent willstick to its part of that behavior, if deviating from it can increase its payoff. This leads to much interest in the study ofNash equilibrium in games. When agents are allowed to use mixed strategies, Nash equilibrium always exists. However,Nash equilibrium does not take into account deviations by non-singleton sets of agents. While stability against deviationsby subsets of the agents, captured by the notion of strong equilibrium [4], is a most natural requirement, it is well knownthat obtaining such stability is possible only in rare situations.1In order to tackle this issue we consider in this paper the use of mediators. A mediator is a reliable entity that can interactwith the players and perform on their behalf actions in a given game. However, a mediator cannot enforce behavior. Indeed,an agent is free to participate in the game without the help of the mediator. This notion is highly natural in a setting inwhich there exists some form of reliable party or administrator that is ready to serve as a mediator. For example, whenEbay is offering proxy services, it actually acts as a mediator and not only as an organizer. Notice that we assume that themulti-agent interaction formalized as a game is given, and that all the mediator can do is to communicate with the agents✩An extended abstract of this paper appears in the proceedings of the Twenty-First National Conference on Artificial Intelligence (AAAI-06). Almost allproofs are missing from the extended abstract. This version of the paper contains all of these missing proofs, and provides additional discussion and results.Furthermore, some of the definitions that appear in the extended abstract have been slightly modified. This work has been partially supported by the IsraelScience Foundations (ISF).* Corresponding author.E-mail address: moshet@ie.technion.ac.il (M. Tennenholtz).1 For example, in the context of congestion games, Holzman and Law-Yone [13] characterized the networks where strong equilibrium always exist. Theyshowed that strong equilibrium is guaranteed only in a very restricted type of networks.0004-3702/$ – see front matter © 2008 Published by Elsevier B.V.doi:10.1016/j.artint.2008.10.005D. Monderer, M. Tennenholtz / Artificial Intelligence 173 (2009) 180–195181and perform actions on behalf of the agents that allow it to do so. The mediator’s behavior is pre-specified and depends onthe messages received from all agents. This natural setting is different from the one discussed in the theory of mechanismdesign, where a designer designs a new game from scratch in order to yield some desired behavior.Indeed, many markets employ very powerful forms of mediators like brokers, or routers in communication networks.2 Wefind the notion of a mediator as central to the study of multi-agent systems. Indeed, while in economic theory, the dominanttheme is that rational agents are to behave independently without any interference of a mediator, the (either explicit orimplicit) existence of a party that provides suggestions, protocols, and rules of behavior has always been fundamental in theAI context of multi-agent systems (see [9,25] for some early introductions). As a result, in this paper we develop a rigorousstudy of mediators, aiming at the study of their use in establishing stability against deviations by coalitions.A mediator for a given game is defined by sets of messages, one set for each player, and by an action function definedon vectors of messages; when a player sends a message to the mediator she gives the right to play to the mediator whowill choose an action on her behalf (possibly by randomization) by applying the action function to the vector of messagessent to him. However, the mediator cannot enforce the players to use his services. The mediator generates a new gamefor the players, which we call the mediated game. In this game every player can either send a message to the mediator orplay without the mediator. The outcome generated in the given game by an equilibrium in the mediated game is calleda mediated equilibrium. An outcome generated by a strong equilibrium at the mediated game is called a strong mediatedequilibrium. In an extreme case the message space of each player is a singleton. That is, this mediator accepts only onepossible message: “I give you the right to play on my behalf”. Such a mediator is called a minimal mediator. An importantmediator is the one already developed in [32], where the set of messages of each player is the set of possible programsin a given programming language; in this case the action function is the one that executes the programs. Hence, programequilibrium is a particular type of mediated equilibrium. We further discuss the connections between mediators and thenotion of program equilibrium in Section 10. In this paper we concentrate on the notion of strong mediated equilibrium.In order to illustrate the power of a reliable mediators as discussed in this paper, consider the following simple example:In this classical Prisoners’ dilemma game we get that in the unique equilibrium both agents will defect, yielding both ofthem a payoff of 1. However, this equilibrium, which is also a dominant strategy equilibrium, is inefficient; indeed, if bothagents deviate from defection to cooperation then both of them will improve their payoffs. Formally, mutual defection isnot a strong equilibrium.Consider a reliable minimal mediator who offers the agents the following action function: if both agents give the media-tor the right to play, he will perform cooperate on behalf of both agents. However, if only one agent agrees to give the rightto play, the mediator he will perform defect on behalf of that agent. Hence, the mediator generates the following mediatedgame:2 One interesting type of such markets is that of lottery syndicates. A lottery syndicate coordinates agents’ activities in a lottery by trying to optimizethe participants’ joint actions. Such syndicates are known to be successful in the UK. It seems, however, that they are considered illegal at the US.182D. Monderer, M. Tennenholtz / Artificial Intelligence 173 (2009) 180–195The mediated game has a most desirable property: it possesses a strong equilibrium; that is, an equilibrium which isstable against deviations by coalitions. In this equilibrium both agents will give the mediator the right to play, which willlead them to a payoff of 4 each! Hence, cooperation in the Prisoners’ Dilemma game is a strong mediated equilibrium.In Sections 3 and 4 we explore general properties of mediators. Given the general concept of a mediator, we prove thatmediators can indeed significantly increase the set of multi-agent encounters in which desired outcomes, which are stableagainst deviations by coalitions, can be obtained. We first prove that every two-person game possesses a strong mediatedequilibrium, which also leads to optimal surplus. For general n-person games we prove that every balanced symmetric gamepossesses a strong mediated equilibrium, which also leads to optimal surplus. The precise definition of a balanced game isgiven in Section 7.1.3 On an intuitive level, a game is balanced if there exists a profile of strategies yielding a payoff vectorwith the property that for each coalition of players their aggregate payoffs in this vector is at least as high as the aggregatepayoff they can grantee themselves in the game by using a correlated strategy. For example, the Prisoner’s Dilemma gamediscussed above is a balanced game. The profile of strategies (c, c) yields the payoff vector (4, 4); No player can guaranteesherself more than 4, and the coalition of the two players cannot guarantee itself more than 8.In between equilibrium and strong equilibrium one can naturally define k-strong equilibrium as an outcome, which isimmune to deviations of coalitions of size at most k. Indeed, if one considers the distributed computing and cryptographyliterature, it typically requires stability against deviations by up to k (typically faulty or malicious) agents, which can beviewed as a particular form of game-theoretic stability [17]. Similarly, we define the notion of k-strong mediated equilibrium.We show that in every symmetric game with n agents, if k! divides n there exists a k-strong mediated equilibrium, leadingto optimal surplus.4We concentrate in this paper on the study of mediators within the classical NTU (non-transferable utility) model; how-ever, we also extend our study, to a restricted case of the TU (transferable utility) model via the concept of an aggregatemediated equilibrium. In such an equilibrium, deviations which include re-distribution of payments, are taken into account.In fact, part of our study of strong aggregate mediated equilibrium serves as a technical tool for establishing the abovementioned results on the existence of strong mediated equilibrium in the NTU setting.Finally, we want to report about two recent developments in the theory of mediators, which occurred after the publi-cation of an extended abstract of this paper in the Twenty-First National Conference on Artificial Intelligence (AAAI-06). In[27] the concept of mediator has been generalized to allow it to condition its choices on the realizations of the actions ofthe players who do not use its services. Such a mediator is natural in routing systems, and has much more power than themediator introduced in this paper. A mediator for games with incomplete information has been defined and analyzed in [3],where as an application the authors construct mediators for position auctions.5We end this introduction with a discussion of a related literature.A non-strategic model of mediation was introduced in [4] via the concept of c-acceptable strategies. This is an abstractnotion that captures the “reasonable outcomes” obtained when subsets of the set of agents can correlate their activities.Our work introduces an explicit model of the mediation activity. In Section 5 we show that the introduction of an explicitmediator makes a difference; the outcomes that can be obtained using strong mediated equilibria constitute a subset of theset of outcomes that can be obtained using c-acceptable strategies.The simplest form of mediator discussed in the game theory literature is captured by the notion of correlated equilib-rium [6]. Indeed, since mediation via correlation device makes perfect sense from the CS/AI perspective, where protocolsare typically recommended to the participants, this topic got considerable attention in the CS literature (e.g., [14,23]). Thisnotion was generalized to communication equilibrium by [11,21]. Another, more powerful type of mediators is discussedin [19]. However, in all these settings the mediator can not perform actions on behalf of the agents that allow it to do so.Situations where mediators can act on behalf of agents were discussed in the literature (see, e.g., [15]). However, thesestudies concentrated on 2-person games, and the central issue of stability against deviations by coalitions was not discussedin that literature. Mediators were also discussed in some restricted settings, under different titles; one interesting exampleis the study of bidding rings in auctions (see, e.g., [7,12,18]); here the bidding ring organizer can be viewed as a form of amediator. A recent paper [31] implicitly discusses mediators via the notion of commitment – a commitment device servesas a mediator. This paper deals only with equilibrium (in contrast to strong equilibrium).2. Games in strategic form: Strong equilibriumSome notational preliminaries are needed. Let Y be a nonempty finite set. The set of probability distributions over Yy∈Y c( y) = 1. For every y ∈ Y weis denoted by Δ(Y ). That is, every c ∈ Δ(Y ) is a function c : Y → [0, 1] such thatdenote by δ y the probability distribution that assigns probability 1 to y. Let I be a nonempty finite set of indices, and letci ∈ Δ(Y i), i ∈ I , where Y i is a nonempty finite set for every i ∈ I . We denote by ×i∈I ci the product probability distributionon Y = ×i∈I Y i that assigns to every y ∈ Y the probability(cid:2)(cid:3)i∈I ci( yi).3 As explained in Section 7.1 the title “balanced” is inherited from cooperative game theory.4 As an anecdote, the parliament in Israel contains 120 = 5! members. Hence, every anonymous game played by this Parliament possesses an optimalsurplus symmetric 5-strong mediated equilibrium. While no parliament member is able to give the right of voting to a mediator, this right of voting maybe replaced in real life by a commitment to follow the mediator’s algorithm.5 That is, auctions similar to the ones used by Google to sell ads. See e.g., [33].D. Monderer, M. Tennenholtz / Artificial Intelligence 173 (2009) 180–195183A game in strategic form is a tuple Γ = (cid:5)N, ( Xi)i∈N , (ui)i∈N (cid:6), where N is a nonempty finite set of players, Xiis thenonempty strategy set of player i, and ui : X → R is the payoff function for player i, where X = ×i∈N Xi . If |N| = n, wheneverconvenient we assume N = {1, . . . , n}. Γ is finite if the strategy sets are finite. A nonempty subset of the players is also calleda coalition.Let Γ = (cid:5)N, ( Xi)i∈N , (ui)i∈N (cid:6) be a finite game. For every coalition S we denote XS = ×i∈S Xi . Note that XN = X andX{i} = Xi . When the set N is clear, we will denote the complement of S in N by Sc or by −S. Thus, XN\S will be alsodenoted by XSc or by X−S , and moreover, X−{i} will be also denoted by X−i . Let S ⊆ N be a coalition. Every c ∈ Δ(XS ) iscalled a correlated strategy for S. A correlated strategy for the set of all players N is also called a correlated strategy, and forevery i, a correlated strategy for {i} is also called a mixed strategy for i. The expected payoff of i with respect to a correlatedstrategy c is denoted by U i(c). That is,U i(c) =(cid:4)x∈Xui(x)c(x).For every S, the set of mixed-strategy profiles is denoted by Q S . That is, Q S = ×i∈S Δ( Xi). We will use Q for Q N , and Q ifor Q{i}.The mixed extension of the game Γ is the game (N, (Q i)i∈N , (w i)i∈N ), where for every q ∈ Q, w i(q) = U i(q1 × · · · × qn).2.1. Three definitions of strong equilibriumIn general, a strong equilibrium in a game is a profile of strategies with the property that no coalition has a beneficialdeviation for its members. The above verbal definition leaves a lot of modeling choices. What is a profile of strategies?(pure, mixed, or correlated), what is a deviation? (pure, mixed or correlated), and what is the meaning of “beneficial for itsmembers”? – is a deviation beneficial only when every member is better off, or is it sufficient that some of the membersare better off and the others are not worse off? or maybe it is just required that the aggregate payoffs of the players isbetter. Below we will define three notions of strong equilibrium, and discus their rationale:Let Γ = (cid:5)N, ( Xi)i∈N , (ui)i∈N (cid:6) be a game in strategic form.Definition 1. Let x ∈ X. x is a strong equilibrium of type I in Γ if the following holds:For every coalition S, and for every yS ∈ XS there exists j ∈ S such thatu j(yS , x−S ) (cid:2) u j(x).Hence, in a strong equilibrium of type I the suggested profile of behavior and the possible profiles of deviations consistof pure strategies, and a deviation is beneficial to a coalition if it is beneficial to each of its members.All other definitions require that the game Γ is finite because we defined the notion of mixed strategy and correlatedstrategy only for finite games.Definition 2. Let q = (q1, . . . , qn) be a profile of mixed strategies. We say that q is a strong equilibrium of type II in Γ if q isa strong equilibrium of type I in the mixed extension of Γ .That is, q is a strong equilibrium of type II in Γ if for every coalition S, and for every profile of mixed strategies (pi)i∈Sthere exists j ∈ S such that U j(×i∈S pi ×i∈N\S qi) (cid:2) U j(×i∈N qi). Obviously, if x ∈ X, and (δx1 , . . . , δxn ) is a strong equilibriumof type II in Γ then x is a strong equilibrium of type I, but the converse does not hold. Whenever (δx1 , . . . , δxn ) is a strongequilibrium of type II we abuse notations and allow ourselves to say that x is a strong equilibrium of type II in Γ .Definition 3. Let q ∈ Q. We say that q is a strong equilibrium of type III, if for every coalition S, and for every correlatedstrategy for S, c S ∈ Δ(XS ) there exists j ∈ S such that(cid:6)(cid:5)c S × (×i∈Sc qi)U j(cid:2) U j(q1 × q2 × · · · × qn).Let q ∈ Q. Obviously q is a strong equilibrium of type II if q is a strong equilibrium of type III, but not vice versa.The requirement that q is a strong equilibrium of type II seems to be acceptable in an environment in which the playersbelieve that they and others could not possibly correlate their behavior (e.g., when every player is sitting in a separateroom, and there is no communication between the players). However, every player can perform a private randomization.In an environment in which the players do not correlate their strategies, but they may fear/hope that such a correlation ispossible, we expect q to be a strong equilibrium of type III in order to be believed/played by the players. At Section 7 wedefine a fourth notion of strong equilibrium.184D. Monderer, M. Tennenholtz / Artificial Intelligence 173 (2009) 180–1953. Strong mediated equilibriumWe now introduce mediators, a general tool for coordinating and influencing agents’ behavior in games. A mediator isalways assumed to be reliable. However, mediators are classified according to their abilities to interfere in the game.In this paper we endow the mediator with the ability to play for the players who give him the right to play for them.However, the mediator cannot enforce the players to use his services.Definition 4. Let Γ be a finite game in strategic form. A mediator for Γ is a tuple ((Mi)i∈N , c = (cS )∅(cid:9)=S⊆N ), where each Miis a finite set, Mi ∩ Xi = ∅ for every player i, and for every coalition S, cS : MS → Δ(XS ).In the above definition Mi is a set of messages that may be sent by agent i to the mediator. Agent i may either participatein the game directly or participate in the game using the mediator’s services by sending him any message from Mi . Theaction function of the mediator is c = (cS )∅(cid:9)=S⊆N ; If the set of players that send messages to the mediator is S, and themembers of S send the vector of messages mS = (mi)i∈S , the mediator plays in behalf of the members of S the correlatedstrategy for S, cS (ms). That is, the mediator chooses a profile of strategies xS according to the probability distributioncS (mS ), and plays xi on behalf of every player i ∈ S.Every mediator M for Γ defines a finite game in strategic form, which we call the mediated game and denote by Γ (M).In the mediated game, the strategy set of player i is Z i = Xi ∪ Mi , and the payoff function of i is defined for every z ∈ Z asfollows:Miu(z) = U i(cid:5)(cid:6)cT z (zT z ) × (× j∈N\T z δz j ),where T z = { j ∈ N | z j ∈ M j}. That is, T z is the set of players who use the service of the mediator.6Definition 5. Let Γ be a game in strategic form. A correlated strategy c ∈ Δ(X) is a strong mediated equilibrium if there existsa mediator for Γ , M, and a vector of messages m ∈ M = ×i∈N Mi , with cN (m) = c, such that m is a strong equilibrium oftype III in Γ (M); Such a mediator is said to strongly implement c.We now define a type of minimal mediators that will play an important role in our subsequent analysis.Definition 6. Let Γ be a game in strategic form. A mediator M = ((Mi)i∈N , (cS )∅(cid:9)=S⊆N ) is minimal if each message space isa singleton.Consider a minimal mediator in which Mi = {ri} for every player i. Let r = (r1, . . . , rn). When the players are using thismediator each of them can either give the right to play to the mediator (sending ri ) or play independently. If the coalitionthat gives the right to play is T , the mediator uses the correlated strategy cT = cT (rT ) in order to play for T . Hence, everyminimal mediator is uniquely defined by a vector of correlated strategies, (c S )∅(cid:9)=S⊆N , one for each coalition. This minimalmediator strongly implements c if r is a strong mediated equilibrium at the mediated game and cN = c. As it turns out,restricting our attention to minimal mediators does not cause any loss of strong mediated equilibria:Lemma 1. Let Γ be a finite game in strategic form. Every strong mediated equilibrium in Γ can be implemented by a minimal mediator.Proof. Let c ∈ Δ(X) be a strong mediated equilibrium, and let M = ((Mi)i∈N , (cS )∅(cid:9)=S⊆N ) implement c by the profile m ∈ M.That is, m is a strong equilibrium of type III in Γ (M), and cN (m) = c. Define a minimal mediator, K, in which the set ofmessages for every i is K i = {mi}. The implementing functions are for every coalition S the restriction of cS to {mS }. That is,the minimal mediator is K = (cS (mS ))∅(cid:9)=S⊆N . Hence, Γ (K) is obtained from Γ (M) by restricting the strategy set of everyplayer i from Xi ∪ Mi to Xi ∪ {mi}. Therefore, m remains a strong equilibrium of type III in Γ (K). (cid:2)4. Properties of strong mediated equilibriaFor further analysis it is convenient to notice the following properties of mediators.Every correlated strategy in Γ (M), ξ ∈ Δ(Z) induces a correlated strategy cξ in Γ : for every x ∈ X we have(cid:4)(cid:4)cξ (x) =ξ(xS , m−S )c−S (m−S )(x−S ).S⊆Nm−S ∈M−S(1)6 If T z = ∅ the symbol cT z (zT z ) is not defined. However, here and in other cases the meaning of such expressions is obvious, and we skip their detailsfor ease of exposition since they can be easily understood by the reader. Here, of course, if T z = ∅, u(z) = U i (× j∈N δz j ) = ui (z). Similarly, if T z = N,Mui(z) = cN (z).MiD. Monderer, M. Tennenholtz / Artificial Intelligence 173 (2009) 180–195If M is a minimal mediator, (1) has a simpler form:(cid:4)cξ (x) =ξ(xS , r−S )c−S (x−S ).S⊆NHence, in the mediated game:(ξ ) = U i(cξ ).UMiSimilarly, for every coalition T , every ξT ∈ Δ(ZT ) define cξT∈ Δ(XT ) as follows:(cid:4)(cid:4)cξT (xT ) =ξT (x A, mT \ A)cT \ A(mT \ A)(xT \ A),xT ∈ XT .A⊆TmT \ A ∈MT \ AAnd for a minimal mediator:(cid:4)cξT (xT ) =ξT (x A, rT \ A)cT \ A(xT \ A),xT ∈ XT .185(2)(3)(4)(5)A⊆TThe next proposition shows that by using mediators we don’t lose any outcome that can be obtained in a strong equi-librium of the original game:Proposition 1. Let Γ be a finite game in strategic form, and let q be a profile of mixed strategies, which is a strong equilibrium oftype III in Γ . Then, q1 × q2 × · · · × qn is a strong mediated equilibrium in Γ .Proof. We define a minimal mediator M = (c S )∅(cid:9)=S⊆N as follows: c S = ×i∈S qi for every coalition S ⊆ N. Let T be a coalitionand let ξT ∈ Δ(ZT ). We have to show that ξT is not a profitable deviation for its members. Let ξ = ξT × (×i∈N\T δri ) ∈ Δ(Z).We have to show that there exists i ∈ T for whichMiU(ξ ) (cid:2) uMi(r1, r2, . . . , rn).That is,U i(cξ ) (cid:2) U i(q1 × q2 × · · · × qn).(6)We will show that× c−T .cξ = cξT(7)Because q is a strong equilibrium of type III in Γ and c−T = × j∈N\T q j , (7) implies that there exists i ∈ T for which (6)holds.In order to prove (7) note that for every z ∈ Z, ξ(z) = 0 unless z−T = r−T . As the mediator is minimal we get from (2),that for every x ∈ X,(cid:4)cξ (x) =ξ(xS , r−S )c−S (x−S ) =(cid:4)ξT (xS , rT \S )c−S (x−S ).S⊆TS⊆THowever, for every S ⊆ T , c−S (x−S ) = cT \S (xT \S )c−T (x−T ). Therefore, by (5)(cid:8)c−T (x−T ) = cξT (xT )c−T (x−T ) = (cξTξT (xS , rT \S )cT \S (xT \S )cξ (x) =(cid:7) (cid:4)× c−T )(x).(cid:2)S⊆TWe next show that a new mediator for the game generated by a mediator cannot add acceptable outcomes. That is, amediator can not help in a situation where a mediator is already in place, beyond what can be obtained by the existingmediator.Proposition 2. Let Γ be a game in strategic form, and let M = ((Mi)i∈N , (cS )∅(cid:9)=S⊆N ) be a mediator for Γ . If ξ is a strong mediatedequilibrium in Γ (M), then cξ is a strong mediated equilibrium in Γ .be a mediator for Γ (M) that implement ξ . By Lemma 1 we can assume that M(cid:12)Proof. Let M(cid:12)is a minimal mediator,say M(cid:12) = (ξS )∅(cid:9)=S⊆N , and therefore ξN = ξ . The action of i of giving the right to play to the mediator M(cid:12)is denoted byri . We define a minimal mediator for Γ , M∗ = (cξS )∅(cid:9)=S⊆N . In Γ (M∗) the action of i of giving the right to play to thismediator is also denoted by ri . We have to show that r = (r1, r2, . . . , rn) is a strong equilibrium of type III in Γ (M∗). LetT be a coalition, and let ψT be a correlated strategy of T at the game Γ (M∗). Hence, ψT ∈ Δ(×i∈T ( Xi ∪ {ri})). DefineˆψT ∈ Δ(×i∈T ( Xi ∪ Mi ∪ {ri})) as follows: ˆψT is concentrated on ×i∈T ( Xi ∪ {ri}), and on this set it is defined as ψT . Let ˜ξ bethe correlated strategy in Γ (M) induced by ˆψT × (×i∈N\T δri ). It is easily verified that:˜ξ (x A, m A) =(cid:4)ψT (xS , rT \S )ξ−S (x A\S , m− A).S⊆ A∩T186D. Monderer, M. Tennenholtz / Artificial Intelligence 173 (2009) 180–195From this, by (1) it can be easily verified thatc ˜ξ= cψT ×(×i∈N\T δri ).(8)As a deviation to ˆψT is not profitable to its members at the game Γ (M)(M(cid:12)), there exists a player i ∈ T such thatU i(c ˜ξ ) (cid:2) U i(cξ ). Therefore, by equality (8), ψT is not a profitable deviation from r at Γ (M∗). (cid:2)When defining strong mediated equilibrium we focus on a particular type of pure strategy strong equilibrium of typeIII in the mediated game. However, the game generated by the mediator may give rise to other possibilities of forming astrong equilibrium of type III. It is therefore important to know that our seemingly restricted definition does not restrict thepossible acceptable outcomes. Indeed, we show:Proposition 3. Let M = ((Mi)i∈N , (cS )∅(cid:9)=S⊆N ) be a mediator for Γ , and let ˆq be a vector of mixed strategies in Γ (M), which is astrong equilibrium of type III in Γ (M). Then c ˆq1×ˆq2×···×ˆqn is a strong mediated equilibrium in Γ .Proof. Because ˆq is a strong equilibrium of type III at Γ (M) then by Proposition 1 ˆq1 × ˆq2 × · · · × ˆqn is a strong mediatedequilibrium at Γ (M). Therefore, by Proposition 2, c ˆq1×ˆq2×···×ˆqnis a strong mediated equilibrium in Γ . (cid:2)Furthermore, when there is one mediator, other mediators may show up. Any set of mediators H = {M1, . . . , Mk}generates a game in strategic form Γ (H) in which every player can choose any mediator in H she wishes, and give thismediator the right to play by sending him a message, or play independently. If ξ is a correlated strategy in Γ (H) we denoteby cξ the correlated strategy in Γ generated by ξ . The next proposition shows that the existence of many mediators thatthe agents can approach does not help beyond the use of a single mediator.Proposition 4. Let H be a set of mediators, and let ¯q be a strong equilibrium of type III in Γ (H), then c ¯q1×¯q2×···×¯qn is a strong mediatedequilibrium in Γ .Proof. One can naturally define a mediator M which will mimic the strategic possibilities given by the set of mediators:The message sets in M are just Mi =i for every i ∈ N. Every message m ∈ MS has the form mS = (m A1 , . . . , m Ak ),where A j is the set of all players in S that choose a message in M j . Hence, S =(cid:9)kj=1 A j . Define cS as follows:(cid:9)kj=1 MjcS (mS ) = c A1 (m A1 ) × · · · × c Ak (m Ak ).It is obvious that Γ (M) is strategically equivalent to Γ (H), and therefore ¯q is a strong equilibrium of type III at Γ (M).Therefore, by Proposition 3 c ¯q1×¯q2×···×¯qn is a strong mediated equilibrium in Γ . (cid:2)5. C-acceptable correlated strategies and strong mediated equilibriumAs mentioned, the main motivation for this work comes from the desire to establish multi-agent behaviors that arestable against deviations by coalitions, using mediators which can offer their services. Hence, a major point of our study isin showing that such mediators are indeed helpful. However, when establishing such a theory, it is important to understandhow our study of mediators fits relevant previous foundational work in game theory. Aumann (see [4]) defined c-acceptablecorrelated strategies, which may seem at first glance to implicitly catch the idea of defining the “reasonable outcomes” thatcan be obtained when agents can correlate their strategies.Definition 7. A correlated strategy c is c-acceptable if there exists a vector (c S )∅(cid:9)=S⊆N with cN = c such that for everycoalition S and for every dS ∈ Δ( X S ), there exists i ∈ S such thatU i(dS × c−S ) (cid:2) U i(c).It is easy to show:Proposition 5. Every strong mediated equilibrium is c-acceptable.Proof. Let c be a strong mediated equilibrium. Therefore there exists a minimal mediator, (c S )∅(cid:9)=S⊆N that implements c. LetT be a coalition. By Definition 5, no deviation of T to ξT ∈ Δ(ZT ) is profitable for its members, when T c uses cT c . As X T isa subset of Z T , it is clear that no deviation of T to cT ∈ Δ( X T ) is profitable for its members. (cid:2)However, as we will show, the converse of the above result is not true, for illuminating reasons. One should noticethat all that we used in the above proof was the fact that a strong mediated equilibrium is immune against deviations byD. Monderer, M. Tennenholtz / Artificial Intelligence 173 (2009) 180–195187correlating strategies of the original game. But the concept of strong mediated equilibrium requires also that it is immuneagainst correlation over messages and actions. Hence, the converse to Proposition 5 is not clear. Indeed we are about toprove that the converse is not true. A c-acceptable strategy used by a mediator is not necessary immune against Trojanhorses: A coalition of players may correlate in such a way that in some realizations a subgroup is pretending to cooperateby sending the right messages. This may be beneficial because these Trojan horses will be part of the punishing group, andthey may get a very big payoff for this!More precisely, the mediator can only see who has chosen its services, and can not distinguish between an agent thatjust asks for its services to one that asks for its services as part of a sophisticated deviation in which it does so only inparticular instances. It turns out that the ability to have such sophisticated deviations, where the mediator can not tell whoare the deviators is indeed meaningful, as captured by the following theorem:Theorem 1. There exists a game Γ , and a c-acceptable strategy c, which is not a strong mediated equilibrium.Proof. Consider the following 3-person game:The strategy set of each player i is {a, b, c}. If Player 3 chooses a the resulting payoff vector is (1, 8, 0) regardless of theactions chosen by 1 and 2. Similarly, when 3 chooses b, the resulting payoff is (8, 1, 0). When 3 chooses c, the resultingpayoff matrix is the 3 × 3 matrix in the figure.We first show that the correlated strategy that is concentrated on (c, c, c) is c-acceptable. We define a vector (ηS )S⊆{1,2,3},where η{1,2,3} = δ(c,c,c) that satisfies the conditions for δ(c,c,c) to be c-acceptable.As almost all correlated strategies discussed in this example are concentrated on pure strategy profiles, we will abusenotations and for every S and every xS ∈ Δ(XS ) we will identify xS with the correlated strategy δxSIndeed, let η{1,2} = (a, a), η{1,3} = (a, b), η{2,3} = (a, a), η{3} = a, η{1} = a, and η{2} = a. It is easily checked that theseare punishing strategies that do the job. That is, no deviating group can ensure more than 1 to each of its members. Weproceed to show that (c, c, c) is not a strong mediated equilibrium. Assume for contradiction that it is a strong mediatedequilibrium, and let (c S )S⊂N be a minimal mediator that implements it. In particular, cN = (c, c, c). Consider c{2,3}. Usingthis strategy by 2 and 3 must guarantee that player 1 does not get more than 1. Therefore this correlated strategy mustassign a probability 1 to player 3 playing a, since otherwise a deviation of player 1 to (say) a would yield him a strict convexcombination of 8 and 1. Similarly, in c{1,3} player 3 must play b with probability 1. We construct a profitable deviation for{1, 2}. Let 1 and 2 randomize with equal probability between the two options: “1 plays a and 2 give the right of play tothe mediator”, and “2 plays a and 1 give the right of play of the mediator”. Given the properties of η{1,3}, η{2,3} describedabove, this deviation will give each of them an expected payoff of 4.5. This contradicts the assumption that (c, c, c) is astrong mediated equilibrium. Therefore (c, c, c) is not a strong mediated equilibrium. (cid:2)5.1. The β-core and the mediated coreWe need the following notations: For every correlated strategy c (a strategy profile x) we denote U(c) = (U 1(c), . . . , Un(c))(u(x) = (u1(x), . . . , un(x)). A vector w ∈ Rn will be called a payoff vector; w is called a feasible payoff vector for Γ if thereexists a correlated strategy d with U(d) = w. That is, w is feasible if it belongs to the convex hull of all payoff vectors ofthe form u(x), x ∈ X. The proof of the following important observation follows directly from the definition of c-acceptablestrategies and strong mediated equilibrium, respectively:Observation 1.1. If c is c-acceptable and U(d) = U(c) then d is also c-acceptable.2. If c is a strong mediated equilibrium and U(d) = U(c) then d is also a strong mediated equilibrium.Hence, the question of whether c is a strong mediated equilibrium or c-acceptable depends only on the payoff vectorU(c). Therefore, it is natural to define the concept of “acceptable” payoff vectors. This was done in [5] for the concept of“c-acceptable” via the notion of the β-core of a game in strategic form, as follows:188D. Monderer, M. Tennenholtz / Artificial Intelligence 173 (2009) 180–195Definition 8. Let Γ be a game in strategic form. The β-core of Γ , Cβ (Γ ) is the set of all feasible payoff vectors, w =(w 1, . . . , wn), for which there exists a c-acceptable correlated strategy c such that U(c) = w. That is, w i = U i(c) for everyi ∈ N.Similarly, we define:Definition 9. The mediated core of Γ , Cm(Γ ), is the set of all feasible payoff vectors, w, for which there exists a strongmediated equilibrium c such that w = U(c).Proposition 5 implies that Cm(Γ ) ⊆ Cβ (Γ ). Considering again the game described in the proof of Theorem 1, as weshowed that (c, c, c) is not a strong mediated equilibrium, then by Part 2 in Observation 1, (1, 1, 1) = u(c, c, c) is not in themediated core. Therefore we have:Corollary 1. For every game in strategic form, Γ , the mediated core is contained in the β-core. That is,Cm(Γ ) ⊆ Cβ (Γ ).Moreover, there exists a game Γ for which a strict inclusion holds.For completeness, we end this section with an analysis of the mediated core of the game described in Theorem 1.Actually, it is easy to notice that the correlated strategy, c, which randomizes with equal probabilities between (c, c, c) and(a, a, c) is a strong mediated equilibrium in Γ , in which 1, and 2 get each 4.5, and 3 gets 0.5. Moreover, the mediated coreof this game is a singleton, that is Cm(Γ ) = {(4.5, 4.5, 0.5)}.6. Existence: Two-person gamesIn this section we illustrate the power of mediators, by showing that every two-person game in strategic form possessesa strong mediated equilibrium. Other existence results for general classes of games are presented in Sections 8 and 9.We need some notation: A correlated strategy c is Pareto optimal if for every correlated strategy d there exists i ∈ N suchthat U i(d) (cid:2) U i(c). A feasible payoff vector, w is Pareto optimal if there exists a Pareto optimal strategy c with U(c) = w.Obviously Pareto optimality is a necessary condition on c to be a strong mediated equilibrium, as well as to be c-acceptable. It just says that the set of all players does not have a profitable deviation for its members. Consequently, everypayoff vector in the mediated core or in the β-core is Pareto optimal.In [5] it was shown that every 2-person game has a c-acceptable strategy. Since the Trojan horse effect, which workedin the proof of Theorem 1, cannot hold with only two players, we have:Proposition 6. In a two-person game, every c-acceptable strategy is a strong mediated equilibrium. Consequently, every 2-persongame has a strong mediated equilibrium.Proof. Let Γ be a two-person game in strategic form, and let c be a c-acceptable correlated strategy in Γ . Denote c{1,2} = c.By Definition 7 there exist correlated strategies for i, ci , i = 1, 2 such that (c1, c2, c{1,2}) has the following three properties:U i(di) (cid:2) U i(ci)for every di ∈ Δ( Xi), i = 1, 2.For every d ∈ Δ( X) there exists i ∈ {1, 2} with U i(d) (cid:2) U i(c).However, the three properties above are precisely the properties that are required to guarantee that c is a strong medi-ated equilibrium implemented by the minimal mediator (c1, c2, c{1,2}). Therefore, c is a strong mediated equilibrium. (cid:2)7. Aggregate deviationsIn this section we develop a theory of another type of implementation by mediators, for settings in which players con-sider deviations with re-distribution of payments, and discuss its relationships with the previous sections. In the followingsections we use the results of this section to prove additional existence theorems for the standard strong mediated equilib-rium. However, the theory developed here is interesting for its own.We begin with a fourth notion of strong equilibrium for games in strategic form. Let Γ be a game in strategic form. For(cid:2)every x ∈ X, and for every S ⊆ N let u S (x) =i∈S ui(x). Similarly, for a correlated strategy c we denoteU S (c) =(cid:4)U i(c).i∈SWe say that a correlated strategy c is surplus optimal if maxd∈Δ(X) U N (d) is attained at c. Obviously, every surplus opti-mal correlated strategy is also Pareto optimal. Also, one can always find a surplus optimal correlated strategy, which isconcentrated on a pure strategy profile.D. Monderer, M. Tennenholtz / Artificial Intelligence 173 (2009) 180–195189Definition 10. Let q ∈ Q. We say that q is a strong equilibrium of type IV, if for every coalition S, and for every correlatedstrategy for S, c S ∈ Δ(XS ),(cid:6)(cid:5)c S × (×i∈Sc qi)(cid:2) U S (q1 × q2 × · · · × qn).U SThe requirement that q is a strong equilibrium of type IV seems to be acceptable in an environment in which the playersdo not correlate their strategies, and do not redistribute their payoffs, but they may fear/hope that such a correlation andre-distribution is possible. The following is a simple observation:Observation 2. Given a game in strategic form, every strong equilibrium of type IV in the game is also a strong equilibrium of type III.When players consider aggregate deviations as possible, a mediator must make sure that sending him the right messagesforms a strong equilibrium of type IV at the mediated game. We therefore define:Definition 11. Let Γ be a game in strategic form. A correlated strategy c ∈ Δ(X) is an aggregate mediated equilibrium if thereexists a mediator for Γ , M, and a vector of messages m ∈ M, with cN (m) = c, such that m is a strong equilibrium oftype IV in Γ (M). Such a mediator is said to implement c with aggregate deviations.Lemma 1 and Propositions 1, 2, 3, and 4 are true when “strong equilibrium of type III” is replaced with “strongequilibrium of type IV”, “strong mediated equilibrium” is replaced with “aggregate mediated equilibrium”, and “stronglyimplements” is replaced with “implements with aggregate deviations”. The following is a simple observation:Observation 3. Every aggregate mediated equilibrium is a strong mediated equilibrium.Observation 1 also holds for the concept of aggregate mediated equilibrium. Hence, we also define the aggregate medi-ated core as follows:Definition 12. The aggregate mediated core of Γ , Cag−m(Γ ) is the set of all feasible payoff vectors w, for which there existsan aggregate mediated equilibrium c such that w = U(c).We now define the classical concepts7 of T U -acceptable strategies, and the TU-core, which will be related to aggregatemediated equilibrium and aggregate mediated core, respectively. However, we define these concepts in the spirit of previousdefinitions in this paper, rather than in the equivalent classical way, which associates a TU-cooperative game with each gamein strategic form. In the next sub-section we will provide also the classical approach, which is useful.Definition 13. Let Γ be a game in strategic form, and let c be a correlated strategy. We say that c is TU-acceptable if thereexists a sequence of correlated strategies (c S )S⊆N with c S ∈ Δ(XS ) and cN = c, such that for every T ⊆ N and for everydT ∈ Δ(XT ), U T (dT × c−T ) (cid:2) U N (c).Definition 14. A payoff vector w = (w 1, w 2, . . . , wn) is in the TU-core, Ctu(Γ ), if there exists a TU-acceptable correlatedstrategy, c such that w = U(c) = (U 1(c), . . . , Un(c)).Proposition 7.1. Every aggregate mediated equilibrium is TU-acceptable.2. There exists a game Γ , and a TU-acceptable strategy c, which is not an aggregate mediated equilibrium.3. The aggregate mediated core is contained in the TU-core. That is,Cag−m(Γ ) ⊆ Ctu(Γ ),and moreover, there exists a game Γ for which a strict inclusion holds.Proof. 1. The proof mimics the proof of the analogous claim in Proposition 5.2. Consider the game in strategic form given in Theorem 1, Γ . It can be easily checked that (c, c, c) is a TU-acceptablecorrelated strategy in this game. By Theorem 1, (c, c, c) is not a strong mediated equilibrium in Γ . Therefore, by Observa-tion 3, (c, c, c) is not an aggregate mediated equilibrium.3. The proof mimics the proof of Corollary 1. (cid:2)7 See [34].190D. Monderer, M. Tennenholtz / Artificial Intelligence 173 (2009) 180–1957.1. The associated TU-cooperative gameA TU-cooperative game on the set of players N is a function v : 2N → R with v(∅) = 0, where 2N denotes the set of allsubsets of N.Let Γ be a game in strategic form. We define the associated cooperative game vΓ as follows: For every S ⊆ N letvΓ (S) = minc−smaxc SU S (c S , c−S ).Note that:vΓ (N) = maxc∈Δ( X)U N (c).(9)A correlated strategy c S is an optimal punishing strategy for S if it ensures that N/S does not obtain more than vΓ (N/S),that is the Min in (9) is attained in c S . Note that if c is an optimal punishing strategy for N, then it does not punish anyone. Actually, such c is a surplus optimal strategy.An alternative definition of a TU-acceptable strategy is derived from the following observation:Observation 4. c is TU-acceptable if and only if for every coalition S,U S (c) (cid:3) vΓ (S).Consequently, every TU-acceptable strategy c is surplus optimal.Proof. The proof follows easily from the minimax theorem (see e.g., [34]), according to which:vΓ (S) = maxc Sminc−sU S (c S , c−S ).(cid:2)7.2. Symmetric games with nonempty TU-core(10)In this section we prove that every symmetric game with a nonempty TU-core possesses an aggregate mediated equi-librium that yields an optimal surplus. Needless to say that symmetric games are most popular in the rich literature inthe interface between CS/AI and game theory. In particular, much of the extremely rich literature in computer science oncongestion games (see e.g. [2,16,26]) deals with symmetric games, in which agents’ costs do not depend on their identityand the bundles of resources they can choose from are identical.We proceed to define symmetric games: A permutation of the set of players is a one-to-one function π : N → N. Weconsider games Γ in strategic form, for which all players share the same strategy set, that is Xi = X j for every i, j ∈ N. Letus call such games shared-actions games. Let Γ be a shared-actions game. For every permutation π , and for every strategyprofile x ∈ X we denote by π x the permutation of x by π . That is, (π x)π i = xi for every player i ∈ N. Similarly, for acorrelated strategy c and a permutation π we denote by π c the correlated strategy defined by π c(x) = c(π x) for everyx ∈ X. The same notations are applied to strategy profiles and correlated strategies in Δ(XS ), S ⊂ N.A shared-actions game Γ is symmetric if ui(x) = uπ (i)(π x) for every player i, for every action profile x ∈ X, and for everypermutation π .Obviously, if Γ is a symmetric game, vΓ is a symmetric TU-game, that is vΓ (π (S)) = v(S) for every S ⊆ N and for everypermutation π . Hence vΓ (S) depends only on the number of players in S. Let fΓ : {0, 1, . . . , n} → R be a function withfΓ (0) = 0 such that vΓ (S) = fΓ (|S|) for every S ⊆ N.We are about to prove that for symmetric games, Ctu(Γ ) (cid:9)= ∅ implies that Cag−m(Γ ) (cid:9)= ∅. Moreover we show that thereexists a mediator that implements a symmetric and surplus optimal correlated strategy c with aggregate deviations, that is,U(c) = ( fΓ (n), . . . , fΓ (n)).nnBefore proving this we need the following lemma that characterizes those symmetric games in strategic form that possessa nonempty TU-core.8Lemma 2. Let Γ be a symmetric game in strategic form.(1) If Ctu(Γ ) (cid:9)= ∅, then(cid:10)fΓ (n)n, . . . ,(cid:11)fΓ (n)n∈ Ctu(Γ ).(11)8 A sufficient condition for the nonemptiness of the TU-core (not necessarily for symmetric games) is given in [36]. This sufficient condition does notimply our condition. Actually, the TU-core is called there the β-core, but the author rightly explains that this is the β-core in the TU spirit.D. Monderer, M. Tennenholtz / Artificial Intelligence 173 (2009) 180–195191Moreover, there exists a symmetric TU-acceptable strategy, c with(cid:10)U(c) =fΓ (n)n, . . . ,fΓ (n)n(cid:11).(2) Ctu(Γ ) (cid:9)= ∅ if and only iffΓ (s)s(cid:2) fΓ (n)nfor every 1 (cid:2) s < n.(12)Proof. (1) Let w be in the TU-core of Γ , and Let d be a TU-acceptable strategy with U N (d) = w. Because vΓ is a symmetricTU-cooperative game, by Observation 4, πd is also a TU-acceptable strategy for every π ∈ Π , where Π is the set of allpermutations of N. Moreover, u N (πd) = π w. Therefore π w ∈ Ctu(Γ ). As by Observation 4 Ctu(Γ ) is convex set, wΓ =1n!(cid:2)(2) Assume Ctu(Γ ) (cid:9)= ∅. By the first assertion in this theorem wΓ is in the TU-core. Let c be a TU-acceptable strategywith U N (c) = wΓ . Let 1 (cid:2) s < n. Let S ⊆ N be an arbitrary set with s players. Then by Observation 4,for every i ∈ N. Therefore, the first assertion is proved.(cid:10)wΓ =π ∈Π π w ∈ Ctu(Γ ). Moreover,(cid:11)fΓ (n)fΓ (n)nnπ ∈Π πd. Obviously U i(c) = fΓ (n), . . . ,(cid:2).nLet c = 1n!sfΓ (n)n=(cid:4)i∈SwΓi(cid:3) vΓ (S) = fΓ (s).Therefore,(cid:2) fΓ (n).nfΓ (s)s(cid:2)Let c = 1n!symmetric, U i(c) = fΓ (n)strategy. Hence, Ctu(Γ ) (cid:9)= ∅. (cid:2)nOn the other direction, assume condition (12) holds. Let x be a pure strategy profile with u N (x) = vΓ (N) = fΓ (n).π ∈Π π δx. Obviously c is a symmetric surplus optimal correlated strategy, with u N (c) = fΓ (n) because c isfor every i ∈ N. Therefore, by condition (12), c satisfies the conditions to be a TU-acceptableDefinition 15. A symmetric game Γ is called balanced if condition (12) holds.The term “balanced” is inherited from cooperative game theory.9 By Lemma 2, Γ is balanced if and only if its TU-core isnonempty.Proposition 8. Let Γ be a balanced symmetric game. There exists a symmetric aggregate mediated equilibrium c with(cid:10)U(c) =fΓ (n)n, . . . ,fΓ (n)n(cid:11).Proof. For every coalition S ⊂ N, let dS be an optimal punishing strategy for S. That is, by using dS the players in S ensurethat the members of N \ S do not get together more than vΓ (N \ S). Obviously, the symmetrization of dS over all permuta-tions of S is also an optimal punishing strategy for S, which is symmetric in Δ( X S ). Let us denote this symmetrization byc S , that is:c S (xs) = 1s!(cid:4)πS ∈ΠSc S (πS xS ),xS ∈ Δ(XS ),where s is the number of players in S, and ΠS is the set of permutation of S. Denote cN = c, where c is a symmetricTU-acceptable strategy with U(c) = wΓ = ( fΓ (n)), whose existence is guaranteed by Lemma 2. We show that theminimal mediator M = (c S )∅(cid:9)=S⊆N implements c with aggregate deviations., . . . , fΓ (n)Let T ⊂ S, and let ξT ∈ Δ(ZT ) be a potential deviation of the coalition T at the mediated game.We have to show that ξT is not a profitable deviation for its members. Let ξ = ξT × (×i∈N\T δri ) ∈ Δ(Z). We have to shownnthatMTU(ξ ) (cid:2) uMT (r1, r2, . . . , rn).That is,U T (cξ ) (cid:2) U T (c) = tnfΓ (n),where t = |T |.(13)9 The definition of balanced TU-cooperative games is given in [8,29]. By this definition, a symmetric game Γ is balanced if and only if vΓ is a balancedTU-cooperative game.192D. Monderer, M. Tennenholtz / Artificial Intelligence 173 (2009) 180–195Note that for every z ∈ Z, ξ(z) = 0 unless z−T = r−T . As the mediator is minimal we get from (2), that for every x ∈ X,(cid:4)(cid:4)cξ (x) =ξ(xS , rSc )c Sc (xSc ) =ξT (xS , rT \S )c Sc (xSc ).S⊆TS⊆TTherefore,U T (cξ ) =Therefore,U T (cξ ) =(cid:4)(cid:7) (cid:4)S⊆TxS ∈XS(cid:4)(cid:7) (cid:4)S⊆TxS ∈XS(cid:8)ξT (xS , rT \S )U T (xS , c Sc ).(cid:5)ξT (xS , rT \S )(cid:8)(cid:6)U S (xS , c Sc ) + U T \S (xS , c Sc ).Because c Sc is symmetric for the members of Sc ,U T \S (xS , c Sc ) = t − sn − sU Sc (xS , c Sc ) (cid:2) t − sn − s(cid:5)(cid:6)vΓ (N) − U S (xS , c Sc ).Therefore,U S (xS , c Sc ) + U T \S (xS , c Sc ) (cid:2) t − sn − svΓ (N) + n − tn − sBecause c Sc is an optimal punishing strategy for Sc ,U S (xS , c Sc ).U S (xS , c Sc ) (cid:2) vΓ (S).Therefore, because vΓ (N) = fΓ (n) and vΓ (S) = fΓ (s),fΓ (n) + n − tn − sU S (xS , c Sc ) + U T \S (xS , c Sc ) (cid:2) t − sn − sfΓ (s).As the TU-core is not empty, Lemma 2 implies thatfΓ (s) (cid:2) snfΓ (n).Hence,U S (xS , c Sc ) + U T \S (xS , c Sc ) (cid:2)(cid:7)(cid:8)t − sn − sn + n − tn − ssf (n)n= tnfΓ (n).Plug in (20) in (16), and use the fact that(cid:4)(cid:7) (cid:4)(cid:8)ξT (xS , rT \S )= 1S⊆TxS ∈XSto get the desired inequality in (13). (cid:2)8. Existence: Balanced symmetric games in strategic formIn this section we prove our next existence result for strong mediated equilibrium.Theorem 2. Let Γ be a balanced symmetric game in strategic form. There exists a symmetric mediated equilibrium c with(cid:10)U(c) =fΓ (n)n, . . . ,fΓ (n)n(cid:11).(14)(15)(16)(17)(18)(19)(20)(21)Proof. By Proposition 8 there exists a symmetric aggregate mediated equilibrium that satisfies (21). By Proposition 3, thisaggregate mediated equilibrium is a strong mediated equilibrium. (cid:2)If a symmetric game is not balanced, it does not necessarily possess a strong mediated equilibrium. Indeed In [4],Aumann presented a symmetric game that does not have a c-acceptable correlated strategy. Therefore, by Proposition 5Aumann’s game does not have a strong mediated equilibrium.Consequently, one may conjecture that being a balanced symmetric game is also a necessary condition for the existenceof strong mediated equilibrium.As we show in the next example this conjecture does not hold. In this example, we construct a non-balanced symmetricgame, which possesses a strong mediated equilibrium. Moreover, this equilibrium will also be surplus optimal. Hence, theset of symmetric games that possess strong mediated equilibrium strictly contains the set of symmetric balanced games.D. Monderer, M. Tennenholtz / Artificial Intelligence 173 (2009) 180–195193Example 3. Consider the following game, Γ . There are 3 players. The strategy set of each player is {a1, a2},where a1, a2are called locations. A player gets a payoff of 1 if she is alone at one of the locations. Otherwise she gets nothing, i.e., herpayoff is 0. Obviously fΓ (3) = 1; It is obtained when one player is alone. Also,fΓ (1) = 0, because two players can punishthe third one by choosing distinct locations. On the other hand, when two players are choosing distinct locations, they. Hence, Γ is not balanced. We construct aensure a total (sum of) payoffs of 1. Hence,minimal mediator that will strongly implement the correlated strategy c, which is defined as follows: c = η{1,2} × η3, whereη{1,2} = (a1, a2), and η3 randomizes with equal probabilities between “3 chooses a1” and “3 chooses a2”. Obviously,fΓ (2) = 1. Therefore,2 > fΓ (3)fΓ (2)3U(c) =(cid:10)(cid:11), 0.12,12Therefore c is surplus optimal. We continue in constructing the punishing parts in the mediator. If a pair of players cometo the mediator, the mediator plays for them some pure strategy in which each of them chooses a different location. If onlyone player, i goes to the mediator, he plays for him ci = ( 12 , 12 ). It is easily verified that no coalition T has a profitabledeviation at the mediated game.9. K -strong mediated equilibriumFor every “strong” equilibrium concept, and for every 1 (cid:2) k (cid:2) n one can define the corresponding concept of a k-strongequilibrium, in which it is only required that deviation of every subset with at most k players is not profitable. Obviously, a1-strong equilibrium concept is just a Nash equilibrium, as emphasized in the following definition:Definition 16. A 1-mediated equilibrium is called a mediated equilibrium. That is, a correlated strategy is a mediated equi-librium in a game in strategic form, Γ , if there exists a mediator for Γ , M, and a vector of messages m ∈ M = ×i∈N Mi ,with cN (m) = c, such that m is pure-strategy equilibrium profile in the mediated game, Γ (M); such a mediator is said toimplement c.An n-strong equilibrium concept is simply the corresponding strong equilibrium concept. The notion of k-strong equilib-rium is very natural; it captures the idea that only a group of a limited size can coordinate a deviation.Before we prove our main result we need the following lemma:Lemma 3. Let Γ be a symmetric game in strategic form. Let 1 (cid:2) s < n be an integer that divides n. Then,fΓ (s)s(cid:2) fΓ (n)n.(22)Proof. One can easily generates a direct proof. However, by [5], vΓ is super-additive with respect to the grand coalition.That is, If ∅ (cid:9)= S j ⊆ N, 1 (cid:2) j (cid:2) m is a partition of N to nonempty subsets. Thenm(cid:4)j=1vΓ (S j) (cid:2) vΓ (N).(23)Because s divides n, one can take such a partition with m = nfrom (23). (cid:2)s , and with |S j| = s for every 1 (cid:2) j (cid:2) ns . Therefore, (22) followsWe are now able to prove:Theorem 4. Let Γ be a symmetric game in strategic form. Let 1 (cid:2) k (cid:2) n be an integer. If k! divides n there exists a symmetric k-strongmediated equilibrium, leading to an optimal surplus.Proof. Consider the minimal mediator constructed in proof of Proposition 8. Let 1 (cid:2) s (cid:2) k, and let S be a coalition with smembers. We have to show that S does not have a profitable deviation. One can notice that when proving this result inProposition 8, the only place in the proof , in which we used the fact that Γ is balanced is in deriving the inequality (19).By Lemma 3 this inequality is satisfied by our game too. Therefore, the result follows. (cid:2)Notice that this result implies, for example, that in every symmetric game with even number of agents, a 2-strongmediated equilibrium always exists. Moreover, there is such an equilibrium, in which the agents’ sum of payoffs (that is,their social surplus) is maximized. Hence, optimal social surplus can be obtained using a mediator, where deviations bypairs of players are not beneficial.We believe that this result has quite significant ramifications from the CS/AI perspective. In the recent years muchattention has been given to the study of game-theoretic solution concepts in computerized settings (see [10,22] for some194D. Monderer, M. Tennenholtz / Artificial Intelligence 173 (2009) 180–195recent related overviews). However, many of the results are highly limited due to the fact deviations by coalitions, and evenby pairs, are not handled. By introducing the study of mediators, a natural concept in many of the systems discussed in thatliterature, we are able to obtain real general positive results; for example, if one considers a router in a standard symmetriccongestion setting then this router can obtain stability against deviations by singletons and pairs for arbitrary cost functions,when acting as a mediator.We have already mentioned the example in [4], which we use to show that a non-balanced symmetric game doesnot necessarily possess a strong mediated equilibrium. This example can be modified to an example in which k! doesnot divide n, and the game does not have a k-strong mediated equilibrium. On the other hand, Example 3 shows a non-balanced symmetric game, and a k (k = 2) such that k! does not divide n (n = 3), in which there exists a k-strong symmetricequilibrium.10. Program equilibrium: A special type of mediatorsThe theory of mediators discussed in this paper is a very broad one. Indeed, in general, the agents’ messages can bearbitrary, and the interpretation of these messages can be arbitrary. One interesting type of messages are those that havethe flavor of a standard computer program, using a standard programming language; in this case it is interesting to look atmediators whose role is the mere execution of the programs. As shown in [32] this perspective can be highly productive.We now briefly discuss program equilibrium and its relationships to our setting.Consider the prisoners dilemma, discussed in the introduction. Denote the possible actions by D (defect) and C (co-operate). Recall that in the only (dominant strategy) equilibrium of this game both agents will choose D, while mutualcooperation will lead both of the agents to a higher payoff. In [32] this issue has been addressed by considering agentswho can use computer programs as their strategies; these computer programs are to run on a single server/machine, andtherefore can exploit the famous dual role of computer programs (introduced in [35]): a program can serve both as a set ofinstructions and as a data file. Consider the program: IF MY-PROGRAM = YOUR-PROGRAM then C; else D; The exact syntaxand semantics of such programs is discussed in [32], but the reader can easily notice the basic idea: the agent/programmerinstructs the computer to compare its program to the other program, as files, and execute a particular action based on theresult of that comparison. There are no circular arguments here, due to the dual role of computer programs. Moreover, thisprogram defines a program equilibrium: it is irrational for an agent to deviate from that program assuming the other agentstick to it. As a result, we get cooperation in the one-shot prisoners’ dilemma! This result is then extended to a general folktheorem.An interesting question is whether the role of a mediator can be replaced by a computer program as discussed in [32].We conjecture:Conjecture 1. Given a game in strategic form, the set of outcomes implemented by the program equilibria of the game is equivalent tothe set of outcomes implemented by the mediated equilibria of that game.11. DiscussionMediators make perfect sense in the CS/AI setting/literature where the idea of providing agents with protocols and sug-gestions is typically considered. This is in contrast to most work in economic theory. This paper concentrated on establishingthe theory, putting it in the perspective of foundational work in game theory, and proving the usefulness of mediators inestablishing behaviors which are stable against group deviations, a significant challenge in multi-agent systems.Notice that the design of mediators can be viewed as the design of mechanisms for a given game; the mediators do notdesign new games from scratch, or constrain the agents’ behavior in the given game. This is complementary to the literatureon mechanism design, which became quite standard in CS/AI (see e.g. [22,24,28]) where games are designed from scratchin order to obtain some desired criteria. The design of mechanisms that lead to desired behavior in a given game is alsothe subject of work on social laws for artificial agent societies (e.g. [20,30]); however, social laws do constrain the agents’behaviors in the given game.Finally, an interesting recent line of research deals with the desire to distribute the power of some limited forms ofa mediators using alternative cryptographic techniques (see e.g., [1]). It is interesting to note that equipping agents withprograms, as discussed in Section 10, can be also viewed as an approach for distributing the power of mediators.References[1] I. Abraham, D. Dolev, R. Gonen, J. Halpern, Distributed computing meets game theory: Robust mechanisms for rational secret sharing and multipartycomputation, in: Proceedings of the Twenty-Fifth Annual ACM Symposium on Principles of Distributed Computing, 2006, pp. 53–62.[2] H. Ackermann, P. Goldberg, V. Mirrokni, H. Röglin, B. Vöcking, A unified approach to congestion games and two-sided markets, in: Proceedings ofWINE-07, 2007, pp. 30–41.[3] I. Ashlagi, D. Monderer, M. Tennenholtz, Mediators in position auctions, in: The ACM Conference on Electronic Commerce, EC-2007, 2007.[4] R. Aumann, Acceptable points in general cooperative n-person games, in: A. Tucker, R. Luce (Eds.), Contribution to the Theory of Games, vol. IV, Annalsof Mathematics Studies, vol. 40, 1959, pp. 287–324.[5] R. Aumann, The core of cooperative games without payments, in: Transactions of the American Mathematical Society, 1961.D. Monderer, M. Tennenholtz / Artificial Intelligence 173 (2009) 180–195195[6] R. Aumann, Subjectivity and correlation in randomized strategies, Journal of Mathematical Economics 1 (1974) 67–96.[7] N. Bhat, K. Leyton-Brown, Y. Shoham, M. Tennenholtz, Bidding Rings Revisited.[8] O. Bondareva, Some applications of linear programming methods to the theory of cooperative games, Problemi Kibernet 10 (1963) 119–139 (in Russian).[9] C. Boutilier, Y. Shoham, M. Wellman, Special issue on economic principles of multi-agent systems, Artificial Intelligence 94 (1997).[10] P. Cramton, Y. Shoham, R. Steinberg, Combinatorial Auctions, MIT Press, 2006.[11] F.M. Forges, An approach to communication equilibria, Econometrica 54 (6) (1986) 1375–1385.[12] D. Graham, R. Marshall, Collusive bidder behavior at single-object second-price and English auctions, Journal of Political Economy 95 (1987) 579–599.[13] R. Holzman, N. Law-Yone, Strong equilibrium in congestion games, Games and Economic Behavior 21 (1997) 85–101.[14] S. Kakade, M. Kearns, J. Langford, L. Ortiz, Correlated equilibria in graphical games, in: ACM Conference on Electronic Commerce, 2003, pp. 42–47.[15] E. Kalai, R. Rosenthal, Arbitration of two-party disputes under ignorance, International Journal of Game Theory 7 (1976) 65–72.[16] E. Koutsoupias, C. Papadimitriou, Worst-case equilibria, in: STACS, 1999.[17] N. Linial, Game-theoretic aspects of computer science, in: R. Aumann, S. Hart (Eds.), Handbook of Game Theory with Economic Applications, vol. II,North-Holland, 1994, pp. 1340–1395, Chapter 38.[18] R. McAfee, J. McMillan, Bidding rings, The American Economic Theory 82 (1992) 579–599.[19] D. Monderer, M. Tennenholtz, K-implementation, Journal of Artificial Intelligence Research (JAIR) 21 (2004) 37–62.[20] Y. Moses, M. Tennenholtz, Artificial social systems, Computers and Artificial Intelligence 14 (6) (1995) 533–562.[21] R.B. Myerson, Multistage games with communication, Econometrica 54 (2) (1986) 323–358.[22] N. Nisan, T. Roughgarden, E. Tardos, V. Vazirani, Algorithmic Game Theory, Cambridge University Press, 2007.[23] C. Papadimitriou, Computing correlated equilibria in multi-player games, in: Proceedings of the Thirty-Seventh Annual ACM Symposium on Theory ofComputing, 2005, pp. 49–56.[24] D.C. Parkes, Computational mechanism design, in: Lecture Notes of Tutorials at 10th Conf. on Theoretical Aspects of Rationality and Knowledge (TARK-05), Institute of Mathematical Sciences, University of Singapore.[25] J.S. Rosenschein, G. Zlotkin, Rules of Encounter, MIT Press, 1994.[26] T. Roughgarden, E. Tardos, How bad in selfish routing? Journal of the ACM 49 (2) (2002) 236–259.[27] O. Rozenfeld, M. Tennenholtz, Routing mediators, in: Proceedings of the 23rd International Joint Conferences on Artificial Intelligence (IJCAI-07), 2007.[28] T. Sandholm, Making markets and democracy work: A story of incentives and computing, in: Proceedings of the International Joint Conference onArtificial Intelligence (IJCAI-03), 2003, pp. 1649–1671.[29] L.S. Shapley, On balanced sets and cores, Naval Research Logistics Quarterly 14 (1967) 453–460.[30] Y. Shoham, M. Tennenholtz, Social laws for artificial agent societies: Off-line design, Artificial Intelligence 73 (1995).[31] A. Tauman-Kalai, E. Kalai, E. Lehrer, D. Samet, A commitment folk theorem, Working Paper. Northwestern University, 2007.[32] M. Tennenholtz, Program equilibrium, Games and Economic Behavior 49 (2004) 363–373.[33] H. Varian, Position auctions, International Journal of Industrial Organization 25 (2007) 1163–1178.[34] J. von Neumann, O. Morgenstern, Theory of Games and Economic Behavior, Princeton University Press, Princeton, 1944.[35] J. von Neumann, First draft of a report on the edvac, contract no. w-670-ord-402 moore school of electrical engineering, Univ. of Penn., Philadelphia,1945. Reprinted (in part) in: Brian Randell (Ed.), Origins of Digital Computers: Selected Papers, Springer-Verlag, Berlin, Heidelberg, 1982, pp. 383–392.[36] J. Zhao, A β-core existence result and its application to oligopoly markets, Games and Economic Behavior 27 (1999) 153–168.