ELSEV[ER Artificial Intelligence 96 (1997) 303-350 Artificial Intelligence An (extension of QSIM with qualitative curvature Abul Hossaina, Kumar S. Ray by* a Department of Mathematics, Bengal Engineering College, Deemed University, PO. Botanic garden, Howrah 711 103, WB., India b Electronics and Communication Sciences Unit, Indian Statistical Institute, 203, B.Z Road, Calcutta 700 035, India Received December 1994; revised September 1996 Abstract The aim of this work is to extend ;a new definition of the reasonable the existing method of QSIM with qualitative curvature. We the concept of the point of and ultimately the that the new definition of function produces qualitatively accurate curvature profile of the response which is and I-transitions function. We demonstrate consider inflection. We generate need of the new definition of the reasonable the reasonable absent in the existing QSIM. @ 1997 Elsevier Science B.V. the new tables for P-transitions function by introducing justify Keywords: Qualitative simulation; Qualitative magnitude; Qualitative curvature; Reasonable function; Qualitative constraint equations 1. Introduction In recent years qualitative reasoning the key role area in Artificial [ 2,691, of the possible system. physical which represents the qualitative magnitude of its derivative, the second derivative, [x’(t) Intelligence. Although is played by qualitative consistent with [9] Kuipers behaviors In QSIM the qualitative there are several about physical systems has become an important reasoning [93 ): predictions of the structure of types of qualitative knowledge incomplete simulation (QSIM introduces a constraint state of a time-varying algorithm in terms of relations with a set of landmark values) and the sign the sign of state in QSIM ignores real variable x(t) the qualitative satisfaction (ordinal I. In particular, [x”(t) 1. * Corresponding author. Email: ksray@isical.emet.in. 0004-37021’97/$17.00 @ 1997 Elsevier Science B.V. All rights reserved. PIISOOO4-3702(97)00051-9 304 A. Hossain, K.S. Ray/Art$cial Intelligence 96 (1997) 303-350 [x’(t) The aim of this paper is to extend QSIM where qualitative magnitudes, the information landmark values of direction of bulge and the additional at the points of inflection. Thus, a more enriched quality of qualitative is obtained. The extended version of QSIM paragraph we discuss state consists of ] and [x”(t) 1. As a result of this extension we can obtain represented description is called QSIM2. Now in the following the organization the qualitative of the rest of the paper. tools needed tables necessary the transition In Section 2 we describe the basic for QSIM2. Section 3 deals with for QSIM2. In Section 3.1 we tables of Section 3. In Section 4 approach. constraints interpretations and I-transition the new landmark values using and Section 5.1 discusses constraint and global filters and in Section 6.1 we discuss and sign algebra. Section 5 discusses qualitative the new P-transition describe we talk about some new constraints In Section 6 we function infinity talk about global the algorithm QSIM2 with one demo and asymptotic example. The basic steps of the algorithm QSIM2 are same as those of QSIM; but the input and output parameters of QSIM2 are different from QSIM and at every step QSIM2 evaluates is performed. Section 8 talks about detection of actual behaviors. In Section 11 the mixing appreciation In Section 10 we talk about the coarse state descriptions. is considered. Section 12 deals with the critical the complexity of QSIM2. Section 9 discusses In Section 13 we draw the conclusion. some new features of the physical on QSIM and QSIM2 algorithms. In Section 7 we discuss the simulation tank problem consistency. for which system the 2. Tools for QSIM2 In the following, for the extension of the existing QSIM with qualitative curvature landmark value, distinguished we propose some new definitions time point, qualitative state, J-point, etc. for reasonable function, Definition 1. For [a, b] 2 IX*, define real number line, to be a reasonable function of type 2 or IWI’2 if f : [a, b] -+ R*, ’ where Iw* is the extended on [a, b] , on (a, b), ( 1) f and f’ are continuous (2) (3) (4) f” exists and is continuous the sign of f”(t) limt-+=+ f”(t) respectively. function and lim,,b- Reasonable changes only finitely many f”(t) exist times in any bounded in JR* and define f’(a), interval, and f”(b) in [ 91 is defined here as a reasonable function of type 1 or RFTl. Let the set of all RFTls and RFT2s in [a, b] be denoted by Ri [a, b] and R2 [ a, b] respectively. Definition 2. such that t’ is said to be a J-point of Q function f if there exists a number S > 0 1 For a list of symbols used, see Appendix A. A. Hossain, K.S. Ray/Artijicial Intelligence 96 (1997) 303-350 305 f”(t) =0 in [t’,t’+@, # 0 in (t/-&t’), { or f”(t) 50 in (t’-&t’], Z 0 in (t’,t’+fY), { holds true where f” exists in a &neighbourhood of t’. Definition 3. Every f E Rz[a, b] has associated with it a finite set of landmark values (LVs). The landmark values the basic set {-co, 0, +oo} and the value of f at each of its critical points, inflection points, and J-points and may include any number of additional values. The set of all LVs of f will be denoted by L2 [ f, a, b] . if f E RI [a, b] , then the set of all LVs of f will be denoted by L1 [f, a, b] . Similarly, include f(b), f(u), Definition 4. Let f E R2 [ a, b] , and let D2 [ f, a, b] be the set of all boundary elements of the set {t is said to be a distinguished time point or DTF? Two consecutive distinguished points will be denoted by CDTR x where x is an LV of f}. Then each t E D2 [ f, a, 1 f(t) [a,b] b] E = Similarly, we can define Dt [f, a, b] as a set of all DTF’s of f E Rt [ LI, b] . It is olbvious from the definition that R;?[a,bl C R~[abl, L2[f,Gbl c Ll[f9Kbl, h[f,a,bl C D2[f,ebl. Definition 5. Let 11 < 12 < 1. ’ <lkbetheLVsoffER2[a,b].Foranyt~[u,b], QS( f, state of f at 1, is a triple (qval, qdir,db) where the qualitative t), (1) qval:= li if f(t) = Zj, i3Il LV, Czj91j+l> { iff(t) E <lj9lj+l>9 (2) qdir := (3) db := + 0 - if f'(t) > 0, if f'(t) =0, if f'(t) < 0, + 0 - if f"(t) > 0, if f"(t) =O, if f"(t) < 0. Example 6. Here we illustrate Definition representled by Fig. 1. 5 with the help of the following example QS(water-temp,now,how) := ((32’F,212”F),+,-). Kuipers [ 91 defines a pair (p, q) of LVs to be the corresponding values f and g if there exists a t’ E [a, b] such that f (t') (CVs) of p and = the physical parameters g( t’) = q. Here, we have introduced inflection points as additional LVs. 306 A. Hossain, KS. Ray/Art$icial Intelligence 96 (1997) 303-350 - - INF 212’F . . . . , . . . . . . . . ‘/l . . . . . . . . . . . . . . . : : : - 11 32’F io - MINF Ti Fig. 1. Representation direction of bulge respectively. of QS using QSIM2. Small and big arrows represent the qualitative direction and the Definition 7. We define the CVs (p, q) to be corresponding if both LVs are critical points and corresponding LVs are inflection points. Otherwise we we say that the corresponding type 3 (that is, CVT3), which essentially in [9]. values of type one (CVTl ) if both values are of the definition given as Definition 4.1 values of type two (CVT2) retains With respect to our extended version of QSIM we state the following the statement of Proposition 2.5 of [9] which is Proposition support text. results which 24 in the present Proposition 8. If there are two consecutive time points t’, t” E D:! [ f, a, b] such that t’ < t” and f ( t’) = f (t”), then there exists an LV 1 such that f(t) = 1 Vt E [t’, t”]. Proof. Since say, f(t’) =Z. So f(t’) = f(t”) =l. t’ E D2 [ f, a, b] , we have from the definition, f (t’) E L2 [ f, a, b] and, First we prove that f’(t) E 0 in ( t’, t”). Suppose not, there then is a p E (t’, t”) such that f’(p) say, there exists a number S > 0 such that f’(t) > 0 # 0, in particular, is continuous, f’(p) > 0. Since f’(t) VtE(p-S,p+6). Thus, f(t) Existence of such a p implies is increasing Rolle’s Theorem, there exists a DTP of f between t” are CDTP in (p - 8, p + 6) where (p - 8, p + 8) c (t’, t”) c [ t’, t”]. that f(t) is non-constant in there exists a point c E ( t’, t”) such that f’(c) = 0. This implies t’ and t” which contradicts our hypothesis [t’, t”]. Therefore, by that that t’ and Therefore, no such p can exist in ( t’, t”). Hence f’(t) = 0 in (t’,t”). (1) A. Hossain. K.S. Ray/Arti$cial Intelligence 96 (1997) 303-350 307 Let q be any point in (t’, t”). We can apply the Mean Value Theorem on [t’, q]. Now, f(q) - f(t’> = (q- t’)f’(h) for some h E (t’,q). => f(q) - f(t’) =0 by (1) *a f( t’) = f(q) = f( t”) = 1 for any q E (t’, t”) *> f(t) =l vt E [t’,t”]. 0 Corollary 9. Zf f(t) = 1 in [t’, t”] where [t’, t”]. t’ and t” are CDTP, then f’(t) E 0 in Proof. Since f(t) = 1 in [ t', t”], we have that f’(t) E 0 in ( t’, t”). From the continuity of f’, we get that f’( t’) = f’( t”) = 0. Therefore, f’(t) E 0 in [t’, t”]. 0 Pmpositiion 10. For any f E R2[a, b] and any p E (a, b) such that f’(p) f”(p) = 0, either # 0 and (a) (b) is a point of injection, or (17, f(p)) there is a largest closed interval [g, h] G [a, b] containing p in which f”(t) E 0. exists and is continuous # 0 holds for any in (a, b). Therefore true. For f”(p) = 0, since f”(p) = 0, or f”(p) Proof. Since f E R2 [a, b], f”(t) point p E (a, b), either f’(p) (a) (b) # 0, the following cases are possible: (j7, f(p)) (i) (ii) In case is a point of inflection, is a J-point and we collect all (p. f(p)) there is an open interval containing p in which f”(t) = 0. the semi-open (b)(i), is p) for which the largest semi-open intervals yields that the closed end point follows such semi-open f”(t) f”(t) = 0 Vt E [ t’,p], which same way, we can get the largest closed this and the continuity 3 0. From is the required interval of f”(t), interval, the Definition intervals (from f”(t) = 0 and taking 2 it the union of in which we get that f”( t’) = 0. Therefore, in the 0 In case (b) (ii), is identically say, (t’,p], largest interval. in which f”(t) zero. Proposition 11. For the closed interval [g, h] in Proposition 10, the following cases hold true: (a) h is either a J-point, or h = b, and (b) g is either a J-point, or g = a. the proof of Proposition Proof. ( a) Now p E [g, h] , then either p =horpE J-point. 10(b) (i) .) Next, (From let p E [g, h). Now, [g, h] G [a, b]. Then either h = b, or h # b. If h Z b, f 0 in (h, h + S), because of then there is a positive number 6 < b - h such that f”(t) [g, h] is the largest J-point, [g,h).Forp=h, (p,f(p)) isa s 0. Therefore, the definition in which it follows interval from f”(t) that h is a J-point. In a similar way we can prove (b). 0 308 A. Hossain, K.S. Ray/Artijicial Intelligence 96 (1997) 303-350 Proposition 12. Let a < t’ < t” < b be two CDTPs of f E Rz[a, b] such that f ( t’) # f (t”). Zken f cannot have extreme values at t’ and t”. Moreover, if t’ = a, t” = b, and the function is strictly increasing or decreasing over [a, b] , then its extreme values are at t’ and t”. Proof. For the first part of the proposition, and t” simultaneously, then if possible let f have extreme values at t’ f’(t’) = f’(t”) = 0. Since f’( t’) = f’( t”), we have, by Rolle’s Theorem, = 0. By Propositions such that f”(c) (c, f(c)) is a point of inflection, or there exists a closed [g, h] c (a) (b) interval 10 and 11, we have either [a, b] containing c for which f”(t) = 0 that there exists a point c E (t’, t”) V’tE [g,hl. (a), c is a DTR of f which contradicts Now, in case g E (t’, t”), hypothesis. So, g E [a, t’]. Similarly we can show that h E [t”, b]. the hypothesis. then by definition g is also a J-point and correspondingly In case (b), contradicts if the Therefore, [t’,t”l C [g,hl G [a,bl. = 0 in [g,h]. So, f’(t) = 1, a constant, Now, f”(t) t’ E [g, h], we find that 1 = 0, i.e., f’(t) = 0 in [g, h]. Thus, f(t) = Z’, a constant, [g, h] . Thus, f (t’) = f (t”) = I’ which contradicts f’( t’) = 0 for in in [g, h] . Since the hypothesis. The second part of the proposition follows obviously. q Proposition 13. Zf a DTP t’ is both a critical point and a J-point, then there exists a 6 > 0 such that either (i) (ii) f’(t) = f”(t) =OVt E [t’,t’+S) E (t’-S,t’] f’(t) holds true. = f”(t) =OVt and f’(t) # 0 # f”(t) Vt E (t/--&t’), or and f’(t) # 0 # f”(t) Vt E (t’,t’+S) Proof. For the proof see Appendix B. 0 Proposition 14. If Proposition 13 (i) holds then for next DTP t”, f’(t) = f”(t) = 0 Vt E [t’, t”] holds. We are dealing with CDTF’ and the behavior of the physical parameters between that LVs associated with them are different. them. 12 we have two DTPs cannot both be critical points. We now explore possible In Proposition that these features of CDTI? There are five possible cases for a particular DTP: Here we assume proved characteristic (C), Inflection point J-point (i) Critical point (ii) (iii) (iv) Critical and J-point (v) Critical and inflection point (CJ), (J), (I), (CI). A. Hossain, KS. Ray/Artificial Intelligence 96 (1997) 303-350 309 For any CDTP t” a critical point and a J-point or vice versa. Here we list all valid assignments CDTP: t’, t” of f, by (I) A (CJ), we mean that t’ is an inflection point, and for the (1)’ (C) A (I); (2) (C) A (J); (3) (I) A (J); (4) (I) A (CJ); (5) (1) A (CI); (6) (J) A( (7) (J) A( (8) (1) A (1); (9) (J) A (J). We exclude some cases, because they are prohibited by Proposition 12. For any pair in the above we shall prove interval composed of those DTPs, = QS(f,q) then QS(f,p) that the qualitative state remains constant i.e. if t’ and t” are two CDTP The proof will be five possible cases holds for two CDTP for any p,q E (t’,t”). the open throughout of f E R2[a,bl, completed t’ < t” of a function if we prove that one of the following f E R2[ a, b] : (a) f”(t) E 0 vt E [t’,t”], (F;) f”(t) > 0, f’(t) > 0 vt E (t’,t”), (E) f”(t) > 0, f’(t) < 0 vt E (t’, t”) ( (ii) f”(t) < 0, f’(t) > 0 vt E (t’,t”), (E) f”(t) < 0, f’(t) < 0 vt E (t’,t”). In this section we assume the fact that t’ < t” and t’, t” are CDTP. We now in- form statement features of t’ and t” of troduce a useful notation about DTP to give a compact and amenable of propa’sitions whenever f E R2 [ a, b] and denoted by CFf [ t’, t”]. Now, CFf [ t’, t”] = [ (I), (J) I implies required. These are the characteristic that t’, and t” are an inflection point and a J-point of f respectively. Here CFf [ t’, t”] = [ (I) * and an inflection point of f respectively or t’ and t” ace an inflection point and a J-point of f respectively. t’ and t” are a J-point (J) ] implies that either In the following propositions, it is understood that CFf [ t’, t”] and CF[ t’, t”] are equivalent. The proofs of Propositions 15-24 are given in Appendix B. Proposition 15. CF[ t’, t”] = [(I), (I)] =+ (b) i’ (C) 0 (;i) \i (E). Proposition 16. (i) CF[t’,t”] = [(C),(I)] + (6) V (E), (ii) CF[t’,t”] = [(I), (C)l + (-d) 0 (ii). Proposition 17. CF[t’,t”] = [(J),(J)] =+ (5) V (z;) V (E) 0 (a). 310 A. Hossain, KS. Ray/Artificial Intelligence 96 (1997) 303-350 Proposition 18. (i) CF[t’,t”] = [(C),(J)] + (6) V (E), (ii) CF[t’,t”] = [(J),(C] + (C) V (d). Proposition 19. CF[t’,t”] = [(I) H (J)] =+ (6) V (C) V (;i) 3 (E). Proposition 20. (i) CF[t’,t”] = [(I),(CJ)] (ii) CF[t’,t”] = [(CJ),(I)] + + (C) \i (a), (6) V (E). Proposition 21. (i) CF[t’,t”] = [(I>,(CI)] + (C) V (d), (ii) CF[t’,t”] = [(CI), (I)] + (6) 3 (E). Proposition 22. (i) CF[t’,t”] = [(J),(CJ)] (ii) CF[t’,t”] = [(CJ),(J)] Proposition 23. (i) CF[t’,t”] = [(J),(CI)] (ii) CF[t’,t”] = [(CI),(J)] + + + + (b) V (E), (5) 3 (a). (-d) V (a), (6) V (E). Proposition 24. If t’ and t” are two CDTP of any f E R2 [ a, b] , then QS( f,p) = QS(f, 4) where p,q E (t’, 0. Now we shall give the definition of qualitative CDTP. By Proposition 24, we find the qualitative state in the interval determined state between CDTP is constant. by Definition 25. Let t’ and QS(f,t’,t”), is defined to be QS(f,t) for any t e (t’,t”). t” be CDTl? The qualitative state of f within the CDTP, We see that qualitative state on a DTP, or between CDTP is the same as given in [ 91. We also use here the same definition of qualitative behavior of f on [a, b] . (RFT2) on Similarly we use the same definition of system of functions [a, b] and its qualitative behavior as described by Kuipers [ 91. 3. State transitions Using I-transitions the basic tools of Section 2, in Tables 1 and 2 we extend the P-transitions and of [9]. These extensions are needed for QSIM2. A. Hossain, KS. Ray/Artificial Intelligence 96 (1997) 303-350 311 Table 1 P-transitions Name QS(f, ri) P-l P-2 P-3 P-4 P-5 P-6 P-7 P-8 P-9 P-10 P-11 P-12 P-13 P-14 P-15 P-16 P-17 P-18 P-19 P-20 P-21 (lj, 0.0) (Zj,O,O) (lj,O,O) (lj,O,+) (lj, 03 -) (Zj, +9 +) (ljy +,O) (lj3 +90) (lj3 +T 0) (lj, +7 -) ((lj3lj+l),+,+) (Clj*lj+l),+,O) ((lj9lj+l),+,-) (lj, -7 -) (lj, -3 0) (lj7 -T 0) (lj3 -3 0) (lj, -, +) ((~j-l,~j)9-,+) (Clj-l,lj),-,O) (Clj-19 lj), -, -) * =s =s =5 * =+ * =+ * =+ + G- * =+ =+ =+ * Z + * (lj9090) ((lj9lj+l).+.+) (C~j-lvlj)v-9-) ((~j9~j+l),+,+) (Clj-l,~j),-,-) ((ljvlj+l)3+,+) ((lj*lj+l),+9+) (Clj9lj+l),+,O) (C/j, lj+l), +, -) ((~j~~j+l),+,-) ((~j,~j+l),+,+) (Clj,~j+l),+,O) ((lj,lj+l),+,-) (Clj-l7lj),-,-) ((lj-l.lj).-.+) (Clj-lvlj)v-vO) (Clj-l*lj),-,-) (Clj-l7lj),-,+) (Clj-l3lj),-,+) (Clj-lvlj),-PO) (Clj-l9lj),-,-) 3.1. Discovering new LVs We consider critical points and inflection points as LVs. When we discover new LVs types of points may appear. Suppose QS( f, ti, ti+t ) = (( lj, lj+l), +, -) where both 11 < 12 <: . . . < lk is only a partial set of LVs of f. Then the transitions will be possible only when a newly discovered LV l* E (lj, lj+l), where 1’: represents point in the second case. Therefore, a new landmark value is inserted LVs without violating in the following proposition. i.e., lj < l* < lj+l in the first case and a critical in the partial set of these facts its order. Taking other possible cases, we summarize a newly discovered inflection point Proposition 26. Suppose 11 < 12 < . . . < lk are all known LVs of an RFT2 f, which may have other LVs as yet unknown. Then the transitions shown in Table 3 are possible. The total ordering of the LVs remains unchanged. 312 A. Hossain, K.S. Ray/Art@cial Intelligence 96 (1997) 303-350 Table 2 I-transitions Name Qs(.f, ti. ti+l) =+ QS(f.ti+l) I-l I-2 I-3 I-4 I-5 I-6 I-7 I-8 I-9 I-10 I-11 I-12 I-13 I-14 I-15 I-16 I-17 I-18 I-19 I-20 I-2 1 I-22 I-23 I-24 I-25 I-26 I-27 (Zj,O,O) ((lj,lj+l),+,+) ((Ij7~j+l).+,+) (CZj,O,O) (Zj+l T +V 0) (Zj+lv +3 +) ((lj> lj+l), f, +) ((Zj3~j+l).+,+) ((~jv~j+l)9+9+) (C~j.lj+l)s+30) (z*,+,o) a (lj+ls +V 0) ((lj, lj+l), f. 0) (Clj3Zj+l)9+90) ((ljvlj+l),+,-) (Cljv~j+l),+,-) (C/j, lj+l), +, -) ((~j,~j+l).+.-) ((Zj9Zj+l),+,-) (CZj,lj+l),+,-) ((Zj3lj+l)9+9-) ((Zj-I3Zj)3-9+) ((Zj-l,Zj),-.+) ((lj-l,Zj),-,+) ((lj-l,Zj),-,+) (CZj-l,Zj)9-v+) ((Zj-l,Zj).-.+) (C/j-l~Zj),-,+) (Clj-l,Zj),-*O) (Czj-l~Zj),-,O) ((~j-l,lj)3-3-) (Zj+lv+,O) (Zj+lv 0, -) (Zj+l P +P -) ((~j,~j+l),+,-) (z*,+,o) (I*, 0, -) (I*. 0.0) (Zj-I,%+) (Zj-l,-70) (lj-1, -T +) ((Zj-l,Zj),-v+) (I*, -. 0) (z*,o,+) (ZL.O,O) (Zj-13 -7 0) ((Zj-I3Zj),-,O) ([j-l, -Y -) (([j-l, lj), -, -) (Ii-13 -> 0) (C/j-19 lj)9 -9 -) ((lj-l9Zj).-9-) ((Zj-l.Zj)3-9-) (I*, -,O) a Here * denotes the newly generated landmark value. Table 3 The set of possible transitions Name QS(.L tip ti+l) =s QS(fv ti+l) I-5 I-12 I-13 I-14 I-19 I-20 I-21 I-27 ((Zj.Zj+l).+.+) ((lj*lj+l),+,-) (CZj*lj+l)++,-) (Clj~lj+l).+.-) ((~j-l,~j)3-,+) ((lj-l.Zj).-.+) ((Zj-lrZj)9-9+) (Clj-l,lj)9-,-) d * * * * * 3 3 (I*, f, 0) (I* 1 f, 0) (I”, 0, -) (a*, 0.0) (I*, -,O) (I*, 0, +) (z*,o,o) (I*, -,O) A. Hossain, K.S. Ray/Art@cial Intelligence 96 (1997) 303-350 313 Note Ithat all the P-transitions and I-transitions except the set of transitions represented by Table 3 are satisfied by Propositions 8-24 of Section 2. 4. Some new constraints and sign algebra In this section, we introduce two important constraints which together generalize the DERIV constraint. These new constraints section we formally define them. are DERIV+ and DERIV-. In the following Definition 27. DERIV+ ( f, g) is a two-place predicate on R2 [a, b] which holds iYf’(t) = m&t) Vt E [a,b] where m > 0. true DERIV- ( f, g) is defined in the same way except that m < 0. Note: For m = 1, we have f’(t) = g(t) Vt E [a, b] and thus DERIV(f,g). DERIV( DERIV- f, g) ( f, g) . implies DERIV(f, g) when m = 1. Clearly, DERIV( f, g) So, implies Now we discuss the concept of sign algebra. We represent below the addition operation operation 0 on the set of signs by the following 6~ and multiplication tables: We find that +@ - or - @+ cannot be uniquely evaluated. In such case “?’ represents the sign operator by “[ I” which denotes any one of the symbols +, 0 or -. We denote the sign of the quantity. Thus, [a] = + 0 - { if a > 0, ifa=O, if a < 0, i.e., [ ] : Q + {+, 0, -} where Q is the quantity is not preserved under Addition space. arise when the sign operator, because ambiguities signs, since + @ - or - $ + may yield any one of the signs in we add two opposite {+,0, -}. So in general, We can illustrate [A + B] # [A] @ [B] for all A, B belonging the following example: this fact by considering to the quantity space. [7+(-5)]=[2]=+ and [7]@[(-5)]=+@--=?. so, [7-t (-31 + [71@ [(-%I. 314 A. Hossain, KS. Ray/ArtiBcial Intelligence 96 (1997) 303-350 When we can evaluate [A] @I [B] uniquely, this will be the value of [A + B], i.e., in this case [A+Bl = [Al @[Bl holds true. This is possible only when We need to evaluate always resort to (2) whenever the two arguments [A + B] by its arguments, it is needed. (2) are of the same sign, or one is zero. i.e., by [A] and [B]. Therefore, we 5. Qualitative function constraints There are two types of monotonic early paper on qualitative and M-. simulation function constraints [ 93. These monotonic described by Kuipers function constraints in his are Mf Here we introduce some additional monotonic function constraints such as L+, L-, M++, M+-, M-+ and M--. Definition 28. L+ isa monotonic function two-place predicate on RFT2. L+ (f, g) is true if there exists a H : g[a, bl -+ f[a, bl such that H’(x) > 0 and H”(n) = 0 for all x in the interior of the domain of definition. in the same way where we require H’(x) < 0 instead of H’(x) > 0. is defined L- From the definition it follows that L+(f,g) @L+(g,f) and L-(f,g) @L-(g,f). Proposition 29. Let f, g E R2 [ a, b] . (i) (ii) rfL+(f,g) IfL-(f,g) holds then [f”(t)] holds then [f”(t)] = [g”(t)] = -[g”(t)] is true. is true. Proof. Since Lf ( g) L- f, holds, exists linear function : bl g[a, such f(t) = H(g(t)). So, f’(t) = H’(g(t)) -g’(t) and f”(t) = H”(g(r)) . k’W2 + H’Mt)) -g”(t) = H’Mt)) .g”(t) (for H”(g(t)) E 0). So, [f”(t)1 = [H’(g(t)) .g”(r)l = [H’(g(t))l 0 [g”(t)]. In case (i), H’(g(t)) case (ii), H’(g(t)) > 0, i.e., [H’(g(t))] = +. Therefore, [f”(t)] = [g”(t)]. In < 0, i.e., [H’(g(t))] = -. Therefore, [f”(t)] = -[g”(t)]. 0 A. Hossain, KS. Ray/Artificial Intelligence 96 (1997) 303-350 315 Proposition 30. Let f, g E R2 [ a, b] be such that L- (f, g). Tken for all t E (a, b) , f”( t) > 0 iff g”(t) < 0, f”(t) = 0 iff g”(t) = 0, f”(t) < 0 i# g”(t) > 0. Proof. The proof can be established as in the above. Cl In the sequel we introduce the following propositions which may be applied in the filtering process. Proposition 31. Let M+(x, y) be true. Then [x’( ti)] = 0 implies that [y”( ti)] = [ x”( ti) ] where ti is a DTZ? Proof. Since M+(x, y), f(x). Now, since y”= tion there f”(x)(~‘)~+ is a monotonic f’(x)x”, increasing the proposition function f that y = such follows from the equa- y”(ti) = f”(X(ti))(X’(ti))2 + f’(X(ti))X”(ti). q Proposition 32. -[d’(ti)] where ti is u DTP M-(x, y) true. ti) ] = Proof. The proof of this proposition can be established as in the above. 0 Now ‘we discuss the monotonic These are classes of monotonic these constraints function constraints, and functions obtained by partitioning M+ and M-. and deduce some properties of it which are given viz., M++, M+-, M-+ M--. We shall1 define below. Definitialn 33. M++ is a two-place predicate on FUT2. M++( f, g) holds true i# there exists a monotonic function ff : j-La, bl + g[u, bl such thalt H’(X) > 0 and H”(x) definition. > 0 hold for all x in the interior of the domain of M+- can be defined similarly by taking H”(x) < 0 instead of H”(x) > 0. M++ is the set of all increasing functions of concave-up shapes while M+- is the set of all increasing functions of concave-down shapes. Similarly we can define M-+ and M-- functions with concave-up constraints which are the classes of all respec- and concave-down shapes monotonic tively. decreasing Now we stipulate the following results. 316 A. Hossain, K.S. Ray/Art$cial Intelligence 96 (1997) 303-350 Proposition 34. Let x(t) where F is a strictly monotonic and x’(t) of some point G”( F( x) ) = F”/( F’)3 hold true in that neighbourhood (either # 0 in some neighbourhood and y(t) belong increasing or decreasing) to the set RFT2 and let F(x(t)) = y(t) function. Let G = F-’ ti. Then G’( F(x)) = l/F’ and of ti. Proof. The proof is given in Appendix B. 0 From the above proposition we have the following corollary. Corollary 35. M++(x,y) M-+(x,y) M--(x,y) H M+-(y,x), ti M-+(y,x), e M--@-x) Proposition 36. Zf M++( x, y) holds true, then [x”(t)] =+ [x”(t)] =o [y”(t)] =o * * * [y”(t)1 =+, [y”(t)] =+, [x”(t)] = -, [y”(t)] = - + [x”(t)] = -. Proof. Since M++ holds Taking the second derivative we obtain true, there exists an f E M++ such that y(t) = f( x( t)). y”(t) = f/(x(t)> .x”(t) + f//(x(t)) . (x’(t))2 from which the proposition follows. 0 Proposition 37. If M+- (x, y) holds true, then [x”(t>l = - =+ [y”(t)] = -, [y”(t)] = -) [x”(t)] =o * [y”(t)] =+ =+ [x”(t)] =-I-, [y”(t)] = 0 * [x”(t)] = +. Proposition 38. Zf M-- (x, y) holds true, then [x”(t)] = + * [y”(t)] = -, [x”(t)] = 0 * [y”(t)] = -. Note that since M-- (x, y) + M-- ( y, x), we have [y”(t)] = + + [x”(t)] = -, [y”(t)] =o =+ [x”(t)] = -. A. Hossain, K.S. Ray/Artrj%cial Intelligence 96 (1997) 303-350 317 Proposition 39. Zf M-+(x, y) holds true, then [x”(t)] = - * [y”(t)] = +, [x”(t)] = 0 * [y”(t)] = +. 5.1. Constraint consistency Kuipers [9] gave detailed tency. Ror consistency which tests a tuple for qualitative consistency of the d:irection of bulge. of the qualitative magnitudes, rules and an application perspective consis- in our setting, we exploit his results for each type of constraint state transition. There are three types of tests namely of the directions of change and for constraint consistency 51.1. @alitative magnitude consistency We shall now discuss the qualitative magnitude for the ADD and MULT constraints in our setting consistency aspect. The in Appendix B in Kuipers’ for any sign of direction of bulge. Slight (QMC) [9] discussed remain unaltered propositions work modifications Hence we state the propositions propositions for the I,+ constraint for the same purpose. are needed at the time we use M+ and M- constraints in our environment. for M+ in the following. The proofs of the following are the same as in Kuipers’ work. We shall also state analogous propositions Proposittion 40. Suppose M+( f, g) with CVTl (p, q) , and QS(f,tl,td = ((P,P’),-9% QS(g,hrb) = ((q,q'),-J), where “?” denotes any sign in {+, 0, -}, true at t2: (1) (2) P(t2) > P andg(t2) f(k) =p andg(t2) =q, > q- then one of the following possibilities must be Proposiition 41. Suppose M+ ( f, g) with CVTl (p, q) , and QS~(f,tl,t2) = ((P,P’),-,?j, QS(g,tl,t2) = ((q”,q’L-3% where q” # q, then one of the following two possibilities must be true at t2: (1) (2) f(t2) > p and g(k) = q”, f(t2) > P and g(t2) > q”. We shall state below the analogous propositions for the L+ constraint. Proposiiion 42. Let L+ ( f, g) with CVT2(p, q) , and QVf,h,t2) = ((P,P’),-,+)p QS(g,ti,t2) = ((q,q’k,+). Then om of the following two possibilities must be true at t2: (1) (2) f’(tz> =P andg(t2) j’(t2) > P andg(t2) =q, > q. 318 A. Hossain, K.S. Ray/Art$cial Intelligence 96 (1997) 303-350 Proof. The proof is analogous to that of Proposition 34. 0 Proposition 43. Let L+ ( f, g) with CVT2(p, q) , and QS(f,tl,td = ((P,P’),-,+)v QS(g,h,td = ((q”dc+), where q” # q, then one of the following two possibilities must be true at t2: (1) f(t2) > P andg(td =q”> (2) f(td > P andg(tz) > q”. Proof. The proof is analogous to that of Proposition 36. q It is pertinent to mention that similar propositions hold whether the constraint M+ or M- or L+ or L-, or whether above, below or one from each side. Direction of change consistency by Kuipers consistency [ 91. We absorb that and in the following we introduce for the ADD constraint and MULT constraint. the corresponding limits are approached is either from is well presented the direction of bulge 5.1.2. Direction of bulge consistency The following tables represent the valid direction of change and direction of bulge for of direction ADD and MULT constraints. The tables below summarize of change and direction of bulge constraints. represents for which the operation we consider and lower right-most comer represents the evaluation the combination In these tables the upper left-most comer 2 is performed. that quantity l ADD(f,g,h): Here h=f+g. So, h’=f’+g’ and h”=f”+g”. Therefore, [h’l = If’ +dl = [f’l 6s k’l, [h”] = [f”+g”l = [f”] @ [g”l, (1) Sdl u [h’l * Key: Sdl-first derivative, SdZ-second derivative. A. Hossain, K.S. Ray/Artificial Intelligence 96 (1997) 303-350 319 (2) (B) MUL.T( f, g, h) : The combination of the sign of magnitude, direction of change and direction of bulge that satisfy the MULT constraint are given below. Direction of change consistency that satisfies the MULT constraint depends on the sign of f, g, h and direction of bulge consistency depends on the sign of f, g, h, f’, g’ and h’. 0 Lfl + + 0 - 0 0 0 0 - - 0 + + 0 - l-l [hl Now, MUI-Vf,g,h)*h=fg + h' = f’g + fg’ + h" = f”g f 2 f ‘g’ + fg". so, [hl := [fgl = IfI &I, [h’l = [f'g + fg’l = [f’gl @ ifs’1 = [f’l 0 [gl @ [fl @ [g'l [h”] = [f"g+2f'g'+ fg"] = [f"gl @ Vf'g'l @ [fd'l = If"1 0 181 @ If'1 0 rg'1 @ [fl 0 [d'l. 320 A. Hossain, K.S. Ray/Artificial Intelligence 96 (1997) 303-3.50 (2) If L-f-1 = [gl = +. Sdl Lf’l (2i) If [f’] = [g’] =O. Sd2 if”1 + + + ? + + + ? + 0 - + 0 - (2ii) If [f’] = [g’] = +, or [f’] = [g’] = -. Sd2 [.f”l + + + ? + 0 - 0 + 0 - - ? - - o- + 0 - 0 + + ? ? - - - ? ? ? [h’l [h”l [h”l A. Hossain, K.S. Ray/Artificial Intelligence 96 (1997) 303-350 321 (2iii) If [f’] =+, [g’] =-, or [f’] = -, [g’] =+. (3i) If [f] = 0, or [$I = 0. 322 A. Hossain, KS. Ray/Art$cial Intelligence 96 (1997) 303-350 (3ii) If [f’l = [g’] = +, or [f’] = [g’] = -. Sd2 [f”l + ? ? ? 0 ? + + - ? + + + 0 - (3iii) If [f’l = +, [g’l = -, or [f’] = -, [g’] = +. Sd2 if”1 + - - ? 0 - -? ? - ? ? + 0 - (4) If ifI = +, [gl = -. 1 [h”l I 1 ,“I [h’l L-l A. Hossain, K.S. Ray/Art@cial Intelligence 96 (1997) 303-350 323 (4i) If [f’] = 0, or [g’] = 0. (4ii) If [f’] = [g’] = +, or [f’] = [g’] = -. [h”l 1 + ? + + 0 ? + + - ? ? ? + 0 - [h”l (4iii) If [f’] = +, [g’] = -, or [f’] = -, [g’] = +. Sd2 Lf”1 + ? ? ? 0 - - - ? ? + 0 - (5) If [f] = -, by transposing [g] = +. The tables for (5), (4i), (5i), (4ii) and (4iii), tables for (4)) [h”l --J (5ii) and (Siii) can respectively. be evaluated 324 A. Hossain. K.S. Ray/Art$cial Intelligence 96 (1997) 303-350 (6) If [fl = +, kl = 0. Sdl if’1 (6i) If [f’] =O, or [g’] =O. Sd2 if”1 + + + + + + + + 0 0 0 0 - - - - 0 0 0 0 - - - - + 0 - + 0 - (6ii) If [f’] = [g’] = +, or [f’] = [g’] = -. + + + + 0 + + + - ? ? ? + 0 - [h’l [h”l [h”l A. Hossain, K.S. Ray/Artijicial Intelligence 96 (1997) 303-350 325 (6iii) If [f’] =+, [g’] =-, or [f’] = -, [g’] =+. Sd2 [.f”l o- -- - - + ? ? ? + 0 - (7) If [f] = 0, [g] = +. The tables for (7), (7i), (6ii) and (6iii), by transposing (8) If [f] = -, tables for (6)) [g] = 0. (6i), [h”l (7ii) and (7iii) can be evaluated respectively. Sdl If’1 (8i) If [f’] = 0, or [g’] = 0. Sd2 if”1 + 0 - + 0 - + - -o+ - o- 0 + 0 + + - - - 0 0 0 0 - + + + [h’l [A”1 326 A. Hossain, KS. Ray/Art$cial Intelligence 96 (1997) 303-350 (8ii) If [f’] = [g’] = +, or [f’] = [g’] = -. Sd2 [f”l + ? ? ? 0 + + + + 0 - (Siii) If [f’] = +, [g'] = -, or [f'] = -, [g'] = +. + - - 0 - - + 0 [A”1 - + + + - ? ? (9) If [f ] = -, [g] = 0. The tables for (9)) (9i), (9ii) and (9iii) can be evaluated by transposing tables for (8), (Si), (8ii) and (Siii) respectively. (10) If [f] = [g] =o. ) 0 0 01 I i-l [h’l A. Hossain, KS. Ray/Artificial Intelligence 96 (1997) 303-350 321 (1Oi) If [f’] =0, or [g’] =O. Sd2 if”1 + 0 0 0 0 0 0 0 - 0 0 0 + 0 - (lOii)l If [f'] = [g'] = +, or [f'] = [g'] = -, Sd2 [f”l + + + + o- + + + + + + + 0 - (1Oiii) If [f'] = +, [g'] = -, or [f'] = -, [g'] = +. Sd2 if”1 + - - - o- - -- - - - + () - The corresponding tables for M+, M-, Lt and L- can be constructed. Ih”1 L-l 328 A. Hossain, K.S. Ray/Artificial Intelligence 96 (1997) 303-350 6. Global interpretations and global filters The definition of global interpretation is the same as in [9], tion is an assignment of a transition same purpose as posed by Kuipers. So generating global applicability Global filters also have similar applicability. Global to each function in our setting. “Cycle” and “Divergence” nificance. in [9] will be {I-l,I-4,1-ll,I-l&I-23,1-26} In this respect the “No change” are equally applicable in our setting. filters such as “No change”, in our framework with the same sig- set {I-l, I-4,1-7} filter which is the transition i.e. a global in the system and it serves interpreta- the has a similar interpretations Thus, from the above results the QSIM algorithm of [9] QSIM2 algorithm. Additional heuristic [ 91 may be used in any particular application. filters such as “Quiescence” 6.1. Infinity and asymptotic approach is modified to the pure and “No divergence” For the fulfillment of our setting, the infinity and asymptotic approach of [ 91 requires two additional corollaries of Propositions A.6 and A.7 of [9]. Corollary 44. Let f [ a, oo] -+ EC* be an RFT2. If the limit off(t) then limt+oo f”(t) = 0. as t -+ CC isJinite, Corollary 45. Let f [ a, b] + Iw* be an RFT2, and lim,,b then lim,,b f”(t) = CO. f(t) = o;), where b is$nite, Through completed. the discussions of earlier sections the theoretical formulation of QSIM2 is 7. Qualitative simulation This section describes the qualitative simulation algorithm, i.e. QSIM2. 7.1. Input and output (1) A set {fl,fz,... (2) A set of constraints , fm} of symbols representing the functions in the system. that are applied to the following function symbols: M+( f, g) , M-(f,g), ADD(f,g,h), DERIV- its functions. L+(fvg), L-(fvg), M++(f,g),M+-(f,g),M-+(f,g),M--(f,g)v MUWf,g,h), MINWf,g), DEW(f,g), DERIv+(f,g), (f, g). Each constraint may have associated corresponding values or for (3) Each function ing landmark {--co,0,+00}. is associated with a totally ordered values; has at least function each set of symbols represent- the basic set of landmarks A. Hossain, KS. Ray/Artificial Intelligence 96 (1997) 303-350 329 (4) (5) the current set of constraints no longer apply. A range E:ach function may have upper and lower range limits, which are landmark values limit may beyond which be associated with a new operating and range An initial are given. to, and qualitative values for each of the fi at to region which has its own constraints time point symbol, limits. The result of the qualitative simulations symbols given. Each qualitative behavior description is one or more qualitative behavior descrip- consists of tions for the function the following: (1) (2) (3) represents A sequence {to, tt , . . . , t,,} of symbols of the system’s behavior. Each function fi has a totally ordered set of landmark values, possibly extending the original given set. Each function has at each DTP, or interval between CDTP, a qualitative description in terms of the landmark values of that function. the distinguished expressed time points state 7.2. The algorithm QSIM2 The stleps involved in the algorithm QSIM2 are the same as in QSIM [ 91. Only Table 1 (see [ 91 will be replaced by the new P-transitions of step 2 of QSIM Tables 1 and 2 of Section 3 of the present paper). Apart from the difference table, at each step QSIM2 evaluates some new features which are introduced due to its extension [9] and which are discussed in Sections 4-6. and I-transitions in transitions from QSIM 7.3. Demonstration example To illustrate We demonstrate the power of QSIM2 we consider the ball system of [ 93. here one cycle of the QSIM2 algorithm on the Ball system [9]. This simple system consists of a ball thrown upward under constant gravity. The correspond- ing QDEs for the system are: DEBIV(I:V), DERIV(YA), A(t) =g < 0. We consider here the second state where the ball is approaching with the initial states as shown (as yet undiscovered) that the QSIM2 algorithm needs richer state descriptions place, because state transitions possibility Y( tl ) = cm is excluded excluded by the methods given in Appendix A.2 of [ 91.) the maximum height in Table 4. These states show take (to, tl ) . Possible for each function are derived from Table 2 (see Tables 5-7). Here the this possibility would be the current states show their states in the time interval than QSIM. I-transitions for simplicity. (However In the ,step transition tuples are formed for each constraint. Apply consistency tuple for constraint consistency filtering. filtering. The mark “c” (in Table 8) shows the eliminated Here for example the tuple (I-l 1, I-22) is inconsistent for += $ # [V]=O. 1 [ A. Hossain, KS. Ray/Artificial Intelligence 96 (1997) 303-350 Table 4 List of initial states QS(Xto,rl) QS(Yto,tl) Qs(A,to,tl) = = = ((0, m), +, -) ((O,m),-,O) (a O,O) Table 5 Possible state transitions derived from Table 2 Name QS(Yro, tl) =s QS(Ytl) I-11 1-12 1-13 I-14 ((O,co),+,-) ((0. co), +, -) ((O.co),+,-_) ((0, co), +, -) =S =+ =+ * ((O*oo),+,-) w;, +, 0) Ohx,o, -) (y;,O,O) Table 6 Possible state transitions derived from Table 2 Name QS(Yto, h) =+ Q%Ytl) I-22 I-23 ((O,co), -,O) ((O,co), -,O) =+ =+ (0, -, 0) ((O,oo), -,O) Table 7 Possible state transition derived from Table 2 Name QS(Afo.h) I-l t&J, O,O) * =S QS(Avtl) (& 090) Table 8 List of formed transition taples DERIV(KA) (I-22,1-1) (I-23,1-1) DERIV(KV) (I-ll,I-22)c (I-11.1-23) (I-12,1-22)c (1-12.1-23)~ (I-13.1-22) (1-13.1-23)~ (1-14.1-22)~ (I-14,1-23)~ A. Hossain, KS. Ray/Art#cial Intelligence 96 (1997) 303-350 331 Table 9 List of global interpretations Y I-11 I-13 Table 10 List of successor states QS(Xrl) QS(Krl) QS(Atl) V I-23 1-22 = = = A I-l I-l (Km 0, -) ((0, -,O) k. 090) The remaining Between these tuples form the two global interpretations the first interpretation is identical interpretations shown in Table 9. state descriptions. Therefore, application of change of the “No change” state descriptions the unique successor qualitative (i.e. the second interpretation) to the predecessor filter tl. The successor states are shown in Table 10. qualitative yields at the time point Y is the newly discovered landmark value. QSIM2 outputs are shown (Y), velocity ThemFall system, height simple analysis features are explicit the corresponding QSIM outputs reveals as described by the QDEs, shows three physical parameters, (V) and acceleration (A). Since here acceleration that velocity is linear and height is parabolic in the QSIM2 outputs as shown in Fig. 2; but are not explicit (Fig. 5 of [ 91) . in Fig. 2. viz., a is constant, in nature. These in 8. Comlplexity of QSIMZ the algorithmic Now we analyze the time and space to execute algorithm QSIM2 with the same input as [9] are more than those of table for to the predicted required the QSIM algorithm. This is the result of taking a larger fixed length transition P-transitions behavior. that allow the curvature profile in addition complexity of QSIM2. Obviously, and I-transitions Let a isystem have p parameters, c constraints and let the largest behavior be of length t ( t is then, on average, log of the total number of qualitative states [ 91) . A constraint cannot have more than three parameters, is assigned of transitions not more than 7 transitions Although are assigned it actually needs 7p transitions to each parameter to each parameter; requiring O(p) time. from a fixed length so p = O(c). Here also a set table as in [9] and these require 7P transitions. can have almost 73 transition A constraint of chang;e tables the length requires bulge, both of which require O(ct) a tuple against direction time and the number of CVTl grows linearly with filtering the sum of the times due to the direction of change and to the direction of t of the behavior. This requires O( ct) time. Therefore, tuples. Filtering takes constant constraint time. [9] 332 A. Hossain, KS. Ray/Artijcial Intelligence 96 (1997) 303-350 I- (a) - TT - INF Ymax 0 . . . . - MINF ;0 T’r +2 QSIMZ: Height I- (W 10 . I i0 QSIMZ: Velocity - ((3 1 INF vo 0 MINF J la . . . . . @ . . . . . 1. - INF - 00 . . . . . 0. . . . ..oa . . . . . 0a . . . . . om . . . . . 0m 0 G +0 Ti :2 QSIM2: Accelleration - MINF A. Hossain, K.S. Ray/Arttjicial Intelligence 96 (1997) 303-350 333 Here, as in [ 91, Waltz filtering takes O(c) time and the remaining parts of the product space, which is in general small, form the global interpretation. The global filter which checks previous Thus, the QSIM2 algorithm is exponential in the worst case. identical states requires O(pt) time. 9. Detection of actual behaviors In this section we show that all actual behaviors of a mechanism qualitative Kuipers’ simulation, i.e., QSIM2. To demonstrate the above claim, we borrow [9] one definition and some theorems which are proved in our framework. are predicted by its from Definition 46 (Kuipers qualitative behavior description of the function [9] ). Let u be an RFT2 where u : [a, b] -+ W and symbol h be let a with DIPS {te,ti,..., behavioral description tn} and landmarks if there is an order-preserving mapping (11. /2.. . . , lk}. We say that u satisfies the m : {to, tl, . . . ,t,} %{ll.Z2 ,..., Zk} with m( ro) = a and m( tn) = b, and an order-preserving mapping m of {11,12,. . . , Zk} into lR,suchthatforallDTP~ti,QS(~,m(ti)) matches QS(h,ti,ti+i). adQS(u,m(ti),m(ti+l)) matchesQS(h,ti) Theorem 47 (Kuipers [9]). Let F[zl(t),u’(t),...,u”(t)] =o (3) let {u(to) = yo, u’(to) = ~1,. . . ,u”(~o) = yn} be the be an ODE of order n, and initial conditions on the solution that (3) and its initial conditions to (3). Suppose are satisfied by an RF72 u : [a, b] -+ W. Let C be the set of functions and constraints (3) by the method stated in [9, Section 3.31, and let, QS( F, to) [9, p. 2291 derivedj’rom the given set of initial conditions. Let be the qualitative T be the tree of qualitative descriptions derived from C and QS (F: to) by the QSIM2 algorithm. Then the function u and the subexpression some behavioral description state description derived from functions derived from it satisfy in T. Proof. We shall give the proof in the same manner as Kuipers has given in [ 91. Here we have to show that any actual solution of (3) is not discarded by any filtering operations so that ZA! and its derived function must satisfy some behavioral description in T. Fig. 2. Predicted behaviors of the ball system. Key: The short arrows T and 1, the long arrows T and L, the circle 3 and the disk the pertinent function has zero first derivative and zero second derivative . represent qualitative direction, direction of bulge, points for which respectively. 334 A. Hossain, KS. Ray/Artificial Intelligence 96 (1997) 303-350 inconsistency. in the qualitative for the functions generated. Step 3 of QSIM23 Due to qualitative abstraction of initial conditions u satisfies QS(F, to). Step 2 in in C from a state filters state transitions tables. Thus any change in the possibilities of transitions due to individual constraint QSIM2 generates all possible qualitative given qualitative state using the transition of the system must be included out all combinations sets of direction of change and direction of bulge are detected by comparison with the values are tables given in Section 5.1.2. The proper implications in this paper. checked against Propositions B l-B3 and B9 of [ 93 and Propositions 40-43 this filtering in our setting; The pairwise consistency tuples which are inconsistent of step 4 eliminates interpretation. with all neighboring eliminates assignments transitions behaviors of the system. So at each stage of the simulation, to the current qualitative successor Step 5 of state filters do not eliminate possible successors all possible possible to a global of tuples which do not make consistent functions. Finally, from consideration tuples and could not contribute state is eliminated. q filtering of [9] is also applicable combination to particular lie in the space generated of sets of corresponding and no genuinely of transitions Inconsistent the global [9]). Theorem 48 (Kuipers symbols and qualitative con- Let C be a set of function straints, and let QS( 4 to) be the initial qualitative state description. Let T be the tree of qualitative state descriptions derive from C and QS( F: to) by the pure QSM2 algorithm. For some C and QS (E to) there are behaviors to any solution u : [a, b] -+ IR to any differential equation and initial condition corresponding to C and QS(E in T which do not correspond to). (as given the proof as Kuipers did in [9]. Qualitative Proof. We shall give model of the spring mass system behaviors (see Fig. C.l which shows increasing oscillation. But no local in this case solutions which are predicted by the QSIM2 algorithm. on the the same in Appendix C) as QSIM does (see Fig. 7 in [ 9, p. 320]), (behavior 2) and is correct which is stable the actual solution which are spurious (behavior 3) oscillation; inference is the stable oscillation. Therefore, (behavior although only one behavior rule is able to determine the other in [ 93 ) using QSIM2 produces that QSIM2 produces 1), decreasing two solutions simulation stable Cl Theorems 47 and 48 lead to the following corollary. Corollary 49 (Kuipers a single behavior, [ 91) . Zfa set of constraints then that behavior represents is consistent, and zfQSZM2 predicts the actual behavior of the mechanism. Qualitative simulation tractable branching. A solution in [ IO]. But a detailed be explored. one method In the following towards to this problem can be obtained of the QDE model using QSIM2 may sometimes in- from the concepts given the lines of [IO] has yet to section for the completion of our work we briefly propose solution of such a problem along yield the solution of the above mentioned problem. 3 Step 1 of QSIM2 means step 1 of QSIM, because we do not change the basic algorithm of qualitative simulation QSIM. A. Hossain, KS. Ray/Artijkial Intelligence 96 (1997) 303-350 335 474 I. WATER 26 I. t&o4 40 I. /min. Tank 1 Tank 2 Fig. 3. Mixing tank example. 10. Coarse state descriptions Kuipers et al. [ lo] have defined the term chatter to identify those variables in the QDE model which account in this paper; but here we depend on experimental for intractable branching. We shall use the same perspective results to identify chattering variables. two ap- aspects Kuipers et al. have adopted this chattering [lo] To circumvent proaches : l using HOD (higher order derivative) l ignoring qualitative direction. The first approach constraints; and is part of future work with respect to QSIM2. We adopt the second is ignored for In this method, direction of bulge (db) the transition Ignoring db yields method with a different viewpoint. certain variables which are responsible tables similar loss of an important of QSIM2 and resort to a simple for branching. [ 91. But these transition source of constraints. Hence, we use the original technique as stated below. to those of Kuipers [ 91 will generate transition the tables tables By ignoring db we adopt a method where qualitative are only taken into consideration and qualitative this method this gives partial state descriptions when we compare with QSIM2, (see the result with the QSIM output leaving db ignored. We denote (qval) value full information whenever we compare directions by ign-db. Although it yields Fig. 5 for X4 and X5.) 11. Mixing tank problem Two tanks (see Fig. 3) having capacity of 500 liters each are interconnected by a pipe. Tank 1 contains 26 liters of sulfuric acid in fresh to give 500 liters of dilute acid. Assume leaves tank 1 initially contained 500 liters of fresh water. The dilute acid in and enters of fresh water enter tank 1 and that the mixture that 40 liters/mm. tank 2, which 336 A. Hossain, K.S. Ray/Art@cial Intelligence 96 (1997) 303-350 Table 11 List of initial states QS(n. to) QS(u to) QVw to) QS(n4, to) QWns. to) = = = = = (0.05, -, +) (0, +, -) (-0.40, f, -) (0.40, -, +) (0.50, -, +) Key : q Z Operating element for DENY constraint. (+1: Operating element for ADD constraint. q : Operating element for MULT constraint. ID’lr Operating element for DERIV+ constraint. Fig. 4. Structare described by constraints. to have uniform density, and to leave tank 2 also at 40 liters/mm. tank 2 is assumed Find the qualitative behavior of the acid concentration over time. Solution: We take two parameters XI and x2 representing the concentration per unit in tank 1 and tank 2 respectively at any time t. The dynamics are modeled by the following differential equation with initial condi- tions: .il (t) = -0.08x1(t) , ~?2(t) =0.0&t(t) -0.08x2(t), where tc = 0, xi (to) = 0.05, x2(ta) = 0. Abstraction of parameters: Let x3 = kl, x1 - x2 = x5, so x1 = x2 + x5, x4 = k2, = f2.xt where fi = 0.08, k2 = 0.08~5, x3 = -0.08~1 x4 = 0.08x5 = f1.x~ where f2 = -0.08. Corresponding QDE model: DERIV(xl,xs), DERIV(x2,x4), ADWx2,3,x1), DEm+(wxs), MUJ-T(fi,xs,.u), MULT(~~,XI,XS). and initial states as shown in Table 11. Fig. 4 represents using QSIMZ and comprehensive the structure described by the constraints. The simulation the comparative study with that of QSIM are shown discussion on the simulation results are given in Section 12. results in Fig. 5. A (a) 1 ‘. . . . - 03 :’ - F” I TO OSIM: X2 A. Hossain, KS. Ray/ArtiJicial Intelligence 96 (1997) 303-350 337 - INF _ 0.05 - 04 Y., - 1 . . . . . 1 . 1 ‘. ‘. 3 0 “11 . . . 1’1 . . . . IT.... il.... Jr,, - - INF 0.05 ‘. 300 - MINF 10 Ti A ;3 PSIMZ: xl 0 ‘. ‘.. I , :.’ - - INF x-o - (d) 01 . . ..,. Il.... “Il., ‘. ‘.. 3 0 -- ‘. k ‘. ‘I IT . . . - INF x2-a x2-l 0 - MINF MINF T+ ;2 I, ;o $1 +2 i3 - INF oSIMz:%z - (9 - INF 1 . . . . . 1 . . . . . t 3 0 PO -0.4 MINF - - T? Tl . . . . Tj _ T[ “.. . 11 I... Tl.... Tl ‘..’ - - -0.4 MINF Til ;1 6 Ti PSIM2:x3 Fig. 5. QSIM and QSIM2 outpus for the mixing tank problem. 12. Critical appreciation the strengths and weaknesses of QSIM2 over QSIM. In this section we discuss QSIM:2 is the straightforward of bulge, extension of QSIM (direction the qualitatively derivative capture dicted trajectories of the qualitative model given by the qualitative differential (QDEs) in the state description curvature profile, and at the same important imposing i.e., db) time a stronger constraint which can be used incorporating the sign of second to inflection point, etc., in the pre- equations of the parameters to 338 A. Hossain, Ray/Artificial Intelligence (1997) 303-350 - INF 0.4 (h) - 1. ‘. - INF - 0.4 I- Tll QSIM:X4 - 0) * - A QSIMX5 I 0 ‘. . . : :’ * Ti . . . . . * . . ‘. - MINI= T? - INF - 0.05 ill ISIMz:X4 - u I ) - 1 ‘., * 0 ‘. ‘. ;: * ‘_ & 3 0 “’ 1 . ._ 0 ..’ T “. _ X4-I Ti T) i3 - MINF INF Il.05 l ‘., & . . ” 1 .,_ 3 0 . T “’ 0” - x5-0 - MINF MINF Ti T> T'b il T\ -i3 OSIM2X5 Fig. 5 -continued. simulation the qualitative than QSIM. Further, spurious behaviors produced during using QSIM2. (in terms of direction of bulges, points of in- than QSIM. But there are situations where QSIMZ produces a higher number over (using QSIM2) ; therefore chatter state eliminate QSIM2 always carries more information flection) of predicted behaviors the qualitative direction during qualitative [ 101 may occur due to its direction of bulge description description. QSIM2 computational transitions ignore larger than those of QSIM. This causes enhanced (P- if we cost of QSIM2 over QSIM. Note that the possible the direction of bulges are constraining state transitions [9, p. 3001, rather than its qualitative the direction of bulge. of QSIM2 collapse to those of QSIM tables are much and I-transitions) simulation transition Due to higher resolution the qualitative in the state descriptions, QSIM2 has a possibility of producing second in the system to start with the qualitative simulation. Moreover, QSIM2 of each parameter requires during information more branches order derivative simulation. QSIM2 may produce higher order derivative particular problem in future. intractable constraints branching which may be curtailed by introducing as proposed [ 101. But in the present paper in aspect has not been considered but will be treated as a separate this research A. Hossain, K.S. Ray/Artificial Intelligence 96 (1997) 303-350 339 in Section 10, in pres- to that of is equal Coarser state descriptions (pertinent to QSIMZ) as discussed (ignoring information which ence of chatter of certain variables will carry to Fig. 5, the qualitative description X4 is obtained QSIM. For instance, with respect the qualitative description X4 obtained by QSIM2 by QSIM and landmark values such as qualitative direction (ignorin,g db) contains which are equivalent is true for “QSIM: X5” and “QSIM2: X5”. Thus the qualitative descriptions of “QSIM2: X4” and “QSIM2.: X5” are more enriched to the usual QSIM description. A similar argument than those of “QSIM: X4” and “QSIM: X5”. qdir) . Whereas information to the qualitative directions. Moreover the QSIM2 outputs in addition for the parameters Xl, X2 and X3 show the direction Further in “QSIM2: X2”, we get of bulges the qualitatively inflection point at the time point T2. In “QSIM2: X4” and “QSIM2: X5”, we get the qualitative direction with landmark values at the time point ‘I2 trend of the behaviors of X4 and X5. Such accurate which manifests trend is absent in “QSIM: X4” and “QSIM: X5”. the more accurate important (qualitative information information intermediate computational system/process for a physical we may need it is understood (qualitative design direction of bulge, the above discussion synthesis and design if we go for model that QSIMZ provides more about transient overshoot/undershoot, of the model. For instance, analysis), cost. Now the choice of the modeler depends on the ac- (qualitative model) [ 16,171) to have and oscillations Under such cir- to be choice. But we ‘or quantitative) From at additional tual application based analysis of a decision maker/controller specific steady state behavior of a parameter under a specific excitation/input. inflection points, etc., are important cumstances, considered should always remember of a process/system which may produce better precision but at high implementation paying Under such circumstances or quantitative) benefit tradeoff modeler should be careful before he/she of a particular model. maker, response of the process or system is needed it is always worth is not needed. (qualitative for design and, hence, QSIM2 will be the more desirable that a detailed model (that may be qualitative for low cost design of the decision maker/controller. is guided by the design specifications the cost- of the application domain and a th:e high cost. But there are many situations where high precision will always yield a complex design of a controller/decision cost. So, if really high precision to go by the simple model it is always advisable about the selection takes a judicious in the ultimate information judgment Thus 13. Conclusion Both the qualitative models, spurious behaviors actual behaviors are always included reliability field have: an equal of the qualitative model interest i.e. QSIM and QSIM2, try to find out and cancel so as to get the fewer and fewer numbers of trajectories. Since (see Theorem 47), the researchers trajectories is always ensured. Therefore in the predicted the the the in this in finding various local and global filters. QSIM frameworks require an abstraction relation which ential equations adopted to qualitative constraint equations. Because of this fact, Kuipers the semantic “QDE”, abbreviation of qualitative differential transforms ordinary differ- [lo] equation, denoting 340 A. Hossain, K.S. Ray/Artificial Intelligence 96 (1997) 303-350 Physical system f Actual behavior Differential equation Numerical or analytic solution I f:R--+R > 1 Qualitative constraint equations(QCE] Qualitative simulation ? Behavioral ’ description Fig. 6. Prediction by qualitative simulation and solution of differential equations are both abstractions of actual behaviors. the qualitative merely an abstraction in addition We, therefore, prefer QDE capturing constraint equations. Here a semantic dilemma arises because QDE is if there is any algebraic equation to QDE, then the abstracted version of it lacks its full semantic exploration. of an ODE. But, for example, the semantic QCE (qualitative constraint equations) in place of the semantic caption of a larger class of equations. the qualitative model of Kuipers et al. [lo] outgrowth of QSIM introduced by Kuipers. they in which from is a straightforward The QSIM2 approach is different the HOD (Higher Order Derivative) QSIM2 consider branching behaviors” considered advantage, beside as landmarks which are the important extract exact pattern of the simulated behaviors. the additional constraints uninteresting (“intractable representing among qualitative [ lo] ) in the predicted behaviors and realize curvature perspective. We have the process. Our approach has an throughout the sign of the second derivatives inflection points (see Section 12), that it can discover or even spurious distinctions to reduce chatter its weaknesses features of a curve. So QSIM2 can automatically features such as curvature, inflection points, which manifest the It is also possible to implement directly the HOD constraint approach in our work which can further reduce chatter Kuipers et al. [lo] did not extend in the predicted behaviors. their analysis beyond We can include tables for P-transitions the third order derivative in addition and I-transitions In the present paper we simply concentrate system. Design of a qualitative aspect of a [ 13,141 based on the analysis of (i.e., QSIM and QSIM2) will be part of our future research controller and a pertinent analysis can be performed. on the qualitative modeling physical such a qualitative model work. the third order derivative. larger to qdir and db which yields Acknowledgements Mr. Abul Hossain is grateful to the Council of Scientific and Industrial Research (INDIA) for providing fund to complete the research work. A. Hossain, K.S. Ray/Art$cial Intelligence 96 (1997) 303-350 341 The authors are grateful to Professor Benjamin Kuipers for his kind and powerful advice taD improve the quality of the paper. Appendix A. List of symbols lR* RFTl RFT2 RI [a, bl &Cc bl LV DTP CDTP DI [f,avbl &[_fva,bl LI [f, a, bl Lz[f,a,bl qval qdir db Qs(.f, t> QXf, t’: t”) CC) (1) (J) ((3 (CJ) CFf [ t’, t”] CFf[t’,t”] CFf[t’,t”] Bs(t PI PI Ml i/ = [(I),(J)] = [(I) * (J)] B{“( t f’) QSIM2 &C cvs := .- .- .- .- .- .- := := .- .- := := := := .- .- := := := := := := := := := := := := := := := := := := := := := := := := := := line. time point. real number function of type 1. function of type 2. in [a, b] . in [a, b] . Extended Reasonable Reasonable Set of all RFTls Set of all RFT2s Landmark value. Distinguished Consecutive DTPs. set of all DTF% of f E Ri [a, b] . set of all DTPs of f E R2 [ a, 61. set of all LVs of f E Ri [a, b] I t’ E Dl[f,a,bl). {f(t’) set of all LVs of f E Rz [a, b] I t’ E bLfd4). {f(t’) Qualitative value. Qualitative direction. Direction of bulge. Qualitative Qualitative Critical point. Inflection point. J-point. Critical and inflection point. Critical and J-point. feature of f at t’ and t” respectively. Characteristic t’ and t” are an inflection point and a J-point of f respectively. t’ is an inflection point and t” is a J-point of f and vice versa. (PYP + 81. (P -&PI. exclusive OR. {Bs( t t’> I f’(t) > 0 vt E Bs(t 0). sups B;‘>’ ( t t') . t. state of f at time point state of f in open interval (t’, t”). ( t t’) . {B&t t’) I f”(t) > O’c’t E Bs(t t’)}. sups B;” Extension of QSIM with qualitative curvature. Sign of x which is either + or 0 or -. Qualitative magnitude values. Corresponding consistency. 342 CVTl CVT2 ODE QDE Sdl Sd2 A. Hossain, KS. Ray/Art@cial Intelligence 96 (1997) 303-350 := Corresponding := Corresponding := Ordinary differential := Qualitative differential ;= First derivative. := Second derivative. values of type 1. values of type 2. equation. equation. Appendix B. Proofs Proof of Proposition 13. Since t’ is a J-point, there exists a S > 0 such that (a) f”(t) =0 in [r’,t’+~), # 0 in (t’-cr,t’), i or =0 in (t’--,t’], # 0 in (t’,t’+a). We now consider case (a) only. Since t’ is a critical point, f’( t’) = 0. Now since f”(t) = 0 Vt E [ t', t’ + S), we have in (t’, t’ + 8) which x,). f’(t) = C, a constant, V’t E (t’, t’ + 8). Let {xn} be any sequence converges Therefore, of f’, we can write to t’. By continuity limn_,oo f’(~“) = f’(lirnndoo f’( t’) = f’ ( lim x”) = Jima f’( x,) = C. “-CO Since f/(x,> = C Qn. Therefore, C = f’(f) = 0. 0 Proof of Proposition 15. Since CF[ t’, t”] = [ (I), (I)], we have f”( t’) = f”( t”) = 0 # 0 in (t’, t”). Now by the definition of inflection point there exists a S > 0 and f’(t) such that f”(t) > 0 in Bs(f t’), or f”(t) < 0 in Bs( r t’), where %(I P) = (P,P + 6). Now we consider (B.l) and define Bc”‘(t t’) ={(t’,t’+@ such that f”(t) > 0 in Bs(t t’)}. supsBi”“( t t’) exists because 6 is bounded. In fact, 6 < b - u. We define sup B{“‘( s t t’) = B;;;:; . (B.1) (B.2) A. Hossain, KS. Ray/Art@cial Intelligence 96 (1997) 303-350 343 Clearly 6( t’) ) = 0. Therefore, f”( t’ + 6( t t’) ) < 0. By the continuity t’ + 6( t’) = t”. of f”(t), we conclude that f”( t’ + Now .f’( t’) > 0, or f’( t’) < 0, t’ is an inflection point. Since f’(t) is continuous, cannot change f’(t) f’(t) < 0 in (t’, t”). Since f’(t) its sign without zero crossing. Therefore, # 0 in (t’, t”), because f’(t) > 0 in (t’, t”), or t’, t” are CDTP, we get that (6) f”(t) > 0, f’(t) > 0 vt E (t’, t”) (C) f”(t) > 0, f’(t) <o Vt E (t’,t”). Similarly considering (B.2), we shall get (a) and (E) . 0 Proof of Proposition 16. (i) Since CF[ t’, t”] = [(C), f”( t”) == 0 and f’(t) there exists a S > 0 such that # 0 in (t’, t”), f”(t) (I)], we have f’( t’) = 0, Z 0 in (t’, t”). Since t’ is a critical point, f’(r) > 0 in Bs(t t’), or f’(~‘) < 0 in Bs(t t’). Now first we consider the case (B.3). Let B{“‘(t t’) = {Bs(f t’) ) f’(t) > 0 Vt E Bs(t t)}. sups B$“‘( t t’) exists because 6 is bounded. Let U3.3) U3.4) f’( t”) # 0 for t” is simply an inflection point. Now, s;p B,f”‘( t t’) = B;;;,!, . t’ -- S( t’) > t” because Now f”( t’) += 0 (by hypothesis), Therefore, either f”(d) > 0, or f”( t’) < 0. 03.5) (B.6) (B.7) Let At’ :a 0 be a small number such that t’ + At’ E B;;;;, . By using Taylor’s theorem it follows that f(t’ + At’) = f(t’) + At’ . f’(t’) + q -f”(t’+6’. At’), whereO.:B< 1. 344 A. Hossain, KS. Ray/Arti$cial Intelligence 96 (1997) 303-350 Therefore, f(t’ + At’) - f(t’) = At’. f’(t’) $ + .f”(t’fk’.At’). (by (B.7)) Since f is increasing and f’( t’) = 0, we have f”( t’ + 8 . At’) > 0. So, if f”( t’) < 0 then there is a point 5 E (t’, t’ + 8 . At’) so that f”( t’) > 0 because f”( 5) = 0 by the Intermediate Value Theorem which contradicts our hypothesis. By the same argument, we calculate that f”(t) > 0 in (t’, t”). Therefore, (B.7) holds. Similarly, (ii) Here CF[ t’, t”] = [ (I), in case (B.4)) we can prove that (E) holds true. (C) 1. Since f’( t”) = 0, there exists a p > 0 such that f’(t) > 0 in BW(J t”), or f’(t) < 0 in BP(l t”), where Bs(1 P) = (P - 6~). Now we consider the case (B.8). Let t”) = {B,(J t”) 1 f’(t) > 0 in BP( J t”)}. Bf”(J P Let supB;“‘( P f’>O 1 t”) = BPclt,,). (B.8) (B.9) (B.lO) For a small number At” > 0, we use Taylor’s theorem on f( t” - At”) and get f(t” _ At”) = f(t”) _ At”. f’(t”) + (-;r)* . f”( t” - O1 . At”), where 0 < 01 < 1. Therefore, f( t” _ At”) _ f( t”) = q . f”( t” - O1 . At”), (B.11) where 0 < 81 < 1. Now from (B.lO), f”(t” - & . At”) < 0. the left-hand side of (B.11) is negative. Therefore, By the same argument as the previous one, we have f”( t”) < 0 and accordingly we can find f”(t) < 0 Vt E (t’, t”). Therefore we get (d). Considering case (B.9)) we shall find (E) similarly. q Proof of Proposition 17. From Proposition 8, we get that if f( t’) = f( t”), 1 in implies then f(t) = [t’, t”] by Corollary 9. This f”(t’) = f”( t”) = 0. z 0 in t’ and t” are J-points, that f”(t) = 0 in (t’, t”). Since for some I E ~52 [a, b] . Then [t’, t”] f’(t) A. Hossain, K.S. Ray/Artijcial Intelligence 96 (1997) 303-350 345 Therefore, definition of J-point, f”(t) = 0 in [ t’, PI. Next, let f( t’) f there exists a S > 0 such that f( t”). Now t’ is a J-point, then by (4 f”(t) =0 in [t’.t’+@, # 0 in (t’- S,t’), i or (b) f”(t) =0 in (t’-&t’], # 0 in (t’,t’+&. First we consider the case (a) and we shall show that the case (b) cannot hold for the above hypothesis. For case (a), we define a set A;(t’)={[t’,t’+S) /f”(t)=OVtf[t’,t’+S)}. Here S >. 0 because, otherwise the interval [t’, t’ + 6) is meaningless. Now, sups Ai( t’) exists because S( b - t’) is bounded. Say, sup.4@) 6 = A&,,, = [t’, t’ + 8(t’)). Now, we shall show that f”( t’ + 6( t’)) = 0, Let {x,} be any sequence in [t’, t’ + S( t’) ) converging to t’ + S( t') . Then by continuity of f”, hm,f”(X,) = f”(&X,) = f”(t’+fY(P)). f”(x,) limn-,a = 0 Vn. Therefore, = 0 in [ t', t’ + 6( t’) I. Now, 6( t’) # 0, because = 0. SO f”( t’ + 6( t’)) = C. Therefore, there is another J-point But f”(~~) f”(t) Therefore, t’ + S( t’) is the next J-point after t’, since t’ < t” are CDTP. Therefore So, f”( 1) G 0 in [ t', t”]. Similarly with right end point the part (a). proves Now remembering t” > t’. there exists a u > 0 such that f”< t) # 0 in (t’ + S( t') , t’ + S( t’) + a). So, t’ + S( t’) = t”. interval t’. This if t” is a J-point having a left semi-closed the interval we reach possible cases are that t’ and t” are J-points = 0 expanding in which f”(t) t” interval with closed end point and f is identically t’ and in the right semi-open t” respectively. Accordingly we can prove the proposition zero in the left semi-open interval with closed end point as we have done in the proof of Proposition 15. 0 Proof of Proposition 18. The proof is the same as that of Proposition 16. 0 Proof of Proposition 19. The proof is the same as that of Proposition 15. 0 Pmof of Proposition 24. The proof of Proposition 24 follows from Propositions 8-23. Pmof of Proposition 34. We have, G(F(x(t))) =.x(t). A. Hossain, K.S. Ray/Artificial Intelligence 96 (1997) 303-350 346 Now, or $G(F(x(r)))$ . $ = $. so, $[G(F(x(f)))]$ = 1 (since x’(r) # 0). so, G’(F(x(t))) = &,. Again from (B.12), we have that G’(F(x(t)))F’= 1. So, (B.12) (B.13) or or or -$G’(Wt)))F’l =O, &IC;‘UWl&F G”(F(x))(F’)~ +G' (F(x))F”= 0 (since x’(t) # 0), G”(F(x)) = - G’(F(x))F” = (F’12 F” (F/l3 (using (B.13)). 0 Appendix C. Spring mass system Here we consider an undamped oscillatory with a mass on it, oscillating on a frictionless system [ 9, pp. 3 181 composed of a spring surface and modeled by the QDEs: DERIV(X,V), DERIV(VA), L-(A,X) with initial states X( to) = 0, V( to) = VO, and A (to) = 0 where the parameters X, V and position, velocity and A represent acceleration of the mass respectively. The behaviors of the physical parameters obtained using QSIM2 algorithm are shown in Fig. C. 1. of the mass from the equilibrium the displacement A. Hossoin, KY. Ray/Art@cial InteIligence 96 (1997) 303-350 347 . 01 . . . . 11 ‘. . . Il... : : k * . . ” IT *. : “or ‘. i0 Ti ;2 $3 Behavior 1: X(t) - - INF Xl & 0 : TT ” x2 MINF - - +4 - INF , q- vo - 01 . . .’ 11 . . . . IA A= *. Tj ‘.’ : : ?a 1- 0 TT”’ ’ : ” IT . . . . : OT - Vl - MINF ;0 +1 Tb +3 T4 Behavior 1: V[t] - INF - MINF T’O Ti Tk $3 Tb Behavior 1: NtJ Fig. C.l. QSIM2 outputs of a spring mass system simulation gives a three-way branching at T4 as V reaches b before, after, or at the same time as X and A reach zero. Although only one behaviour is valid as in [ 91. 348 A. Hossain, K.S. Ray/Artijcial Intelligence 96 (1997) 303-350 01 . . : Tl ” .’ 11 *. . . I* *’ : : R . . .’ 11‘ . . “01 : ‘_ : T\ ‘* ;0 l+ T> +3 Behavior2:X[t] ,I.. . . T : : OT - - INF Xl To 0 x2 MINF - - $4 INF vo VZ 0 Vl MINF i0 Ti T? i3 f4 Behavior 2: V[t] 01 . . .. 11 - INF - A2 ‘. . . m 0 T1 .‘. : : Ta I- : - - Al MINF B *. *. IT TT ‘. : *. “oT ” A Ti 1; +3 i4 Behavior 2: A[t] Fig. C.l -continued. A. Hossain, KS. Ray/Artificial Intelligence 96 (1997) 303-350 349 .ol ‘. : . ..I1 : w - - INF Xl “11 . . . . II A.= . . “IT *. “OT.“ * : IT . . . . IT . . . . rT” 0 - x2 - MINF -iO Ti Tb i3 +4 $5 Behavior 3: X[t] “Il.. . . I- +- .Tl” : II *. “J TT :” . . : . . . OT .q - - INF V2 vo .T[” ..Tk’ 0 - Vl - MINF 7?0 Ti Behavior 3: V(t] T$ t3 ;4 ;5 - - INF A2 .a rl”. .)l... .g. . . .q . . -. : -0 : : B . . *_ IT . . . .TT “oT ‘. - - Al MINF ?O fl T’z ;3 ;4 i5 Behavior 3: A[t] Fig. C. 1 -continued. A. Hossain, KS. Ray/Artificial Intelligence 96 (1997) 303-350 References [ 1 ] E.W. Coiera, Qualitative superposition, Artificial Intelligence 56 ( 1992) 17 I- 196. [ 21 J. de Kleer and D.G. Bobrow, Qualitative reasoning with higher-order derivatives, in : Proceedings AAAI-84, Austin, TX (Kaufmann, Los Altos, CA, 1984). [ 31 J. de Kleer and J.S. Brown, The origin, form and logic of qualitative physical laws, in : Proceedings IJCAI-83, Karlsruhe, Germany (1983) 1158-l 169. [4] J. de Kleer and J.S. Brown, A qualitative physics based on confluences, Artificial Intelligence 24 (1984) 7-83. ] 51 0. Dordan, Mathematical problems arising in qualitative simulation of a differential equation, Artificial Intelligence 55 (1992) 61-86. [6] K.D. Forbus, Qualitative process theory, Artificial Intelligence 24 ( 1984) 85-168. [7] B.J. Kuipers, Commonsense reasoning about causality: Deriving behavior from structure, Art@cial Intelligence 24 (1984) 169-203. [8] B.J. Kuipers, The limits of qualitative simulation, in: Proceedings AAAI-85, Los Angeles, CA (Kaufmann, Los Altos, CA, 1985). [9] B.J. Kuipem, Qualitative simulation, Artijcial Intelligence 29 (1986) 289-338. [ 101 B.J. Kuipers, C. Chiu, D.T. Dalle Molle and D.R. Throop, Higher-order derivative constraints in qualitative simulation, Artijicial Intelligence 51 (1991) 343-379. [ 111 B.J. Kuipers, Reasoning with qualitative models, Artificial Intelligence 59 (1993) 125-132. [ 121 B.S. Kuipers, Qualitative simulation: then and now, Artificial Intelligence 59 (1993) 133-140. [ 131 J. Lunze, Qualitative modelling of continuous variable systems by means of non-deterministic automata, Intelligent Systems Engineering (Autumn 1992) 22-30. [ 141 M. Ohki, H. Shinjo, E. Oohira and M. Abe, Design support to determine the range of design parameters by qualitative reasoning, IEEE Trans. Systems Man Cybernet. 24 (5) ( 1994) 8 13-8 19. [ 151 H.L. Royden, Real Analysis (New York, 3rd ed., 1988). [ 161 W. Rudin, Principles of Mathematical Analysis, International student edition (McGraw-Hill, New York, 3rd ed., 1986). [ 171 D. Waltz, Understanding line drawings of scenes with shadows, in: l?H. Winston, ed., The Psychology of Computer fision (McGraw-Hill, New York, 1975). 