Artificial Intelligence. 98 (1998) 209-235 Artificial Intelligence Preferential reasoning in the perspective of Poole default logic Michael Freund ’ Dep,wtment of Mathematics, Universiiy of Orleans. 45067 Orleans-La Source Cedex, France Received November 1996; revised March 1997 Abstract The sceptical inference relation associated with a Poole system without constraints is known to have a simple semantic representation by means of a smooth order directly defined on the set of interpretations associated with the underlying language. Conversely, we prove in this paper that, on a finite propositional language, any preferential inference relation defined by such a model is induced by a Poole system without constraints. In the particular case of rational relations, the associated set of defaults may be chosen to be minimal; it then consists of a set of formulae, totally ordered through classical implication, with cardinality equal to the height of the given relation. This result can be applied to knowledge representation theory and corresponds, in revision theory, to Grove’s family of spheres. In the framework of conditional knowledge bases and default extensions, it implies that any rational inference relation may be considered as the rational closure of a minimal knowledge base. An immediate consequence of this is the possibility of replacing any conditional knowledge base by a minimal one that provides the same amount of information. @ 1998 Elsevier Science B.V. Keywords: Nonmonotonic reasoning; Preferential relations; Rationality; Poole systems; Default logic 1. Introduction In [ 121, a variation on Reiter’s default logic [ 141 was presented, leading to the following notion: a Poole system the set of “defaults” used the maximal to determine and the set of “constraints” of the system. Such a system may be as true subsets of A that are consistent with cy and K. As shown by Makinson of a premiss LY, assuming the nonmonotonic consequences is a pair (A, K) of sets of sentences, called respectively ’ Email: freund@labomath.univ-orleansfr. 0004-3702/!)8/$19.00 @ 1998 Elsevier Science B.V. All rights reserved. PI1 sooo4- 3702( 97) 00053-2 210 h4. Freund/Art@cial Intelligence 98 (1998) 209-235 inference family function” relation when the Poole system liberal conception of the “extension to a sceptical approach, providing is one “without constraints”, a i.e. is empty. Such a Poole system can be identified with a set [ 11, Section 3.31, Poole’s original associated with the pair (A, K) can be modified preferential when its set K of constraints in the sense of Reiter, and the associated preferential of prerequisite-free to the sceptical Reiter extension of A. It was noticed inference relation by Makinson relation associated with such a Poole system can be represented by a special kind of preferential model, where that the converse of the set of states is the set of all worlds. Makinson this property was not settled, and conjectured normal defaults then corresponds [ 131 that the preferential that it may hold. [ 111 and Poole [ 111 mentioned inference answer to this conjecture We shall give an affirmative that are logi- cally finite, and prove that any consistency-preserving preferential relation dejked by an injective model is the inference relation associated with a Poole system without con- injective model, straints. Thus, preferential is (at least the logic of reasoning: any agent using is fully determined by an implicit set of basic defaults. in the finite case) essentially injective preferential reasoning, when determined by a preferential the same as default for languages reasoning rational language in particular the different result holds it is minimal, sets of defaults as it is known for rational reasoning, that any consistency-preserving that rational [2]. It and two sets of defaults D and D’ may induce relations may always be defined by means of ranked injective models relation defined on a logically inference is induced by a Poole system without constraints. This Poole system the same relation, but among that induce a given rational relation, one of them, called the characteristic set of the relation, satisfies some to describe, and its elements are linearly or- relation This inference follows finite is not uniquely determined, inference inference interesting properties: dered through classical therefore appears tool for the study of this relation: we denote by Si, . . . ,a,, the elements of this set, with Si+i (classically) for i < n, the given relation Si is consistent with cx but inconsistent with CY A +“. This observation perspective Grove applications in the field of conditional we prove that any consistency-preserving as the rational closure of a minimal determine if implied by Si reads “a b p iff there exists an index i such that in the theory by thus relation may be considered inference base, and we show how to explicitly knowledge bases and default extensions: implication. The characteristic it leads to some interesting to be a most useful of Poole systems, results established [ 71 and Linstrom [ lo]. Moreover, and Rabinowicz set of a rational some classical in particular, in revision conditional this base. inference explains, rational simply simple and is organized as follows: inference in Section 2, we recall is self-contained This paper relations. Poole systems and main properties of preferential the definitions and show that, in Section 3. There, we examine Makinson’s are introduced languages. The while not true this conjecture in general, section concludes with some considerations the set of defaults of a Poole system, analyzed as a belief base, may be revised or updated, and relation. Section 4 is the central this affects part of this paper, and is devoted and their sets. Section 5 is an application of the results of Section 4 to some aspects characteristic holds on the dynamics of Poole systems: conjecture in the case of finite the behaviour of the associated to the case of rational inference inference relations M. Freund/Art@ial Intelligence 98 (1998) 209-235 211 of knowledge in Section 6. representation theory concerning conditional bases extension. We conclude 2. Background We denote by L: a set of well-formed connectives the classical propositional under finitely many atomic propositions, is provided by the set W of all assignments Elements of W will be referred m and a formula or m k /3, and m /= TX iff it is not the case that m j= a. the language to as worlds and the satisfaction formulae over a set of atomic propositions, 7, A, V, -+ and c--f. When is said to be logically of truth values to the propositional closed there are only finite. Semantics variables. relation between a world (Y is defined as usual and written m k a. Thus m k (Y V /? iff m + LY For every subset A of L, we write m /= A iff m satisfies all the elements of A. The set of formulae of L satisfied by a world m will be denoted by 11121. attached operation The cla.ssical consequence for any subset A of C, Cn(A) all worlds m that satisfy A. Given a subset A of C, we say that A is consisfent Cn(A) A is said to be consistent with the set B iff AU B is a consistent for Cn(A to C and W will be denoted by Cn: is the set of all formulae LY of L such that m k LY for iff iff there exists a world m such that m satisfies A. The set set. We write Cn( A, B) and (Y k /3 for p E Cn(cu). IJ B), Cn(Lu) for Cn({n}) # C or, equivalently, 2.1. Prefeirential inference relations Following Kraus, Lehmann and Magidor [ 81, we call preferential inference relation on L: a relation b that satisfies the following rules: Reflexivity. (Y k cr. Left Logical Equivalence. If Cn( a) = Cn( /3) and a k y, then /3 k y. Right Weakening. If p E Cn(cr) and y b CY, then y b p. Cut. If a A p k y and a t_ p, then LY b y. Or. If a bd y and p k y, then (Y V /I k y. Cautious Monotonicity. If LY b /3 and a k y, then a A p k y. Given set of all k-consequences that I2 k p. We will indifferently such a relation, we shall denote by Cl_ (a)-or ambiguity--the such “inference C, the sets C (cu) are closed with respect formulae cr. An inference C(a) when is no that is the set of all p’s relation k” or to the relation to Cn, that is Cn[ C( cu) ] = C (cu) for all relation C is said to be consistency-preserving iff C (cu) is a relation C”. The above rules imply that for any preferential of a formula a, to “the inference inference there refer 212 hf. Freund/Artificial Intelligence 98 (1998) 209-235 consistent consistency-preserving set for any consistent iff C(a) formula LY. Thus a preferential # C whenever Cn(cu) # C. inference relation C is 2.2. Preferential models A preferential structure is a triple M = (S, <, I) where < relation defined on a set S (the set of “states”), is an irreflexive and and I (the “label function”) from S into the set of worlds W. For any state s, we say that s satisfies iff I(s) does, and we denote by cr* the set of all states s s k a) transitive is a mapping a formula a (written satisfying the formula LY. A preferential model, as defined in [ 81, is a preferential the following condition of smoothness: given any formula satisfies s of LY* that is not minimal This condition set of states is finite), and in particular when the underlying logically in LY*, there exists a state t minimal structure is always satisfied when the preferential finite. language A preferential model determines a preferential relation b,,, by: ( def) it FM /? iff all minimal elements of CY* satisfy p. structure (S, <, I) that (Y of C and any state in a* such that t < s. is finite (i.e. when its to be is supposed Conversely, it was shown language L (respectively (respectively in a logically [ 81 that, for any preferential relation k defined on a finite language L) , there exists a preferential model a finite preferential model) M that represents i_, i.e. is such that k=kM. The following simple result will be used in the next sections: Lemma 1. Let t- be a preferential inference relation represented by a preferential model M = (S, <, 1). Then one has a b p ifffor any state t that satisfies a A -p, there exists a state s < t that satisfies a. Proof. If LY k /3 and t satisfies (Y A l/3, state s E a* such that s < t. Conversely, a state t minimal in cy* that satisfies +, element s E cry*. 0 in (Y*, hence t is not minimal there exists a if it is not the case that LY k p, there exists s < t cannot hold for an and the inequality 2.3. injective models and faithfully representable preferential inference relations An injective preferential model is a model M = (S, <, I) where the label function E is [ 21. Injective models were initially proposed by Shoham [ 151 as a framework injective logic, but the wider notion of preferential model was adopted by the for preferential authors of [ 81, as they noticed that satisfy properties injective model. We will mainly deal with the ( l)-(6) the set of states can be identified with the case where set W of all worlds, and the model M is of the form (K <) where < is a strict smooth partial order on W. Such a model will be called a faithful model. We shall say that by a faithful a preferential is faithfully representable iff it can be represented the map 1 is a bijection. Then, the existence of inference without admitting a preferential relations relation M. Freund/Artij?cial Intelligence 98 (1998) 209-235 213 model. Such a relation that the converse holds is clearly consistency-preserving. in logically finite languages: The following lemma shows Lemma 2:. In a logically finite language, a preferential inference relation is faithfully representable if and only if it admits an injective model and is consistency-preserving. to be finite, that S = W. Indeed, let b be a consistency-preserving being supposed relation Proof. The language preferential inference of W. We claim conjunction the relation by preserves consistency, we do not have x,,, b false, and there exists therefore an element ,ynt. By the choice of x,,,, we have s = m, and it follows that m E ,P as desired. that admits an injective model (S, <) , where S is a subset let m be any element of M and x,,, the (finite) satisfied by m. We have to prove that m E S. Since s of S that satisfies of all formulae (cid:144)I In a finite language, infer- ence relation C is unique, and we will refer to it as the standard model of C. The order < on W may be then defined by: that represents a faithfully representable the model ( W, <) ( def) m < n iff m k ~a for all formulae (Y such that n b C(a). (See the proof of Lemma 4.12 in [ 21 for details.) 2.4. The basic set of defaults associated with a preferential model ( W <) Given a strict partial order < on the set W of worlds associated with an arbitrary role in language, propositia8nal the study of faithfully to as the basic set of defaults associated with the model ( W, <) ; it consists of all formulae a that satisfy there exists a set A< of formulae inference representable relations. This set will be referred that play a prominent the following condition: (*) If (Y is true at a world n, then LY is true at all worlds m such that m < n. finite, inference to define preferential relation k”, in the general case, the standard model of t_. In this particular representable relation may be defined by different is logically It is not possible, ated with a faithfully inference language sociated with language, we will always suppose equivalence, sentatives of these equivalence of defaults associated with a faithfully model satisfying the basic set of defaults “associ- since such an faithful models. Nevertheless, when the this set may be defined as the basic set of defaults as- finite of each class under classical the repre- the basic set relation defined by the (Y of the basic set of defaults among classes. Thus in a logically is a finite set, that consists of all the representatives fixed a representative case of a logically finite language, the elements representable and choose inference (IA! <) (*) . of the formulae LY Note that, in the general case, the basic set of default associated with a preferential the tautologies is stable under conjunction and disjunction, and contains (UC <) model as well as the contradictions of the language fZ. 214 M. Freund/ArtiJTcial Intelligence 98 (1998) 209-235 3. Poole systems The definition and the principal properties of the inference relation associated with a Poole system can be found in [ 5,6,11]. We briefly recall some basic facts. defaults, every formula 6 of D corresponding Let D be any subset of f_Z We may identify D with a set of prerequisite-free Reiter-style a formula a of L, it therefore makes sense extensions of (cy, D), as defined sidered as a (nonmonotonic) This system (D, 0), which is defined by to the construction consequence leads normal f . Given of all the Reiter in [ 141. In this framework, a formula p will be con- then to the default the intersection to build of (Y if and only if /3 lies in this intersection. of the inference relation bD associated with the Poole (def) cy kD iff PE nCn(a,Dn), is taken over all the subsets D, of D that are consistent with cy where the intersection and maximal A simpler for that property. syntactic example, ks boils down to: in the particular case where D = (6) characterization will be given in Corollary 4. To take a simple is a singleton, one sees that the relation l LY b-s p iff p E Cn(a A 8) in the case where a is consistent with S, and l (Y bs p iff p E Cn(cu) when cy is inconsistent with 6. p is believed the premiss a, the conclusion Thus, given LY together with 6 in the case where LY A S is not a contradiction, follows from (Y when LY is inconsistent with 6. We emphasize T obtained by taking 6 as an axiom, a A 6. It follows not possible from follows and p classically theory implied by formula LY may T-imply a contradiction, whilst this is in the example of bs, which is clearly consistency-preserving. f3 is T-implied by LY iff p is classically that in the formal that a consistent iff /3 classically 3.1. The semantics of Poole systems is a preferential that this inference that the inference from its definition inference relation (see for instance relation kD associated with a Poole system It is known without constraints immediate refer to it as the inference relation induced by the set D. Note that if a set D induces inference inference describe. by a world p, one has the following and Poole [ 111)) and it is relation preserves consistency. We will the the same to simple the set of all formulae satisfied [ 111 relation b, relation. The semantics of such a relation Indeed, induce turns out to be particularly the sets D’ = D U &z&e} and D” = D U (true} that for any world Ipj denotes result, observed independently by Makinson recalling [ 131: (D,8) Observation 3 (Makinson duced by a set D, and <p the relation defined on the set of worlds W by Zf kD is the preferential and Poole). inference relation in- (def) m <o n ifs InI n D 5 [ml n D, the structure ( W <p) is a preferential model that represents bD. hf. Freund/Arttjkial Intelligence 98 (1998) 209-235 215 Proof. The relation <o ness readily that is that (Y kD p iff all minimal elements of CY* satisfy @ is clearly a strict partial order on W and the condition of smooth- represents kD, follows from Zorn’s lemma. We have to prove that ( W, <n) Suppose that it is maximal first that we have (Y kD j3, and let m be a minimal element in LY*. We want to show that m + /3. Note that, since m k a, the set lrn( rl D is a subset of D that is consistent with (Y. We claim that there exists a subset D’ of D consistent with a such that [ml n D 2 D’. Let n be a that satisfies D’ and cx We have then D’ C InI n D, so IrnJ fl D 2 InI n D, and world the choice of m. This shows that /m/ n D is maximal therefore n <D m, contradicting among the subsets of D that are consistent with CY. It follows from the definition of bD that -(Y V p E Cn( (ml n D), so m b T-X V /I. But m satisfies (Y, and therefore m must satisfy p. for that property: indeed, suppose j3. Then the worlds Suppose, now that we do not have (Y kD there exists a subset D’ of D, maximal consistent with a, such that icy V p $ Cn( D’). Let m be a world that satisfies D’ and does not satisfy Y(Y V p. We see that m k (Y A --#?. Furthermore, m is minimal among and we would have D’ C Jm( n D s We have m that Observation of D’. there exists a world the proof of that does not satisfy p. This completes there would exist a world n such that n b cy if one does not have (Y kd p, is minimal IJ 3. that satisfy LY, otherwise InI n D, contradicting therefore proven the maximality in cy* and that, Note thatfor any set D, one has D c A where A is the basic set of defaults associated let a be any element of D, n a world that satisfies a subset of in Section 2 is therefore satisfied and with the model (W, <n). and m a world such that m <o n. By definition of <o, /ml fl D, so that m must satisfy cy. Condition (Y E A. InI fl D is a (strict) Indeed, (*) Observation 3 together with Lemma 1 provides a rather simple definition of the preferential inference relation associated with a set of defaults D: Corollary 4. For any preferential inference relation bD induced by a set D of defaults, one has LY /-_I, j3 if, for every world n that satisfies CY A-p, there exists a world m that satisfies LY with In( n D g (ml rl D. Proof. Clear. c3 The order <D will be referred to as the order induced by D. Note that it follows from that the inference relation associated with any Poole system (D, 0) it is worth pointing out that the model described to build, and idea that a world m is less exceptional, or more normal, the above observation is faithfully representable. Evenmore, in the proposition correspond:s than a world n iff it satis$es a greater subset of D than n does. If D is considered as a knowledge base or as a set of expectations, most normal by D. that confirm as much as possible of the information that we consider as provided it is only natural to the intuitive is particularly it is simple the worlds interesting because above 216 M. Freund/Art$cial Intelligence 98 (1998) 209-235 that is a suppose theorem of triviality). Suppose is D = Cn( D), D + L and Example 5 (The Alchourron44akinson that D let us determine closed consistent subset of L, if a world m satisfies D and a world n does not, one the order < induced by D. Clearly, has m < n. Conversely, that m and n are two worlds such that m < n, and let us show that m satisfies D, while n does not: by definition of the order <, there exists a formula S E D such that m k 6 and n b 4. The world n therefore does not satisfy D. Let LY be any element of D. To prove that m b a, note that LY V -4 E Cn( D) = D, and that n + a V 4. hence that m satisfies LY. This shows that, when D is a consistent closed subset of C, that m k D, and we have proven one has m < n i. m satisfies D and m does not. It follows is that satisfy D, and a ranked model with two ranks: at rank 0 we find all the worlds at rank 1 all the other ones. One shows reIation CD is given by: that m b a V 4, that the induced that the model then easily It follows (W, <) Cn(a, D) when cy is consistent with D, C,(a) = Cn(ff) otherwise. When inference model the language relation is logically finite, the standard model (W, <) of the preferential induced by a set of defaults D (cf. Section 2) coincides with the (K <D) and is therefore quite easy to write down: Example 6 (Penguins). We consider angle “penguins the set of defaults tri- are birds, birds fly, penguins don’t fly”, which can be represented by provided by the well-known the information propositions Let us denote the worlds associated with f by the the world p is the world sequence of elementary that satisfies p A Tb A 1 f, the world * is the world that satisfies lp A lb A 1 f, etc. To induced by D, determine we first write down in D that they satisfy: the eight worlds attached with L: together with the formulae the preferential model associated with the inference the language C on p, b and that they satisfy. Thus, relation p-+b b-f P + -f m * P b f pb Pf bf pbf M. Freund/Artijcial Intelligence 98 (1998) 209-235 217 The inference relation t-~ induced by D is thus given by the preferential model A b pbf pb P where the lines represent connection between worlds through the order <o. * f bf relation: one has indeed b t- f, but neither p b -f, that inference the default b -+ f Note resulting In this sce:ptical approach of default reasoning, extension in which p -+ b and p -+ -f pA-bblf. two of the three are simply is the only element of D that is preserved in the nor p /- b. rather than choosing a particular Reiter the defaults p A f k b and initial defaults would be preserved, replaced by the weaker conditionals Example 7. Let C be the language built on three propositional andDthesetD={cu,p,r,S},wherea=(pVq)Ar,p=~pAr,y=(IpVq)Alr, 8=pAv. variables p, q and r, We leave it as an exercise for the reader to check that the preferential model P * 4 r pr pqr is the standard model associated with the induced relation bD. 3.2. Faithfully representable inference relations and Poole systems As results from Observation is faithfully representable. defaults is true, that is whether any faithfully by some set of defaults. The following case: 3, the preferential inference The question naturally representable example inference shows relation arises whether induced by a set of the converse relation might be induced the that this is not in general language of the pi’s. For each index i, denote by mi the world Example II. Let pI ,pz, . . . , p,,, . . . be a countable the propositional that any element of the intersection takes value 1 on pi and 0 on the pi’s, j # i. Observe si A s:! A . . e A s,. where each si is of formulae fii lmil can be written as a conjunction a disjunction that this set is satisfied by of literals the world m* that takes value 0 on all the pi’s_ Let < be the ranked order on W with two ranks: at rank 0, put all the worlds rni, and at rank 1 all the other the following variables and L that that cannot be all positive. set of propositional It follows 218 M. Freund/Arti$cial Intelligence 98 (1998) 209-235 that D contains no contradiction. subsets of D. Clearly, a world is minimal worlds. The minimal worlds are therefore all the m;‘s. We claim that < thus defjned that one has -C = <D for some set D. cannot be induced by a set D. Suppose indeed Let us denote by Dk the maximal We can suppose consistent iff it satisfies one of the Dk’s. Note set: otherwise, D would be a subset of ni lrntl and would that D cannot be a consistent the fact that m* is not minimal. Since D is therefore be satisfied by m*, contradicting not consistent, subsets Dk there exists that there exists a formula LY that lies in Dk and not in and Dt, and it follows that any Dt. Denote by q any world that satisfies Dt. Such a world is minimal. Observe since otherwise, by the choice of the world n that satisfies LY must also be minimal, order relation <, one would have q <b n and q would satisfy Dt U {a}. Therefore, if a IX, n must be one of the m;‘s. But if h and j are two index such that world n satisfies that pl, and pj are not elements of Var(cu), one readily sees that there exists a world satisfies a A pa A pj and that this world cannot be any of the mi’s. in D at least two different maximal consistent readily We do not know of any necessary and sufficient condition that should satisfy a faithfully Nevertheless, out to provide finite: logically representable inference relation as will be shown in Theorem 13, the following such a characterization in order to be induced by a set of defaults. turns is sufficient condition the underlying in the case where language Observation 9. Let k be a preferential inference relation defined by a faithful model ( W <) and A its associated basic set of defaults. Suppose that the following condition (**) holds: (**) For any world p, there exists a non-empty subset A, of A suchthatm~A,iffm=porm<p. Then b is induced by its basic set of defaults. first that it follows readily from the definition of A that the sets A, are Proof. Observe subsets of A. We have to show that < = <A. Suppose first that one has m < n. If cy is a formula of A that is satisfied by It, one has m k (Y by definition of A, and InI n A is the existence of the set A,,,, a subset of A that therefore a subset of Irnl fl A. Moreover, is strict, and we that the above inclusion is readily satisfied by m and not by n, implies have shown that we have m <A n. Note that m # n. suppose Since n satisfies A,, the definition of <A shows that the same is true for m. It follows then from the definition of A, that one has m < n. q that m <A n. Conversely, We noticed that when a preferential defaults D, this set must be embedded model (K <D) of b. When condition determine a strict subset of A that induces relation inference /-- is induced by a set of in the basic set of defaults A associated with the to it is possible 9 holds, (**) of Observation the same relation: Observation 10. Suppose that the condition (**) of Observation 9 is satisfied, and denote by A* the union of all the subsets A,. Then the relation b is induced by A*. M. Freund/Art@cial Intelligence 98 (1998) 209-235 219 (Y, the same if II satisfies this set. There exists Proof. Suppose first that we have m < n. If (Y is a formula of A*, we have (Y E A. Hence, is true for m. Moreover, m k A,,,, and n does not satisfy therefore an element S E A, C A* that is satisfied by m and not by n. It follows that InI f’ A* is a strict subset of [ml n A*, and we have shown is that m <A* n. Conversely, a subset of A*, we have also m /= A,. Therefore, we have m = n or m < n. But the equality is complete. that m <A* n, and the proof of the observation that m <A* n. As n satisfies is impossible 0 the set A,,, which since we supposed suppose We are now able to prove the main result of this section: when the underlying language is$nite, any consistency-preserving preferential inference relation defined by an injective model is induced by its associated basic set of defaults. In view of Observation 9, it is enough to prove the following. Observatilon 11. Condition (**) holds for any faithfully representable preferential inference relation + defined on a logically finite language. Such a relation is therefore induced by its basic set of defaults. of all literals formula associated with q, that is Proof. For any world q, denote by xq the complete the conjunction that are true in q, Let (u! <) be the standard model of l- and A its associated basic set of defaults. For any world p, let 6, be the formula equal and to ,yP V ( vnlcp ,ym ) otherwise. Note that a world m satisfies to x1, if p is minimal IS, iff m = p or m < p, so that condition for the set At, = {a,}. (**) of Observation 9 is readily satisfied 0 As observed in Section 2, the faithful model of a faithfully representable preferential relation is unique when inference the underlying A* = {S, 1 p E W} only depends on the given this set as the determinant of the inference relation k. As an immediate of Observations 10 and 11, we have the following corollary: inference language in finite. Therefore, the set relation b. We will refer to consequence Corollary 12. Any faithfully representable preferential inference relation defined on a logically finite language is induced by its determinant. Proof. Clear. 0 We can now summarize our results: Theorem 13. Given any consistency-preserving preferential inference relation b de- fined on a logically jnite language L by an injective model, there exists a subset D of C such that k coincides with the inference relation TV associated with the Poole system (D, 0). Proof. Immediate by Lemma 2 and Observation 11. q 220 h4. Freund/Artijicial Intelligence 98 (1998) 209-235 Theorem 13 may be equivalently restated as follows: Theorem 14. For any strict partial order < defined on the set W of worlds associated with a logically$nite language C, there exists a subset D of C such that < = <o. Proof. Since the language faithful preferential model. One concludes, is finite, the structure (W, <) is smooth, and is therefore a applying Theorem 13. q The meaning of the above theorems is that, under some mild conditions, preferential reasoning B la Shoham point out the existence of a basic set of defaults or explicitly, any agent As will be seen consistency-preserving about human behaviour, theories determined in their judgements is worth pointing out the formal analogy the most classical psychoanalytic in the next section, rational this applies logic. This result is the same as reasoning 5 la Poole. But its interest that comes to conditionalize, logic on a finite to any agent that uses a faithfully representable is also to implicitly language. that uses in particular is reminiscent in as much as they claim and actions, by a set of primary affects. In this sense, of some well-known that human beings are it the result stated above and that exists between Applying Corollary 4, one sees language, relation C defined by an injective model, in a finite inference preserving that p E C (cu) iff for any world n that satisjes (Y with In/ n D 2 [ml n D. If the given satisjies be consistency-preserving, consistency-preserving this result is no longer component C, of C, defined by a A -/3, inference given any consistency- there exists a set D such there exists a world m that to relation to the is not supposed true, but it may be applied theories. that, C,(ff) = C(ff> Cn( a) if C(a) is consistent, otherwise. indeed One easily checks it follows relation, C(a) is an inconsistent The proofs are straightforward and that C, is a faithfully preferential that there exists a set D such that for all formulae set, or C(a) inference (Y, either to the one above. is given by a condition representable identical and we leave them to the reader. Although both the basic set of defaults A and the determinant A* induce, the same given language, turns out to be easier equal between A and A* is fully described by the following: to 2”, where IZ is the number of atomic propositions to write down faithfully representable than the set A. Note that the cardinality inference relation, in a finite the set A* often of A* is of the language. The link Observation 15. Let < be a strict partial order on the set W of worlds associated with a logically $nite language, A its associated basic set of defaults and A* its determinant. Then, modulo classical equivalence, a formula CI is an element of A iff it is a disjunction of formulae of A*. Proof. We noticed is a subset of A, any disjunction (at the end of Section 2) that A is stable by disjunction. Since A* of formulae of A* is an element of A. To show that M. Freund/Artij?cial Intelligence 98 (1998) 209-235 221 to S(a). Suppose that (Y is consistent, the worlds that satisfy LY. We claim a is a disjunction the disjunction that satisfy cy, we have q b S,, and therefore q b S(u). equivalent the formulae among the worlds is true, let cy be any element of A. If a is inconsistent, and denote by S(a) the converse of over an empty set. Suppose that LY is all the elements S, for m maximal among first that a world (I satisfies a. If q is maximal classically If q is not among there exists a world m such that q < m, m maximal maximal (Y. We have then q b S,,,, hence q b 6(a). This shows among b cy: take a world p that satisfies that LY + S(Q). Let us check conversely that S(a). There exists a world m, maximal P t= 4n. We have then p = m, in which case p b a, or p < m. But (Y is an element that p b a. This shows that of A, and therefore, since m k u, condition 0 a((~) k a, and the proof of the observation these formulae, that satisfy that S(a) among that satisfy LY, such is complete. the worlds implies (*) We now compute the set A* in two examples: 5 (continued). Example D = Cn( 13;). We saw that the order < of the standard model relation Let S be any formula of a logically induced by D is defined by: m < n iff m k 6 and n k 4. We have and (w <) of the inference language, finite It can be shown consists OS all the formulae q5 that either classically by 6. Cl that the basic set of defaults A associated with the model imply S, or are classically (U: <) implied Example ti (continued). The preferential model associated with D={p+b, b+fp+lf} was shown to be pbf b pb P * f bf Let us list the elements of A*: 6, = -‘p A Tb A -f, Sf = -7p A Tb A f, 222 M. Freund/Arti&ial Intelligence 98 (I 998) 209-235 & = ‘p A b A f, &bf=XpbfVX*VXfVXbf=(7Pf’(b+f))V(fA(p+b)), ab = lp, ~~b=(pAbA7f)V(lpA(b--tf)), s,=lbr\(p~lf)V(lpA(b-,f)), Spf = b -+ f. One sees from this simple example of the subsets that induce a given inference that the determinant relation. is generally not the simplest Example 7 (continued). The faithful model ( W, <) of the inference Example 6 was shown to be relation defined in * P 4 r pr p9r The set A* then consists of the eight formulae 8, where m E W, namely A*={pAqAlr, TpAqAr, ?A(lpAlq)V(pAq), PAT?-, qAv; TpAr, rA(pATq)A(qA-p), qAr}. NotethatqEA-A*. It is worth noticing Remark 16. that the set A* separate the worlds: if two worlds m and n agree on A*, they must be equal. Indeed, since m k S,,, E A*, we have n k &, so n = m or n < m. Similarly, one sees that m = n or m < n, hence the equality. 3.3. Comparison with Giirdenfors-Makinson’s work to compare in Theorem It is interesting the result stated in [ 57. There, the authors introduced and Makinson the following way: given a set D of defaults, 13 with those proven by the notion of a selection Gardernfors function So a selection in function associates with any formula cx a set of subsets of D that are maximal consistent with [5, Theorem 2.41, is that for any LY. The interest of these functions, language C, there inference preferential exists a subset D of L and a selection function So such that, for all formula LY, one has C(a) = n Cn( LY, D,), where the intersection Theorem 13 shows that, in the particular case where C is a faithfully representable preferential relation defined on a logically jnite language, the selection function can be chosen to be the trivial one, that is the one where, for each formula a, SD ((u) is the set that the of all the subsets of D that are maximal consistent with cr. Note, nevertheless, logical set D whose existence relation C defined on an arbitrary propositional in Theorem 13 is not in general closed under is taken over all the elements of So ( LX). as follows is proven from hf. Freund/Artificial Intelligence 98 (1998) 209-235 223 consequence, whilst closed und(er logical consequence. in [ 51 this set is always taken to be C(true), and is therefore 3.4. The d:vnamics of Poole systems Since, in finite languages, the preferential logic of an agent is always conditionalized to study the effect, on such a logic, of a perturbation indeed, revision is provided it is natural thfe evolution are inadequate of a knowledge base link with nonmonotonic in the presence of new that is going theory behaviour revised. Thus, for instance, relation, which will eventually determine the influence of this evolution on the induced the process of revision in this framework: the knowledge base of an agent as a whole, independently as a belief base, but it seems clear that the “classical” postulates the gestalt that is at the origin the way (see [ 51 and [ 61) ; but this logic is of little use in the framework of Poole systems: to be adopted by this agent after her beliefs that is only concerned with some principles and information, logic. In the is completely by a set of defaults, of this set. This perturbation may or may not be analyzed as a revision of the set of defaults, considered for revision of these postulates considers of the resulting have been regulate does not take into account perspective of Gtidenfors-Makinson, described by means of an inference a belief should change when new information formal G&rdenfors and Makinson as an inference operation from the proposition LY, so that the resulting is interpretj:d K is considered an inference sets of formulae relation. Thus, revision of either of these sets. Furthermore, of a set of defaults revision to classical basic set of defaults only is preserveId: induce a inference relation of this type. These questions can be only evoked here and will be more deeply studied in the next section. (Y theory K * cy the theory is to induce is the framework of Poole systems, where default inference through a changes those applicable for a minimal number of couples of worlds, and that the property of rationality a rational changes of a set D of defaults induce the dynamics of Poole systems may be indifferently should obey rules theory. One may require is preserved, for instance that the new order <D, differs as a static one, and not as a medium which only device relation. Quite different are considered relation would have thus to be chosen among differ from that the consistency paper. Some examples will be nevertheless of LY module K. In this proposal, the revision of K by a formula of the the old one as the set of consequences the same studied as equivalent when those that will still in this perspective, that fundamentally in a forthcoming the admissible the admissible [6] proposed to analyze discussed induces from they that 4. The rational case In this section, we consider the particular case of rational we shall show that these relations may be advantageously more and facts. tractable than the associated determinant. We first recall some basic definitions inference and relations through a set that is studied 224 M. Freund/Arti$cial Intelligence 98 (1998) 209-235 A rational inference relation condition of rational monotony: is a preferential inference relation that satisfies the UW If LY b p, and not (Y b 77, then a A y k p. The semantics of rational inference relations is particularly simple to describe: a pref- relation inference is rational erential iff it can be represented by an injective preferential model (S, <), where < is a smooth modular order defined on a subset S of W. We recall iff there exists a totally ordered set (T, <‘) and a ranking that a order on S is modular into (T <‘) such that m < n iff n(m) <’ u(n). Equivalently, function K from (S, <) an order < on S is modular iff, for all elements m, n, p of S such that m < n, either m<p,orp<n. finite In a logically a rational When language, only if it is consistency-preserving. the ranking function of integers. The height h of such a rational model, normalized, is the set [0, h - i.e. that K(W) is defined by h = I[K( W)I). W e will always suppose relation or, equivalently, l] = {0,1,2,. that the ranking . . , h - 1). K is defined on the whole set W, and takes value relation is faithfully representable this is the case, one can always suppose if and that in a finite set of its standard is function Example 8 shows that, in the general case of arbitrary languages, inference the rational Nevertheless, relations that are not induced by any set of defaults. No characterization relations that can be determined by such a set is known the following analogue of Observation 9 provides an interesting result: there exists rational of in the general case. Observation 17. Let b be a faithfully representable rational relation de$ned by the ranked model ( W <). Suppose that the associated ranking function K takes its value in the set of integers, and that its satisjies the following condition (w*): (***) For any non-zero integer i, there exists a formula 6i such that m k a; iff K(m) < i. Then exists a set D, totally ordered through classical implication, that induces the relation k. Conversely, any family D offormulae D = (61,&, , . . , Sk, . . .) with Si k 6i+l induces a rational inference relation, the ranking of which satisfies condition (***). implication. Proof. We suppose first that (***) holds and show that < = co, where D is the family of all the formulae &. Clearly, one has Si b Si+r , so that D is totally ordered through If m < n, and S; is an element of D satisfied by II, we have classical if j = K(m), we see that the K(n) < i, hence K(m) < i , and m /= 8;. Moreover, that InI fl D is a strict subset formula Sj+l of /ml n D, that is m <n n. Conversely, that m <n n. If i is the rank of n, one sees that n satisfies 6i+t, and the same is therefore j = K(m) < i. As there exists an index k such that m k & and n /= 7&, we do not have n < m, and the proof of the first part of therefore we have j < i, that is m < n, which completes the observation. is satisfied by m but not by n, and it follows true for m, whence suppose Suppose now that D = (61, 62, . . . , S,, . . .} c C is such that, for all i’s, 6t k ai+,, and is represented induced by D. This relation let bD be the preferential inference relation M. Freund/ArtiJicial Intelligence 98 (1998) 209-235 225 by the faithful model (W, <D). We claim that for any worlds m and n, we have m <D n ifs there exists an element 6 E D that is satisfied by m and not by n: indeed, if m <D n, such an element exists by the definition of <D. Conversely, if such an element S exists, for any element 8 E D satisfied by n, observe the hypothesis made on D together with the fact that n does not satisfy 6 implies that 6 k 8, so that m satisfies 6’. It follows that InI fI D C_ [ml rl D, and we have shown that m <D n. that Irnl fl D # InI fl D. Furthermore, It is now easy to prove that <D is a modular order: is proven. To prove Observation if m, n and p are three worlds such that m <D n but not m <o p, there exists an element 6 of D that is satisfied by m and not by n, and this element must be satisfied by p. It follows that p <D n, and the 17, it remains only to show that condition modularity . . . , &, . . .} with Sj b Sj+l. Clearly, (***) holds when D is of the form D = {&,&, the set D’ = D U {True} is totally ordered the implication same rational function associated with the modular order <D = <Dl, i any element of K(W) and n a world of rank i. If ]nlnD # 8, let k(i) be the first index such that n k 8&i); set &k(i) = True otherwise. We have then that is iff K(m) < i + 1, which shows for any world m, m k Sk(i) iff K(m) < K(n), that condition through classical relation as D. Let K be the ranking and induces is satisfied. inference (***) 0 (***) It is worth noticing riepresentable that condition rational for instance, is not in general satisfied by an arbitrary relation, even though this latter may be induced faithfully in Example 5 with D a closed subset of L: such that by a set of defaults: D # Cn( 8) for any formula 8, there exists no formula 6 such that m b 6 iff K(m) < 1, since that condition to m k D. We shall nevertheless finite languages. latter (***) always holds in logically is equivalent inequality inference show this 4.1. The characteristic set of a rational relation defined on a finite language Supposing we work 17 holds. Observation in a finite language, our first result is that condition (***> of Observation 18. Condition (***) holds in finite languages. inference Proof. Let b be a rational (W; <) its associated function over all worlds n of rank less than i of the complete *i = Vfr(n) :i ,y,,. Set I,+, = True. One has then clearly m + fii iff K(m) < i. 0 standard model. Denote by h the height of the associated i, 0 < i < h - 1, let @; be a representative relation defined on a logically K. For any integer finite language and ranking of the disjunction formulae associated with n, that is The set P = {t/3i} will be referred to as the characteristic set of the relation (or, set of the model as the characteristic to h, and that its satisfies iff they have same rank. Its main feature (K <). Note that it has cardinality equivalently, the property of separating the ranks: two worlds agree equal is that, given two worlds m and n, one on P has m < n. iff there exists an index i such that ljli is satisfied by m and not by n, or, iff m satisfies strictly more elements in P than n. The elements of the equivalently, 226 M. Freund/Artificial Intelligence 98 (1998) 209-235 characteristic are totally ordered set ly form a chain with last term equal that they implication. We will call such an h-tuple a logical in the sense to true, through classical chain. A notion similar to that of a characteristic in the case where way defining, worlds n < m of the complete characteristic for any non-minimal set” 9* of the model the preferential model set could have been defined in an analogous to be ranked, over all is not supposed (K <) world m, the formula +,,, as the disjunction formulae associated with n. Thus the “generalized P4 \ 4 P / / * could have been defined as the set <,J,. induced on W by the set 1v* the following diagram: {x*, xp V x*, true}. But one notices is the modular order where that the order the ranks are given by P44 P * 2 1 0 Therefore, one does not have < = <y*. For this reason, the is not obvious. Nevertheless, we shall set W in the general case of preferential see at the end of this section role in the framework of the dynamics of a Poole system. For the moment we note that in the case where the order < defined on W is supposed that this set may play an important the equality < = <y does hold: the interest of defining to be modular, relations Theorem 19. In a finite language, any rational inference relation is induced by its characteristic set. Proof. Immediate, using Observations 17 and 18. Cl Note that the above result all the sets D such that i_D is rational. Theorem 19 only shows that, given such a set D, there exists a set !t’j totally ordered leaves open the question of characterizing such that bD = kyI. through classical implication A consequence of Theorem 19 is the existence of a simple syntactic characterization of all rational relations defined in a finite language: Theorem 20. For any consistency-preserving rational inference relation C defined on a logically finite language, there exists a logical chain (#I, &, . . . , $~z) with I,&~ = true and cc/i k #i+l for all i < h, such that, for any consistent formula a, one has C(o) = Cn( a, J/i) where i is the first index such that cy is consistent with $i. M. Freund/Artifcial Intelligence 98 (1998) 209-235 227 Proof. Let P be the characteristic any world 12 that satisfies LY A +?, If i is the first index such that (Y is consistent with $i, the formula by all worlds of rank strictly (Y A + (Y k /3 iff the formula iff for set of b. By Corollary 4, one has p E C(a) there exists a world m that satisfies (Y, with m -+ n. (Y A #; is satisfied less than i, and only by these worlds. Therefore one has is inconsistent with $;, whence the result. 0 relation is fully determined of Theorem 19 is that a rational inference set. Conversely, one easily shows that there exists only one logical in the A consequence by its characteristic chain that induces a given rational inference relation. This remark of a given rational framework of theory change: relation xe it is natural that the revision of a logical chain yields again a logical chain. This implies is no stability under revision, as the initial chain and the revised chain, necessarily Before inference to require that there if different, will if the admissible perturbations those that preserve looking at some examples, we note that the set P to be chosen among give rise to different is of minimal is of interest rationality, cardinality relations. inference among the subsets of fZ that induce a rational inference relation: Observation 21. Let ( W <) be a ranked model de$ned on a logically finite language, P its characteristic set and D a subset of L such that < = <o. Then the number of elements of P is at most equal to the number of elements of D. Proof. Let h be the number of elements of P. Then h is the height of the model (K <). Note that if the order <A induced on W by a subset A of ,C is modular, the height of this sequence of subsets of A, so that this length order is the length of a strictly decreasing is at most equal that < = <D, it follows to the number of elements of A. Since we supposed that h is at most equal to the number of elements of D. 0 (Y, and set D = Cn( (u) . Recall Example 8 (continued). Consider a consistent that the order < = <D on W is a ranked order, defined by m < n iff LY is satisfied by m set is and not by n. The height of this model Iv = {a, tiwe}. to 2, and its characteristic is thus equal formula Example 22. One checks easily rational consequence operation Cn. inference relation that the characteristic set of a consistency-preserving is the singleton true iff this relation is equal to the classical 4.2. Comparison with Grove’s work around revision for belief [7] ,, Grove proposed an agent a model theory K. These spheres are subtheories In “spheres” obtained by removing also any revision * of K satisfying ordered by cy is equal in terms of a family Ki of of K, that are (see that, given there exists a total family of subtheories Ki such that, for any formula LY, the revision K * a of K to the expansion Cn( Ki, a) of one of the spheres by (Y. This sphere Ki of this work). More precisely, Grove showed that are not “sufficiently set of ACM postulates, from K all sentences for a presentation the extended entrenched” [ lo] 228 M. Freund/Art$cial Intelligence 98 (1998) 209-235 is the greatest one that is consistent with cy. Conversely, given a totally ordered family (Y the of subtheories Ki of K, the operation * on K that associates with any formula expansion by cy of the greatest Ki consistent with CY is a revision operation that satisfies the extended set of AGM postulates. In the finite case, this result may be seen as a direct consequence indeed, any revision * of K that satisfies consistency-preserving is If (+1,@2,...,W Ki = Cn( $i), one has a b, is consistent with Ki. If follows by (Y. rational th e associated inference of Theorem 20: the extended set of AGM postulates yields a relation b, defined by: (Y k, p iff /3 E K * a. set and if, for all i, Ki is the set /3 iff TLY V p E Kt where i is the first index such that cy that K * a = Cn( Ki, (Y) is equal to the expansion of Ki characteristic 4.3. Rationalizing an irrational behaviour Suppose that the behaviour of an agent is conditionalized logic, and that this agent acts rationally. The initial behaviour, by a preferential a bR by a preferential relation, for a discussion that it appears desirable or necessary represented rational inference of /or (see [9] feature of this “closure” conditional through without closure of a preferential that seems much simpler, characteristic desired rational logical chain rational suppressing closure will (fii, &, relation inference relation bP IR. One way to proceed into a is to take for bR the rational closure of the existence of the rational closure). The main is that it is an extension of the given relation kP, so that the to be changed is therefore /? holds whenever (Y bP holds. Rationalizing some missing any of the existing ones. The procedure of taking in adding therefore consist an agent’s behaviour connections, the rational far from being simple. Another way, is nevertheless is to first “revise” the determinant A* or the “generalized set” P* of kP so as to get a logical chain P, which will the relation. There exists of course several ways of transforming A* into a induce . . . , True), and we will only mention two of them. Concatenation of chains Let P* be the generalized characteristic set of bP, that is the set of all formulae cc, “9 where +,, is the disjunction over all worlds m < n of the complete formulae associated with m, for n non-minimal, and (jl,, = true for n minimal. The set P* may that if (~0 t_ CYI t_ +. . k a, and then be seen as an union of logical chains. Observe PO j- pt j-- ..+ k & are two chains with, say, k < n, then is again a chain. Taking proceed by concatenation that will induce the desired rutionalizution of b. in P, one can therefore for (ai) to obtain a set P*, the elements of which form a logical chain, a chain of maximal length Example 23. Let kP be induced by the set A* = {up V q, p, p A q, q} and represented by the preferential model (K <> U. Freund/Arti$cial Intelligence 98 (1998) 209-235 229 * / P 4 v P4 with order < defined by pq < q, pq < p < *. To write down the elements of the generalize’d characteristic set, it is simpler to associate to any formula of P* the set of all worlds that satisfy this formula, remembering that, for n non-minimal, a world m satisfies I@” iff m < n. We have thus +* = {p,pq) = p, eP = t,bq = {pq} = p A q. The and consists on a single logical chain. The set 1y* is therefore equal to {p A q, p, he}, rationalization of k,, by the above process yields the ranked model (W, <a) 9* P P9 2 1 0 Note that the order <R is an extension of <, so that, by Lemma 1, the rationalized relation kR extends the relation k,,. Cl Example 6 (continued). We take for kP the inference relation induced by the set D = {p -+ b, b --+ f, p + -f}. As noticed above, the associated standard model (I%! <> is given by pbf b pb P * f bf The elements of the associated generalized characteristic set P* are ~~bf’=~b=~lpb=~I,=~pA\b~f), ~p~=(pAbAf)V(pA~bAlf)V~~~f=(bAf)V(~bA(p--’~f). We have P* = (7p A (b -+ f). rationalized relation is determined by the ranked model (b A f) V Tb A (p + Tf),true}, and the resulting b pf pb pbf P *fbf 2 1 0 Note that tvR is again an extension of kP. 230 M. Freund/Arti>cial Intelligence 98 (1998) 209-235 The characteristic ranking that it relation inference in the sense It is possible is not standard, described length above that is chosen. induced by its determinant A* by ordering The process of concatenation depends of the chain of maximal the set W the preferential the number of elements of the generalized characteristic set !P* that a world through may satisfy. The characteristic rank of a world is then simply defined as the number of that a world m satisfies elements of P* iff m < n, we see that the characteristic rank of a world m can the element @,, of P* be directly computed through the number of worlds n such that m < n. To compute this rank, set. In the to display penguin elements of P* satisfied by a world are given by: that are not satisfied by this world. Recalling it is therefore not necessary the number of nontrivial the generalized to rationalize characteristic for instance, example, Number of elements of P satisfied by m = number of n’s with m < n m ; bf pbf P b pb Pf We see that the resulting rationalized inference relation bR is again determined by the model b pb pf pbf P *fbf 2 1 0 via the characteristic is clearly much simpler Its properties will be studied in detail in a forthcoming ranking The process of rationalization than that of chains concatenation. paper, but it is worth noticing the original one kp, and agrees with it iff bp observation induced by D satisfies m <o n iff m satisfies more elements for the present that the resulting is straightforward, noticing relation bR always extends is already rational. The proof of this then the order <o that if D is a logical chain, in D than n. 4.4. Revising a rational behaviour Even when an agent’s behaviour to revise to take into account some new information. The problem of revising a rational relation amounts that induces a given rational it in order inference logical chain p = {@I, 1,b2,. . . , @h-l, true} set is in such a way that the resulting then to revise the (unique) it may be desirable is rational, inference relation, M. Freund/Art$cial Intelligence 98 (1998) 209-235 231 If, moreover, one requires the set P, one sees that the simplest admissible again a logical chain. yield again for any formula first index such that +& is consistent with a. Thus, set P = {yp A (b -+ f), characteristic p yields that the revision of P by true should is the one defined, (Y, by ??’ 0 a = {t,hk A a, @&+I A a,. . . , &_I A a, a, true}, where k is the the true} by the formula (b A f) V lb A (p + -f), in the above example, the logical chain revising revision sOP={PA((bAf)V(lbAlf)),p,true}, with associated ranked model *bbff pb of pbf P 2 1 0 5. Defadt extensions We shall now apply to some specific rational inference relations section. From now on, we suppose that we work on a logically the results proven finite in the preceding propositional language. 5.1. Defa,ult ranking through rational closure We suppose given a conditional ai =+ pi, where ai and pi are elements of a logically knowledge base K, that consists of a finite number finite that can be interpreted of conditional language as “if a, language, of the conditional LY + counterpart K* of a knowledge base K is the conjunction of its conditionals. assertions .A conditional LY + then normally P,‘. Note is not an element of the that such a conditional so that the set K is not to be taken as a subset of L. The material counterpart to SLY V /3. The material of the material counterparts /3 represents a piece of information /3 is the formula LY + /I, equivalent We wish to build from K a rational inference that will extend K, in the sense relation bK (or simply b when there for all to this extension problem was given [9] and consists of the so-called rational closure of K, which that (Y b p should hold (Y + p that are in K. A first solution and Magidor is no ambiguity) conditionals by Lehmann we briefly describe. Following [ 9 1, we say that a formula cy is exceptional for a set A of conditional asser- tions if and only if LY is inconsistent with the material counterpart A* of A. This means that any world that satisfies LY must falsify at least one assertion of A. A conditional /3 is said to be exceptional assertion u + the conditional in the following way: K1 is taken is not empty, Ki+l is the set of all conditionals exceptional we will always suppose (Y is. the subsets Ki (1 < i < h) to be equal to K and, for each index i such that Ki cy is that that the subsets Ki deBned as above form a strictly decreasing for Ki. The conditional base K is assumed cy + p of Ki whose antecedent to be consistent: This implies for a set A iff its antecedent base K, one defines inductively Given 232 M. Freund/Artijicial Intelligence 98 (1998) 209-235 sequence, with last term equal to the empty set. We will refer to this sequence as the LM-sequence. The set W of worlds is ranked through the LM-ranking function KLM that assigns to every world m the value i - 1 where i is the least integer such that m satisfies Ki. The corresponding rational relation kLMcKj, called the rational closure of K, satisfies then the desired property of extending K. Note that the height of this relation is equal to the integer h such that Kt, is empty. Consider the conditional base K = {b + f, p + b, p + 1 f}. Its rational closure is represented by the model P pf pbf b bp *bff 2 1 0 Let us determine its characteristic set: one has P={ypA(IbV f),(TpVb) A(lpVTf),true} ={ypA(b+f),(p + b) A (P -, -f), true}, that is, recalling that the material counterpart of a set A is denoted by A*, W = {K;, Kg, true}. This result holds in the general case: Theorem 24. Let K be a conditional base and Ki, 1 < i < h its LM-sequence with Kt, = 0. Then the characteristic set of its rational closure is the set of all KT, 1 < i < h. Proof. From the definition of the rank of a world, we see that a world m satisfies KT iff uLM(m) < i. By Observation 17, it follows that KIT E P for all i < h. One concludes, since 9 has exactly h elements. Cl The above result has interesting theoretical and practical consequences. It shows that the rational closure of a conditional knowledge base K is induced by a set of n elements, each of them equal to the material counterpart of a different term of the LM-sequence. Thus, it appears that the complexity of any procedure grounded on rational closure can be evaluated with respect to the height of this closure, independently of the size of the given knowledge base. In fact, Theorem 24 has an important consequence, concerning the representation of rational inference relations by means of conditional knowledge bases. Let indeed 1_ be a consistency-preserving rational inference relation defined on a logically finite language. Clearly, such an inference relation may be analyzed as the rational closure of the set K of conditional assertions defined by K = { a + p 1 a t- /3}, This trivial observation leads nevertheless to an interesting problem, which is the problem of rational behaviour decoding: given such a rational inference relation k, is it possible to explicitly find a conditional knowledge base K of minimal order such that b = kLMcKj? In other words, of a rational agent? The answer Theorem 24: a set of basic rules that conditionalize simple consequence is a surprisingly to this question the behaviour is it possible to determine of M. Freund/Artificial Intelligence 98 (1998) 209-235 233 Theorem 25. Let b be a consistency-preserving rational inference relation defined on a logicall;v$nite language, P its characteristic set and h its height. Then there exists a conditional knowledge base containing exactly h elements, whose rational closure is the inference relation b. More precisely, if the elements of Cy are denoted by 1~51, t,& . , . , t+?h, with $i b $i+t for all i < h and et, = true, the conditional base may be taken equal to the set Proof. Let us denote bLMcKj the rational closure of the conditional $1, Th =s ff2,7*2 To show =+ *3,. * $4,). that k = kLMcKj, we only have . .1+,-l base K = {True + to check that the characteristic sets of of K, we find, using the fact that these relations are equal. Computing for all i < 72, l)i t_ #i+t the LM-sequence We conclude by Theorem 24. 0 K;-, = {+h--l~}, When a conditional into a rational knowledge inference base K of cardinality rational relation of height h, one has clearly h < n, and the n extends, through theorem shows that the base K may be replaced by a base K’ whose cardinality to replace a base K by a base K’ with less that the base K’ is not in general a sub-base closure, above is h. Therefore elements. It should be emphasized, of K, and is not always of a simpler structure. to determine it is in general possible It is possible though, proposed the case of a system that were to extend a given conditional knowledge base. As an example, we will examine that offers much similarity with the rational closure. set of any of the systems the characteristic 5.2. Default ranking through Ze In a recent paper [ 31, we showed a certain condition of independence, the ranking Z-rankings detailed presentation necessary function K@ defined by am associated with the rational closures of K and K’. The motivations to extend that when two knowledge bases K and K’ satisfy their union K U K’ through it is possible where K and K’ are the and the in [ 31, but they are not system can be found + d(m), = K(m) to understand what follows. We begin with a simple example: of this new ranking Let K := {b + f,p + b,p + -f} and K’ = {p A b + -f}. These bases are independent, and the ranking K@ is as follows: 234 M. Freund/Artiificial Intelligence 98 (1998) 209-235 pbf PPf bpb *fbf 3 2 1 0 After simplification, set of K@ totheset{~pV~bV~f,(~pVb)A(~pV~f),~pA(~bVf),true}. the characteristic is equal, modulo classical equivalence, TheLM-sequenceofKisKl=7pA(lbVf), K2=(7pVb)A(7pVlf), K3=0; the LM-sequence Kj = 0 for j > 2, we see that W consists of the representatives of K’ is Ki = up V -b V -f, K; = 8. If we set Ki = 0 for i 2 3 and of the set (K; A KY, (K; A Kr) V (K; A Kp), (K; A Kj*) V (K; AK;) V (K; A Kp)}. In the general case, the characteristic set of K@ is given by the following: Theorem 26. Let K and K’ be two knowledge bases with associated L&l-sequences Ki and Kj. Denote by K and K’ the rankings of their rational closures and by h for every world m, and h’ their respective heights. Let K@ be the ranking dejned, by am is equal, modulo I. i- classical equivalence, to the set of all formulae vi+,=,(KT A K,!*), where 1 is any integer 1 6 1 < h + h’ and the sets K,?, i > h, and K,!*, j > h’, are empty. Then the characteristic set P of K@ = I it is enough there exists to prove that any formula of the form Vi+j=r( KT A KY) It is clear that the height of K@, hence the number of elements of F’, is equal to Proof. h + h’. Therefore, is an element of p modulo classical equivalence. Let LY be such a formula, and m a world i and j, i + j = 1, such that m satisfies that satisfies a. Then that K@(m) < 1. KT and Kf. We have therefore K(m) < i and d(m) that K@(m) < 1. If we denote by i the K-rank Conversely, let m be a world such of m and by j its K/-rank, we see that m satisfies the formula K,? A K$ and one has i+ j < 1. We have therefore proven that a world m satisfies the formula Vi+j=,( Ki* A Kj*) the formula if and only Vi+,i=, ( K,f+ A Ki* 1 is an element of p, and the proof of the theorem Cl that, modulo classical equivalence, if K@(m) < 1. It follows two integers is complete. It follows j. < 6. Conclusion and relations relations inference faithfully is the link that exists between The main result of this paper inference preferential without constraints. These notions languages, but this result we do not know how be associated with such a Poole system. Even fundamental inference induce representable associated with Poole systems finite and that may in the finite case, there still exists some the link between a set of defaults and its induced relation: we do not know, for instance, what properties satisfies a set D whose through classical is rational. We know that if D is linearly ordered is not anymore valid for arbitrary propositional open questions concerning turn out to be equivalent in the case of logically in the general case, to characterize, those relations relation bD languages, M. Freund/Art@cial Intelligence 98 (1998) 209-235 235 its induced is clearly implication, not a necessary one, and, for the present, we have no way of directly deciding whether the order ‘CD induced by a subset D of C is or not modular. is rational, but this strong condition inference relation The results that we have established concerning the determinant associated with a relations, or the characteristic inference provide an interesting preferential nevertheless arbitrary orderings related characteristic study of falithfully representable to the inclusion set will play a prominent set associated with a rational relation, tool for the study of these relations. They show that closely and the general role in any future work concerning that these notions of determinant inference relations or the dynamics of Poole systems. on W may be replaced by some more familiar orderings, order. It is doubtless Acknowledgements We wish to thank Daniel Lehmann for the care he took in reading and correcting the first draft of this paper, and David Makinson and Hans Rott for their fruitful suggestions and remarks. References [ 1] C.E. Alchourron and D. Makinson, On the logic of theory change: partial meet contraction and revision functions, Theoria 48 (1982) 14-37. [2] M. Freund, Injective models and disjunctive relations, J. Logic Compuf. 3 (3) (1993) 231-247. [3] M. Freund, Default extensions: dealing with composite information, Arti$cial Intelligence, to appear. [4] M. Freund, D. Lehmann and P. Morris, Rationality, transitivity and contraposition, ArtiJical Intelligence 52 (1991) 191-203. [5] F? Gii&nfors and D. Makinson, Nonmonotonic inference based on expectations, Artificial Intelligence 65 (1994) 197-245. 161 P. Gtidenfors and D. Makinson, Relations between the logic of theory change and nonmonotonic logic, in: A. Fuhrmann and M. Morreau, eds., The Logic of Theory Change, Lecture Notes in Computer Science, Vol. 465 (Springer, Berlin, 1990). [7] A. Grove, Two modellings for theory change, J. Philos. Logic 17 ( 1988) 157-170. [8] S. Kraus, D. Lehmann and M. Magidor, Nonmonotonic reasoning, preferential models and cumulative logics, Artificial Intelligence 44 ( 1990) 167-207. [9] D. Lehmann and M. Magidor, What does a conditional knowledge base entail?, Art@cial Intelligence 55 (194’2) I-60. [lo] S. Lindstrlim and W. Rabinowicz, Epistemic entrenchment with incomparabilities and relational belief revision, in: A. Fuhrmann and M. Morreau, eds., The Logic of Theory Change, Lecture Notes in Computer Science, Vol. 465 (Springer, Berlin, 1990) 93-126. [ 111 D. Makinson, General patterns in nonmonotonic reasoning, in: D. Gabbay, Hogger and Robinson, eds., Handbook of Logic in Artificial Intelligence and Logic Programming, Vol. irl, Nonmonotonic and Uncertain Reasoning (Oxford University Press, Oxford, 1994) 35-l 10. [ 121 D. Pooh:, A logical framework for default reasoning, Artificial Intelligence 36 (1988) 27-47. [ 131 D. Poole, Default logic, in: Gabbay, Hogger and Robinson, eds., Handbook of Logic in Artificial Intelligence and Logic Programming, Vol. 3, Nonmonotonic and Uncertain Reasoning (Oxford University Press, Oxford, 1994). [ 141 R. Reiter, A logic for default reasoning, Artificial Intelligence 13 (1980) 81-132. [ 151 Y. Shoham, A semantical approach to nonmonotonic logics, in: Proceedings Logics in Computer Science, Ithaca, NY (1987) 275-279. 