Artificial Intelligence 95 ( 1997) 3 17-356 Artificial Intelligence Qualitative representation of positional information Eliseo Clementini ‘,*, Paolino Di Felice a,‘, Daniel Herntidez b,2 a Dip. di Ing. Elettrica, Universitd di L’Aquila, 67040 Poggio di Roio, Italy h Fakultiit ftir Informatik, Technische Universitiit Miinchen, 80290 Munich, Germany Received August 1996; revised March 1997 Abstract A framework for the qualitative representation of positional information in a two-dimensional space is presented. Qualitative representations use discrete quantity spaces, where a particular distinction is introduced only if it is relevant to the context being modeled. This allows us to build a flexible framework that accommodates various levels of granularity and scales of reasoning. Knowledge about position in large-scale space is commonly represented by a combination of orientation and distance relations, which we express in a particular frame of reference between a primary object and a reference object. While the representation of orientation comes out to be more straightforward, the model for distances requires that qualitative distance symbols be mapped to geometric intervals in order to be compared; this is done by defining structure relations that are able to handle, among others, order of magnitude relations; the frame of reference with its three components (distance system, scale, and type) captures the inherent context dependency of qualitative distances. The principal aim of the qualitative representation is to perform spatial reasoning: as a basic inference technique, algorithms for the composition of positional relations are developed with respect to same and different frames of reference. The model presented in this paper has potential applications in areas as diverse as Geographical Information Systems (GIS), Computer Aided Design (CAD), and Document Recognition. @ 1997 Elsevier Science B.V. Keywords: Spatial reasoning; Qualitative representation; Distance; Orientation; Position; Frame of reference 1. Introduction Qualitative the contrary, information it can be more efficient and provide more meaning is often mistaken to be vague or inexact, but it is not. On than pure quantitative author. Email: eliseo@ing.univaq.it. * Corresponding ’ Email: pdifelice@aquila.infn.it. 2 Email: danher@informatik.tu-muenchen.de. 0004-3702/97/$17.00 @ 1997 Elsevier Science B.V. All rights reserved PIISOOO4-3702(97)00046-5 318 E. Clementini et ul. /Artificial Intelligence 95 (I 997) 317-356 saying that Alaska is 1.5 18.800km2 about size and distances in Alaska, but very to the spatial knowledge of the average that Alaska alone is bigger than all the states of the East coast is cognitively more immediate. Comparative information is the key in this example. Therefore, qualitative than quantitative ones and in most cases information from quantitative data, since the quality of things likely is sufficiently exact it is not listener. On the other from in a familiar answers arc often it is not obvious is to Florida For example, information in relation information. quantitative meaningful hand, saying Maine frame of reference cognitively more eloquent how to infer qualitative context-dependent. A qualitative answer is on purpose in a certain context and eliminates unnecessary limited uses a discrete quantity interest representation associated with it and for which qualitative 671. Qualitative to space, which spatial reasoning reasoning seems unlikely higher-dimensional Recent work [ 10, 11,3 11, The delay for spatial domains manipulations” in qualitative techniques that such inference spatial to the kind of distinctions that are of space which has normally arithmetic algebras have been devised details. Therefore, a qualitative a natural ordering [66, to scalar quantities and only recently rise to the subfield of qualitative of qualitative models and that “it full for tasks that require to the convincement in the development is partly due schemes will be useful [ 20, p. 4271. representations reasoning has been applied mainly is multidimensional in nature, giving application of quantity spaces in more than one dimension information In fact, several aspects of spatial general, the description of a scene of objects an expression both in terms of inherent characteristics of other objects. The inherent characteristics separations) and its extension topological, orientation, and distance are currently being investigated in space involves spatial aspects has made more evident can lead to promising that the results. [ 111. In that have of each object and in the context (holes and to other objects, of an object are its topology (size and shape), while, with respect relations have to be considered. representation of positional The aim of this study is the qualitative which is one of the basic cognitive spatial concepts and thus important domains of spatial knowledge. For objects their extension positional information has an obvious correspondence be expressed using polar coordinates: the radius and a reference axis. that can be modeled to the distances and distance is determined by the orientation in quantitative can be disregarded with respect terms, where positional the distance [ 151. This can from the origin and the angle between information information, in all application as points (because that are involved), relations from experience in other spatial domains Knowledge about locations in large-scale space are learned not only representations to be represented formats, which can be suitably modeled that spatial knowledge motoric experience of the domain, but also from symbolic and from facts inferred in space are likely sitional been suggested [ 8,301. People have too little short-term memory Therefore, relations. There are mainly Route knowledge two kinds of spatial knowledge: through senso- such as maps, [ 61. Thus, positions in a mixture of imaginal and propo- It has in the human mind to support a whole map “in the head”. features and route and survey knowledge. between and it is made up of order information in terms of qualitative concepts. from the representation is more elementary spatial knowledge is hierarchically in the mind is inferred organized of global E. Clementini et d/Artificial Intelligence 95 (1997) 317-356 319 of (relative landmarks lost when from getting as we intend and geocentric to distinguished it in this paper, and, thus, keeps people landmarks. Survey knowledge information, and distance of spatial knowledge distinguishes allocentric to coordinated from above” on a spatial situation. That (relative system of reference is more elaborate and has the characteristics is, it is independent route. Another common categorization (centered on observer), known of a particular a “view they leave order of visited be- a known reference tween egocentric frames) views structures), [ 301. Positional is survey knowledge made relations, which depending on scale can be egocentric, up of orientation and distance might depend on many other allocentric to express factors, frames of reference them in terms of isolated relations. We shall rather need to introduce studies to take into account [46]. For example, when someone show the existence of multiple to enter a local street emerges is also crucially network, dependent on scale. For example, the meaning of close in a statement “A is close to B” depends not only on the actual relative position of both objects but also their relative sizes and other scale-dependent from a subway there is a sudden change sizes, point of view, etc., so that it is not enough system or a driver gets off a highway in the frame of reference. Distance or geocentric. Both orientation internal and external factors. Furthermore, frames of reference like the objects’ cognitive factors. those In previous work, the qualitative description of space has been mostly linear rotation, [9,18,57]. independent of the objects and orientation of the position relations to common alone, being to provide a full description of a scene. Orientation rubber sheeting) involved to topological relations. Topological aspects of the scene which are invariant with respect (translation, characteristics relations sufficient objects are placed concepts: orientation as it is determined orientation useful scale environments relations the primary object, of the primary object by transformations and therefore provide a description of important topological in the scene However, and extension of objects, are not relations describe where in terms of three basic the frame of reference. The to the reference object and of topological that is mainly [ 3 1,601. For large- space, however, we must also consider distance to one another, and can be defined the reference object, and the frame of reference. The combination is then expressed with respect relations provides a restricted for describing positions. such as “the objects such as geographic form of positional in small-scale environments in a room” information relative framework and distance for orientation In this paper, we build a unified to a reference object. As mentioned to determine what we mean by, e.g., front relations. the position of a primary object by a pair of distance and orientation above, we introduce frames in the case of orientation, in the case of distance. 3 The they can i.e., We represent relations with respect of reference and the range of what we consider frames of reference are in general different be influenced means with spatial relations is, given “A, rI , B” and “B, t-2, C”, to find the relation “A, r3, C”. from what is already known. The basic step in reasoning for distance and orientation, since capabilities, factors. The framework to find new information to be close or far, by different reasoning features ’ In other words, the concept of distance varying with the scale of reasoning is embedded in the frame of reference. restricted are able to describe all 320 E. Clementini et al. /Artificial Intelligence 95 (1997) 317-356 to the same frame of reference, relations and is usually defined by an exhaustive Since relations cannot always be expected cannot just spatial reasoning relations, but must rules between is needed, among others, for constraint propagation and include articulation [35] [24,32]. of spatial relation pairs is called composition in networks of spatial relations levels of granularity theory of granularity This table of all possible to be given with respect be plain composition of spatial frames of reference. Composition relaxation the world at various Here, Hobbs between elements theory. Coarser a lattice. The framework developed spatial reasoning (GISs), Systems general, whenever a human being needs knowledge, qualitative approaches are important. for example, driving from the quantitative theories can be hierarchically techniques with applications allows us to build equivalence conceptual design [47]. Furthermore, we need to conceptualize in order to reason in terms of simpler concepts. relation fits in neatly: An indistinguishability that are elements of a coarser is structured, but in general their structure classes in this paper forms part of a wealth of qualitative Information in, for example, Geographical in CAD systems, In and document to interact with a system dealing with spatial In a GIS devoted to vehicle navigation, in nature and need to be extracted recognition. instructions need to be qualitative data available or derived from other qualitative information. and geometric levels of granularity Since the representation of orientation was previously described elsewhere [ 3 11, in the for the structure of the distance do- the mapping between qualitative furthermore, we introduce a general notion of frame spatial are proposed with par- that we then integrate with what follows we will concentrate mainly on distances. We do, however, summarize in Section 2. In Section 3, we develop a framework previous work on orientation of distance, by defining representation the qualitative main at different and by analyzing distances of reference reasoning ticular attention varying rules discussed. A comparison with other approaches Section 5. Conclusions in Section 4. Basic inference mechanisms of two distance to yield qualitative positional frames of reference information. Also, articulation and levels of granularity for distances, which captures contextual and further work are discussed to mediate between different information. Qualitative to qualitative position relative orientation to the composition in Section 6. is presented is exploited relations, intervals; are in 2. A qualitative approach to orientation Orientation From a cognitive point of view, body centered orientations relations describe where the objects are placed relative of body construction by earth gravitation, which defines up and down. The front/back the corresponding corresponds can be seen as the result and the environment we live in. The vertical axis is determined arises from finally, of the human body. The the sagittal axis. to the body symmetry along to one another. asymmetry distinction, distinction left/right Orientation of prepositions an orientation with respect distinctions such as on top of, in front are also clearly to an axis. can be derived reflected of, in back of, behind, etc., make reference [ 371. A large number to in language Orientation relations formally from the fundamental how three points in the plane relate to each other. Let us call on observation them point of view, E. Clementini et al. /Art$cial Intelligence 95 (1997) 317-356 321 AlbacklB BlfrontlA A[left]B B[right]A A 1 left-back 1 B I A B [ right-front A 1 left-front] B I A B [ right-back Fig. 1. Orientation relations at a level with eight distinctions (second relations. the plane line such partitioning In particular, by a straight for orientation if the three objects levels of orientation the basic (or first) level), eight partitions in several cone-shaped to the right or on that line. This that is what we call the plane in two half-planes, we can consider the case is called collinearity. There are various the point of view and the reference the primary object can be to the level of lie on the same relations of the the level with level), and so on. 4 Depending on primary object, and reference object, respectively: object are connected left, granularity line, different granularities, basic level, which partitions four partitions the context, different sets of relation names are used. In the context of local, small-scale environments relations such as the following are used: front (f), back (b), left (l), right (r), see Fig. 1. 5 In the context of geographic space, where a fixed reference point such as the North Pole exists, the usual geographic labels are used to name the relations: north (N) , south (S), east (E), west (W), north-east (NE), north-west (NW), south-east (SE), but south-west (SW). neither the formal properties of the model nor its usability depend on the number of distinctions left-front (If), and right-front (rf)- (but also in procedural descriptions (at a level with eight distinctions) left-buck (lb), right-buck (rb), in large-scale environments) It is, of course, possible to have finer orientation regions. From being made. distinctions, (third The frame of reference for orientation determines object, and thus the labels given to the orientations based on it. One can distinguish basic types of reference property of the reference object), extrinsic (when external a particular orientation given by the point of view from which the reference object the “front” side of the reference three is given by some inherent impose is and deictic (when is seen) frames: intrinsic (when the orientation the orientation [ 581. on the reference object), factors, e.g., motion, Orientations have a uniform circular neighboring level with eight distinctions 1 and lb are neighbors but 1 and b are not. In general, structure on each level, e.g., at the the approach 4 An alternative IS positions and orientations Section 5). s Thus, an observer in this case the orientation to the reference object. to orientation relations proposed by Freksa and Zimmermann [27 1 distinguishes in a grid determined by a vector and orthogonal lines at its endpoints (see also labels results from the transfer of distinguished body reference axes from 322 E. Clementini et al./Art@ciol Intelligence 95 (I 997) 317-356 the II + 1 orientation relations at a level of granularity set {cue, LYI , . . , a,,} denotes with n = 2k - 1. Given a reference object A and a primary object B, the orientation relation of B with respect to A is given by the function assume any of the values (Y,. We define a function successor succ(q as pred(cua) = cr,?, pred(ai) opposite orientation, which CX~, that is: opp(ai) = LYO, . . ., pred( (u,,) = a,,-r Each orientation LYE has an succ to ) = ff2, . . .) SUCC(LY,,) = ‘~0. Analogously, we define a function predecessor .6*~ = 8( A, B), which can is obtained applying times the function such that succ( LYO) = CX,, (n + 1)/2 = sUCC(“+1)‘2(Lyi). k, For example, opp(N) = S. is defined as the number of steps necessary to to the other along the circular neighboring that the range between to apply either less steps) to the number of possible to ai the function in order results of composing two orientations structure following (Y~ and succ or the function to obtain a,,. Interest- the two composi- value for the range be- for the (except to the set {lb, b, rb, r}. The range assumes for GAB = lb and 198~ = r, the resulting the maximum and zero for CY, = a,i. On the level shown, for example, and its opposite orientation if the range between is 4. Two orientations them is (n + 1)/4. Each orientation orth( ai) = (succ(“~’ )j4( Qi), pred(“+’ )i4( CY~)}. For two orientations involved. For example, on which (depending this range corresponds The range between go from one orientation the shortest possible path. This means CY; is the number of times we need requires pred ingly, orientations tion BAC belongs LYE = opp(ai) tween an orientation basic level) are orthogonal a; has two orthogonal orientations: example, orth( NE) = {SE, NW}. Reasoning with qualitative levels of granularity, the composition orientations to transform between different involves being able to relate orientations frames of reference, at to different compute the resulting neighboring different Schwarzer sectors, which transformation as it was mentioned to their range. Finally, by coarsening retracting them altogether. is fine enough between constraints structure of the orientation levels of granularity [36] have proposed a solution relations, and to propagate of two orientation and maintain in a network. All of these can take advantage of the circular at one. For example, Hoegg and in 16 levels. The to express any of the relations of the coarser domain. The relation between orientations is not a straightforward that introduces an internal subdivision frames of reference corresponds composition above-the an efficient form of constraint to a rotation of labels, and- relations corresponds can be implemented of two orientation relaxation to the neighboring structure instead of contradictory relations according When dealing with extended objects, is accepted as correctly describing area”), becomes dependent on the size and shape of the objects. Various mechanisms have been areas that also take proposed the relative distance between the area in which a given orientation the relative position of two objects to determine overlapping (called “acceptance and non-overlapping into account the objects acceptance [ 3 11. 3. A qualitative approach to distance In this section, we establish a qualitative framework for distances by looking at their main properties and investigating the structure of the distance domain. Analogously E. Clementhi et al. /Artificial Intelligence 95 (I 997) 317-356 323 relation: relations the primav are needed in mathematics three elements to establish a distance function maps distance that are organized along various the reference object (RO), and the frame of reference and cognition (FofR). We start (Section 3.1) . In levels as suggested by cognitive considerations. Distance systems are introduced them: intervals and an algebraic systems are then (Section 3.4). (distance In Section 3.6, the framework: to orientation, object (PO), by reviewing common distance concepts Section 3.2, we define sets of distance of granularity in Section 3.3 with the purpose of comparing distance an acceptance structure allows us to add up and compare specialized Section 3.5 deals with frames of reference, made up by three components system, scale, and type) which together express contextual the metric definition concept of zero needs distinction, while symmetry of reference only. the concept of the smallest qualitative frame information. is interpreted within our qualitative to be substituted triangle that follow a recurrent pattern to particular distance domains relations besides naming in the case of same by inequality intervals. Distance to geometric of distance relations those hold and 3.1. Common distance concepts In a metric space, three axioms define the concept of distance between points: dist( PI, PI ) = 0 (reJLEexivi.ty) dist( PI , P2 ) = dist( P2, PI ) (symmetry) dist( PI , P2) + dist( P2, P3 ) 3 dist( PI, P3) (triangle inequality) (1) (2) (3) The distance between points Pi = (xi,, xi2, . . . , xi,,) of an n-dimensional in terms of the Minkowsky &-metric can be expressed [ 531: vector space Conventional the city block Euclidean (or Manhattan) distance, distance is defined by the Li-metric. for example, is defined by the L2-metric. Similarly, (4) factors it means framework, we do not have any way of establishing Our intuitive concept of distance, however, does not rely on coordinates [45]. What (and the position of other objects, in a qualitative concepts of space (and, therefore, of distance) and experiential on their absolute positions relative sizes and shapes, “what it takes to go from A to B”. The distance between different ways according circumstances. economic, one point invested, spatial perception. and in fact, them. People’s are rather dependent upon many cultural for A to be near B depends not only them), but also on their and in to different perspectives, each of them appropriate under certain temporal, to go from time, costs to be and perceptual. They produce a measure of the effort needed in terms of, respectively, metric distance, to another the frame of reference, two points can be measured The measures most often adopted by humans the metric distance between are: spatial, travel 324 E. Clementini et al. /Art@cial Intelligence 95 (I 997) 317-356 Fig. 2. Isotropic and anisotropic surfaces. In the presence of obstacles or in structured environments line and (city blocks), the short- thus both our metric from the Euclidean distance. Furthermore, surfaces that can be depicted by isotropic the movement (Fig. 2). On the former concepts that result is the same between distance two points might not be a straight est path between and cognitive distance concepts be different we distinguish in anisotropic and those effort in all directions true. Isolines are curves connecting space in the other case, shaped closed curves. In the remainder of the paper, we consider since we assume cal domain surface. that it is always possible the costs involved) to other domains circles while, are concentric isolines (e.g., surfaces from every point, while on the latter all the points at the same distance. this is not In an isotropic isolines are variously isotropic surfaces only, from the physi- in order to obtain an isotropic to apply a transformation 3.2. Naming distances that comes the set of relations involved and the context The types of objects factors for establishing level of granularity two relations where the outer region goes to infinity. For isotropic space, qualitative distance partition in circular can be even in the order of magnitude). In a similar way, we can introduce in which they are embedded are decisive to be used for naming distances, The first close and far. Those the reference object, relations the difference regions of different sizes (where in two regions centered around to mind distinguishes the physical the plane subdivide between further space close, medium, and far, a level with four distinctions levels of granularity. For example: a level very close, very close, close, commensurate, to relations that the names given with three distinctions close, far, and very far, a level with five distinctions far, and very far, and so on (see Fig. 3). Notice are arbitrary, since we do not discuss term given distinctions domain and the applicability relations. (see Section 5 for some pertinent could be introduced reasons linguistic to a than five if necessary, since the formal properties of the distance of the approach do not depend on the number of distance references). Obviously, more to associate a meaning E. Clementini et al. /Artijicial Intelligence 95 (1997) 317-356 325 fr N fr 1: W ciia Cl 1 Cl In E s I Fig. 3. Various granularity levels of distance and orientation distinctions. These figures show typical distance/orientation configurations, but, of course, both granularities arc essentially independent from each other. from that partition the space surrounding to the PO the distance These concepts can be formalized the qualitative distance between a PO and a RO, both belonging symbol as follows. Let us consider a level of granularity with IZ + 1 distance distinctions a reference object RO, and let us name them with a finite set of distance symbols Q = {qc, 41, q2, . . . , q,,}, to RO and qn is the one farthest away. Given a set of where qo is the distance closest to 0, is a objects 0, function d : 0 x 0 -+ Q, which associates identifying the RO. If an object A acts as the RO and an object B the qualitative distance acts as the PO, the distance between A and B is expressed by dAB = d( A, B). Since (qo < q1 < q2 < . . . < qn), we can define there is a total order on the distance symbols in the list, that is: succ(qi) = qi+i for a function SUCC~SSOY that gives the next symbol gives the previous each i < n and succ( q,,) = q,,. Analogously, symbol in the list, that is: pred(qi) = qi_l for each i > 0 and pred(qu) = qo. Also, a function ordinal can be defined as ord : Q + { 1,. . . , n + l}, such that ord(qi) = i + 1, i) = q,, for i > n, ordd’(i) = qo for i 6 1. and ord-‘(i) Note that whereas a subscripted d AB denotes a distance variable the distance of reference object A), q; denotes a qualitative distance primary object B from a given value. the function predecessor = qi-1, except ord-‘( (i.e., 3.3. Distance systems Besides naming distances, we also need their magnitudes. To this end, we consider a mapping distance representing l-dimensional i.e., compare to symbols geometric structure over intervals with order relations algebraic comparing others also order-of-magnitude ing. ranges. These comparative intervals distance to specify how they relate to each other, from the distance ranges. Then, an is introduced with the purpose of relations, which should express among in the follow- relations relations, will be called structure 326 E. Clementini et al. /Art$cial Intelligence 95 (1997) 317-356 The three notions mentioned above are organized in distance systems. Formally, a distance system D is defined as D = <Q,d,2), where l Q is the totally ordered set of distance l A is an acceptance relations, function defined as A : Q x 0 + I, such that, given a reference to the interval Si E I corresponding the geometric returns object RO, d(q, RO) distance relation qi, l Z is an algebraic structure with operations and order relations defined over a set of I. Z defines the structure relations between intervals. relation can be associated identified with a series of consecutive In the case of isotropic object. be uniquely ranges). The acceptance of distance composition of distances relations. Then, result back to the domain of distance to geometric the inverse relations function A performs such a mapping space, acceptance to an acceptance area surrounding areas are circular a reference regions which can intervals Sa, St,. . . ,6,, (distance from the symbolic domain the rather than in the domain of distance function A’ : I x 0 + Q is used to find the corresponding intervals. This mapping is necessary to calculate in the domain of intervals, relations; overall: intervals Each distance The composition and will be discussed A strict interpretation by sharp boundaries the intervals in reality, since cognitive boundaries. Two opposite intervals the acceptance are [ao,al], i 3 1. Overlapping tance relations [ax,al],. of distances in the domain of distance relations is indicated with @ thoroughly in Section 4. of the intervals Sa,6t,. and therefore [0, al 1, [al, a2], . . . , [a,,, +oo]. This, however, . ,S, implies that they are separated there are points al, a2,. . . , a,, E W making up the case is not always [48]. Non-exhaustive considerations interpretations intervals areas of two consecutive suggest are those of non-exhaustive apply distance . ., [a2,1.+co] with ao,al,. that intervals may have indeterminate and overlapping if there exists a void space between relations; in this case the intervals . .,a2,, E Iw+ and az; > a2i_1 for dis- areas of two consecutive can be represented in this case the intervals if the acceptance share a common intervals region; apply as [O,all,[a2,a31,..., independent uses only of Q. of the interpretations the notion of consecutive [ a2”. +OO] with a2i < aTi- is above, which all could be used. In fact, our model from the total order and a2i > a2i_2. Our approach intervals, which is inherited In the following, we discuss the algebraic a sum operation and two order relations. Let us first consider of closed intervals over lR+ and + is a binary operation structure Z = (I, +, 6, <), which defines (I, +), where I is the set returns that given two intervals E. Clementini et nl./Art$cial Intelligence 95 (1997) 317-356 321 the minimal is defined such that, given two intervals interval [a, b] and [c, d] , we have that contains both of them. Formally, the operation + : I x I + I [a,b] + [c,dl = [min(a,c),max(b,d)l. (5) Such a sum is a totally-defined tative properties and, therefore, Let us now define the order relations the length of intervals, which is a function introduce b - a. The function length has the following properties: internal operation satisfying (I, +) is a commutative for comparing the associative and commu- semigroup. intervals. To this end, we first IF, such that 11 [a, b] 11 = // I/ : I 4 ( 1) llill 2 0, Vi E 1, (2) Vu E JR+,i= [a,~] H llill =O, (3) Ilitll + Ili2Il 3 max(Ililll, The order relation < between Ili211), vil,i2 E 1. intervals is defined as il 6 i2 ++ lli11I < lli211, Vil,i2 E I. (6) In the case their length is, is equal, we say that the two intervals are congruent (g), that iI g i2 H lliljl = Ili211, Vil,i2 E I. The following properties hold for the relation 6: i < i, Vi E I (reflexive), il < i2 A i2 6 il =+ il LX i2, Vi,, i2 E I (antisymmetric), ij 6 i2,i2 6 i3 * il 6 i3, Vi,, i2, i3 E I (transitive). the relation 6 between intervals Therefore, sense that, Vi,, i2 E I, we can say whether is a quasi-order.6 il < i2 or i2 < il. Besides 6, from a qualitative point of view it is important (7) (8) (9) (10) It is a total order in the to a much bigger orders of magnitude. A basic qualitative process respect two quantities relation lji;?ll. ’ This relation can be defined between is an equivalence i2. Let us consider an “indistinguishability” such that no relevant predicate distinguishes between is to disregard lengths of intervals and we indicate relation and can be used to substitute values in relation allows us to define the order relation to characterize different the effects of a il with relation between [35]. Such them it with [[illI M expressions. “much Also, the indistinguishability less than” (<) as follows: llilll + Iii211 x Ili211 * IlilII +c lli211, (11) ’ It is not a partial order, since compatible with the sum operation l?q. (9) does not imply since, given il < i2. it does not follow that il + i3 < that il is equal to iz. Also the relation < i2 + i3, Vi,, ’ For example, supposing that the only relevant predicate is order of magnitude, = order of magnitude (Ili211), then Iti, 11 x Ili2ll. if order of magnitude is not i2, ix E I. ( Ilit 11) 328 E. Clementini et al. /Ar@cial Intelligence 95 (1997) 317-356 that is, the relation < between the bigger one. 8 The indistinguishability in this way: two lengths holds if their sum is indistinguishable relation can be defined directly from for intervals it z i:! H llit]I = jji211, Vil,i2 E 1. Analogously, we define the order relation < between intervals as il < i2 -3 Iii, /I << Ili211, tJi1, i2 E I, ( 2) ( 3) and we also say that the bigger particular, such relation interval “absorbs” rule) is a strict order relation since the following properties hold: the smaller one (absorption In i yZ i, Vi E I (anti-reflexive), iI << i2,i2 < i3 * il < i3, Vi,, i2, i3 E I (transitive). (14) (15) Notice, however, applicable that < is not a total order since this relation or its inverse (>>) are not to each pair of elements in I. Mixed properties relate < and < as follows: (16) (17) (18) (19) il g i2 * ~1 = 12, . . it << i2 * il < i2, il < i2,i2 << i3 =s il << i.7, iI < i2,i2 6 i3 =+ ii < i3. We use the algebraic structure Z = (I, +, <, <) domain of intervals. Considering function A, and applying obtain a set of intervals A, which is a subset of I. The cardinality of A is (n+ 1) (n+2) to all possible combinations the intervals &I,&, the sum operation of them, we /2. to define structure . . . , S,, originated by the acceptance relations over the intervals with Ah,,i = ch=, Sk for a Ai is the distance relations of the distance system Specifically, we indicate a generic sum of consecutive some h, i E [O..n], with h < i. If the sum starts from the origin it to Ai = )J k=. &. Therefore, including &. The structure are the order relations holding between all intervals in the composition pairs of intervals relations ?-A are arbitrary, be any in the set {<, <, <, G, M, >, 3, >}. relations with uniform properties. (h = 0), we abbreviate the origin up to and (which we indicate with ra) relations are needed the result of comparisons between the structure In the general case, them can In the next subsection, we discuss structure of qualitative distances (see algorithms that is, given two intervals of A, the relation between to evaluate in Section 4.1). in A. Structure range from ’ Other definitions for the relation N would the kind of substitutions [35,48,55 1. Fo example, that can be made the relation < could be used to define “slightly in expressions *h e relation 5 + lbll Ili2ll llizll. 5 II41 + hold in general. Combining 5, similar can define an intermediate “moderately to “indistinguishable” less than”, obtaining ( TZ), but is not an equivalence relation: what is between “slightly the same set of primitive its inverse 2, and =, we can define a relation “roughly equal” imply that the transitivity to fixed computations property does not hold, restricting problem for a particular llil 11 < is not an order relation since the transitivity property does not is relation. By negation of the relations above, we less than” and “much less than” can be named relations given in [481. in this way: (TX). which less than” E. Clementini et al. /ArtQicial Intelligence 95 (1997) 317-356 329 Fig. 4. Illustration of various distance ranges and homogeneous properties 3.4. Distance systems with homogeneous properties By homogeneous we mean that the structure relations of the distance domain follow a (for example, each range is bigger than the previous one). The genera1 system where this is not the case is called accordingly heterogeneous. recurrent pattern type of distance In the following, we identify an increasingly to the structure of intervals. The properties have an underlying help in building composition composition it is possible of relations, to restrict restrictive rules (see Section 4.2). By adding more constraints of the result. the indeterminacy that can apply and in the cognitive plausibility set of properties A first consideration is that people are more inclined to make finer distance distinctions in the neighborhood do so as the distances a farther distance of the reference object, while involved get bigger. Therefore, relation maps to a smaller distance they are less and less motivated in most contexts range (see Fig. 4(a) ) . it is unlikely to that The monotonicity restriction constrains the distance domain to increasingly bigger ranges (see Fig. 4(b)). Monotonicity. Any given interval is bigger or equal than the previous one: In certain contexts, people may want to exclude equally spaced intervals, and impose (see Fig. 4(c)). to considerably to the point of origin and coarser distinctions finer distinctions correspond relations ranges bigger near that more distant As said above, in the periphery conveniently seems more akin as follows. formalized to the cognitive concept of distance. This can be 330 E. Clementini et al. /Artificial Intelligence 95 (1997) 317-356 Range restriction. Any given interval the previous interval: ai 3 Ai_l, Vi > 0. is bigger than the entire range from the origin to (21) The tendency of distance to become bigger and bigger can be further empha- sized to obtain differences even in the order of magnitude. These differences allow us to disregard small intervals Si with respect to much bigger S.i, with i < j, (see Fig. 4(d)). ranges Orders of magnitude. For a given difference p between relations q; and q,i, with 1 < p < (j - i), the following holds: the orders of two distance (ord(q,i) - ord(qi)) 3 p + 6.j > Si, V’i, j > 0, i < j. (22) As the difference p decreases, we have a more restrictive intervals interval absorbs all the smaller that a given impose predecessor. rule. Thus, including if p = 1, we the immediate 3.5. Frames of reference reference graduated of space, of orientation representation the Cartesian In a quantitative axes) acts as the frame of reference. (made up In previous work on of orthogonal (see Section 2) the frame of reference was meant qualitative descriptions there to fix the “front” side of the reference object. For qualitative distances, however, seems to introduce a more general “frame of reference” concept, which is able not only to specify the granularity information. and scale of reasoning but also to capture relevant contextual We propose frame of reference be made up of three components: to be no simple equivalent in this paper, we want of the concept. Thus, that a distance system FofR= (D,S,T), (23) where D is a distance system, S is a scale, and T is a type (see below). Distance systems were discussed in detail in Section 3.3. However, stress the fact that they carry substantial the relevant distinctions which determines contextual information, since and how they are structured. is crucially dependent distance or analogical it represents” As pointed out in the Introduction, understood to that which as “the proportion used in determining [2]. is commonly representation extensional tions representation: The proportion between different spatial extensions those defined by the living environment microorganisms) tionary definition 9 is also commonly can be understood: of different species called scale. It is in this sense “A progressive this applies only figuratively. But scale also makes sense without In a strict sense representations classification, (birds, mammals, to a reference such as, for example, insects, that another dic- as of size, amount, on scale. Scale of a true for the relationship this is only such as maps. For other types of representa- it is important to it is the context y More abstractly these different spatial extensions can be defined by reachability If an entity, given its size and life time, cannot possibly reach a limiting distance, it is bound constraints. to a given scale. E. Clementini et al. /Arti$cial Intelligence 9.5 (I 997) 317-356 331 or rank” importance, one scale to another or an observer able to see or reason about scales at a time are required In each case, however, either to make sense at all! for the concept [2]. the possibility from of going two or more different Scale is usually and representing worlds In other words, “we turn to using quantities when we can’t compare thought of in a quantitative manner as in a map’s legend. This is so, and thus apt to compare what would otherwise be are “featureless” the [ 501. However, scale can also be expressed qualitatively when we do because numbers incomparable. qualities of things” have qualitative means of comparison. This can be the case both for scale as proportion represented between seldom aware of a numeric distance on the map means by walking around) different spatial extensions (e.g., getting around a different effort than doing so in a large city). Within our framework, flexible role: It can put a “unit” function A, if that kind of information of a “progressive reference. scale and rather get a feeling of what the corresponding and for scale as proportion between the central area of a small town requires to the length of the intervals obtained by the acceptance is available. But it can also just be a member frames of (e.g., when using a city map, people are that helps us to relate different classification” (total order) scale plays a The third and last component of a FofR is the type T, which can be either intrinsic, extrinsic or deictic in analogy to the treatment of orientation: l Intrinsic. The distance is determined like its topology, erence object, reference object can implicitly without the need of any external the acceptance area for close in a statement house”. influence by some inherent characteristics size or shape. For example, a house of the ref- taken as a the distance relations with respect to itself, the size of the house determines factors. Hence, like “the bicycle is parked close to the l Extrinsic. The distance is determined by some external it might be appropriate to the other the traveling of objects, system, to go from one if they superimposed also part of this category. on geographic time, or the costs factor, like the arrangement in a subway involved. For example, to say that two stops are close if the time required the two stops close frames of reference usually are space, like the scale of a cartographic projection, is short; or we may consider lie in the same cost zone. The “canonical” l Deictic. The distance immediate Of course, Deictic figuratively, an individual a personal intrinsic frames of reference case is the one of objects the observer’s position is determined here by an external point of view. The most that are visually perceived by an observer. the distance he or she perceives. the point of view is used i.e., not in the sense of sight. Often the point of view is related to how builds a mental map of the space. For example, a traveler may have of all other influences include also cases in which independently conviction and extrinsic of a distance being “far away”, factors. the three components of a distance Having described of each other, we now turn less independently each other. Although configurations more combined with any of the others. For example, a given there is a characteristic mutual causality likely than others, in principle to the question of how they relate involved frame of reference more or to that makes some can be each particular component type can have an expression 332 E. Clementini et al. /Art@ciol Intelligence 95 (1997) 317-356 scales and at different different distance defined by a given distance system might occur in changing in different distance a given scale might host many or the same structure contexts. type perspectives; systems arising from various scale/type systems; above. Often the type of FofR influences to be a function of inherent characteristics if the RO is a desk, the scale chosen which in turn modifies In the case of an intrinsic FofR, for example, system as explained likely (e.g., realm of typical office spaces). be a reference unit such as “I km” given by external unit does not require the distance setting be understood. Finally, the distance between the distance the scale is of the reference object such as its size the In the case of an extrinsic FofR, the scale might well factors. Note that fixing such a the relations can in the case of a deictic FofR, the scale could be a function of the point of view and the reference object. quantities or qualitative order-of-magnitude the distance distinctions made are likely to be “exact”, but rather establishes in which approximate to be within information 3.6. Qualitative distance axioms Besides having a clear quantitative meaning, the three distance axioms mentioned in Section 3.1 suggest the following qualitative interpretation within our framework: The distance of a paint to itself is zero (Reflexivity) : In a qualitative framework, that we want like the quantitative in “front” of it, they do not necessarily to a reference object and both the same position. Actually, nothing can be said without considering level of granularity. A qualitative the concept of zero is not a sharp concept is defined by the kind of distinctions “close” exactly detailed an indistinguishability up to the smallest qualitative distance distinction we are allowed granularity level. Therefore, the zero element. Also, when considering objects meet at their boundary may be considered described by means of a topological “zero” distance, but it to make. If two objects are both share a more relation with the same position to make in a certain acts as the case in which two a case of distance “zero” and can be relation. We can assess objects with extension, the smallest distance if two objects share (like “very close”) theory substitutes relation as well. the equality relation relation. two points (Symmetry): to exchange In Euclidean the distance between The distance between the qualitative distance is symmetric to be symmetric, which means geometry that the distance between points A and framework, however, asymmetry in particular, when it is not possible then the choice of the RO influences space is assumed B is the same as between B and A. In a qualitative arises, without changing is intrinsic or deictic, hence, two points might be perceived deictic that may determine different in general different properties implies frame of reference of the extrinsic adoption of a common symmetry holds. Summarizing, when the same frame of reference can be maintained evaluating both dAB and deA, we can assume dAB = dBA, otherwise are different. the role of the RO and the PO If the type of the frame of reference the distance system D and, the distance between in a case, objects A and B taken as ROS have frames of reference. The that type, for those two distances the RO and the PO. For example, on the direction of travel as different, depending frame of reference. In the intrinsic instead, E. Clementhi et al. /Artificial Intelligence 95 (1997) 317-356 333 The direct distance between through a third point two points (Triangle is either shorter or equal to the sum of the applies at : The triangle inequality inequality) level as long as the distance symbols are conceptualized line distances within a common in Sections 4.1 and 4.2, which deal with composition distances the qualitative equivalents of straight the assumptions made verify the triangle or when qualitative distances are given with respect to different triangle A to C involves arduous hill-climbing a point B is effortless (these are and thus spaces the hold. For example, when the direct route from the route through inequality). However, when modeling distances in anisotropic frames of reference, (or is traffic jammed), whereas does not necessarily (or an expressway). frame of reference as the qualitative inequality 4. Reasoning about positional information to infer assuming the result to B, what we want to A. Section 4.1 discusses composition In this section, we concentrate on the composition of distance and orientation reasoning. Given relations, the position of an object B with respect and the position of a is the position of C with that the frames of reference and distance are the same in A and B, when they act as reference objects. resulting distances three different algorithms in the three basic cases of same, opposite, as the basic step of qualitative to an object A in terms of qualitative distance and orientation, third object C with respect respect for orientation In general, and orientations within to compute and orthogonal relative orientation treat the special case of distance systems with homogeneous of the algorithms. Finally, reference orientation, while the remaining in the general case of of those three cases. In Section 4.2, we relative orientation. The composition is treated as an interpolation the restriction of same frame of in the case of opposite this leads to a revised algorithm two algorithms are still valid. is not a single value but a range of possible lower and upper bounds. We develop in Section 4.3, we remove structure as an application in the composition; the composition of distances of distances 4.1. Composition of distance and orientation relations The position of an object B with respect (~,JB, O*B). Given and (dsc, OBC ) , their composition qualitative counterpart of the sum of two vectors. three objects A, B, and C, if we know to an object A is represented by the pair (dAB, 0~8) is the the two pairs is the pair (d AC, BAC ) . Such a composition The following considerations help to clarify the interplay of distances and orientations process. Given in the composition the third object C while keeping two objects A and B, and moving fixed its distance the orientation of from B, let us indicate with Ce, set of (see Fig. 5). The following . . . . C4 the third object at different positions Cl, inequalities holds: d(A,C4) < d(A,C3) < d(A,Cz) < d(A,CI) < d(A,Co). (24) is, the resulting distance d AC varies as an inverse function of the range between That the orientations 13~n and I~BC. 334 E. Clementini et al. /Artificial Intelligence 95 (I 997) 317-356 Fig. 5. interplay of distance and orientation relations for fixed dec Fig. 6. Interplay of distance and orientation relations for fixed HBC Referring to Fig. 6, we have the third object C at increasing distances from B. Again, let us denote with Cc, Cl, . . . , C4 the third object at different positions. The following set of inequalities holds: B(A, Co) < B(A, CI > < B(A, C2) < B(A, C,) < @A, Cd). (25) That is, the resulting orientation varies as a direct function of the distance dAc. Notice is much shorter than the other, the orientation of the longer distance that if one distance will prevail; in the middle of the range between BAB and BBC will be the most likely resulting orientation. if the distances dAB and dBC are similar, an orientation the role of comparison versus naming in composition above, From the considerations becomes apparent: given classes reason use naming only as a final step in a particular context. (e.g., “far”) and comparisons internally with both positional that typical descriptions (e.g., “but closer relations and comparative are a mixture of qualitative names or and than”) we must maintain information and try to the quantitative Unlike be expressed available as orientations as a formula sum of vectors, to compute the composition of positional the resulting position, relations cannot since angles are only and lengths are only available as distance symbols. E. Clementini et al. /Art$cial Intelligence 95 (I 997) 317-356 335 I A I B C Fig. 7. Adding distances In the following, we investigate to the three basic cases of same how to compute (d*C, 0,~ ) . To the composition (0~c = (0~ (19 ~c E orth( 0AB) ) orientation. Same and opposite orienta- = GAB), opposite that end, we refer opp( 0,~) ) , and orthogonal tion correspond orthogonal orientation the result, as well as algorithms mentioned to the biggest and smallest resulting distance, is an intermediate case. Criteria to reduce to compute the composition respectively (see Fig. 5) ; the indeterminacy of in the three basic cases above are the main contributions of this section. Same orientation Let us first suppose orientation of C with respect result find a unique always logical disjunction of possible made up of consecutive for the resulting distances. that the orientation of B with respect to A is the same as the to B: 0 BC = OAB (see Fig. 7). As said before, we cannot of qualitative distances, but rather a for the composition result must be distances, we proceed by finding a lower and an upper bound results. However, since the disjunctive In the case of same orientation, since we are adding two “positive quantities,” composition bound we have that: of them cannot be less than the bigger distance. Therefore, the for the lower L&d/x) 2 max(dAB,dac), (26) while for the upper bound we can say that UB(dAc) 6 qn. In order to find more restrictive upper and lower bounds for the result of composition, intervals the absorption relations among to Si; if SO, LB = UB = qi. Otherwise, 1 (see also Fig. 8)) which takes the two distances dAB = qi and we introduce Algorithm dsc = qj, as well as the structure rA as input. lo The algorithm rule to check whether the interval Aj can be disregarded with first applies to find the upper bound, Aj is compared respect to &+I in order to see if Aj’S outer limit falls within Si+t. Via recursive calls, the test is repeated for the sum of all successors of Si until Aj becomes smaller than this sum. The the infinitely big algorithm &. The lower bound then the lower bound must necessarily recursively with the sum of 6i and all its successors until A,j_1 becomes smaller. since, at most, such a sum will eventually is computed by comparing Aj-1 with 6i. If Aj-1 is bigger, overcome qi. The check is repeated terminates include I” As mentioned of Algorithm 1, these am dj < 6;. dj < dint, and Aj-1 < Ai,,. in Section 3.3, the knowledge given by rd supports the evaluation of predicates. In the case 336 E. Clementini et ul. /Arti’cial Intelligence 95 (I 997) 317-356 dAB ‘4i dBC ?j Ai ‘j-1 4 A \ B 7 LiJ-___ ‘i-1 4 1 4+, 4+2 Fig. 8. Composition of distances for same orientation Algorithm 1. Algorithm orientation). begin for computing the composition of distance relations (same &Mqi, if A,j < Si then UB c qi; LB c qi q,j, rLl); else FindUB( Si+ 1, i + 1, UB) ; FindLB( Si, i, LB) fi; 0AC + 6AB; OWutt LB, 1 UBI , 6AC ) where pr~c FindUB( Ainc, k, var US) E if A,; < Ainc then (UBI + qk else FindUB( Ainc + Sk+, , k + 1, UB) fi. proc FindLB( Ai”c, k, var LB) s if A,j_1 < Ainc then LB + qk else FindLB( Ainc + Sk+, , k + 1, LB) fi. end Opposite orientation Now, let us consider the composition that is, 6~c = opp( 6,@) (see Fig. 9). A coarse upper bound of the two distances between since the case of opposite orientation two “positive quantities”. Therefore: of distances in the case of opposite orientation, is given by the maximum to the difference corresponds Similarly, for the lower bound we have that LB(dAc) > qo. (27) E. Clementini et al. /Artijicial Intelligence 95 (1997) 317-356 331 I I I A 9j I d I C Fig. 9. Subtracting distances. I. i Ai Fig. 10. Composition of distances for opposite orientation (qi > qj ). Algorithm position. correspond disjunction three cases. It handles 2 finds more restrictive upper and to three different of them, respectively. Below, we illustrate how the algorithm manages for the result of com- the three cases qi > qi, qi < q,i, and qi = qj, which to f?~s, BBC, or the logical those resulting orientations: lower bounds separately equal the absorption 2 first applies Case qi > qj. Algorithm the to find interval Aj can be disregarded with respect to 6;; if so, LB = UB = qi. Otherwise, the lower bound to see whether (procedure FindLB), A,i is initially compared LB = qi-1; if not, the test is repeated, via recursive calls, for the sum of all predecessors of 6i-t until A, becomes smaller. The procedure FindUB finds the upper bound exactly in the same way with the only difference to 6i (see Fig. 10). test compares Aj-1 to check whether that the initial to 8i-i rule Case qi < q,i. Algorithm 2 first applies the absorption rule to check whether the (procedure FindLBopp), Ai_l,,,i_l to So; if so, LB = UB = qo. Otherwise, interval Ai,,i can be disregarded with respect to find the ‘lower bound to see if LB = qo; if not, all successors of 60 until Ai+l,.j_I becomes procedure FindLBopp is smaller A and the remaining to 60 for the sum of by the the first distance the object part goes beyond A: to calculate how much C overcomes A, the explained the second one, the first piece of the distance dBC reaches is repeated, via recursive smaller. The strategy is initially compared as follows. Since can be informally implemented calls, than test the 338 E. Clementini et al./Arti$cial Intelligence 95 (1997) 317-356 Fig. I I. Composition of distances for opposite orientation ( y; < qj) sum of So and its successors exactly as FindLBopp with the only difference (see Fig. 11). is compared to Ai+l.,,i_l. The procedure FindUBopp works test compares Ai,,j to 61 that the initial Case qi = qj. Algorithm 2 first sets LB = qo, hence (procedure FindUBeq). S,i is initially compared bound the test is repeated, via recursive calls, for the sum of 60 to its successors. it proceeds the upper to compute to 60 to see if UB = qo; if not, for computing the composition of distance relations (opposite Algorithm 2. Algorithm orientation). begin InPut( qi, q.j, rA 1; case Ai > AJ: eAC = eAB; if A,i < Si then LB t qi; UB c qi else FindLB( 6i_ 1, i - 1, LB) ; FindlJB( 6i, i, UB) fi; Ai < Aj: BAC = 8BC; if Ai,,,i < 60 then LB +- qo; UB + qo else FindLBopp( 60, 0, LB) ; FindUBopp( 8, , 1, UB) fi; eAC = eAB v h?C; qo; LB + FindUBeq(Go,O, UB); endcase; ChtpUt(LB, UB, @+,C) where PIWC FindLB( Ainc, k, var LB) E if Al < Ai”, then LB + qk else FindLB( Ainc + Sk-1 , k - I, LB) fi. E. Clementini et al. /Art@cial Intelligence 95 (1997) 317-356 339 -k. ,’ \\ \\ \\ I I (b) Fig. 12. Composition of distances for orthogonal orientation. P~OC FindUB( Ai,c, k, var UB) z if A.i_1 < Ainc then UB +- qk else FindUB( Ainc + Sk-1 , k - 1, UB) fi. P~C FindLBopp( Ainc, k, var LB) E t qk if Ai+I,,i-l < Ainc then m else FindLBopp( Ainc + Sk+] , k + 1, LB) fi. proc FindUBopp ( Ainc, k, var UB) E if Ai..i < Ainc then UB + qk else FindUBopp( Ainc + &+I , k + 1, UB) fi. proc FindUBeq ( Ainc, k, var UB) s if 6.i < Ainc then UB + qk else FindUBeq( Ainc + &+l , k + 1, UB) fi. end Orthogonal orientation Let us consider the composition that is, BBC E orth(OAB). In this case, the upper bound case of same orientation is always and q,j. Algorithm and lower bounds of distance composition and the lower bound of distances 3, which is a modified version of Algorithm in the case of orthogonal orientation, than in the tends to be smaller the biggest of the distances qi the upper 1, computes for orthogonal orientation, the procedure FindUB takes into account To find the upper bound, in Fig. 12, where we also introduce an auxiliary point H corresponding three three cases are cases: Ai << Ai,,, Ai >> Ai”c, and Ai “is comparable to the depicted intersection of the segment BC (or its imaginary prolongation) with the radial distance A;+.1 from A. The segment BH can thus be used to decide under which circumstances the upper bound might exceed the current range (in which case a further recursion will be necessary). 4°C = Si+t * step the first step of recursion where To see how this works consider to” Ai,c. These the following 340 E. Clementini et nl./Art@cial Intelligence 95 (1997) 317-356 If di << 6i+l (Fig. 12(a) ), then the segment BH is “slightly” bigger than Si+l, due to elementary geometric considerations. Therefore, only a value for Aj greater than 6i+l can (but not necessarily) (next recursive call). Otherwise the resuiting distance the upper bound increment is qi+l. If Ai > a;+, (Fig. 12(b)), is unlikely than Si+ I. that A,; is able to increment then the segment BH is much bigger it the resulting distance unless A,j is much greater than &+I; hence, In the intermediate cases, that is, when Ai is comparable to 6i+l segment BH is bigger than St+,. Hence, Aj needs to be considerably order to overcome the boundary of the next distance range, otherwise (Fig. 12(c) ), the bigger than Si+l in the upper bound is 4i+l. Algorithm 3. Algorithm onal orientation). for computing the composition of distance relations (orthog- begin mput( qi, q,j 9 rA > ; if A,j < 6; then UB + 9i else FindUB( &+, , i + 1, UB) fi; if A, 3 Ai then LB + 9i else LB + 9j fi; case A,j >> Ai: BAC * OBC ; A,j < Ai: OAC t- BAB; else 0.~3 < 0~ < 0~ endcase; Output( LB, UB, OAc) where P~OC FindUB( Ai”,, k, var UB) z case Ai < Ai”,: if A, < Ainc then UB + 9k A; > Ainc: if l( A,j >> Ai,,) then UB +- 9k else FindUB( Ainc + &+l , k + 1, UB) fi; else FindUB( Ainc + &+I, k + 1, UB) fi; else if ( Aj < dine) V (A,j M Ai,,) then UB +- 9k else FindUB( Ainc + &+I, k + 1, UB) fi endcase. end Composition for generic orientation As long as the granularity the application of the algorithms level of orientation just described relations makes only four distinctions, is straightforward. If more distinctions are E. Clementini et al. /Art$cial Intelligence 9.5 (1997) 317-356 341 (4 (b) for intermediate Fig. 13. Composition Algorithms distinctions is used for cys, and Algorithm 2 is used for cr6 and a~. 1 and 3 is used for 08~ = ot and Algorithm 2 is used for 0s~ = crs. For sixteen orientation (b), 1 and 3 is used for orientations through LYE, Algorithm 3 the combination of Algorithms a( orientation. For eight orientation distinctions (a), a combination of made, however, and opposite orientation, approximation. there are intermediate orientation relations between same, orthogonal, for which we have to decide which algorithm gives the best it is useful to consider to the upper half-plane, three subranges since all considerations for intermediate values of are symmetrical on For that purpose, BBC, referring only the axis defined by AB: (i) eAB < @EC < (ii) a 1 < &c 6 ff*, (iii) ff _L , a* < BBC < opp(&B), where c& E Orth(BAB) and cz* is a particular orientation between the two lines AB and BC is approximately of orientation example, such that the angle 120’. ‘I Depending on the number (Y* is chosen such that most of its cone lies before 120”. For for eight distinctions LY* is LYE, and for sixteen distinctions distinctions, (Y* is as. relation answer both Algorithms to the composition inferred by Algorithm For the first subrange, can be obtained by taking LB from Algorithm 1 and 3 could be used. Lower and upper 1 are greater than those given by Algorithm 3. The most bounds 1 constrained 3. For &c < cr*, the resulting distance dAC is always greater and UBfrom Algorithm than the biggest distance between dAB and dBc (Eq. (26)), while, for &c > LY*, the the biggest distance between dAB and dBc resulting distance dAc is always (Eq. (27) ) . Therefore, Algorithm 3 is the most appropriate for the second subrange and Algorithm orientation relations. 2 for the third subrange. The choice of the algorithms relations for the intermediate in Fig. 13 for the case of eight and sixteen orientation is illustrated less than ” The value 120” corresponds to the angle for which the three distances cl,~s, dso, and d,~c arc equal 342 E. Clementini et ai./Art@cial Intelligence 95 (1997) 317-356 Table 1 Resulting distances orientation, for the monotonicity symbols) five distance restriction (same 9il 41 42 43 q4 qoJ7r 4l42 42 43 43 44 9142 41,42.43 424344 92.43 q2mq4 42 43 44 43.44 4344 43.44 q37q4 43.44 q3.q4 44 44 44 q4 44 q4 44 44 44 Table 2 Resulting distances tation, five distance symbols) for the range restriction (same orien- 41 42 43 94 40 qn,qi 4lJf2 92m 83 91) 41 q2 93 44 41.42 42?43 43.q4 41.42 Y2>43 92.93 q3.q4 Y2G3 qwa q3Jl4 43.44 43Ji4 41.44 94 44 44 94 q4 q4 44 44 44 Table 3 Resulting distances (p = 2, same orientation, for the orders of magnitude five distance symbols) restriction CD 40 411 4U~4l 41 9142 q2 42 41 q2 43 44 41.42 q1.q2 q2m 42 r!3 q4 q2.q3 Y2G?3 m 44 aA?4 Y4 q3 43 m mJ!4 qw74 Y4 94 94 q4 Y4 c/4 Y4 4.2. Composition for homogeneous distance systems This section constitutes an application of the general algorithms developed above structure case is treated. By considering relations (monotonicity, range restriction, to (see Section 3.4). Due to space the restrictions given and orders of magnitude the resulting distances shown in Tables 1, 2, and 3, the special case of homogeneous the “same orientation” limits, only by Eqs. (20)) (2 1)) and (22) with p = 2), Algorithm respectively, Notice 1 gives for a system with five distance symbols. the monotonicity predecessor, that the upper bound becomes progressively more restrictive. By considering since an as the upper bound may be formulated is at least as big as its restriction interval (20)), (Eq. UB(dAC) = ordd’(ord(dAB) + ord(dsc)). E. Clementini et al. /Artificial Intelligence 95 (1997) 317-356 343 By considering the range restriction (Eq. (2 1) ), the composition of two distances can than the maximum of the two distances. The upper bound at most be one step bigger becomes: UB(d,& = succ(max(dAs,dac)). (29) The orders of magnitude restriction (Eq. (22)) allows us to disregard the effect of the smaller relation. The upper bound can be expressed as lord(dAB) - ord(dec)I 3 P 3 UB(dAc) = ma(dAB,&c). 4.3. Composition between different frames of reference or scales, is reasonably frames of reference. A “basic” The qualitative description of distances among a set of objects all distance descriptions frames of reference into an implicit rules assumed type of qualitative to each other and be able to infer new to the same refer frame that state information, which can further constrain to those context. From the definition of frames the to rules must relate mainly type does not need frames of reference compare. This comparative restrict ourselves the distances like to transform frame of reference. However, different distance thus making a transformation to using articulation to different to relate Ideally, we would to be given according reasoning is therefore information. (“canonical”) to different granularities difficult. We rather must how two particular consists mainly of order information between reference magnitudes, the relations maintained cases where of reference given in Section 3.5 it follows systems and scales of the frames distance be explicitly in it. The distance their structure however, distance might be successfully other. that it might not always be feasible ranges that articulation involved. The frame it can be done in a disambiguating in different frames of reference. the order-of-magnitude it already determines the scale factor and is thus contained involved and the distances). Note, relations between to find all comparative relations between In general, only similar distance systems to each in the constraint network, and suggests deferring naming systems must be compared as to the sets of relations to each other, and some might be incomparable related, since related (e.g., [35] answer the distance Two particular scales and same distance cases are of interest: different to the question “How far is it to the Partnachklamm?“: system, and same scale and different distance systems. As an example of the first special case suppose you get the following “It’s about an hour by car with a 30 min walk up hill.” Both traveled by car and to be covered on foot afterwards set of distinctions a very short distance, 30min anything >I h for places 5 min could correspond 41 min actual being something 5 km. In order the structure to be are given w.r.t. a for and that turn out to be is a different one in each case, I h by car to more or less to give all than scale S”, then (the time” 1 h for a middle that these are “qualitative” time, and 30min in this case it is not necessary that scale S’ is smaller that we could call “qualitative for a close distance, labels being 5min far distance, in the sense in the order of 100 km, whereas time). The scale, however, to reason about distances to 2 min 23 set actual that is, if we know I h on foot amounts far away; notice the distance relations, could 344 E. Clementini et al./Art@ial Intelligence 95 (1997) 317-356 is concerned, than the corresponding each 8; is smaller information that this place physical effort to get there is concerned, of course, component. is about 100 km away from our present the half hour walk can be neglected, 8:. Note that as far as geographic positional and we can conclude location. As far as the time and the half hour walk is a significant The second special case is illustrated by the statements: “It is only 5 min to the bakery. as All other stores are also close by.” Here the scale is the same in the two sentences, implied by an assumed means of transportation systems are used in each. In the first sentence, above distinction (e.g., on foot), but different distance time” system described a simpler and less specific close/far is used, whereas is made. in the second sentence, the “qualitative Let us consider the composition of two distance in two different three objects A, B, C, with d*B = qi in the frame relations expressed interval the structure in A’ and each relations between systems are different the composition, ranges 2 needs an adaptation described below and given frames of reference F’ and F”. Given of reference F’ and dBC = qy in the frame of reference F”, the result of the composition in the frame of reference F’. In the most general case, both scales is dAc, expressed in F’ and F”. In order to perform and distance in F’ and the different distance we need to know the structure F”. If A’ is the set of intervals of the first distance system and A” is the set of intervals relations we need to consider are the order of the second distance system, in A”, indicated with rA’,A”. each interval relations between rA’,A” in place of r-4 as input, while 1 and 3 can be applied providing Then, Algorithms Algorithm in Algorithm 4. Such an three cases: Ai z A;, Ai > A;, and Aj < A:!. The first case algorithm distinguishes the case Ai g Aj of Algorithm 2, because when we have different (Al z A(i’) replaces ranges. The second it is unlikely frames of reference case ( Aj > A:!) is the same as in Algorithm 2, while the last case (Al < A,:!) needs two that is additional procedures FindMin and FindMax equal to dAB in the frame of reference centered in the case of same frame of reference where the distance of A with respect to B is equal to qi (i.e., object A falls and Ai (see Fig. 11)). With different smaller that the interval A2+,,,y FindLBopp and FindUBopp part of distance dsc ’ contains take the intervals A~f+,,,j_, and A:+, ,,j, respectively, find two indices x and y such the procedures such a distance cannot be determined with uncertainty the ObJect A with A,+,,.) > 6;. Hence, the interval comprised between Ai- than 6,. The procedures FindMin to have the equality of distance in B. This is not a problem and FindMax /, the part of distance dsc that goes beyond A. frames of reference, to estimate as the into Algorithm 4. Algorithm erence (opposite orientation) for computing the composition with different frames of ref- begin Inpdqj, q;, rA’,A” case ) ; A; z A:!: BAC = OAB V Oec; LB +- q;; FindUBeq( S&O, US); E. Clementini et al. /Artificial Intelligence 95 (19971317-356 34s A; > A;: OAC = 6AB; if A.7 << 8: then LB +- qj; UB + q: else FindLB(6i_,,i- 1,LB); FindlJB(Gi, i, UB) fi; Aj < A;: 6AC = BBC; FindMin( Sg, 0, x) ; FindMux(A~+,,x+ if A;+,..,; <<IS:, thenLB+-qb; 1,~); UB+qb else FindLBopp ( 86 , 0, LB) ; FindUBopp( S{ , 1, US) fi; endcase; Output(LB, UB, 6AC ) where proc FindMin( A&, k, var x) E if A!’ 1°C =A;_, else if A$, > Ai_, thenxtk then x t k - 1 else FindMin( Ai;, + SF+, , k + 1, x) fi. proc FindMux( Ai;, , k, var y ) s if (A;;, M A;) V (A;;, > A;) then y +- k else FindMax( Af,, + St+,, , k + I, y ) fi. proc FindLB( Aj,, , k, var LB) s if A; 6 Ai”, then LB +- q: else FindLB( Ai”, + S:_, , k - 1, LB) fi. proc FindUB( A[“,, k, var UB) s if A:_, < A(,c then UB t q6 else Findl.JB( A,!,, + Sg_, , k - 1, UB) f~. proc FindLBopp( Al,,, k, var LB) E if Ajl,m,,,i-, < Ai,, then LB t q: else FindLBopp( A:,,, + Si+ , , k + 1, LB) fi. proc FindUBopp( A;,,, , k , var UB) E if A:jml,,i < A,!,, then UB t qi else FindUBopp( A:,, + SL.,, , k + 1, UB) fi. proc FindUBeq( Al,,, k, var UB) -_ if 87 < Ai”, then UB +- qk else FindUBeq ( Al”, + Si+ , , k + 1, UB) fi. end 346 E. Clementini et al. /Artificial Intelligence 95 (1997) 317-356 5. Related work This section reviews some of the literature on the subject of the representation of and orientation, distance information. We look well as into previous work in AI, in particular fuzzy logic. and into studies in particular on their combination in the fields of cognitive to handle positional science and linguistics in the areas of qualitative reasoning as and 5.1. Cognitive science There have been many psychophysical studies of the perception of distance and related issues. Downs and Stea [ 151 identify several characteristics of cognitive maps and associated distortions differences. Thus, individual rather a collage of bits and pieces of spatial to schematization intergroup as well as significant the tendency cognitive such as their incompleteness, and augmentations the resulting information representation rather than a map resembles [ 641. and Cognitive distances in urban environments have been studied by Lee [ 43 1, Briggs [ 6 1, and Canter and Tagg [ 71 among others. Briggs organized knowledge: Knowledge of points, knowledge about the relative proximity of pairs of nodes (one-dimensional), knowledge of sets of nodes and their interlinking location paths (region clustering). four levels of hierarchically knowledge of relative (two-dimensional), [ 61 identifies Studies of intercity distances [ 59,621 have suggested the influence of factors such as of and familiarity of the subjects with origin, goal, and interconnecting the attractiveness paths, as well as the kind and number or barriers along the geographic distance. the way and the magnitude of in entirety several processes literature on the perception review of the psychological (i.e., those that cannot be perceived and cogni- In his extensive from a tion of environmental distances for their apprehension) Monte110 single point of view and thus require moving around [ 511 identifies as well as sources In gen- for distance knowledge. distance depends on perception or awareness of body eral, knowledge of environmental sensation, motor efference movement or change of position (based on vision, vestibular is acquired and used or auditory processes). include working-memory, processes. Knowl- edge about distances might be derived features or source can account cesses that account redundant availability” travel time and travel effort. Not a single process for human distance knowledge. Rather, “there are alternative pro- in different situations, and multiple, partially it as a function of scale and hybrid, and simple-retrieval from many sources, Processes by which distance knowledge for distance knowledge landmarks, barriers), that differentially non-mediated, environmental knowledge including influence sources (turns, [ 5 1, p. 131. One of the best studied in the perception factors of distance is the influence of the number of environmental four main hypotheses hypothesis, tures feature-accumulation time hypothesis. Each of these provides a seemingly different explanation fluence of this factor, but at the same time unveils characteristics which we attempt in our framework. The feature-accumulation fea- are put forward: analog- for the in- of cognitive distance, for scaling hypothesis, segmentation hypothesis, hypothesis, for which to model E. Clementini et nl. /Artificial Intelligence 95 (1997) 317-356 341 features is compatible with this hypothesis example, states that the number of features makes a difference because “longer distances contain more features”. The qualitative model larger number of environmental larly, the scaling hypothesis distances near reference points estimated [ 291, which tions. as a being made. Simi- aims at explaining why the relative magnitude of estimated that subjective distances to be into smaller distances. This is related to the logarithmic distance phenomenon framework increases as physical distance decreases by observing leads to more distinctions and that features break through appropriate to be exaggerated, in the qualitative is modeled the path structure rela- tend The “asymmetry of cognitive distances” on travel direction) (i.e., the distance between often mentioned two points being in the literature as it might seem to be. Everyday experience often presents us etc.), illusions due to percep- sense spatial knowledge rush hour schedules, to road conditions, (due as different depending perceived is not as straightforward with actual distance asymmetries which should not be confused with psychological tual, organismic, or affectional allows us to distinguish other direction”, while being aware that actual distance model is perfectly different distances required. factors. Furthermore, between “longer distances” to different capable of dealing with distance asymmetries frames of reference) (with respect in the it takes longer is the same in both ways. Our by explicitly storing for each way when asymmetry common and “when Travel time is frequently proposed as source of distance knowledge, larger scales: “Cognized distances to time required to traverse path.” [28]. However, no straightforward in particular when increase with, and are directly relation their simple equation nor ‘distance experiments from psychological time and distance can be established: neither times speed’ explain the data available travel occurs over related between equal satisfactorily. to time 5.2. Linguistics The basic dichotomy of “proximity” point of view by Bierwisch many others. Pribbenow [ 41, Herweg and “distality” has been studied from a linguistic and Herweg [ 681 among [ 341, and Wunderlich [ 541 distinguishes five linguistic distance concepts: “inclusion” to projection of reference object), “contact/adjacency” (accep- (immediate of RO), “proximity” (defined as complement and “geo-distance” of the proximal in English described by Jackendoff and Landau interior of reference object plus the corresponding (near), (in, region around (surroundings of RO), and “re- the RO). A similar [ 371 consists of inside), exterior but in contact away “negatives” (“farther proximate (out of, outside), contact (ofs of,, proximate tance area restricted neighborhood moteness” system of distinctions 3 degrees of distance: (on, against), than”) : interior prepositions The qualitative approach such as among and between also convey some distance of spatial knowledge to the representation by the way spatial of spatial expressions semantics of such a relation information is expressed verbally. has a direct correspondance In particular, in the qualitative is not seen in a direct relation between (far from). Furthermore, information. is heavily inspired the relational nature the involved, relations. Also the objects 348 E. Clententini et ul. /Art@cial Intelligence 95 (1997) 317-356 the reference object but rather, as in language, the primary object constructs of a language and the possible combinations a one-to-one mapping several different spatial relations depending on the context [ 54,631. For example, is located. However, is used the relation between Many other aspects discussed in this paper, such as the asymmetry between primary object and reference object, have been observed (“The standard expression of spatial The fact that distance and orientation for example, can also be seen in spatial prepositions share the same orientation proximal distances, whereas behind is unrestricted). but indicate different distances to provide location interact is strikingly asymmetrical.” some prepositions might correspond to define a region of basic spatial concepts in which the inventory of spatial is not to in which they are used [ 331. of distances studies [ 37, p. 1071). constraints, like in buck of and behind, which to (in buck of is restricted further positional in linguistic 5.3. Early Al-approaches Previous work in AI on the representation of positional information has used a variety ‘* information. of approaches, some of them combining both qualitative and quantitative [ 5.0,7.0] topological information The SPAM program [ 491, for example, combines represented represented by “fuzzy maps”, where information propositionally with metric information for an x/y coordinate is stored e.g., ranges”, in terms of “fuzz pair. ‘s In this system, frames of reference are associated with each object, establishing the origin of the coordinate In fact, the distinction frames of reference and objects is replaced by an hybrid construct called “frob”, between from relations which can be dealt with uniformly. Positional in terms of the between though other, separate frob trees index position, orientation and maximum is computationally bounds is derived i.e., the origin of one frame of reference their orientations, frames of reference, the difference between the ratio of their scales. Even and scale finding minimum its scale and orientation. information [2.0,3.0] system, for those quantities system which inefficient. concerned with information about Another is primarily the relations the boundaries of objects but that nevertheless allows the computation of relative [ 12,131. A grid of vertices connected by arcs of fuzzy length is MERCATOR the boundaries of objects. Here pairs of distances and directed edges (as in SPAM) are used to relate the expressed each as fuzz ranges the relative to determine to the grid of edges. The system of lengths and to represent a square between position is used to represent (i.e., orientations) shapes of objects position of extended objects but again the interval bounds orientations of unknown dimensions. is awkward and limited. For example, it is not possible representation is able It should be mentioned, that positional structured environments (i.e., where information might not be needed at all. In loca- the possible paths between roads define of the mathematical I2 For descriptions transformation mechanism in [141. ‘s This way of dealing with uncertainty and the fuzzy approaches discussed coordinate-based representation (e.g., for translation, rotation, and scaling) of position and the corresponding see Appendix 1 in [3] or Section 6.3 is different in the next section. from both the qualitative approach presented in this paper It also leads to more complicated algorithms. E. Clementini et al. /Artificial Intelligence 95 (1997) 317-356 349 between (PPl,Sl),. relations incidence topological information . . (PP,, Sk)) route maps, consisting roads and places are all that is needed system to assimilate in such an environment. [41] uses spatial The world state is represented using predicates tions) for nav- igation. The TOUR of places, paths and regions and reason about the movement of a robot such as that places XI, XZ and so on occur on path PP on_path( PP, XI, X2, . . . , X3 ) to indicate in that order; border( RR, PP, S) to state that path PP is on the border of region RR, where S indicates around RR; star(X, meet at place X, where with actions cognitive map while wandering to another. In open through PPk .I$ denotes forward or backward direction on a path. I4 Together a from one place if the paths’s forward direction goes clockwise or counter-clockwise to indicate navigate, provided exploits either on the “left of”, on the “right of” or “on” the landmarks. Thus, seeing the landmarks between some positional information. Furthermore, determine positional series of “crossings” of virtual connecting to [44] can be the directed virtual connecting line in a particular order already provides to regions and to plan a route from a start to a goal position as a information available. The QUALNAV system landmarks, around and to plan a route for moving landmarks two visible can be used to assimilate the fact that, given any the current position type of positional this representation such observations spaces a simple there are visible that paths PP, such as turn it is possible is sufficient large-scale and go-to combining lines. 5.4. Qualitative physics angles systems practice engineering for qualitative for automating The motivation for a variety of important in 1984 and in 1991, respectively to the descriptive approach needed [ 201) . Most work in the area has concentrated relevant (and, hence, orientation) reasoning (see, for example, Intelligence arose predominantly from research on engi- the two special issues on the topic published neering problem solving [5,67]), which in the journal Artificial sought tasks techniques (such as, for example, circuit analysis, qualitative explanation of physical systems, and on model- complex mechanical ing processes as opposed to handle space. However, to our work deal with qualitative vectors: Kim two examples of contributions [40] represents in terms of quadrants and inclination. to define a qualitative vector arithmetic. A qualitative description This approach allows the scope of Kim’s paper. Weinberg et al. [65] pro- of distances, however, for reasoning with qualitative estimates of the pose a qualitative vector algebra suitable the latter expressed by the angle magnitudes and the direction of vectors in the plane, analysis w.r.t. the x-axis solver of how angles between objects change as objects move, and describe a problem systems. A drawback of their that deals successfully with translational and model directions. More recent approaches the 1561 proposes a qualitative descrip- spatial extent of objects. For example, Rajagopalan 2D mechanical levels of granularity both for magnitudes in qualitative physics emphasize on representing is that it does not support different (polar notation). They apply to a comparative this algebra is outside I4 This simplified description among other things local reference frames. of TOUR follows Davis 1141 rather than the original paper, which includes 350 E. Clementini et al. /Art&id Intelligence 95 (1997) 317-356 tion of the spatial extent of an object in terms of its extremal points, the effects of translational Within this model, inequality piecewise continuous in order to simulate field [42]. through of objects their extremal points, and the discontinuities modeled by and rotational motion of objects variables and circular quantity the relative position/orientation relations between in a magnetic is represented spaces. 5.5. Qualitative spatial reasoning Building on insights from cognitive science, linguistics, early AI approaches to the reasoning, of spatial knowledge, representation spatial years. We comment here only on the closest related approaches, general review of the literature to [ 11,26,3 I]. and qualitative physics, in which our own work can be classified, has flourished the field of qualitative in recent and refer for a more to qualitative 15 pos- Freksa [25] and Freksa and Zimmermann [ 271 present an approach infinitely to be either is considered to an orthogonal the “b” or “north” information. They distinguish of a point based on the left/straight/right since far away or cyclicly distinction distinction w.r.t. the lines orthogonal spatial reasoning based on directional orientation sible positions and orientations w.r.t. a vector a% as well as the front/neutral/back to a% on the end points of a and b. Note that this model reduces of orientations when used for cardinal directions, point the pole. Furthermore, does not seem feasible primitive operators such as identity, last two. Zimmermann distance. While the model presented deal with multiples of symbolic quantities homogeneous alternate algebraic intervals set reference to south at line defined by “b” is done by applying inversion, homing, shortcut, and the inverses of the and to combine orientation, than to and thus able to model distance systems. As a matter of fact, the A-calculus could be used as an relations between that objects are on the parallel establishing from an egocentric perspective. Reasoning combined model makes fewer distance distinctions structure Z to define a different in this paper, Zimmermann’s and their differences (see Section 3.3). general A-calculus type of structure this particular [ 7 11 extends this model changing position, is able [72] of relative direction that most objects have a distinguished Mukerjee and Joe [SZ] propose a representation angles based on four directions is based on projecting front to obtain at arbitrary erence object. The representation based on the assumption might not be the case depending on the application positions intrinsic “collision ing to qualitative position of two objects positional approach and symmetries-can (qualitative is specified by the quadrant and pos(B/A). relations pos( A/B) leads parallelogram”, w.r.t. which areas), and back, front to larger composition only be marginally the boundaries reduced. and four quadrants is grounded on intrinsic for the relative position of objects centered on the ref- fronts, front, which might or of relative in the direction of the form a type. The representation of the object the relations behind, after, points) information inside (correspond- are defined. The relative and the this (dir(A/B)), to our representation As compared tables, which-even using various redundancies its “lines of travel”. The lines of travel of two objects Frank [21] develops an algebra cardinal directions. This algebra consists of for qualitative spatial reasoning about distances and E. Clementini et al. /Art#cial Intelligence 95 (1997) 317-356 351 l a set of distance and direction symbols (such as: close and far, and North, South, East, and West), l a set of operations 0 a set of axioms. (i.e., inverse and compose); and spaced function intervals from the nearest of spatial relations that describe distances is based on the concept of a directed path from to another. The qualitative distance system consists of a number of qual- to the farthest, and a that maps a path to a qualitative distance value. Note that, as opposed are used here. Two cardinal direction are examined. Both systems are for the can be rea- to the qualitative distance one. The paper presents alternatives reasoning and directions. The result of the qualitative the qualitative The representation one endpoint itative distance values, distance to our approach, only equally systems based on the concepts of cone and half-plane defined similarly combination either Euclidean soning result obtained using result obtained by translating the equivalent qualitative answer. Frank’s experiments under some restricted conditions. the axioms of the algebra and the quantitative reasoning the qualitative values to analytical geometry and applying to compare to only provide a single results to them) or Euclidean approximate. To be able that the algebra can achieve satisfactory functions and quantitative (which denotes a homomorphism the axioms are developed of distances between showed results, exuct defines for qualitative distances and one for qualitative ori- these symbols. As in to the number of distance/direction relations. Both the model for locational the number of distinctions about distances (granularity the number of distinctions about directions and vice versa. At a given level of granularity, assumption (Section 3.3). Jong reasoning about distances and directions: (granularity level for distances) level for the intervals of the Jong’s three dif- the ull- introduces the likely-answer model, and the single-answer model. The qualitative Jong [38] introduces a model entations, whose combination models are flexible with respect our model, does not influence directions), model satisfy ferent models answer model, in Jong’s discussed reasoning those qualitative-based models soning the definition tances/directions. see for example of a link between results, the monotonicity for making qualitative thesis that use composition is based on inference tables rules and it is similar to represent qualitative [ 21,24,3 11. A large part of the thesis the representations of qualitative and quantitative is devoted to rea- to dis- 5.6. Fuzzy logic Many authors, among the use of linguistic variables them Dutta [ 171, Altman [ 11, and Jorge and Vaida [39] have [ 69,701 either to model space directly or extend frameworks. Linguistic variables are “variables whose values are not language”. The motivation being [ 69, than numerical ones” as in this paper. There review is in the same spirit as the “making only as many distinctions in a natural or artificial are, in general, representations of qualitative less specific advocated important differences, which we will discuss after a more detailed suggested available qualitative numbers but words or sentences that “linguistic characterizations p. 31. This motivation necessary” are, however, of some of the approaches characterization just mentioned. 352 E. Clementini et al. /Ar@cial Intelligence 95 (1997) 317-356 “metrical” information approximated rule of inference (i.e., qualitative), range or “visual” spatial constraints (i.e., quantitative), and possibly conflicting in turn can be “propositional” (i.e., only graphically depictable in the two-dimensional can be generally specified idea is then to transform [ 171 aims at representing incomplete those constraints case into distributions by triangular between a set of about them. To between position and motion spatial constraints. Position con- The work of Dutta objects given imprecise, do so, Dutta distinguishes straints as a fuzzy a quantitatively into an equivalent possibility area). The main on the X and Y axes. These distribution, distributions shapes and thus represented by fuzzy numbers of the form (mean value, left spread, right spread). Spatial reasoning is done in this framework by computing compositional Altman regions where of some feature attribute at some point. less (e.g., near) (e.g., in the spirit of in the analysis process, very much reasoning. Altman defines special distance and directional metrics on fuzzy and synthesis. The “distance” between is not a scalar as in other approaches but a new fuzzy set made out in the Cartesian product of the two sets, and whose is the minimum membership of each element pair in the product. The type of the objects as in Dutta’s the membership He argues against converting than 5km) qualitative regions as well as methods two fuzzy regions of the distances between elements membership of uncertainty regions rather work. this deals with results than from fuzziness in the position of point-like a treatment more specific in the spatial delineation at too early a stage is the concentration for their analysis from imprecision to “hard” data imprecise data joint possibility to GIS using [ l] presents distributions according function to the [ 701. fuzzy Jorge and Vaida [39] develop a fuzzy relational path algebra to reason about spatial and directions based on semirings. They aim at comple- involving distances relations menting qualitative distance and direction with degree of likelihood predicates. Semirings are used as algebraic of basic fuzzy set theory and the relational and Frank functions [ 2 1 ] respectively. to qualitative As compared functions corresponding like those developed by Frank to membership subsuming functions of fuzzy the formal properties [ 611 structures and path algebras of Smith and Park [ 2 1 ] representations, into consideration constraints. One of the sources of the uncertainty fuzzy approaches do not take the structure and, consequently, do not exploit the result- that both qualitative relationship infor- is function, which to deal with is the need to express a certain in which in a single number, as the elaborated it occurs. In fuzzy approaches contextual the value of the membership and explicit the more flexible concept of acceptance or non-exhaustive of the elasticity of constraints frame of reference concept developed in fuzzy areas or distance in our interpretations semantic characterization of fuzzy relations (done, e.g., by min-max overlapping the composition yields a single membership value rather than a disjunction of possible case. In order to verbalize the result of such reasoning process is required in the fuzzy model as opposed to a constraint selection re- a is encoded intend of the context of the represented domain ing neighborhood and fuzzy approaches independently mation not as expressive in this paper. The quantitative approaches ranges and corresponding qualitative model. Finally, operations) lations as in the qualitative defuzzification in the qualitative model. contrasts with E. Clementini et al. /Artijicial Intelligence 95 (1997) 317-356 3.53 6. Discussion and future research Positional and important in two-dimensional replacement type of human knowledge. The the position is a significant to develop a qualitative model space and for performing information aim of this paper was of objects qualitative one-dimensional for general use the emerging qualitative models of space, which should be seen as a viable alternative information models whenever quantitative as a of quantitative vector algebra. Qualitative models for more than (scalar) values have historically been considered not expressive enough [ 201. The results of this paper, together with other results obtained in towards to quantitative is not fully available or is not desired. for representing basic spatial [ 1 I 1, lead to a new attitude field of qualitative spatial reasoning reasoning and conclusive in this paper although The qualitative framework proposed is the basis for representing information, it should not be considered treated the case of extended objects: research directions can be envisioned. reasoning with positional by itself. A number of additional have not explicitly influences reasoning. objects can be disregarded, we can use the point abstraction, which was adopted this paper as a model situation. of magnitude orientation domains object. In this paper, we in fact, the extension of objects the concepts of distance and orientation, depending on the scale adopted for involved at a given scale are such that the extension of the If the distances in is of the same order of the distance and to the size and shape of the reference If the extension of the objects then the morphology among should be modified according of the distances them, Beyond the basic steps in reasoning tion 4), constraint propagation mechanisms inference. Mechanisms of spatial with assignments, qualitative constraints, relations and quantitative similar and rules, (the composition algorithms should be investigated to those proposed by [48] are needed in order to be able to bridge introduced in Sec- as the main source to deal the gap between information, whenever to different application the latter is available. The framework can be customized areas, reflecting both cog- the framework could systems. The issue of navigation has investigated nitive uses and technical needs of the specific field. For example, to the domain of vehicle navigation be specialized been in robotics, largely systems, positional since different vironment), scale). at the city level see for example information [ 44,491. (urban has a crucial issues arise to help guiding vehicles at the road level (small-scale scales and granularity at different scale), and at the large region In vehicle navigation role, en- level (geographic A good starting point to the subject for WWW-explorations “Spatial Reasoning Resources”: http://www.cs.albany.edu/-amit/spatsites.html. related is the list of Acknowledgments The work of Eliseo Clementini Italian MURST project project no. 95.00460.CT12 “Basi di dati evolute: modelli, metodi e sistemi” and Paolino Di Felice has been supported by the and CNR e e sistemi per il trattamento di dati ambientali “Modelli 354 E. Clementini et al. /Artificial Intelligence 95 (1997) 317-356 for Research and Technology territoriali”. The work of Daniel Hernandez the German Ministry is also indebted Vaida, Bettina Berendt and Tere Escrig, who took the time to read early drafts of the reviewers who gave paper and provide useful comments. We also thank the anonymous us precious by (BMFT) under FKZ ITN9102B. He to Wilfried Brauer for his continuous reported here has been partially support. We are grateful suggestions to improve the paper. to Dragos funded References I I I D. Altman, Fuzzy set theoretic approaches for handling imprecision in spatial analysis, Internat. J. Geographical Inform. Systems 8 (3) ( 1994) 271-289. [ 2 1 American Heritage Dictionary (Houghton Mifflin Company, Boston, MA, 1982). [ 31 D.H. Ballard and C.M. Brown, Computer Vision (Prentice-Hall, Englewood Cliffs, NJ, 1982). [ 41 M. Bierwisch, On the grammar of local prepositions, Syntax, Semantik und Lexikon, Studia Grammatica 29 ( Akademie-Verlag, Berlin, 1988) in: Bierwisch, Motsch and Zimmermann, I-65. eds., I.51 D.G. Bobrow, ed., Special Volume on Qualitative Reasoning about Physical Systems, Artificial Intelligence 24 ( 1984). 16 ] R. Briggs, Urban cognitive distance, in: R.M. Downs and D. Stea, eds., fmage and Environment: Cognitive Mapping and Spatial Behavior (Aldine, Chicago, IL, 1973) 361-388. 17 ) D. Canter and S.K. Tagg, Distance estimation 18 I W.G. Chase and M.T.H. Chi, Cognitive environments, in: J.H. Harvey, ed., Cognition, Social Behavior and the Environment (Lawrence Erlbaum Associates, Hillsdale, NJ, 1981) 111-136. skill: implications in cities, Environment and Behavior 7 ( 1975) 59-80. for spatial skill in large-scale 191 E. Clementini geometric and P Di Felice, A model in spatial databases, features [ IO] A.G. Cohn, The challenge of qualitative [ I 1 ] A.G. Cohn, Calculi for qualitative spatial reasoning, for representing topological relationships between complex Inform. Sci. 90 ( 1-4) ( 1996) I2 1- 136. spatial reasoning, Compuf. Surveys 27 (3) ( 1995) 323-327. in: J. Calmet, J.A. Campbell and J. Pfalzgraf, eds., in Computer Science Artificial Intelligence and Symbolic Mathematical Computation, Lecture Notes 1138 (Springer, Berlin, 1996) 124-143. [ 121 E. Davis, The MERCATOR of spatial knowledge, (Morgan Kaufmann, San Mateo, CA, 1983) 295-30 1. representation Germany in: Proceedings IJCAI-83, Karlsruhe, I I3 I E. Davis, Representing and Acquiring Geographic Knowledge (Morgan Kaufmann, San Mateo, CA, 1986). [ 141 E. Davis, Representations of Commonsense Knowledge (Morgan Kaufmann, San Mateo, CA, 1990). 1 15 1 R.M. Downs and D. Stea, Cognitive maps and spatial behavior: process and products, in: R.M. Downs and D. Stea, eds., Image and Environment: Cognitive Mapping and Spatial Behavior (Aldine, Chicago, IL, 1973) 8-26. [ 161 R.M. Downs and D. Stea, eds., Image and Environment: Cognitive Mapping and Spatial Behavior (Aldine, Chicago, [ 17 1 S. Dutta, Approximate IL, 1973). spatial reasoning: integrating qualitative and quantitative constraints, Internat. J. Approximate Reasoning 5 ( 1991) 307-33 I. [ IS] M.J. Egenhofer, Deriving Conzputin~ 5 ( 1) ( 1994) the composition I33- 149. of binary topological relations, J. Visual Languages and 1 191 B. Faltings and P Struss, eds., Recent Advances in Qualitative Physics (MIT Press, Cambridge, MA, 1992). 1201 K.D. Forbus, P Nielsen and B. Faltings, Qualitative spatial reasoning: the clock project, Artt$cial Intelligence 51 (1991) 417-471. 121 1 A.U. Frank, Qualitative 3 (1992) 343-371. spatial reasoning with cardinal directions, .I. Visual Languages and Computing 1221 A.U. Frank and I. Campari, eds., Spatial Information Theory. A Theoretical Basis for GIS, European Conference, COSIT’93, Lecture Notes in Computer Science 7 16 (Springer, Berlin, 1993). E. Clementini et al. /Artificial Intelligence 95 (1997) 317-356 355 [23 1 A.U. Frank and W. Kuhn, eds., Spatial Information Theory. A Theoretical Basis for CIS, International Canference, COSIT’95, Lecture Notes in Computer Science 988 (Springer, Berlin, 1995). (24 1 C. Freksa, Temporal 125 1 C. Freksa, Using orientation and U. Formentini, information reasoning based on semi-intervals, Artificial Intelligence 54 ( 1992) 199-227. spatial I. Campari eds., Theories and Methods of Spatio-Temporal Reasoning in Geographic Space. in Computer Science 639 Space to Territory, Lecture Notes in: A.U. Frank, for qualitative reasoning, International Conference G/S-From (Springer, Berlin, 1992) 162- 178. [261 C. Freksa and R. Rohrig, Dimensions in: N. Piera Carrete and M.G. Singh, eds., Proceedings Ill IMACS International Workshop on Qualitative Reasoning and Decision Technologies-QlJARDET’93, (CIMNE, 1993) 483-492. of qualitative reasoning, spatial 1271 C. Freksa and K. Zimmermann, plausible in: Proceedings 1992 IEEE International Conference on Systems, Man and for cognitively the utilization of spatial structures Barcelona On and efficient reasoning, Cybernetics ( 1992). ( 28 ( R.C. Golledge, R. Briggs and D. Demko, The configuration of distances in intra-urban space, Proc. Assoc. Amer. Geographers I ( 1969) 60-65. 129 1 T. Hagerstrand, Migration and area, in: D. Hannerberg, T. Hagerstrand and B. Odeving, eds., Migration in Sweden, Lund Studies 1957) 27-158. in Geography, Series B, Human Geography 13 (C.W.K. Gleerup, Lund, Sweden, [ 30 I R.A. Hart and G.T. Moore, The development of spatial cognition: a review, in: R.M. Downs and D. Stea, eds., Image and Environment: Cognitive Mapping and Spatial Behavior (Aldine, Chicago, I 3 I I D. Hernandez, Qualitative Representation af Spatial Knowledge, Lecture Notes in Artificial IL, 1973). Intelligence 804 (Springer, Berlin, 1994). I32 I D. Hernandez, E. Clementini and P Di Felice, Qualitative distances, in: A.U. Frank and W. Kuhn, eds., Spatial Information Theory. A Theoretical Basis for CIS, International Conference, COSIT’95, Lecture Notes in Computer Science 988 (Springer, Berlin, 1995) 45557. [ 33 I A. Herskovits, Language and Spatial Cognition. An Interdisciplinary Study c$ the Prepositions in English (Cambridge University Press, Cambridge, MA, 1986). [ 34 I M. Herweg, Zur Semantik einiger ( 1988). IBM Deutschland GmbH lokaler Prapositionen des Deutschen, Tech. Rept. LILOG-Report #2 1, [ 35 1 J.R. Hobbs, Granularity, in: A. Joshi, ed., Proceedings IJCAI-85, Los Angeles, CA (Morgan Kaufmann, San Mateo, CA, 1985) 432-435. [ 36 I S. Hiigg and I. Schwarzer, Composition of spatial relations, Forschungsberichte Ktinstliche Intelligenz FKI-163-9 [ 37 I R. Jackendoff I, Institut fur Informatik, Technische Universitat Munchen language and spatial cognition, and B. Landau, Spatial ( 1991). in: Languages c$ the Mind: Essays on Mental Representation (MIT Press, Cambridge, MA, 1992) Chapter 6, 99-124. [38 I J.-H. Jong, Qualitative reasoning about distances and directions in geographic space, Ph.D. Thesis, University of Maine ( 1994). I 39 I J.A. Jorge and D. Vaida, A fuzzy relational path algebra ECAI-96 Workshop on Representation and Processing ofspatial Expressions. Budapest, Hungary I40 I H.-K. Kim, Qualitative kinematics of linkages, for distances and directions, in: Proceedings ( 1996). in: B. Faltings and P Struss, eds., Recent Advances in Qualitative Physics (MIT Press, Cambridge, MA, 1992) 137-151. 141 1 B.J. Kuipers, Modelhng I42 I B.J. Kuipers, Qualitative Reasoning. Modeling and Simulation with Incomplete Knowledge (MIT Press, spatial knowledge, Cognitive Sci. 2 ( 1978) 129-153. Cambridge, MA, 1994). I43 I T.R. Lee, Perceived distance as a function of direction in the city, Environment and Behavior 2 ( 1970) 40-5 I. I44 I T. Levitt and D. Lawton, Qualitative navigation for mobile robots, Artificial Intelligence 44 ( 1990) 305360. I45 I J.C. Lowe and S. Moryadas, The Geography af Movement (Houghton Miflhn, Boston, MA, 1975). [46 I K. Lynch, The Image of the Cify (MIT Press, Cambridge, MA, 1960). I47 I AK. Mackworth, Consistency I48 I M.L. Mavrovouniotis in networks of relations, Arttficial Intelligence 8 (1977) 99-l 18. and G. Stephanopoulos, order-of-magnitude reasoning Formal in process engineering, Compuf. Chemical Engineering 12 ( 1988) 867-880. 356 E. Clementini et al. /Artificial Intelligence 95 (I 997) 317-356 1491 D.V. McDermott 107-156. (1984) and E. Davis, Planning routes through uncertain territory, Artijicial Intelligence 22 150) M. Minsky, The Society of Mind (Simon and Schuster, New York, 1986). I51 1 D.R. Montello, The perception of environmental and cognition distance: processes and knowledge sources, Unpublished Manuscript, Department of Geography, University of California, Santa Barbara, CA (1995). 1521 A. Mukerjee and G. Joe, A qualitative model for space, in: Proceedings AAAI-90, Boston, MA (AAAI Press, Menlo Park, CA/MIT Press, Cambridge, MA, 1990) 721-727. 1531 F.P. Preparata and M.I. Shamos, Computational Geometry: An fntroduction 1541 S. Pribbenow, Zur Verarbeitung von Lokalisierungsausdricken Universitat Hamburg, 1991; reprinted as: IWBS Report 211, IBM Deutschland (Springer, Berlin, 1985). in einem hybriden System, Ph.D. Thesis, ( 1992). [ 55 ] 0. Raiman, Order of magnitude I56 I R. Rajagopalan, A model for integrated qualitative spatial and dynamic reasoning, Arhjicial intelligence 51 ( 1991) I I-38. reasoning about physical systems, Seattle, WA (AAAI Press, Menlo Park, CA/MIT Press, Cambridge, MA, in: Proceedings AAAI-94, 1994) 1411-1417. 157 ] D.A. Randell, Z. Cui and A.G. Cohn, A spatial logic based on regions and connection, in: Proceedings (Morgan Kaufmann, San Mateo, CA, 1992) 165-176. International Conference 3rd on Knowledge Representation and Reasoning (KR-92) 1581 G. Retz-Schmidt, Various views on spatial prepositions, AI Mag 9 (2) [ 591 E.K. Sadalla and S.G. Magel, The perception of traversed distance, Environment ( 1988) 95-105. and Behaviour I2 ( 1980) 65-79. I60 ] J. Sharma and D.M. Flewelling, Inferences from combined knowledge about topology and directions, in: J.R. Herring and M.J. Egenhofer, SSD’9.5, Lecture Notes in Computer Science I 6 I I T.R. Smith and K.K. Park, Algebraic approach (1992) Sysfems 6 (3) 177-192. eds., 4th International Symposium on Large Spatial Databases, (Springer, Berlin, 1995). to spatial reasoning, International J. Geographical Ir@rm. [ 62 I D. Stea, The measurement of mental maps: an experimental model for studying conceptual K.R. Cox and R.G. Golledge, University Press, Evanston, IL, 1969) 228-253. eds., Behavioral Problems in Geography: A Symposium I63 I L. Talmy, How language structures space, in: H.L. Pick and L.P. Acredolo, eds., Spatial Orientation: Theory, Research and Application (Plenum Press, New York, 1983). I64 I B. Tversky, Cognitive maps, cognitive collages and spatial mental models, in: A.U. Frank and I. Campari, Theory. A Theoretical Basis for GIS, European Conference, COSIT’93, Lecture eds., Spatial Inf?nmation Notes in Computer Science 7 I6 (Springer, Berlin, 1993) 14-24. 165 1 J.B. Weinberg, S. Uckun, G. Biswas and S. Manganaris, Qualitative vector algebra. in: B. Faltings and l? Struss, eds., Recent Advances in Qualitative Physics (MIT Press, Cambridge, MA, 1992) 193-208. 1661 D.S. Weld and J. de Kleer, eds., Readings Kaufmann, San Mateo, CA, 1990). in Qualitative Reasoning about Physical Systems (Morgan 1671 B.C. Williams and J. de Kleer, eds., Special Volume on Qualitative Reasoning about Physical Systems II. spaces, (Northwestern in: in: A. von Stechow and D. Wunderlich, eds., Artificial [ 68 I D. Wunderlich Intelligence S I ( I99 1). Handbuch der Semantik [ 691 L.A. Zadeh, The concept and M. Herweg, Lokale und Direktionale, 1989). (Athenaurn, Konigstein, I70 1 H.-J. Zimmermann, [ 7 I 1 K. Zimmermann, linguistic Memorandum ERL-M 41 I, University of California at Berkeley, CA ( 1973). its application variable of a and to approximate reasoning, Fuzzy Set Theory and its Applications (Kluwer, Dordrecht, 1992). Enhancing A.U. Frank and I. Campari, Conference, COSIT’93, Lecture Notes in Computer Science 7 I6 (Springer, Berlin, 1993) 69-76. orientation Theory. A Theoretical Basis for GIS. Europeun qualitative eds., Spatial spatial Information reasoning--combining and distance, in: 1721 K. Zimmermann, Measuring without measures: the delta-calculus, Information Spatial Notes in Computer Science 988 (Springer, Berlin, 1995) 59-67. Theory. A Theoretical Basis for GIS, International in: A.U. Frank and W. Kuhn, eds., Conference, COSIT’95, Lecture 