Artificial Intelligence 160 (2004) 145–172www.elsevier.com/locate/artintA formal theory for reasoning about parthood,connection, and locationMaureen DonnellyInstitute for Formal Ontology and Medical Information Science, Saarland University,D-66041 Saarbrücken, GermanyReceived 5 February 2004; accepted 27 June 2004AbstractIn fields such as medicine, geography, and mechanics, spatial reasoning involves reasoning aboutentities that may coincide without overlapping. Some examples are: cavities and invading particles,passageways and valves, geographic regions and tropical storms. The purpose of this paper is todevelop a formal theory of spatial relations for domains that include coincident entities. The core ofthe theory is a clear distinction between mereotopological relations, such as parthood and connection,and relative location relations, such as coincidence. To guide the development of the formal theory,I construct mathematical models in which nontrivial relative location relations are defined. 2004 Elsevier B.V. All rights reserved.Keywords: Spatial reasoning; Mereotopology; Formal ontology; Physical objects; Holes1. IntroductionTwo entities overlap when they share a common part. Two entities coincide when theyoccupy overlapping regions of space.1 The Mississippi River and Minnesota overlap—thefirst ten kilometers of the Mississippi River are part of both the river and the state. Theriver and the state also coincide—the region occupied by the first ten kilometers of theE-mail address: maureen.donnelly@ifomis.uni-saarland.de (M. Donnelly).1 Note that with this usage coincident objects need only occupy overlapping spatial regions. I will use the term“complete coincidence” for the stronger relation that holds between objects that occupy identical spatial regions.0004-3702/$ – see front matter  2004 Elsevier B.V. All rights reserved.doi:10.1016/j.artint.2004.06.003146M. Donnelly / Artificial Intelligence 160 (2004) 145–172Mississippi River is part of both the region occupied by the entire river and the regionoccupied by the state. Similarly, my hand and my body both overlap and coincide. It iseasy to see that any overlapping spatial entities must also coincide. Their locations willoverlap at their common parts.But the relation of coincidence is broader than that of overlap. In other words, thereare pairs of coincident objects which do not share parts. The food that is currently beingdigested in my stomach cavity coincides with, but does not overlap, my stomach cavity.A tropical storm covering Acapulco coincides with, but does not overlap, Mexico. Anyobject coincides with, but does not overlap, the spatial region at which it is located at agiven point of time.A mereotopology is a formal theory of parthood and connection relations. It has longbeen recognized that mereotopology forms an essential part of formal ontology. Severaldifferent mereotopologies have been proposed in recent literature, including [1,4,11,17].These theories are ultimately intended for reasoning about relations among a variety ofspatial entities including material objects (amoebas, mechanical devices, etc.) and geo-graphical entities (islands, bays, etc.). However, it is assumed in nearly all of this work thatthe immediate domains of application are restricted to spatial regions. When material ob-jects are introduced, as in [8], mereotopological relations are still restricted to regions. Thematerial objects have only a second-hand mereotopological structure that is inherited fromthe regions at which they are located. Thus, a distinct coincidence relation is not usuallyintroduced in the mereotopology: on domains of regions, coincidence is just overlap.Likewise, mathematical models for these theories typically use simple domains consist-ing just of subsets of a topological space. See, for example, [1,3,9]. On these domains, thereis no natural way of giving the coincidence relation a broader interpretation than that ofthe overlap relation. Here, overlap is generally interpreted as non-empty intersection.2 Thecoincidence relation could have a broader interpretation only if it were artificially extendedto pairs of subsets with an empty intersection.The goal of this paper is to construct a mereotopology for domains that include coinci-dent but non-overlapping entities. I present a primary theory, called Layered Mereotopol-ogy, and two variants of it. Domains for Layered Mereotopology may include both materialobjects and the regions at which they are located, in addition to other types of entities,such as holes or geopolitical entities, which may coincide with material objects. LayeredMereotopology allows spatial relations to apply directly to all entities within the domain,be they regions, material objects, holes, or what have you. It extends mereotopology byadding relative location relations—relations such as coincidence that depend only on theobjects’ locations—and by making explicit the relation between a spatial entity and theregion at which it is located. To guide the development of the formal theory, I construct aclass of mathematical structures, called Layered Models, in which a coincidence relationdistinct from overlap is defined.Layered Mereotopology borrows much from the theory of location of [7]. It differs inthat it divides the domain into different layers, each of which is mereologically independentof the others. Also, no models are provided for the Casati and Varzi theory other than2 The interpretation in [1] is slightly different but in the same spirit.M. Donnelly / Artificial Intelligence 160 (2004) 145–172147the standard topological models that conflate coincidence and overlap. Additional workon combining either relative location relations or a location function with other spatialrelations can be found in [2,5,8,15].The outline for this paper is as follows. In Section 2, I construct the Layered Models.These structures include both mereotopological relations and relative location relations.Layered Models are the target models of the formal theory, Layered Mereotopology, whichis presented in Sections 3–5. The mereological subtheory, Layered Mereology, is developedin Section 3. In Section 4, a function that maps each member of the domain to its regionis added and the first group of relative location relations are defined. Topological relationsand more relative location relations are added in Section 5. In the last part of the paper,I present two variations of Layered Mereotopology, both of which make weaker assump-tions about the composition of the spatial domain. Section 6 proposes a version of LayeredMereotopology with weakened requirements on the formation of sums. Section 7 developsa version of Layered Mereotopology that does not assume that the spatial domain includesa special sub-domain of regions.Layered Mereotopology and its two variants are presented here as time-independenttheories. They can be used in this form either to describe instantaneous time-slices ofa three-dimensional domain or to describe space-time relations among changeless four-dimensional entities such as processes. The theory can also be naturally extended to includetime-dependent relations which can be used to describe change in spatial domains.2. Layered ModelsIn this section, I introduce a class of mathematical structures in which both mereotopo-logical and relative location relations are defined. I call these structures Layered Models be-cause their domains are partitioned into non-overlapping layers. Members of the same layercoincide only when they overlap. Members of different layers never stand in mereotopo-logical relations, but they may coincide or stand in other relative location relations.Layered Models are intended to represent the actual spatial world in such a way that spa-tial entities of distinct types—regions, material objects, holes, geographic objects, etc.—are assigned to distinct layers. In particular, a special layer, covering the entire spatialdomain, represents the collection of all regions. For other types of spatial entities (materialobjects, holes, geographical objects, etc.), I leave open the question of whether all tokensof that type reside on one layer or whether they are distributed to different layers. For ex-ample, at one extreme, all material objects may be assigned to the same layer and, at theother extreme, each independent material object (my desk, your car, etc.) may be assignedto its own layer.Layered Models are defined as follows. Let T = (cid:1)X, cl(cid:2) be a topological space, whereX is the set of points and cl is the closure operator. Let I be any index set that includes 0.The domain, D, of a Layered Model is a nonempty set of ordered pairs, xi = (cid:1)x, i(cid:2) where∅ (cid:4)= x ⊆ X and i ∈ I . (I will generally use the abbreviation xi for (cid:1)x, i(cid:2). All variables referringto objects in Layered Models appear in Arial font to distinguish them from the variables ofthe formal theory.) The first component of each ordered pair determines its location. The148M. Donnelly / Artificial Intelligence 160 (2004) 145–172second component determines the layer to which it belongs. All pairs of the form (cid:1)x, 0(cid:2)(i.e., x0) belong to a special layer, called the region layer.I require that the domain, D, of any Layered Model satisfy the following conditions:1. For any i ∈ I , if xi ∈ D, then x0 ∈ D.2. For any i ∈ I and any Y ⊆ ℘ (X), if yi ∈ D for all y ∈ Y, then (3. For any i ∈ I and any xi, yi ∈ D, if x (cid:1) y, then there is a zi ∈ D such that z ⊆ x andy∈Y(y))i ∈ D.(cid:1)z ∩ y = ∅.4. If xi, yi ∈ D and x ∩ y (cid:4)= ∅, then (x ∩ y)i ∈ D.Note that conditions 1–4 are not very restrictive. Even once the topological space andindex set are fixed, domains with very different compositions are possible. As a tokenexample, suppose T is the usual topological space based on the real numbers, (cid:8), andI = {0, 1}. Then {xi: ∅ (cid:4)= x ⊆ (cid:8) and i = 0, 1} satisfies conditions 1–4. In this case, the do-main has uncountably many members. At the other end of the spectrum, {[7, 8]0, [7, 8]1}is an example of a layered domain with only two members constructed from the sametopological space and index set.Given a domain D of a layered model, it follows from condition 2 that for any i ∈ I ,the sum of all members of D of the form xi is also in D. More precisely, for any i ∈ I , let(cid:1)Yi = {x: x ⊆ X & xi ∈ D}. Then, by 2, Li = (y∈Yi(y))i ∈ D. I will call Li the Layer i of D.Notice that it follows from condition 1 that for any i ∈ I , if yi = Layer i and z0 = Layer0, then y ⊆ z. The region layer always covers the entire space of possible locations. Theother layers may or may not cover the entire background space. Thus, either y = z ory ⊂ z is possible. For example, both {[7, 8]0, [7, 8]1} and {[6, 7)0, [6, 8]0, [7, 8]0, [7, 8]1}are possible domains for layered models.I will now define relations on the domains of Layered Models. Each model-theoreticrelation will be the target interpretation of a relation that is introduced formally in Lay-ered Mereotopology (Sections 3–6). I will use bold-faced letters for the model-theoreticrelations and plain text for their counterparts in the formal theory.The mereotopological relations are introduced first.The parthood relation, P, is defined on the domain, D, of a Layered Model as follows:P(xi, yj) =: x ⊆ y and i = j.Notice that it follows from this definition that (i) any xi ∈ D is part of Layer j if and only ifi = j and (ii) only parts of the same layer can stand in the parthood relation.The overlap relation, O, is defined:O(xi, yj) =: x ∩ y (cid:4)= ∅ and i = j.As with parthood, (i) any xi ∈ D overlaps Layer j if and only if i = j and (ii) only partsof the same layer can overlap. Also notice that it follows from condition 4 above that twomembers of D overlap if and only if they have a common part.The underlap relation, U, is defined:U(xi, yj) =: i = j.It follows that two members of the domain underlap if and only if they are parts of thesame layer.M. Donnelly / Artificial Intelligence 160 (2004) 145–172149Finally a connection relation, C, also restricted to parts of the same layer, is defined:C(xi, yj) =: (cl(x) ∩ y (cid:4)= ∅ or x ∩ cl(y) (cid:4)= ∅) and i = j.3Other mereotopological relations, such as proper parthood, external connection, andtangential parthood, can be defined in the obvious ways, so that they hold only amongparts of the same layer.In contrast to the definitions above, the definitions of the relative location relations referto only the first coordinates of the ordered pairs. This gives us relations that depend onlyon location and may hold between parts of different layers.Cov(xi, yj) =: x ⊆ yCoin(xi, yj) =: x ∩ y (cid:4)= ∅CCoin(xi, yj) =: x = yM(xi, yj) =: cl(x) ∩ y (cid:4)= ∅ or x ∩ cl(y) (cid:4)= ∅A(xi, yj) =: x ∩ y = ∅ & (cl(x) ∩ y (cid:4)= ∅ or x ∩ cl(y) (cid:4)= ∅)(covering)(coincidence)(complete coincidence)(meets)(abuts)Finally, I add the function, r, from D to Layer 0 which assigns each member of thedomain to its representative on the region layer:r(xi) = x0.When restricted to Layer 0, r is the identity function: for any x0 ∈ D, r(x0) = x0. Alsonotice that two objects stand in a given relative location relation if and only if their regionsstand in the corresponding mereotopological relation. For example, two objects coincide ifand only if their regions overlap, two objects meet if and only if their regions are connected,and so on.I will conclude this section with a simple example designed to illustrate the way inwhich Layered Models can be used to represent spatial relations among regions, materialobjects, and immaterial entities such as holes. The background topological space for thismodel is (cid:8)3 with its standard topology. The region layer has as parts the members of theset {x0: ∅ (cid:4)= x ⊆ (cid:8)3}.Suppose that we wish to represent relations holding among a vase, a portion of waterin the vase, a flower standing in the vase, and the interior of the vase. The vase, water,and flower can be represented, respectively, by parts, v1, w1, and f1, of Layer 1 where thesubsets, v, w, and f, of (cid:8)3 are disjoint, but connected. The interior of the vase, a hole,3 Nothing important in what follows hinges on this particular interpretation of the connection relation.Cxiyj =: cl(x) ∩ cl(y) (cid:4)= ∅ and i = j orCxiyj =: x ∩ y (cid:4)= ∅ and i = jmay be used instead. But these alternative interpretations are better suited for somewhat different domains. In thefirst case, we probably want to restrict the domains to open regular subsets of the topological space and, in thesecond case, to closed regular subsets. In the second case, we should also strengthen the definition of O to keepit distinct from C.150M. Donnelly / Artificial Intelligence 160 (2004) 145–172is represented by h2 on Layer 2 where h and v are disjoint, but connected, w is a propersubset of h (w ⊂ h), and h and f have a nonempty intersection (h ∩ f (cid:4)= ∅). According tothis representation, the water is not part of the hole, but the fact that the water is containedin the interior of the vase is represented in the model by the covering relation, Cov(w1, h2),holding between w1 and h2. Similarly, the flower does not overlap the interior of the vase,but the fact that the flower is partially contained in the interior of the vase is representedby the coincidence relation: Coin(f1, h2). The vase and its interior do not coincide. Nor arethey connected. But the fact that the vase touches its interior is represented by the abutmentrelation: A(v1, h2). Finally, every object is exactly co-located with its spatial region. Thisis represented in the model by the complete coincidence of the object and its region. Forexample, CCoin(v1, v0).3. Layered MereologyA mereology is a formal theory of the binary parthood relation. My aim in this sectionis to develop a mereology, called Layered Mereology, that is satisfied by the parthoodrelation, P, defined on Layered Models. Layered Mereology is extended in Sections 4 and 5to Layered Mereotopology, a theory that also includes relative location and connectionrelations.3.1. Axioms and basic definitions of Layered MereologyLayered Mereology (like its extension, Layered Mereotopology) is formulated in first-order logic. u, v, w, x, y, z are used as variables and a, b, c, d are used as constants.Relations and functions are represented in the formal theory with plain text letters todistinguish them from the relations and functions defined in Layered Models. LayeredMereology assumes one primitive, the binary relation P which, on the intended interpreta-tion, represents parthood.The following relations are defined in the formal theory in terms of P:(D1) PPxy =: Pxy & ∼Pyx(x is a proper part of y)(D2) Oxy =: ∃z (Pzx & Pzy)(x and y overlap)(D3) Uxy =: ∃z (Pxz & Pyz)(x and y underlap)It is easy to see that, if P is interpreted as P in Layered Models, the defined relations Oand U will be interpreted as O and U, respectively.The axioms of Layered Mereology will be somewhat nonstandard. For example, theycannot require that any pair of objects have a mereological sum. My goal is to axiomatizeM. Donnelly / Artificial Intelligence 160 (2004) 145–172151P in such a way that, when restricted to a single layer, it satisfies the axioms (and axiomschema) of General Extensional Mereology (GEM):4(P1) Pxx(P2) Pxy & Pyx → x = y(P3) Pxy & Pyz → Pxz(P4) ∼Pxy → ∃z(Pzx & ∼Ozy)(GEM5) ∃x φ[x] → ∃z∀w (Owz ↔ ∃x (φ[x] & Owx))φ[x] in (GEM5) stands for any first-order formula in GEM (or an extension of GEM)in which only x occurs free. (GEM5) states that if any member of the domain satisfies theformula φ[x], then there must be a sum of all objects satisfying φ[x]. (GEM5) must bealtered for Layered Mereology because Layered Models only include the sums of objectsthat are parts of the same layer.5I will discuss summation in Layered Mereology in more detail shortly. For now, noticethat the relation P in Layered Models satisfies each of the first four axioms of GEM. Theyare therefore used in their original forms as axioms for Layered Mereology.6The first three axioms require that P is a partial ordering. (P1) says that P is reflexive.(P2) says that P is anti-symmetric. (P3) says that P is transitive. That (P1)–(P3) are satisfiedby P in Layered Models follows immediately from the fact that P is just the subset relationrestricted to the separate layers.(P4) says that, if x is not a part of y, then there is some part, z, of x that does notoverlap y. For instance, suppose x is a table and y is one of its proper parts, say one of itslegs. Then, according to (P4), x must have some part (its top or another leg) that does notoverlap y.(P4) is satisfied in Layered Models by virtue of condition 3 of Section 2.The following theorem is very useful for proving theorems listed later in this paper. Itis derived from (P1), (P3), and (P4).(PT1) Pxy ↔ ∀z (Ozx → Ozy)(x is part of y if and only if for all z, if z overlaps x then z overlaps y)It follows from (PT1) and (P2) that overlap, O, is extensional. This means that any twomembers of the domain that overlap the same objects are identical.(PT2) x = y ↔ ∀z (Ozx ↔ Ozy)(x is identical to y if and only if for all z, z overlaps x if and only if z overlaps y)4 Throughout this paper, initial universal quantifiers are suppressed unless they are needed for clarity.5 In some mereologies, a stronger second-order formula, requiring there to be a sum of any nonempty set ofindividuals, is used instead of the first-order schema (GEM5). See, e.g., [13] and [18]. For reasons of simplicity,I will consider only the first-order version of GEM and develop Layered Mereology as a first-order alternative toGEM. But the same strategy can be used to construct a second-order version of Layered Mereology that parallelsthe mereologies of [13] or [18].6 All axioms of Layered Mereology are labeled with a “P”. “PT” is used for theorems of Layered Mereology.152M. Donnelly / Artificial Intelligence 160 (2004) 145–172(PT2) lets us use the overlap relation to uniquely identify sums when they exist. BecauseO is extensional, for any formula φ[x], if we can assign z to a member of the domain thatsatisfies∀w(cid:2)φ[x] & Owx(cid:2)Owz ↔ ∃x(∗)(cid:3)(cid:3)then this object is the unique sum of all φ-ers. However, there need not be an object satis-fying (∗) even if some member of the domain satisfies φ[x]. For example, let φ[x] be x = xand let D be the domain of a Layered Model. Then every member of D satisfies φ[x]. Butif there are xi, yj ∈ D with i (cid:4)= j, then no member of D satisfies (∗). This is because such anobject would have to overlap every member of D and there can be no member of D thatoverlaps both xi and yj for i (cid:4)= j.Thus, we need a restricted version of (GEM5) that requires sums to exist only if allsummands are part of the same layer. Such an axiom schema will be satisfied in all LayeredModels by virtue of condition 2 of Section 2. Given that two objects in a Layered Modelare parts of the same layer if and only if they underlap, the restricted summation axiomschema can read as follows:(P5) (∃x φ[x] & ∀x, y(φ[x] & φ[x/y] → Uxy)) → ∃z ∀w(Owz ↔ ∃x (φ[x] & Owx))Here, φ[x/y] is the formula φ[x] with all free instances of x replaced by y and wherevariable substitution is performed as necessary so y is free in φ[x/y] exactly where x isfree in φ[x]. (P5) says that if there is some object that satisfies φ[x] and any two objectsthat satisfy φ[x] underlap, then there is a sum of all objects satisfying φ[x].For convenience, I will use the abbreviation z(cid:3)x(φ[x]) for specific substitution in-stances of the formula (∗). For example, z(cid:3)x(Pxa ∨ Pxb) is the open formula:∀w(cid:2)Owz ↔ ∃x(cid:2)(Pxa ∨ Pxb) & Owxand c(cid:3)y(Pya ∨ Pyb) is the closed formula:(cid:2)(Pya ∨ Pyb) & Owy(cid:2)Owc ↔ ∃y∀w(cid:3)(cid:3)(cid:3)(cid:3).We would like to be able to say more things about layers within the mereology. So far,we can only say that two objects are on the same layer. We would like to be able to saythat a certain object is a layer or is the layer of a particular object. (D4) defines a relationholding between y and z when z is the sum of all objects that y underlaps. I use this for thedefinition of the layer relation.(D4) Lyz =: z(cid:3)x(Uxy)(z is y’s layer: z is the sum of all objects that y underlaps)It is easy to see that when P is interpreted as P in Layered Models, Lxiyj holds if andonly if yj = Layer i. However, axioms (P1)–(P5) do not allow us to infer that for any object,y, there is some object that is the sum of all objects underlapping y. In other words, ouraxioms so far do not allow us to infer that every object has a layer. This would follow from(P5) if we knew that any two objects that underlap y must underlap each other. Given thatU is already reflexive and symmetric, the antecedent of the relevant substitution instance of(P5) will be satisfied if U is also transitive. Notice that the underlap relation, U, for LayeredM. Donnelly / Artificial Intelligence 160 (2004) 145–172153Fig. 1.Models is in fact an equivalence relation (reflexive, symmetric, and transitive) and that thesets consisting of all objects in a single layer are the equivalence classes determined by theU relation.But although it follows from (P1)–(P5) that U is reflexive and symmetric, it does notfollow that U is transitive. To see this, consider the model of (P1)–(P5) which consists ofthe intervals, [0, 5], [0, 3], [3, 5], [5, 8], [3, 8], with P interpreted as the subset relation. SeeFig. 1.[0, 3] and [3, 5] underlap (they are both part of [0, 5]). [3, 5] and [5, 8] underlap (theyare both part of [3, 8]). But [0, 3] and [5, 8] do not underlap. Notice also that [3, 5] has nolayer. [3, 5] underlaps every member of the domain. Thus, its layer would have to overlapevery member of the domain. But there is no object in this model that overlaps everymember of the domain.I, therefore, add a final axiom to Layered Mereology:(P6) (Uxy & Uyz) → Uxz(underlap is transitive)It follows from (P5), (P6), and the reflexity and symmetry of U that every object has alayer:(PT3) ∀y ∃z Lyz(every object has a layer)Thus the relation, L, is a function. I will use the function term l(x) to stand for the layerof x.The next group of theorems about layers follow from (D4) and the fact that U is anequivalence relation:(PT4) Pxl(x)(every object is part of its layer)(PT5) Uxy ↔ l(x) = l(y)(two objects underlap if and only if they have the same layer)(PT6) Uxy ↔ Pyl(x)(x underlaps y if and only if y is part of x’s layer)It also follows from (P6) that overlap implies underlap.(PT7) Oxy → Uxy(if x and y overlap, then they underlap)154M. Donnelly / Artificial Intelligence 160 (2004) 145–1723.2. Layers and maximal individualsWe can introduce the unary predicate, LY, which distinguishes certain members of thedomain as layers.(D5) LYz =: ∃x Lxz(z is a layer)When P is interpreted as P in Layered Models, LY is interpreted as {Layer i: i ∈ I }.It follows easily from (PT4), (PT5), and (D5) that:(PT8) LYz ↔ Lzz(z is a layer iff z is its own layer)(PT8) tells us that layers are those members of the domain that are the mereological sumsof all objects they underlap.Unfortunately, (PT8) may not be especially helpful if our goal is to distinguish layers ina practical reasoning context. We do not usually talk about the underlap relation in practicalcontexts and it is, therefore, somewhat difficult to form an intuitive picture of the collectionof all individuals that a given individual underlaps. We can get a better understanding ofwhat layers might be by introducing the following predicate, defined in terms of parthoodand overlap, which is equivalent to LY in Layered Mereology.(D6) MIz =: ∀x(Oxz → Pxz)(z is a maximal individual: for all x, if x overlaps z, then x is part of z)Maximal individuals are individuals that only overlap their own parts. In particular, maxi-mal individuals are never proper parts.(PT9) MIz →∼ ∃x PPzx(if z is a maximal individual, then there is no x such that z is a proper part of x)It follows from (P1)–(P4) and (P6) that being a maximal individual is equivalent tobeing a layer.(PT10) MIz ↔ LYz(z is a maximal individual if and only if z is a layer)In fact, given (P1)–(P4), the following two formulae are, taken together, equivalent to (P5)and (P6):(P5*) (∃x φ[x] & ∃z(MIz & ∀x(φ[x] → Pxz)) → ∃z ∀w(Owz ↔ ∃x (φ[x] & Owx))(if some member of the domain satisfies φ[x] and there is a maximal individual, z, suchthat all φ-ers are part of z, then there is a sum of all φ-ers)(P6*) ∀x∃z(MIz & Pxz)(every individual is part of some maximal individual)Thus, Layered Mereology can be equivalently axiomatized by (P1)–(P4), (P5*), and (P6*).In this alternative axiomatization, all formulae referring to the underlap relation are re-placed by formulae referring to maximal individuals.M. Donnelly / Artificial Intelligence 160 (2004) 145–172155What, then, are the layers, or maximal individuals, of a spatial domain? They are theindividuals that share parts only with their own parts. Just what, more specifically, theseindividuals are will depend on one’s assumptions about the structure of the world. LayeredMereology is designed to accommodate different kinds of ontologies. If one holds that acommon-sense material object, such as a table, a television, or a human body, is not part ofany larger object and does not share parts with any object that extends beyond itself, theneach of these objects is its own layer. If, on the other hand, one holds that there is a sumof any collection of material objects, but that no entity includes both material objects andother types of entities (regions, holes, etc.) as parts, then the sum of all material objects isa layer. At the furthest extreme, one may even hold that there is a sum of any collection ofindividuals. In this case, the sum of all individuals is the only layer.Similar considerations apply to other types of entities. For example, if one holds thatthe interior of my coffee cup (a hole) overlaps only its own parts, then the interior of mycoffee cup is a layer. If, on the other hand, one holds that there is a sum of any collectionof holes, then all holes belong to the same layer.In the full theory, Layered Mereotopology, only one restriction is put on the way inwhich different types of entities are divided into layers. I add in Section 4 axioms requiringthat there is a layer consisting of all regions. It follows from these axioms that if there isonly one layer, then every individual is a region.3.3. Additional mereological relationsWe can use the formula schema z(cid:3)x(φ[x]) to introduce relational counterparts of fa-miliar Boolean operators. (D7)–(D9) are the standard mereological definitions of the sum,product, and difference relations. (D10) defines a relative complement relation.(D7) +(v, y, z) =: z(cid:3)x(Pxv ∨ Pxy)(z is the binary sum of v and y)(D8) ×(v, y, z) =: z(cid:3)x(Pxv & Pxy)(z is the binary product of v and y)(D9) −(v, y, z) =: z(cid:3)x(Pxy & ∼Oxv)(z is the difference of v in y)(D10) -(v, z) =: z(cid:3)x(Uxv & ∼Oxv)(z is the relative complement of v)The following existence theorems can be derived:(PT11) ∃z(+(x, y, z)) ↔ Uxy(x and y have a sum if and only if x and y underlap)(PT12) ∃z(×(x, y, z)) ↔ Oxy(x and y have a product if and only if x and y overlap)(PT13) ∃z(−(x, y, z)) ↔ ∼Pyx(there is a difference of x in y if and only if y is not part of x)156M. Donnelly / Artificial Intelligence 160 (2004) 145–172(PT14) ∃z(-(x, z)) ↔ ∼LYx(x has a relative complement if and only if x is not a layer)We can also derive the following correspondence between the relative complement re-lation and the difference relation.(PT15) -(x, z) ↔ −(x, l(x), z)(z is x’s relative complement if and only if z is the difference of x in x’s layer)Using (PT5) it is easy to prove that, when they exist, sums, products, and relative com-plements belong to the same layer as the original object(s). If it exists, the difference of xin y belongs to the same layer as y. This need not be also x’s layer. In fact, if x does notbelong to the same layer as y, then y itself is the difference of x in y.3.4. Layered Mereology and General Extensional Mereology (GEM)Meta-Theorem 1. Layered Mereology is a subtheory of GEM.Proof. It is obvious that (P1)–(P4) can be derived from the axioms of GEM—they are in-cluded in the axiomatization of GEM given in Section 3.1. (P5) is an obvious consequenceof (GEM5). To see that (P6) can also be derived, we need only note that∀x∀yUxyis a theorem of GEM. (Taking x = x for φ[x] in (GEM5), we can prove that there is anindividual of which every member of the domain is part.) It follows immediately that U istransitive (P6). (cid:1)Thus, any model of GEM is a one-layer model of Layered Mereology.Conversely, any one-layer model of Layered Mereology is a model of GEM. We canshow, more generally, that any layer of a model of Layered Mereology is a model of GEM.Meta-Theorem 2. Let M be any model of Layered Mereology with domain, D. Note thatM need not belong to the class of Layered Models defined in Section 2. Let P , O, U , lbe, respectively, the interpretations of P, O, U, l in M. Let c ∈ D and let Dc = {y: y ∈D & l(y) = l(c)}. Let Mc be the structure whose domain is Dc with P interpreted as P |Dc(i.e., the restriction of P to Dc). Then Mc satisfies axioms (P1)–(P4) and axiom schema(GEM5).Proof. Note that, because M is a model of Layered Mereology, whenever x ∈ Dc andeither (cid:1)x, z(cid:2) or (cid:1)z, x(cid:2) is a member of P , O, or U , then l(z) = l(x) = l(c) and z∈ Dc. Also,note that when P is interpreted as P |Dc in Dc, each defined relation of Layered Mereologyis interpreted as the restriction of its M-interpretation to Dc. For example, O and U areinterpreted in Mc as, respectively, O|Dc and U |Dc. Notice further that U |Dc is Dc × Dc.It follows trivially that, since P is a partial ordering, so is P |Dc. Thus, (P1)–(P3) aresatisfied in Mc.M. Donnelly / Artificial Intelligence 160 (2004) 145–172157To see that (P4) is satisfied in Mc, suppose that x, y∈ Dc and (cid:1)x, y(cid:2) /∈ P |Dc. Then (cid:1)x, y(cid:2) /∈P . Since (P4) is satisfied in M, there is some z∈ D such that (cid:1)z, x(cid:2) ∈ P & (cid:1)z, y(cid:2) /∈ O. Since(cid:1)z, x(cid:2) ∈ P , z∈ Dc. Thus, (cid:1)z, x(cid:2) ∈ P |Dc. Since (cid:1)z, y(cid:2) /∈ O, (cid:1)z, y(cid:2) /∈ O|Dc.For (GEM5): Let φ[x] be a first-order formula (with only x free) in an extension, T, ofLayered Mereology where the interpretation of each primitive of T on Dc is the restrictionof its interpretation on D. Suppose there is some b∈ Dc such that b satisfies φ[x] in Mc.Let φ∗[x] be a formula obtained from φ[x] by: (1) constructing a formula φ(cid:17)[x] equiva-lent to φ[x] in which only primitives of T occur and then (2) restricting the range of allquantification in φ(cid:17)[x] to Dc.Lemma 1. If x∈ Dc, then x satisfies φ∗[x] in M if and only if x satisfies φ[x] in Mc.Lemma 1 is proved by induction on the number of connectives in φ(cid:17)[x]. The proof istedious, but straightforward and will be omitted.Let b be a constant denoting b. Then:Lemma 2. (φ∗[x] & Uxb) is satisfied in M by x∈ D if and only if x satisfies φ[x] in Mc.Lemma 2 follows immediately from Lemma 1, and the fact that xsatisfies (φ∗[x] & Uxb)in M if and only if x satisfies φ∗[x] in M and x∈ Dc.By Lemma 2, since b satisfies φ[x] in Mc, b satisfies (φ∗[x] & Uxb) in M. Thus,(cid:2)φ(cid:3)∗[x] & Uxb.M |= ∃xAlso,(cid:2)(cid:2)(cid:2)(cid:3)∗[x] & Uxb(cid:2)φM |= ∀x, y∗[x/y] & Uyb(To see this, note that by the transitivity and symmetry of U, M |= ∀x, y((Uxb & Uyb) →Uxy).) Thus, since (P5) is satisfied in M,&φ.(cid:3)(cid:3)(cid:3)→ UxyM |= ∃z ∀w(cid:2)Owz ↔ ∃x(cid:2)(cid:2)(cid:3)φ∗[x] & Uxb(cid:3)(cid:3)& Owx.Let s be the unique member of D that satisfies(cid:2)∀wOwz ↔ ∃x(cid:2)(cid:2)(cid:3)φ∗[x] & Uxb& Owx(cid:3)(cid:3)in M. Since (cid:1)s, b(cid:2) ∈ O, s∈ Dc. I will show that s satisfies ∀w(Owz ↔ ∃x (φ[x] & Owx))in Mc:(i) Suppose (cid:1)w, s(cid:2) ∈ O|Dc. Then (cid:1)w, s(cid:2) ∈ O and there is x ∈ D such that x satisfies(φ∗[x] & Uxb) in M and (cid:1)w, x(cid:2) ∈ O. By Lemma 2, x satisfies φ[x] in Mc. Thus, w satisfies∃x(φ[x] & Owx) in Mc.(ii) Let w, x∈ Dc. Suppose (φ[x] & Owx) is satisfied in Mc when w is interpreted asw and x is interpreted as x. By Lemma 2, (φ∗[x] & Uxb) is satisfied by x in M. Since(cid:1)w, x(cid:2) ∈ O, ((φ∗[x] & Uxb) & Owx) is satisfied in M when w is interpreted as w and x isinterpreted as x. Thus, (cid:1)w, s(cid:2) ∈ O. So (cid:1)w, s(cid:2) ∈ O|Dc.It follows from (i) and (ii) that the assumptionMc |= ∃x φ[x]158M. Donnelly / Artificial Intelligence 160 (2004) 145–172impliesMc |= ∃z ∀w(cid:2)Owz ↔ ∃x(cid:2)φ[x] & Owx(cid:3)(cid:3).Thus, any instance of the axiom schema (GEM5) is satisfied in Mc.4. The region functionIn Layered Mereology, we have no way of stating that two objects coincide. LayeredMereology lets us describe the parthood relations between objects. It does not let us de-scribe the relative locations of objects. To do this, I extend Layered Mereology by addingthe unary function r which, on the intended interpretation, assigns each object, x, to theregion, r(x), at which x is exactly located. In Layered Models, r is interpreted as the func-tion r.Using r, we can define a one-place predicate, R, which distinguishes the sub-domain ofregions.(D11) Ry =: ∃x(r(x) = y)(y is a region)When r is interpreted as r in Layered Models, the interpretation of R is {xi ∈ D: i = 0}.The axioms for r are added to axioms (P1)–(P6).7 It is easy to check that they aresatisfied in Layered Models.(R1) Ry & Rz → Uyz(all regions are located in the same layer)(R2) Ry & Uyz → r(z) = z(every member of the region layer is its own region)The theorems below can now be derived.(RT1) Ry → r(y) = y(every region is located at itself)(RT2) r(r(x)) = r(x)(the region function is idempotent)(RT3) Ry & Uyz → Rz(every member of a region’s layer is a region)(RT4) ∀x(φ[x] → Rx) & z(cid:3)x(φ[x]) → Rz(every sum of regions is a region)Additional axioms relate the region function to parthood.(R3) Pxy → Pr(x)r(y)(if x is part of y, then x’s region is part of y’s region)7 All axioms specific to the r function are marked with “R”. Theorems specific to the r function are markedwith “RT”.M. Donnelly / Artificial Intelligence 160 (2004) 145–172159The following theorem is derived from (R3) and the mereological axioms.(RT5) Oxy → Or(x)r(y)(if x overlaps y, then x’s region overlaps y’s region)Notice that the converse of (R3) is not generally satisfied in Layered Models. r(xi) maybe part of r(yj) even though xi is not part of yj. This will be the case whenever x ⊆ y,but i (cid:4)= j. In fact, given the antisymmetry of P (P2) and the idempotency of r (RT2), theconverse of (R3) would imply that every member of the domain is identical to its region.Thus, the converse of (R3) would reduce the domain to a single layer of regions.On the other hand, in Layered Models, if P(r(xi), r(yj)) and i = j, then P(xi, yj) must alsohold. More generally, if O(r(xi), r(yj)) and i = j, then O(xi, yj) must also hold. I thereforeadd the following axiom.(R4) Uxy & Or(x)r(y) → Oxy(if x and y are on the same layer and x’s region overlaps y’s region, then x overlaps y)8From (R4), it follows that whenever the regions of two objects in the same layer stand ina given mereological relation, then the objects themselves also stand in that relation. Inparticular, we can derive the following theorem.(RT6) Uxy & Pr(x)r(y) → Pxy(if x and y are in the same layer and x’s region is part of y’s region, then x is part of y)Notice that, given (P1)–(P6) and (R1)–(R3), (R4) could not have been derived from(RT6). To see this, consider the model of (P1)–(P6), (R1)–(R3), and (RT6) whose domainconsists ofLayer 0: [0, 1]0, [1, 1]0, [1, 2]0, [0, 2]0Layer 1: [0, 1]1, [1, 2]1, [0, 2]1with both P and r interpreted as in Layered Models. Here, the region, [0, 1]0, of [0, 1]1overlaps the region, [1, 2]0, of [1, 2]1 ([1, 1]0 is a part of both), but [0, 1]1 and [1, 2]1 donot overlap. Thus, (R4) is not satisfied in this model.The structure described in the previous paragraph is not a Layered Model because itdoes not satisfy condition 4 of Section 2, requiring that whenever xi, yi ∈ D and x ∩ y (cid:4)= ∅,then (x ∩ y)i ∈ D. We can weaken this condition somewhat and still retain (R4),9 but (R4)at least requires that the overlap relations among objects on any given layer mirror those oftheir images in the region layer. If we wanted, for example, to allow regions to have point-like products, but material objects to have only three-dimensional products, then we wouldhave to give up (R4). We could allow such “mixed granularity” models if, for example, wereplaced (R4) with the weaker (RT6).8 To see that (R4) does not follow from the preceding axioms, consider the model of (P1)–(P6) and (R1)–(R3)whose domain consists of Layer 0: [0, 1]0; Layer 1: [0, 1]1, (1, 2]1, [0, 2]1 ; where P is interpreted as in LayeredModels, but r is interpreted so that [0, 1]0 is the region of all members of the domain. Here, the region of [0, 1]1overlaps the region of (1, 2]1, but [0, 1]1 and (1, 2]1 do not overlap.9 For example, if we wanted to restrict the first components of the ordered pairs to non-empty closed regularsubsets of the topological space, we could replace 4 with: if xi, yi ∈ D and int(x ∩ y) (cid:4)= ∅, then cl(int(x ∩ y))i ∈ D.160M. Donnelly / Artificial Intelligence 160 (2004) 145–172The relative location relations are defined formally in terms of the region function, r.(D12) CCoin(x, y) =: r(x) = r(y)(x and y completely coincide)(D13) Cov(x, y) =: Pr(x)r(y)(x is covered by y)(D14) Coin(x, y) =: Or(x)r(y)(x and y coincide)It is easy to check that when P is interpreted as P and r as r in Layered Models, CCoin,Cov, and Coin are interpreted as, respectively, CCoin, Cov, and Coin.The following theorems concerning these relations can be derived.(RT7) Coin(x, y) ↔ ∃z (Cov(z, x) & Cov(z, y))(x and y coincide if and only if there is some z that is covered by both x and y)(RT8) CCoin(x, y) ↔ Cov(x, y) & Cov(y, x)(x and y completely coincide if and only if y covers x and x covers y)(RT9) CCoin(x, y) & CCoin(x, z) & Uyz → y = z(any object can completely coincide with at most one object in any layer)(RT10) CCoin(x, y) & Uxy → x = y(if x and y completely coincide and are on the same layer, then x = y)(RT11) Cov(x, y) & Uxy → Pxy(if y covers x and x and y are on the same layer, then x is part of y)(RT12) Coin(x, y) & Uxy → Oxy(if x and y coincide and are on the same layer, then x and y overlap)(RT10)–(RT12) tell us that when two objects in the same layer stand in one of the rela-tive location relations above, then they must also stand in the corresponding mereologicalrelation. This implies, for example, that two parts of the same individual can coincide onlywhen they overlap.In addition to the theorems listed above, we can prove that CCoin is an equivalencerelation, that Cov is transitive and reflexive, and that Coin is symmetric and reflexive.Also, the implications illustrated in the diagram below can be derived. The arrow indicatesthat the atomic formula at the start of the arrow implies the atomic formula at the end ofthe arrow.Coin(x, y)OxyCov(x, y)PxyCCoin(x, y)x = yM. Donnelly / Artificial Intelligence 160 (2004) 145–1721615. Layered MereotopologyThe base theory can be extended to Layered Mereotopology in a straightforward wayby adding a connection relation, C, where Cxy means “x is connected to y”. I assume thatonly parts of the same maximal individual may be connected. For example, my hand isconnected to my forearm—they are parts of my body that touch one another. By contrast,the vase and its interior, as described in Section 2, are not connected because they do notbelong to the same maximal individual. Instead, the vase and its interior stand in the relativelocation relation, abuts.C is interpreted as C in Layered Models. The axioms for C are as follows.10(C1) Cxx(connection is reflexive)(C2) Cxy → Cyx(connection is symmetric)(C3) Pxy → ∀z(Czx → Czy)(if x is part of y, everything connected to x is connected to y)(C4) Cxy → Uxy(if x and y are connected, then they are parts of the same layer)(C5) Cxy → Cr(x)r(y)(if x and y are connected, their regions are also connected)(C6) Uxy & Cr(x)r(y) → Cxy(if x and y are members of the same layer and their regions are connected, then x and y areconnected)The external connection relation is defined in terms of C and O in the usual way.(D15) ECxy =: Cxy & ∼Oxy(x and y are externally connected: x and y are connected but do not overlap)It follows immediately that external connection, like connection, can only hold amongparts of the same layer.(CT1) ECxy → UxyThe relative location relations meets (M) and abuts (A) are defined in terms of theregion function:(D16) Mxy =: Cr(x)r(y)(x and y meet: their regions are connected)(D17) Axy =: ECr(x)r(y)(x and y abut: their regions are externally connected)10 Axioms specific to Layered Mereotopology are marked with a “C”. Theorems are marked with “CT”.162M. Donnelly / Artificial Intelligence 160 (2004) 145–172For example, the vase and its interior both meet and abut. The flower standing in thevase meets, but does not abut, the interior of the vase.It is easy to check that if C is interpreted as C in Layered Models, then M is interpretedas M and A is interpreted as A.We can prove that M is reflexive and symmetric and that both EC and A are irreflexiveand symmetric. We can also derive the following theorems:(CT2) Cxy → Mxy(if x and y are connected, then x and y meet)(CT3) ECxy → Axy(if x and y are externally connected, then x and y abut)(CT4) (Uxy & Mxy) → Cxy(if x and y are on the same layer and they meet, then they are connected)(CT5) (Uxy & Axy) → ECxy)(if x and y are on the same layer and they abut, then they are externally connected)(CT6) Axy ↔ (Mxy & ∼ Coin(x, y))(x and y abut if and only if they meet and do not coincide)The tangential part relation, TP, is usually defined in terms of external connection asfollows (see, for example, [1,9]):TPxy =: Pxy & ∃z(ECzx & ECzy)(∗∗)This definition is not appropriate for Layered Mereotopology. To see why, consider theLayered Model whose underlying topological space is (cid:8) with its standard topology andwhose layers have the members of the following sets as parts:Layer 0: {x0: ∅ (cid:4)= x ⊆ (cid:8)}Layer 1: {x1: ∅ (cid:4)= x ⊆ [0, 1]}It would follow from the standard definition of TP that [0, 1]1 has no tangential parts, sinceit is not externally connected to any member of the domain. For example, it would followthat [0, 0]1 and [1, 1]1 are not tangential parts of [0, 1]1.In the context of Layered Mereotopology, (∗∗) would tell us that no maximal individualhas any tangential parts. Thus, for example, if a human body were considered a maximalobject, (∗∗) would not enable us to distinguish between external body parts, like fingersand skin, and internal body parts, like the heart.I will therefore use instead the following definition of tangential part:(D18) TPxy =: Pxy & ∃z(Azx & Azy)(x is a tangential part of y: x is part of y and there is some z such that z abuts both x and y)Applying this definition to the previous model, it turns out that any part of [0, 1]1 thatcontains either [0, 0]1 or [1, 1]1 is a tangential part of [0, 1]1. More generally, it followsfrom (D18) that, for objects x and y in the same layer, x is a tangential part of y if and onlyif x’s region is a tangential part of y’s region:M. Donnelly / Artificial Intelligence 160 (2004) 145–172163(CT7) Uxy → (TPxy ↔ TPr(x)r(y)).Interior parthood is then defined as usual:(D19) IPxy =: Pxy & ∼TPxy(x is an interior part of y)It may be useful to add cross-layer counterparts of the tangential part and interior partrelations:(D20) T Cov(x, y) =: TPr(x)r(y)(x is t-covered by y: x’s region is a tangential part of y’s region)(D21) I Cov(x, y) =: IPr(x)r(y)(x is i-covered by y: x’s region is an interior part of y’s region)With these two additional relations we can, for example, distinguish between the way inwhich a table is covered by a room’s interior (t-covered) and the way in which a computeron the table is covered by the room’s interior (i-covered).If desired, relational counterparts of topological operators can be added in the usualway. For instance, an object’s interior can be defined as the sum of its interior parts:(D22) INT(y, z) =: z(cid:3)x(IPxy)(z is the interior of y)Since each layer of any model of Layered Mereology is a model of GEM (Section 2,Meta-theorem 2), it is trivial to show that each layer of any model of Layered Mereotopol-ogy is a model of the standard mereotopology which uses (∗∗) as the definition of tangen-tial parthood and includes axioms (C1)–(C3) in addition to those of GEM. (See [7] for adiscussion of this mereotopology.) However, notice that the interpretations of TP and IPon the reduced single-layer models may not match their interpretations on the larger multi-layer model. In the standard mereotopological model whose domain is limited to Layer 1of the previous example (with P and C interpreted as in the Layered Model),(cid:4)x1: ∅ (cid:4)= x ⊆ [0, 1](cid:5)[0, 1]1 does not have any tangential parts.Though the separate layers within a model of Layered Mereotopology function indepen-dently as mereological structures, they are not entirely independent as mereotopologicalstructures. It is an obvious consequence of definition (D18) that we may need to look atthe spatial structure beyond an object’s layer to determine whether it has any tangentialparts.Itleast, must always have aself-contained mereotopological structure. When the domain of any model of LayeredMereotopology is restricted to the region layer and P and C are interpreted as in the largermodel, then the interpretations of EC, TP, and IP (with TP defined via (∗∗)) will alwaysbe the restrictions to the region layer of their interpretations in the larger model.is easy to see, however, thatthe region layer, atThe overall strategy of Layered Mereotopology can be summarized as follows: the spa-tial domain is partitioned into layers in such a way that mereotopological relations hold164M. Donnelly / Artificial Intelligence 160 (2004) 145–172only among parts of the same layer. This allows us, when the context warrants, to down-size to a more standard single-layer mereotopological model, as long as care is taken withthe interpretations of TP and IP. The weaker cross-layer relative location relations are dis-tinct from the mereotopological relations in multiple-layered models, but collapse into theirmereotopological counterparts when the domain consists of a single layer.My goal in developing Layered Mereotopology has been to formulate a theory for mixedspatial domains in which the relative location relations are distinct from the mereotopolog-ical relations. I have tried to make the theory flexible on other ontological issues so thatit will be compatible with a variety of positions. For example, Layered Mereotopology al-lows models in which each member of the domain is the sum of atoms as well as models inwhich every member of the domain has a proper part. Also, as discussed in Section 3, thelayers may be interpreted so as to include either all or only some entities of a given type.Thus the theory is compatible with the assumption that there is a sum of any collection ofmaterial objects. But it is also compatible with the assumption that common-sense objects(tables, chairs, etc.) are maximal individuals.Some slight changes in the underlying mereotopology can be easily made to accom-modate different assumptions about the relation between parthood and connection. Forinstance, we could use a stronger version of (C3), in which the implication is replaced bya biconditional. In this case, each layer would be a model of the stronger mereotopologythat uses the biconditional instead of (C3).The purpose of the final part of this paper is to discuss two more substantial possiblechanges in Layered Mereotopology. In Section 6, I present an alternate version of LayeredMereotopology in which the summation requirements are weakened. In Section 7, I presenta version of Layered Mereotopology that does not assume its domains contain a distinctlayer of regions.6. Layered Mereotopology with Weakened Summation requirementsAt one extreme, the spatial domain can be represented in terms of Layered Mereotopol-ogy as a single-layer model. (P5) would then imply that there is a sum of any nonemptycollection of spatial entities satisfying a given formula φ[x]. (R1) and (R2) would implythat every member of the spatial domain is a region.At the other extreme, we can treat each common-sense individual (my table, the interiorof your coffee cup) as a maximal individual. On this interpretation, there could be no sumof all material objects, no sum of all holes, and so on. But, (P5) would still require thatthere is a sum of any nonempty collection of parts of a given maximal individual satisfyinga formula φ[x]. Thus, for example, given that all four legs of my table are parts of thetable, (P5) requires that the table has as additional parts the sums of any two of its legs(e.g., the sum of the back left leg and the right front leg). In particular, (P5) requires herethat there are scattered material objects, where a scattered object is an object that is thesum of disconnected parts (like the table legs).These sums, though perhaps unintuitive, are not necessarily problematic. After all, wecan, when it is convenient, talk comfortably about scattered sums such as my pair of gloves.Nevertheless, if desired, it is easy to construct a weaker version of Layered MereotopologyM. Donnelly / Artificial Intelligence 160 (2004) 145–172165which does not commit us to arbitrary sums of the parts of a given maximal individual.I will call the weaker version of the full theory Weak Summation Layered Mereotopology(WSLM).WSLM can be axiomatized by deleting (P5*) (which asserts that if some member ofthe domain satisfies φ[x] and all φ-ers are part of the same maximal individual, then thereis a sum of all φ-ers) from the alternative axiomatization for Layered Mereology given inSection 3.2. The region function axioms and topological axioms are left unchanged. Theaxioms for WSLM are, then, (P1)–(P4), (P6*), (R1)–(R4), and (C1)–(C6).Surprisingly, we lose very few of the theorems listed in Sections 3–5 in WSLM. Ofthese, only (PT11)–(PT14) (the theorems giving the conditions for the existence of binarysums, binary products, differences, and relative complements) are not also theorems ofWSLM. In particular, when the layer relation, L, and the layer predicate, LY, are definedas in Section 3, we can still prove that every individual has a layer and that being a layer isequivalent to being a maximal individual:11(WSLMT1) ∀y ∃z Lyz(WSLMT2) LYz ↔ MIz.In addition, (P6) of the original axiomatization of Layered Mereology is a theorem ofWSLM:(WSLMT3) Uxy & Uyz → Uxz(underlap is transitive)In WSLM, as opposed to Layered Mereotopology, we are free to hold that some materialobjects consist only of nonoverlapping, self-connected proper parts. We may, if we like,hold that only its top and its four separate legs are proper parts of my table. Alternatively,we may hold that there are sums of the collection of all instances of a given universal (thesum of all tables, the sum of all human bodies), but not sums of random sub-collections ofthese (the sum of my table and your table).Since WSLM is a subtheory of Layered Mereotopology, all models of LayeredMereotopology, including the Layered Models of Section 2, are models of WSLM. Butwe obtain a broader class of models for WSLM (call them WS Layered Models) by inter-preting P, r, and C, as in Layered Models but replacing condition 2 on the domains of themodels with:2∗. Let Yi = {x: x ⊆ X & xi ∈ D}. Then, Li =(cid:2) (cid:1)y∈Yi(y)(cid:3)i∈ D.Conditions 1, 3, and 4 are retained in their original forms. Condition 2∗ requires only thatthe sum of all pairs with the same second coordinate (i.e., belonging to the same layer)belong to the domain. It replaces the much stronger condition 2 which required that foreach i ∈ I , Yi = {x: x ⊆ X & xi ∈ D} is closed under finite and infinite unions. 2∗ requiresonly that(cid:1)y∈Yi(y) be in Yi.11 Theorems of WSLM are marked with “WSLMT”.166M. Donnelly / Artificial Intelligence 160 (2004) 145–172Fig. 2.An example of a WS Layered Model that is not also a Layered Model is the single-layered model with the following domain:Layer 0: [0, 1]0, (1, 2)0, [2, 3]0, [0, 3]0Here, there is a sum, [0, 3]0, of all members of Layer 0, but no sum of [0, 1]0 and (1, 2)0,of (1, 2)0 and [2, 3]0, or of [0, 1]0 and [2, 3]0 (see Fig. 2).Intermediate theories between WSLM and Layered Mereotopology can be obtained byadding axioms to WSLM. For example, either of the following axioms, when added toWSLM, yields a somewhat stronger theory.(i) Cxy → ∃z + (x, y, z)(if x and y are connected, there is a sum of x and y)(ii) Uxy → ∃z + (x, y, z)(if x and y underlap, there is a sum of x and y)(i) and (ii) are both theorems of Layered Mereotopology. Neither is satisfied by the four-element WS Layered Model above. (i) would be satisfied if the domain were extended asfollows:Layer 0: [0, 1]0, (1, 2)0, [2, 3]0, [0, 2)0, (1, 3]0, [0, 3]0(ii) requires that, in addition, the model contains a sum of [0, 1]0 and [2, 3]0. It would besatisfied if the domain were further extended to include ([0, 1] ∪ [2, 3])0. With this lastaddition, the model qualifies as a Layered Model. But even if (ii) is added to WSLM, theresulting theory is still weaker than Layered Mereotopology. For example, the WS LayeredModel with the domainLayer 0: {x0: x is a non-empty closed subset of (cid:8)}satisfies (ii) and the axioms of WSLM, but is not a model of Layered Mereotopology.1212 To see that this structure is not a model of Layered Mereotopology, notice that, for example, there is nodifference of [0, 1]0 in [0, 2]0 in this model.M. Donnelly / Artificial Intelligence 160 (2004) 145–1721677. Region-Free Layered MereotopologyLayered Mereotopology assumes that the spatial domain includes a special collectionof entities, the regions, which cover the entire space in the sense that every member ofthe domain completely coincides with some region. We can think of the region layer asthe fixed background structure of all possible locations in the universe. In this sense, theregions act like parts of a Newtonian absolute space.In Layered Mereotopology, all relative location relations (Coin, Cov, CCoin, M, A) aredefined in terms of regions. We might wonder whether we can introduce these relationswithout regions. There are at least two reasons for investigating a region-free variant ofLayered Mereotopology. The first is that there are some good philosophical and scientificreasons for at least being cautious about, if not for rejecting outright, the assumption thatthere is some immaterial structure in which all spatial entities are located. See, for exam-ple, Leibniz’s criticism of the Newtonian view in his correspondence with Clarke [12] anda more contemporary discussion in [16]. Secondly, even if we do accept some kind of back-ground spatial structure theoretically, in many practical contexts we seem to reason aboutthe relative locations of spatial entities without reference to their regions. For example, torepresent a table as contained in (in my terminology: covered by) the interior of a room,we do not seem to need to refer to the regions at which the table and the interior of theroom are located.Regions are likely to be useful for reasoning about motion in a time-inclusive version ofLayered Mereotopology. They may also be useful for reasoning about more sophisticatedspatial relations, such as orientation and distance relations. These seem to assume somekind of underlying structure similar to a Euclidean space. But for static reasoning about thefairly simple relations introduced in this paper, we may want to do without the assumptionthat there is a separate region layer.The purpose of this section is to propose a variant of Layered Mereotopology whichI shall call Region-Free Layered Mereotopology (RFLM). The mereological subtheory ofRFLM is just Layered Mereology. There is no region function in RFLM. Instead, the binaryrelation Cov is treated as a primitive.On the intended interpretationCov(x, y)means:x is contained in y.Here “contained in” is to be understood in the sense of “the water is contained in theinterior of the vase” (i.e., the water occupies part of the interior of the vase) not in thesense of “the water is contained in the vase” (i.e., the water is partially surrounded andheld in place by the vase). This interpretation of the Cov relation is consistent with theintended interpretation of Cov in Layered Mereotopology.Coincidence and complete coincidence are defined in terms of Cov as follows:1313 Axioms specific to RFLM are marked with “RF”, definitions with “RFD”, and theorems with “RFT”.168M. Donnelly / Artificial Intelligence 160 (2004) 145–172(RFD1) Coin(x, y) =: ∃z (Cov(z, x) & Cov(z, y))(x and y coincide: there is some z that is covered by both x and y)(RFD2) CCoin(x, y) =: Cov(x, y) & Cov(y, x)(x and y completely coincide: x is covered by y and y is covered by x)Axioms for the Cov relation are:(RF1) Cov(x, y) & Cov(y, z) → Cov(x, z)(Cov is transitive)(RF2) Pxy → Cov(x, y)(if x is part of y, then x is covered by y)(RF3) Uxy & Coin(x, y) → Oxy(if x and y are parts of the same layer and x coincides with y, then x overlaps y)Notice that counterparts of (RF1)–(RF3) are theorems of Layered Mereotopology.It is easy to see that, in RFLM as in Layered Mereotopology, Cov is reflexive, CCoinis an equivalence relation, and Coin is reflexive and symmetric. In addition, the follow-ing theorems can be derived from (P1)–(P6) and (RF1)–(RF3). All of their counterpartsusing the relative location relations of Layered Mereotopology are theorems of LayeredMereotopology.(RFT1) Oxy → Coin(x, y)(if x overlaps y, then x coincides with y)(RFT2) Uxy & Cov(x, y) → Pxy(if x and y are in the same layer and x is covered by y, then x is part of y)(RFT3) CCoin(x, y) & CCoin(x, z) & Uyz → y = z(any object can completely coincide with at most one object in any layer)(RFT4) CCoin(x, y) & Uxy → x = y(if x and y completely coincide and are on the same layer, then x = y)To transform Layered Models into region-free models, we need to eliminate the r func-tion and delete the first condition on the domains (stating that x0 ∈ D, whenever xi ∈ D).When P is interpreted as P and Cov as Cov, axioms (P1)–(P6) and (RF1)–(RF3) are sat-isfied. But notice that now Coin need not correspond to the relation Coin. For example,consider the model with the following two-element domain:Layer 0: [0, 2]0Layer 1: [1, 3]1Here (cid:1)[0, 2]0, [1, 3]1(cid:2) ∈ Coin, since [0, 2] ∩ [1, 3] (cid:4)= ∅. But nothing in this domain is cov-ered by both [0, 2]0 and [1, 3]1. Thus, [0, 2]0 and [1, 3]1 do not stand in the Coin relationdefined in (RFD1).Analogous unintended interpretations would have arisen if either Coin or CCoin weretreated as the primitive in terms of which the remaining two relations were defined.M. Donnelly / Artificial Intelligence 160 (2004) 145–172169A solution is to strengthen the conditions on the domains of the models in order tomake up for the loss of the region layer. As the background collection of all possiblelocations, the region layer had served as the finest possible grid in terms of which the spatialstructure of all members of the domain could be analyzed. Layered Mereotopology allowsthat the parthood structure of an arbitrary pair of entities may be too coarse for determiningtheir relative location relations (as it is above in the case of [0, 2]0 and [1, 3]1). Sincerelative location is determined in Layered Mereotopology by relations among regions, weneed only assume that the regions have a clear spatial structure. When the region layer iseliminated, we need to strengthen our assumptions about the spatial structure of arbitrarymembers of the domain. One minimal way of doing this is by replacing condition 4 on thedomains of the models with the following stronger condition:4∗. If xi, yj ∈ D and x ∩ y (cid:4)= ∅, then (x ∩ y)i ∈ D or (x ∩ y)j ∈ D.4∗ requires that whenever two entities coincide, at least one of them has a part that corre-sponds to their common location. For example, if a table is only partly in a room, then thereis a part of the table or a part of the interior of the room (or a part of each) that representstheir common location.I will call the structures whose domains conform to conditions 2, 3, and 4∗, with all ofthe relations of Section 2 except r, RF Layered Models. It is easy to check that when Pis interpreted as P and Cov as Cov in RF Layered Models, axioms (P1)–(P6) and (RF1)–(RF3) are satisfied, CCoin is interpreted as CCoin, and Coin is interpreted as Coin.For the purposes of adding topological relations to RFLM, the cross-layer relation, M,rather than the intra-layer relation, C, should be treated as primitive. Again, the loss of theregion layer makes definitions of relative location relations problematic. We cannot assumethat the meeting of a pair of entities from different layers is reflected by the connecting ofa corresponding pair in a single layer. The interior of my glass meets the walls of the glass.But, unless we assume a background structure of regions, there seems to be no completelycoincident pair that stands in the connection relation. As another example, consider thefollowing domain of a RF Layered Model.Layer 0: [0, 1]0Layer 1: (1, 2]1(cid:1)[0, 1]0, (1, 2]1(cid:2) ∈ M, but C is just the identity relation in this model. There is no pair in Cwhose coordinates completely coincide with those of (cid:1)[0, 1]0, (1, 2]1(cid:2).Axioms for the meets relation (M) can be given as follows.(RF4) Mxx(M is reflexive)(RF5) Mxy → Myx(M is symmetric)(RF6) Pxy → ∀z(Mzx → Mzy)(if x is part of y, then everything that meets x also meets y)170M. Donnelly / Artificial Intelligence 160 (2004) 145–172The counterparts of (RF4)–(RF6) using the meets relation defined in Section 5 are alltheorems of Layered Mereotopology.Connection (C) and abutment (A) are defined in RFLM as(RFD3) Cxy =: Uxy & Mxy(x and y are connected: x and y are on the same layer and x and y meet)(RFD4) Axy =: Mxy & ∼ Coin(x, y)(x and y abut: x and y meet but do not coincide)External Connection (EC), Tangential Parthood (TP), and Interior Parthood (IP) are de-fined as in Layered Mereotopology.It is easy to see that counterparts of axioms (C1)–(C6) are theorems of RFLM. Thecounterparts of (C5) and (C6) (the two axioms that use the region function) are:(RFT5) Cxy → Mxy(if x and y are connected, then they meet)(RFT6) Uxy & Mxy → Cxy(if x and y are in the same layer and they meet, then they are connected)Counterparts of all of the other theorems listed in Section 5 are also theorems of RFLM.When P is interpreted as P, Cov as Cov, and M as M in RF Layered Models, all of theaxioms of RFLM are satisfied and all of the defined relations are interpreted as intended.8. Conclusions, applications, and further workThe goal of this paper was to construct a mereotopology for domains that include co-incident but non-overlapping entities. The result is an extension of mereotopology thatincludes relative location relations and a region function in addition to mereotopologicalrelations.The models given for Layered Mereotopology and its variants make explicit the in-tended interpretations of the relations introduced in the theories and show that each theoryis sound. One important project for further work is to determine whether each theory iscomplete with respect to its target class of models and, if not, to further strengthen itsaxioms.Layered Mereotopology and its variants are particularly appropriate for applicationsthat involve reasoning about objects that are located in holes. Reasoning about holes iscrucial in a wide variety of domains, including medicine (body cavities and orifices, see[14]) and mechanics (valves, pathways formed by piping). For more examples and a furtherdiscussion of holes, see [6].The distinction between mereotopological and relative location relations is also criticalfor geospatial sciences such as epidemiology and meteorology. Here, we locate entitiessuch as collections of bacteria or storm systems relative to geopolitical entities such citiesor countries, but we do not treat the epidemiological or meteorological phenomena as partsof the geopolitical entities in which they are located. For further discussion of the applica-tion of Layered Mereotopology to geospatial sciences see [10].M. Donnelly / Artificial Intelligence 160 (2004) 145–172171Layered Mereotopology and its variants allow the same mereotopological relations toapply directly to all spatial entities, including regions, material objects, and holes. This ap-proach is an alternative to that of [8] in which mereotopological relations apply to materialobjects only indirectly, via the spatial regions at which they are located. One advantage ofallowing direct descriptions of the mereotopological properties of material objects is thatthis leaves open the possibility of attributing different structures to material objects andthe regions at which they are located. For example, we may wish to represent material ob-jects as having only closed, regular, divisible parts, but represent spatial regions as sums ofpoints. Slight changes in the conditions on the domains of Layered Models (specifically,condition 4) and in the axioms of Layered Mereotopology (specifically, (R4)) would allowmodels in which the parts of different layers are restricted to different granularities.AcknowledgementsI am grateful for the helpful comments of Barry Smith, Jonathan Simon, Thomas Bit-tner, and three anonymous reviewers on previous drafts of this paper. This work wassupported by the Alexander von Humbolt Foundation under the auspices of its WolfgangPaul Program.References[1] N. Asher, L. Vieu, Towards a geometry of commonsense: a semantics and a complete axiomatization ofmereotopology, in: Proceedings of IJCAI ’95, Morgan Kaufmann, San Mateo, CA, 1995, pp. 846–852.[2] B. Bennett, Space, time, matter, and things, in: C. Welty, B. Smith (Eds.), Proceedings of FOIS ’01, ACMPress, New York, 2001, pp. 105–116.[3] L. Biacino, G. Gerla, Connection structures, Notre Dame J. Formal Logic 32 (1991) 242–247.[4] S. Borgo, N. Guarino, C. Masalo, A pointless theory of space based on strong connection and congruence, in:L.C. Aiello, S. Shapiro (Eds.), Proceedings of KR ’96, Morgan Kaufmann, San Mateo, CA, 1996, pp. 220–229.[5] S. Borgo, N. Guarino, C. Masalo, An ontological theory of physical objects, in: L. Ironi (Ed.), Proceedingsof QR ’97, Cortona, Italy, 1997, pp. 223–231.[6] R. Casati, A.C. Varzi, Holes and Other Superficialities, MIT Press, Cambridge, MA, 1994.[7] R. Casati, A.C. Varzi, Parts and Places. The Structures of Spatial Representation, MIT Press, Cambridge,MA, 1999.[8] A.G. Cohn, Formalizing bio-spatial knowledge, in: C. Welty, B. Smith (Eds.), Proceedings of FOIS ’01,ACM Press, New York, 2001, pp. 198–209.[9] A.G. Cohn, A.C. Varzi, Connection relations in mereotopology, in: H. Prade (Ed.), Proceedings of ECAI’98, Wiley, New York, 1985, pp. 150–154.[10] M. Donnelly, B. Smith, Layers: A new approach to locating objects in space, in: W. Kuhn, M.F. Worboys,S. Timpf (Eds.), Spatial Information Theory: Cognitive and Computational Foundations of Geographic In-formation Science, in: Lecture Notes in Comput. Sci., vol. 2825, Springer, Berlin, 2003, pp. 50–65.[11] N.M. Gotts, J.M. Gooday, A.G. Cohn, A connection based approach to commonsense topological descrip-tion and reasoning, The Monist 79 (1996) 51–75.[12] G.W. Leibniz, in: L. Loemker (Ed.), Philosophical Papers and Letters, vol. 2, Kluwer Academic, Dordrecht,1989.[13] H.S. Leonard, N. Goodman, The calculus of individuals and its uses, J. Symbolic Logic 5 (1940) 45–55.[14] J.L.V. Mejino, C. Rosse, Conceptualizations of anatomical spatial entities in the digital anatomist founda-tional model, in: Proceedings of the AMIA Symposium ’99, 1999, pp. 112–116.172M. Donnelly / Artificial Intelligence 160 (2004) 145–172[15] S. Schulz, U. Hahn, Mereotopological reasoning about parts and wholes in bio-ontologies, in: C. Welty, B.Smith (Eds.), Proceedings of FOIS ’01, ACM Press, New York, 2001, pp. 210–221.[16] L. Sklar, Space, Time, and Spacetime, University of California Press, Berkeley, CA, 1974.[17] B. Smith, Mereotopology: a theory of parts and boundaries, Data & Knowledge Engineering 20 (1996)287–303.[18] A. Tarski, Foundations of the Geometry of Solids, in: Logic, Semantics, and Metamathematics, ClarendonPress, Oxford, 1956, trans. J.H. Woodger.