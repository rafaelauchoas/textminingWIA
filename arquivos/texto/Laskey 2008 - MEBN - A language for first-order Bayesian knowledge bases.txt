Artiﬁcial Intelligence 172 2008 140178 wwwelseviercomlocateartint MEBN A language ﬁrstorder Bayesian knowledge bases Kathryn Blackmond Laskey Department Systems Engineering Operations Research MS4A6 George Mason University Fairfax VA 22030 USA Received 1 March 2006 received revised form 13 August 2007 accepted 10 September 2007 Available online 4 October 2007 Abstract Although classical ﬁrstorder logic facto standard logical foundation artiﬁcial intelligence lack builtin semantically grounded capability reasoning uncertainty renders inadequate important classes problems Probability bestunderstood widely applied formalism computational scientiﬁc reasoning uncertainty Increasingly expressive languages emerging fundamental logical basis probability This paper presents Multi Entity Bayesian Networks MEBN ﬁrstorder language specifying probabilistic knowledge bases parameterized fragments Bayesian networks MEBN fragments MFrags instantiated combined form arbitrarily complex graphical prob ability models An MFrag represents probabilistic relationships conceptually meaningful group uncertain hypotheses Thus MEBN facilitates representation knowledge natural level granularity The semantics MEBN assigns probabil ity distribution interpretations associated classical ﬁrstorder theory ﬁnite countably inﬁnite domain Bayesian inference provides proof theory combining prior knowledge observations learning theory reﬁning repre sentation evidence accrues A proof given MEBN represent probability distribution interpretations ﬁnitely axiomatizable ﬁrstorder theory 2007 Elsevier BV All rights reserved Keywords Bayesian network Graphical probability models Knowledge representation Multientity Bayesian network Probabilistic logic Uncertainty artiﬁcial intelligence 1 Introduction Firstorder logic primary logical systems theoretical practical standpoint It proposed unifying logical foundation deﬁning extended logics interchanging knowledge applica tions written different languages However applicability limited lack coherent semantics plausible reasoning Among proposed logics plausible inference probability strongest contender universal standard comparison plausible reasoning systems Probability proved worth applications wide variety problem domains rationally justiﬁed calculus plausible inference uncertainty 18364169 Application probability complex openworld problems requires languages based expressive probabilistic logics The development sufﬁciently expressive probabilistic logics hindered lack modularity probabilistic reasoning intractability worstcase probabilistic inference difﬁculty ensuring Email address klaskeygmuedu 00043702 matter 2007 Elsevier BV All rights reserved doi101016jartint200709006 KB Laskey Artiﬁcial Intelligence 172 2008 140178 141 probability assessments rise welldeﬁned unique probability distribution The number probabilities required express fully general probability distribution truthvalues collection assertions exponen tial number assertions making bruteforce approach speciﬁcation inference infeasible simplest problems These difﬁculties addressed exploiting independence relationships achieve parsimonious representation efﬁcient inference 5961 Recent years seen rapid evolution increasingly powerful languages computational probabilistic reasoning 101627303135404344464856606466 6871 This paper presents multientity Bayesian networks MEBN language representing ﬁrstorder probabilistic knowledge bases The fundamental unit representation MEBN MFrag parameterized Bayesian network fragment represents uncertain relationships small collection related hypotheses MFrags allow knowl edge speciﬁed natural level granularity Dependence relationships local distributions speciﬁed conceptually meaningful clusters related hypotheses An MFrag instantiated multiple times binding ar guments different entities MEBN provides compact language expressing complex graphical models repeated structure A MEBN theory consists set MFrags satisﬁes consistency conditions ensuring existence unique probability distribution random variables MEBN theories reason consistently complex expressions involving nested function application arbitrary logical formulas quantiﬁcation The remainder paper organized follows Section 2 provides overview formalisms knowledge representation reasoning uncertainty Section 3 deﬁnes MEBN language Section 4 deﬁnes semantics presents results expressive power discusses inference Section 5 reviews current research expressive ﬁrst order languages The ﬁnal section summary discussion Proofs algorithms given Appendix A 2 Probability logic Davis 17 deﬁnes logic schema deﬁning languages reason entities different mains application Certain key issues representation inference arise variety application domains A logic encodes particular approaches issues form reused languages domains theories By far commonly studied implemented logical ﬁrstorder logic FOL invented independently Frege Peirce late nineteenth century 2462 Firstorder logic applied deﬁning set axioms sentences assertions domain The axioms set logical consequences axioms comprise theory domain Until referents symbols speciﬁed theory syntactic structure devoid meaning An interpretation theory speciﬁes deﬁnition constant predicate function symbol terms domain Each constant symbol denotes speciﬁc entity predicate denotes set containing entities predicate holds function symbol denotes function deﬁned domain The logical consequences set axioms consist sentences true interpretations called valid sentences Specialpurpose logics built ﬁrstorder logic predeﬁned meaning reserved constant function andor predicate symbols Such logics provide builtin constructs useful applications There logics provide stants predicates functions reasoning types space time parts wholes actions plans When logic applied reason particular domain modeler assigns meaning additional domain speciﬁc symbols provides axioms assert important properties intended referents Formal ontologies 3370 usually expressed languages based ﬁrstorder logic subsets A ﬁrstorder theory implies truthvalues valid sentences negations provides means evaluate plausibility sentences Plausible reasoning fundamental intelligence plausible reason ing logics active area research artiﬁcial intelligence Because probability truthfunctional naïve attempts generalize standard logical connectives quantiﬁers create combining rules probabil ities encountered difﬁculties Graphical probability models popular parsimonious language representing knowledge uncertain phenomena formalism representing probabilistic knowledge logically coherent manner architecture support efﬁcient algorithms inference search optimization learning A graphical probability model expresses probability distribution collection related hypotheses graph collection local probability distributions The graph encodes dependencies hypotheses The local probability distributions specify numerical probability information Together graph local dis 142 KB Laskey Artiﬁcial Intelligence 172 2008 140178 Fig 1 Bayesian network diagnostic task tributions specify joint distribution respects conditional independence assertions encoded graph marginal distributions consistent local distributions 1442506175 A Bayesian network 4259 61 graphical probability model dependency graph acyclic directed graph An example Bayesian network diagnostic task given Fig 1 This Bayesian network represents joint distribution Cartesian product possible values random variables depicted graph Some authors assume random variables Bayesian network ﬁnitely possible values Some require random variable associated function mapping values parents probability distributions set possible values In unconstrained local distribution ﬁnitecardinality random variables separate probability speciﬁed value random variable given combination values parents Because complexity specifying local distributions exponential number parents constrained families local distributions simplify speciﬁcation inference Examples include contextspeciﬁc independence 8265355 independence causal inﬂuence ICI models noisy 4261 When random variable andor parents inﬁnitely possible values local distributions listed explicitly speciﬁed parameterized functions local expression languages 15 When random variable uncountable set possible values local distributions specify probability density functions respect measure set possible outcomes cf 621 The simple attributevalue representation standard Bayesian networks insufﬁciently expressive prob lems For example Bayesian network Fig 1 applies single piece equipment located particular room owned maintained single organization We need consider problems involve multiple orga nizations owns maintains multiple pieces equipment different types rooms contain items equipment The room temperature air conditioner status random variables value colocated items maintenance practice random variable value items owner Standard Bayesian networks provide way compactly representing correlation failures colocated andor commonly owned items equipment properly accounting cor relations learning observation For reason extensions Bayesian network formalism developed provide greater expressivity Objectoriented Bayesian networks OOBNs probabilistic relational models PRMs provide natural way represent uncertainty attributes instances different types objects objects given type attributes drawn distribution cf 63 That provide direct way represent uncertainty values unary functions relations Representing uncertainty nary functions relations cumbersome One reify nelement argument sequence deﬁne attribute reiﬁed entity represent desired function specify distribution attribute KB Laskey Artiﬁcial Intelligence 172 2008 140178 143 Unlike OOBNs PRMs logicbased languages 60 represent nary functions relations straightforward way Whereas unit expression OOBNs PRMs object type attributes unit expression logicbased languages local distribution individual term language Like logicbased languages MEBN represent uncertainty values nary functions relations natural way An attractive feature MEBN distributions speciﬁed conceptually meaningful clusters related hypotheses This unit representation facilitates modular speciﬁcation MFrag knowledge bases Unlike PRMs OOBNs hypotheses represented given MFrag need attributes single entity single reiﬁed list entities refer attributes relations different entities The arguments random variables deﬁned level MFrag Therefore MFrag instantiated occurrences given argument bound entity This constraint useful applications natural specify MEBN cumbersome represent languages In respects MEBN similar plate language 30 language unit representation cluster related random variables However plates express nested function application uncertainty existence type number These kinds uncertainty easily expressed MEBN The natural semantics ﬁrstorder probabilistic languages extension ﬁrstorder model theory assigns probabilities sets interpretations cf 67 Section 146 All formalisms given kind declarative semantics That probabilistic knowledge base formalisms translated set ﬁrstorder axioms deﬁning set possible worlds ii statements allow probabilities assigned consistent way sets possible worlds optionally iii context axioms index proba bility distributions A probabilistic knowledge base speciﬁes probability distribution possible worlds languages family probability distributions indexed contexts Different languages power express different subsets ﬁrstorder logic different implications tractable inference particular classes problem Development probabilistic languages vital area research A range solutions needed balance expres siveness tractability Among variety approaches needed push bounds expressive power outward Highly expressive languages necessary knowledge interchange analyzing theoretical properties languages different expressive power representing arbitrarily complex knowledge bases ontologies machineunderstandable form deﬁning tractable special cases approximations intractable undecidable problems Languages implementations based subsets ﬁrstorder logic vary widely expres siveness tractability different problem classes As example expressive logic newly released Common Logic standard 38 intended exchange information diverse applications As requirements expressive ﬁrstorder logic This implies course represent intractable undecidable problems Although renders Common Logic undesirable representation medium applications level expressiveness necessary purposes In similar vein need formalisms capable specifying arbitrarily expressive probabilistic knowledge bases For reason MEBN designed capable representing arbitrary ﬁrstorder sentences Theorem 5 Section 42 proves MEBN represent probability distribution interpretations ﬁnitely axioma tizable ﬁrstorder theory This nontrivial result Because sets ﬁrstorder axioms uncountably interpretations simply deﬁning probability distribution interpretations ensure set models arbitrary sentence measurable In words guarantee arbitrary probability distri bution ﬁrstorder sentences assign probability sentence Furthermore ﬁrstorder logic undecidable inference probabilistic logic contains ﬁrstorder logic undecidable worst case Nevertheless MEBN implicitly specify answers arbitrary probabilistic queries interpretations ﬁnitely axiomatizable theories process deﬁned Section 43 converges correct answer inﬁnite limit These results theoretically signiﬁcant Theoretical issues aside practical applications demand tractable solutions The common semantics shared MEBN ﬁrstorder probabilistic languages facilitates deﬁnition translations representations cf 35 This makes possible deﬁne restricted subsets MEBN tractable solutions exist certain classes problems MEBN implementations restrictions expressivity ensure tractability Knowledge engineers inference algorithm designers tradeoffs ensure acceptable perfor mance applications Section 5 provides brief discussion relationship MEBN expres sive probabilistic languages The discussion section extended establish translations 144 KB Laskey Artiﬁcial Intelligence 172 2008 140178 expressive ﬁrstorder languages MEBN appropriately restricted variants MEBN lan guages 3 Multientity Bayesian networks Like Bayesian networks MEBN theories use directed graphs specify joint probability distributions col lection related random variables The MEBN language extends ordinary Bayesian networks provide ﬁrstorder expressive power extends ﬁrstorder logic FOL provide means specifying probability distributions interpretations ﬁrstorder theories Knowledge MEBN theories expressed MEBN Fragments MFrags represents probability information group related random variables Just ﬁrstorder logic extends propositional logic provide inner structure sentences MEBN theories extend ordinary Bayesian networks provide inner structure random variables Random variables MEBN theories arguments refer entities domain application For example Managerd y represent manager department designated variable d year designated variable y To refer manager maintenance department 2003 ﬁll values d y obtain instance ManagerMaintenance 2003 Manager random variable A given situation involve number instances Manager random variable referring different departments andor different years As shown Boolean connectives quantiﬁers ﬁrstorder logic represented predeﬁned MFrags meaning ﬁxed semantics A MEBN theory implicitly expresses joint probability distribution truthvalues sets FOL sentences Any sentence expressed ﬁrstorder logic represented random variable MEBN theory The MEBN language modular compositional That probability distributions speciﬁed locally small groups hypotheses composed globally consistent probability distributions sets hypotheses 31 Entities random variables The MEBN language treats world comprised entities attributes related en tities Constant variable symbols refer entities There logical constants meaning ﬁxed semantics logic inﬁnite collection variable symbols inﬁnite collection domainspeciﬁc constant symbols prespeciﬁed referents Random variables represent features entities relationships entities There collection logical random variable symbols meaning ﬁxed semantics logic inﬁnite collection domainspeciﬁc random variable symbols prespeciﬁed referents The logical constants random variables common MEBN theories domainspeciﬁc constants random variables provide terminology referring objects relationships domain application Constant variable symbols Ordinary variable symbols As FOL variables placeholders refer nonspeciﬁc entities Vari ables written alphanumeric strings beginning lowercase letters department7 To avoid confusion adjective ordinary distinguish ordinary variables random variables Phenomenal nonlogical constant symbols Particular named entities represented constant symbols As FOL notation phenomenal constant symbols written alphanumeric strings beginning uppercase letters Machine37 Fernandez Unique Identiﬁer symbols The entity represented different phenomenal constant symbols MEBN avoids ambiguity assigning unique identiﬁer symbol entity The unique identiﬁers possible values random variables There kinds unique identiﬁer symbols Truthvalue symbols undeﬁned symbol The reserved symbols T F logical constants predeﬁned meaning ﬁxed semantics The symbol denotes meaningless undeﬁned contradictory hypotheses hypotheses truthvalue assigned The symbols T F denote truthvalues meaningful hypotheses Entity identiﬁer symbols There inﬁnite set E entity identiﬁer symbols An interpretation theory uses entity identiﬁers labels entities Entity identiﬁers written numerals alphanumeric strings beginning exclamation point M3 48723 KB Laskey Artiﬁcial Intelligence 172 2008 140178 145 Random variable symbols Logical connectives equality operator The logical connective symbols equality relation reserved random variable symbols predeﬁned meanings ﬁxed semantics Logical expressions written preﬁx notation ψ ψ φ ψ φ familiar inﬁx notation ψ ψ y ψ y Different ways writing expression ψ φ φ ψ treated random variable Quantiﬁers The symbols reserved random variable symbols predeﬁned meaning ﬁxed semantics They construct MEBN random variables represent FOL sentences containing quantiﬁers Identity The reserved random variable symbol cid2 denotes identity random variable It identity function T F set entity identiﬁers denote meaningful entities domain It maps meaningless irrelevant contradictory random variable terms Findings The ﬁnding random variable symbol denoted Φ represent observed evidence represent constraints assumed hold entities domain application Domainspeciﬁc random variable symbols The domainspeciﬁc random variable symbols written alphanu meric strings beginning uppercase letter With random variable symbol associated positive integer indicating number arguments takes Each random variable associated set possible values consisting recursive subset unique identiﬁer symbols The set possible values inﬁnite exist effective procedure lists possible values effective procedure determining unique identiﬁer symbol possible values If set possible values contained T F random variable called logical random variable For random variables called phenomenal random variables set possible values contained E Logical random variables correspond predicates phenomenal random variables correspond functions FOL Local distributions Deﬁnition 3 restrict set possible values function values random variables parents Exemplar symbols There inﬁnite set exemplar symbols refer representative ﬁllers variables range quantiﬁers An exemplar symbol denoted followed alphanumeric string b321 Punctuation MEBN random variable terms constructed symbols punctuation symbols comma open parenthesis close parenthesis A random variable term random variable symbol followed parenthesized list arguments separated commas arguments variables constant symbols recursively random variable terms When α constant ordinary variable random variable term cid2α denoted simply α If ψ random variable symbol value assignment term ψ form ψ α ψ random variable term α ordinary variable symbol possible values ψ The strings α ψ α ψ ψ α treated synonyms ψ α A random variable term closed contains ordinary variable symbols open contains ordinary variable symbols An open random variable term called random variable class closed random variable term called random variable instance If random variable instance obtained substituting constant terms variable terms random variable class called instance class For example value assignment term BeltStatusB1 OK written BeltStatusB1 OK instance BeltStatusb x BeltStatusB1 x BeltStatusb Broken When confusion likely result random variable classes instances referred random variables A random variable term called simple arguments unique identiﬁer symbols variable symbols called composite For example BeltStatusB1 OK composite random variable term containing simple random variable term BeltStatusB1 argument It assumed sets consisting ordinary variable symbols unique 1 Exemplar symbols called Skolem symbols earlier work 46 analogy Skolem functions exemplar symbols replace variables range quantiﬁers However exemplars different Skolem functions terminology changed avoid confusion 146 KB Laskey Artiﬁcial Intelligence 172 2008 140178 Fig 2 MEBN fragments equipment diagnosis problem identiﬁer symbols exemplar random variable symbols phenomenal constant symbols domainspeciﬁc random variable symbols recursive 32 MEBN fragments In MEBN theories multivariate probability distributions built MEBN fragments MFrags Fig 2 An MFrag deﬁnes probability distribution set resident random variables conditional values context input random variables Random variables represented nodes fragment graph arcs represent dependency relationships Deﬁnition 1 An MFragF C I R G D consists ﬁnite set C context value assignment terms2 ﬁnite set I input random variable terms ﬁnite set R resident random variable terms fragment graph G set D local distributions member R The sets C I R pairwise disjoint The fragment graph G acyclic directed graph nodes onetoone correspondence random variables I R random variables I correspond root nodes G Local distributions specify conditional probability distributions resident random variables described Deﬁnition 3 An MFrag schema specifying conditional probability distributions instances resident random vari ables given values instances parents fragment graph given context constraints A collection MFrags satisﬁes global consistency constraints deﬁned Section 33 represents joint probabil ity distribution unbounded possibly inﬁnite number instances random variable terms The joint 2 If φ logical random variable context constraint φ T abbreviated φ context constraint φ F abbreviated φ KB Laskey Artiﬁcial Intelligence 172 2008 140178 147 distribution speciﬁed local distributions deﬁned formally conditional dependence relationships implied fragment graphs Context terms specify constraints local distributions apply As ordinary Bayesian networks local distribution maps conﬁgurations values parents random variable instance probability distributions possible values When ordinary variables parents resident random variable term appear resident term RoomTemp TempLight random variables temperature observability MFrag Fig 2 local distribution speciﬁed simply listing probability distribution child random variable combination values parent random variables The situation complicated ordinary variables parent random variable appear child In case arbitrary possibly inﬁnite number instances parent given instance child For example engine status fragment Fig 2 uncertain machine located temperature room located relevant distribution EngineStatus random variable If machine belt status belts relevant distribution EngineStatus random variable Thus number instances RoomTemp BeltStatus random variables relevant distributions EngineStatus random variable In case local distribution random variable specify combine inﬂuences relevant instances parents The standard approaches problem aggregation functions combining rules 58 MEBN local distributions combine inﬂuences multiple parents inﬂuence counts In standard Bayesian network probability distribution node depends conﬁguration states parents In MEBN theory different substitutions ordinary variables yield multiple instantiations parents Each allowable substitution deﬁnes parent set parent set conﬁguration states Inﬂuence counts tally number times conﬁguration parents occurs parent sets Inﬂuence counts unintuitive ﬁrst extend causal Markov condition ordinary Bayesian networks natural general way According causal Markov condition distribution child depend information values taken parents For Bayesian network node ﬁxed number parents exactly conﬁguration given possible world The local distribution Bayesian network function conﬁguration For MFrag multiple instances parents random variable gives rise set parent conﬁgurations allowable substitution arguments parents The basic idea inﬂuence counts multiple bindings result conﬁguration parent states information relevant local distribution cases conﬁguration information particular instances participated bindings This exactly represented inﬂuence counts In engine status example machine located rooms belt conﬁguration RoomStatus RoomTemp variables allowable substitution rooms belts This explained example Conﬁgurations parent random variables relevant distribution child called inﬂuencing conﬁgurations The local distribution πψ resident random variable ψ MFrag F speciﬁes instance ψ set possible values ii rule determining inﬂuencing conﬁgurations iii rule assigning probabilities possible values given inﬂuencing conﬁguration This statement formalized Deﬁnition 3 Before proceeding formal deﬁnition local distributions formal deﬁnition inﬂuence counts given followed example deﬁne local distributions Deﬁnition 2 Let F MFrag containing ordinary variables θ1 θk let ψθ denote resident random variable F depend θi 2a A binding set B θ1 ε1 θ2 ε2 θk εk F set ordered pairs associating unique identiﬁer symbol εi ordinary variable θi F The constant symbol εi called binding variable θi determined B The εi required distinct 2b Let B θ1 ε1 θ2 ε2 θk εk binding set F let ψε denote instance ψ obtained substituting εi occurrence θi ψθ A potential inﬂuencing conﬁguration ψε B set value assignment terms γ φε parent ψ context random variable F Here φε denotes instance context parent random variable φθ obtained substituting εi 148 KB Laskey Artiﬁcial Intelligence 172 2008 140178 Table 1 Partial world state EngineStatus partial world IsaMachine M1 T IsaBelt M1 F IsaRoom M1 F BeltLocationM1 MachineLocationM1 R1 RoomTempM1 BeltStatusM1 IsaMachine B1 F IsaBelt B1 T IsaRoom B1 F BeltLocationB1 M1 MachineLocationB1 RoomTempB1 BeltStatusB1 OK IsaMachine R1 F IsaBelt R1 F IsaRoom R1 T BeltLocationR1 MachineLocationR1 RoomTempR1 Normal BeltStatusR1 IsaMachine B2 F IsaBelt B2 T IsaRoom B2 F BeltLocationB2 M1 MachineLocationB2 RoomTempB2 BeltStatusB2 OK IsaMachine R2 F IsaBelt R2 F IsaRoom R2 T BeltLocationR2 MachineLocationR2 RoomTempR2 Hot BeltStatusR2 IsaMachine O1 F IsaBelt O1 F IsaRoom O1 F BeltLocationO1 MachineLocationO1 RoomTempO1 BeltStatusO1 occurrence θi 3 γ denotes possible values φε speciﬁed local distribution πφ Deﬁnition 3 An inﬂuencing conﬁguration ψε B potential inﬂuencing conﬁguration value assignments match context constraints F Two inﬂuencing conﬁgurations equivalent substituting θi εi yields result conﬁgurations The equivalence classes equivalence relation correspond distinct conﬁgurations parents ψθ F 2c Let ε1 ε2 εn nonempty ﬁnite set entity identiﬁer symbols The partial world W ψ ε1 ε2 εn set consisting instances parents ψ context random variables F formed substituting εi ordinary variables F A partial world state SW partial world set value assignment terms random variable partial world 2d Let W partial world ψ ε1 ε2 εn let SW partial world state W let B θ1 εB1 θ2 εB2 θk εBk binding set F bindings chosen ε1 ε2 εn let ψεB instance ψθ B The inﬂuence counts SWψ ψαB SW consist number inﬂuencing conﬁgurations SW contains equivalence class inﬂuencing conﬁgurations conﬁguration parents ψθ F As example Table 1 shows partial world state EngineStatusm random variable Fig 2 unique identiﬁers M1 R1 R2 B1 B2 O1 In intended meaning partial world Table 1 M1 denotes machine B1 B2 denote belts located M1 R1 denotes room M1 located R2 denotes room M1 located O1 denotes entity machine room belt The partial world state speciﬁes value random variable entity identiﬁers Random variables map meaningless attributes value RoomTemp entity room absurd symbol To construct inﬂuencing conﬁgurations ﬁrst examine Table 1 ﬁnd conﬁgurations context random variables satisfy context constraints The ﬁrst constraint entity bound m machine The instance IsaMachine m value T binds m M1 Therefore inﬂuencing conﬁgurations include IsaMachine M1 T Next consider constraint entity bound r room There assignments satisfying constraint IsaRoom R1 T IsaRoom R2 T All inﬂuencing conﬁgurations contain value assignments Now consider context constraint machine bound m located room bound r This constraint satisﬁed binding m M1 r R1 This eliminates IsaRoom R2 T inﬂuencing conﬁgurations Thus inﬂuencing conﬁgurations contain IsaRoom R1 T MachineLocationM1 R1 Next consider constraints entity bound b belt located machine bound m These constraints satisﬁed binding b B1 B2 Therefore inﬂuencing conﬁguration contain IsaBelt B1 T BeltLocationB1 M1 IsaBelt B2 T BeltLocationB2 M1 Putting information partial world state Table 1 contains inﬂuencing conﬁgurations EngineStatusM1 3 If context value assignment term γ φ arguments substitution needed KB Laskey Artiﬁcial Intelligence 172 2008 140178 149 IC1 IsaMachine M1 T IsaBelt B1 T IsaRoom R1 T BeltLocationB1 M1 MachineLocationM1 R1 RoomTempR1 Normal BeltStatusB1 OK IC2 IsaMachine M1 T IsaBelt B2 T IsaRoom R1 T BeltLocationB2 M1MachineLocationM1 R1 RoomTempR1 Normal BeltStatusB2 OK The partial world state Table 1 contains inﬂuencing conﬁgurations EngineStatusM1 In IC1 IC2 room temperature normal belt status OK Therefore inﬂuence counts EngineStatusM1 possible world state RoomTemp Normal BeltStatus OK RoomTemp Normal BeltStatus Broken RoomTemp Hot RoomTemp Hot 2 0 0 0 The local distribution assigned EngineStatusM1 partial world state machine having intact broken belts located room normal room temperature BeltStatus OK BeltStatus Broken Because generality inﬂuence counts represent aggregation functions combining rules dis cussion Section 5 Implementations MEBN free restrict local distributions reasons tractability cognitive naturalness For example implementation provide set standard combining rules noisy Boolean arithmetic functions possibly provide language deﬁning combining functions necessarily provide fully general language specifying local distributions function inﬂuence counts That inﬂuence counts provide general speciﬁcation local distributions general ity necessarily available implementation Deﬁnition 3 The local distribution πψ resident random variable ψ MFrag F speciﬁes instance ψε ψ subset Vψε possible values ψε ii function πψεαS maps unique identiﬁers α partial world states S real numbers following conditions satisﬁed cid2 3a For given partial world state S πψεS probability distribution unique identiﬁer symbols That πψεαS cid2 0 α πψεαS 1 α ranges unique identiﬁer symbols 3b For instance ψε ψ set Vψε possible values instance ψε recursive subset set possible values ψ πψεVψεS 1 partial world S As noted set possible values associated random variable ψ This condition states set possible values instance ψε proper subset set possible values ψ If case parents ψ fragment graph include entity identiﬁers arguments ψ possible values instance ψε function entity identiﬁers cid2εi arguments εi That set possible values instance ψε depend random variable class ψ identiﬁers entities substituted arguments 3c There algorithm ﬁnite subset A possible values ψε containing partial world state S ψ algorithm halts output πψεAS exists value NA S algorithm interrupted number time steps greater NA S output πψεAS4 3d πψε depends partial world state inﬂuence counts That partial world states having inﬂuence counts map probability distribution 3e Let S1 S2 increasing sequence partial world states ψ let α possible values ψ There exists integer N k N πψεαSk πψεαSN 5 The probability distribution πψ ε called default distribution ψ It probability distribution ψ given potential inﬂuencing conﬁgurations satisfy conditioning constraints F If ψ root node MFrag F containing context constraints local distribution ψ default distribution 4 It required NA S exists need effective procedure computing 5 Again required effective procedure computing N 150 KB Laskey Artiﬁcial Intelligence 172 2008 140178 Table 2 Local distribution function inﬂuence counts Context RoomTempr BeltStatusb Belt b located machine m located room r Normal Hot Default OK k Broken n k OK k Broken n k EngineStatusm Satisfactory αkn βkn 0 Overheated 1 αkn 1 βkn 0 0 0 1 Conditions 3c 3e needed ensure global joint distribution exists approximated sequence ﬁnite Bayesian networks The conditions given stronger strictly necessary Because satisﬁed MEBN theory ﬁrstorder logic presented Section 42 sufﬁcient demonstrate existence fully ﬁrstorder Bayesian logic Nevertheless identifying suitable relaxations conditions important topic future research For example applications useful deﬁne random variable average inﬁnitely instances parent It clear local distribution satisfy condition 3e Results convergence averages limiting distributions 6 applied identify suitable relaxations conditions It noted connection papers expressive probabilistic languages explicitly assume domain ﬁnite example 35 In ﬁnite domains including ﬁnite domains uncertain unbounded cardinality conditions 3c 3e automatically satisﬁed Although sets Vψε ﬁnite countably inﬁnite possible use MEBN deﬁne distributions arbitrary spaces We view entity identiﬁers labels elements sequence sampled ran domly set uncountably inﬁnite The characteristics sampled elements speciﬁed distributions features For example StdUniform1 StdUniform2 represent labels uniform random numbers drawn unit interval We deﬁne labels StdUniform1 StdUniform1 StdUniform2 StdUniform2 respectively The random variable Digitu k denote kth digit nth uniform random number The values Digitu k mutually independent uniform distributions set 0 1 A uniform random number speciﬁed arbitrary precision drawing sufﬁciently long sequence digits Table 2 shows example local distribution engine status MFrag The conditioning constraints imply RoomTemp parent satisﬁes context constraint MachineLocationm r When parent value Normal probability αkn assigned Normal probability 1 αkn assigned Overheated k number distinct BeltStatus parents having value OK total n 0 distinct BeltStatus parents When RoomTemp parent corresponding MachineLocationm value Hot probability sat isfactory engine βkn probability overheated engine 1 βkn k denotes number distinct belts value OK n 0 denotes total number distinct belts The default distribution applies combination entities meets conditioning constraints It assigns probability 1 meaning EngineSta tusm meaningless context constraints met m denote machine m located room m belt Default distributions need assign probability 1 For example default distribution represent engine status beltless machines Note default distribution distinguish situations m refers machine belt situations m machine Thus modeling approach assign EngineStatus distribution nonmachines machines belt MFrags contain recursive inﬂuences Recursive inﬂuences allow instances random variable depend directly indirectly instances random variable One common type recursive graphical model dynamic Bayesian network 2957 Recursion permissible long random variable instance directly indirectly inﬂuence This requirement satisﬁed conditioning constraints prevent circular inﬂuences For example Fig 3 modiﬁes belt status MFrag Fig 2 status belt depends maintenance practice organization status belt previous time The context constraint s Prevt prevents circular inﬂuences instances MFrag The distribution depends random variable Prevt home MFrag shown Prev maps positive numeral previous numeral maps entity identiﬁers If variable t bound 0 potential inﬂuencing conﬁgurations satisfy context constraints Prev0 value IsaNatNumber F Therefore Deﬁnition 2 KB Laskey Artiﬁcial Intelligence 172 2008 140178 151 Fig 3 Recursive MFrag Fig 4 Indirect reference inﬂuencing conﬁgurations BeltStatus random variable Thus instance BeltStatus random variable t bound zero parents local distribution default distribution When t bound positive numeral inﬂuencing conﬁguration s t bound consecutive numerals Therefore BeltStatus instance exactly active BeltStatus parent belt previous time MFrags represent rich family probability distributions interpretations ﬁrstorder theories The ability MFrags represent uncertainty parameters local distributions provides logical foundation pa rameter learning ﬁrstorder probabilistic theories Uncertainty structure represented sets MFrags having mutually exclusive context constraints different fragment graphs providing logical foundation structure learning Of course additional work needed deﬁne implement learning algorithms MEBN theories MEBN comes equipped set builtin MFrags representing logical operations function composition quantiﬁcation All MFrags called domainspeciﬁc MFrags The domainspeciﬁc MFrags MEBN theory satisfy constraints ensure logical consistency theory The builtin MFrags constraints domain speciﬁc MFrag deﬁnitions rules combining MFrags performing inference provide logical content Bayesian logic An applied MEBN theory augments builtin MFrags set domainspeciﬁc MFrags provide empirical andor mathematical content The builtin MFrags deﬁned Indirect reference The rules instantiating MFrags allow unique identiﬁer symbols substituted ordinary variable symbols Probability distributions indirect references handled builtin compo sition MFrags illustrated Fig 4 These MFrags enforce logical constraints function composition Let ψφ1α1 φkαk random variable instance ψ φi random variable symbols αi list arguments The random variable instance ψφ1α1 φkαk parent φiαi arguments reference parent ψy1 yk yi denote ordinary variable symbols yi yj φiαi φj αj logically equivalent expressions6 The local distribution ψφ1α1 φkαk assigns value ψy1 yk value yi value φiαi Although inﬁnitely possible substitutions ψy1 yk inﬁnitely potential inﬂuencing conﬁgurations given world inﬂuences active Thus condition 3e 6 It permissible use distinct variables composition MFrag efﬁcient use variable expressions known logically equivalent 152 KB Laskey Artiﬁcial Intelligence 172 2008 140178 Fig 5 Logical connective MFrag Fig 6 Quantiﬁer MFrags satisﬁed The default distribution speciﬁes value ψφ1α1 φkαk inﬂuencing conﬁgurations Equality random variable The resident random variable equality MFrag form u v written u v There parents argument The equality operator value u v value T φ ψ value equal F It assumed meaningful entity identiﬁers distinct That ε1 ε2 distinct entity identiﬁers ε1 ε2 value cid2ε1 cid2ε2 value F Logical connectives The random variable u single parent cid2u logical connectives parents cid2u cid2v The value u T parent value F F parent value T The logical connectives map truthvalues according usual truth tables parents T F Fig 5 Quantiﬁers Let φγ open logical random variable term containing ordinary variable γ A quantiﬁer random variable form σ φσ σ φσ φσ obtained substituting exemplar term σ φγ A quantiﬁer random variable instance single parent φγ The value σ φσ T default F instance φγ value F The value σ φσ F default T instance φγ value T It assumed unique exemplar symbol assigned ordinary variable logical random variable term language7 Fig 6 shows quantiﬁer MFrags representing hypothesis machine belt In FOL corresponding sentence mbIsaMachine m IsaBelt b m BeltLocationb An important feature MEBN logically consistent treatment reference uncertainty For example suppose random variable instance CertiﬁcationLevelManagerMaintenance 2003 intended refer individual managed maintenance department 2003 If possible managers Employee37 Employee49 7 A countable inﬁnity exemplar symbols sufﬁcient purpose KB Laskey Artiﬁcial Intelligence 172 2008 140178 153 Fig 7 Relating unique identiﬁer distribution CertiﬁcationLevelManagerMaintenance 2003 weighted average probabil ity distributions CertiﬁcationLevelEmployee37 CertiﬁcationLevelEmployee49 weights probabilities ManagerMaintenance 2003 value Employee37 Employee49 respectively If Em ployee39 refers individual referred Carlos Fernandez FatherMiguel information germane certiﬁcation level Carlos Fernandez FatherMiguel propagate consistently Certiﬁcation LevelManagerMaintenance 2003 Bayesian inference applied Fig 7 The indirect reference MFrags enforce logical constraints function composition The builtin MFrags deﬁned provide sufﬁcient expressive power represent probability distribution interpretations ﬁnitely axiomatizable FOL theory Bayesian conditioning applied generate sequence MEBN theories theory sequence conditions preceding theory new axioms consis tent previous axioms MEBN theories deﬁne specialpurpose logics logics planning decisionmaking MEBN places constraints distribution exemplar constants Implementations treat stants serve purpose role placeholders quantiﬁer random variables They play important role modeling An exemplar constant intended label representative ﬁller place quantiﬁer random variable Its distribution deﬁned way affects probability associated sentence satisﬁed This role played exemplar distributions construction Section 42 In construction exemplar constants unsatisﬁable sentences value exemplar constants valid sen tences value exemplar constants sentences valid unsatisﬁable assigned value probability strictly 0 1 Assigning value exemplar constant constrains generative distribution ensure corresponding quantiﬁer random variable value T If sentence satisﬁable exemplar negation nonzero probability assigned value When occurs distribution deﬁned Section 42 prevent negation satisﬁed Thus original sentence value T Even joint distribution encoded domainspeciﬁc MFrags assign zero probability T exemplars sampled manner ensures sentence positive chance satisﬁed Details construction provided Section 42 There kinds domainspeciﬁc MFrags generative MFrags ﬁnding MFrags The distinction generative MFrags ﬁnding MFrags corresponds roughly terminological box Tbox assertional reasoner Abox 9 The generative domainspeciﬁc MFrags specify information statistical regularities characterizing class situations MEBN theory applies Findings specify particular information speciﬁc situation class deﬁned generative theory Findings repre sent constraints assumed hold domain cf 3542 computational interpretation advantages specifying constraints generatively possible The kinds domainspeciﬁc MFrags deﬁned Deﬁnition 4 A ﬁnding MFrag satisﬁes following conditions 4a There single resident random variable Φψ ψ closed value assignment term For logical random variable instances abbreviate Φφ T Φφ Φφ F Φφ 4b There context random variable terms There single input random variable term ψ parent resident random variable Φψ 4c The local distribution Φψ deterministic assigning value T ψ value T value F 154 KB Laskey Artiﬁcial Intelligence 172 2008 140178 Deﬁnition 5 A generative domainspeciﬁc MFrag F satisfy following conditions 5a None random variable terms F ﬁnding random variable term 5b Each resident random variable term F random variable term consists random variable symbol followed parenthesized list ordinary variable symbols random variable symbol cid2 followed constant symbol enclosed parentheses Implementations treat cid2ε ε synonyms 5c The possible values identity random variable cid2ε ε Furthermore cid2T T cid2F F cid2 8 5d For resident random variable term ψ identity local distribution ψ assign probability zero unique identiﬁer ε cid2ε cid13 ε One way ensure constraint met cid2ε parent ψ possible value ε nonzero probability cid2ε cid13 ε specify local distribution assigns probability zero ε cid2ε cid13 ε Requirement 5b restrictive ﬁrst For example want assert temperature sensor malfunctioning machine recently inspected Wilson simply deﬁne MFrag resident random variable SensorStatusMostRecentlyInspectedMachineWilson probability 1 value Mal functioning The random variable SensorStatusMostRecentlyInspectedMachineWilson deﬁned function composition MFrag overridden knowledge engineer We specify desired information making m MostRecentlyInspectedMachineWilson parent SensorStatusm deﬁning ﬁnd ing random variable ΦSensorStatusMostRecentlyInspectedMachineWilson Which choice best depends circumstances If Wilson saboteur broke sensor machine inspected choice appropriate Wilson inspected machine causal inﬂuence generative distribution machines sensor status If Wilsons recent report broken sensor distinguish Wilson machine inspector machine knowledge evidential causal choice appropriate In case function composition MFrags represent knowledge logical properties function composition Similar statements apply builtin MFrags The restrictions domainspeciﬁc MFrags prevent modelers violating logical relationships In summary MFrags represent inﬂuences clusters related random variables Repeated patterns represented ordinary variables placeholders entity identiﬁers substituted Probability infor mation MFrags resident random variables speciﬁed local distributions map inﬂuence counts random variables parents probability distributions possible values When ordinary variables appear parent child local distribution speciﬁes combine inﬂuences multiple copies parent random variables Restricting variable bindings unique identiﬁers prevents double counting repeated instances Multiple ways referring entity handled builtin MFrags enforce logical constraints function composition Builtin logical MFrags MEBN expressive power ﬁrstorder logic Context constraints permit recursive relationships speciﬁed circular references 33 MEBN theories A MEBN theory collection MFrags satisﬁes consistency constraints ensuring existence unique joint probability distribution random variables mentioned theory The builtin MFrags provide logical content domainspeciﬁc MFrags provide empirical content This section deﬁnes MEBN theory states main existence theorem joint distribution exists random variable instances MEBN theory A proof given Appendix A A MEBN theory containing generative domainspeciﬁc MFrags called generative MEBN theory Gen erative MEBN theories express domainspeciﬁc ontologies capture statistical regularities particular domain application MEBN theories ﬁndings augment statistical information particular facts germane given reasoning problem MEBN uses Bayesian learning reﬁne domainspeciﬁc ontologies incorporate observed evidence 8 A ﬁnite domain represented specifying ordering ε1 ε2 unique identiﬁers specifying probability 1 cid2εi1 cid2εi In case cardinality domain cid2εi cid13 The cardinality course uncertain KB Laskey Artiﬁcial Intelligence 172 2008 140178 155 The MFrags Fig 2 specify generative MEBN theory equipment diagnosis problem These MFrags specify local probability distributions resident random variables The conditioning constraints MFrag specify type restrictions symbol m replaced identiﬁer entity type Machine functional relationships inﬂuencing conﬁguration satisfy room identiﬁer r equal value MachineLocationm Each local distribution provides rule calculating distribution resident random variable given instance MFrag Reasoning particular task proceeds follows First ﬁnding MFrags added generative MEBN ory represent taskspeciﬁc information Next random variables identiﬁed represent queries Finally Bayesian inference applied compute response queries Bayesian inference applied reﬁne local distributions andor MFrag structures given taskspeciﬁc data For example assert temperature light blinking machine denoted Machine37 located room denoted Room103A add ﬁndings ΦTempLightMachine37 Blinking ΦMachineLocationMachine37 Room103A generative MEBN theory Fig 2 To inquire likelihood overheated engines FOL sentence m IsaMachinem EngineStatusm Overheated translated quantiﬁer random variable instance m IsaMachinem EngineStatusm Overheated A Bayesian inference algorithm applied evaluate posterior probability given evidence As ordinary Bayesian networks global consistency conditions required ensure local distrib utions collectively specify welldeﬁned probability distribution interpretations Speciﬁcally MFrags combine way random variable instance directly indirectly inﬂuence initial condi tions speciﬁed recursive deﬁnitions Noncircularity ensured ordinary Bayesian networks deﬁning partial order random variables requiring random variables parents precede partial ordering In dynamic Bayesian networks random variables indexed time unconditional distribution speciﬁed ﬁrst time step subsequent distribution depend values random variables previous time step Noncircularity ensured prohibiting links future past requiring links time step respect random variable partial ordering Other kinds recursive relationships genetic inheritance discussed literature 63 Recursive Bayesian networks 40 represent general class recursively speciﬁed probability distributions logical random variables ﬁnite domains MEBN provides general ability express recursive relationships ﬁnite countably inﬁnite domains Deﬁnition 6 Let T F1 F2 set MFrags The sequence φd εd φd1εd1 φ0ε0 called ancestor chain T partial world state S exist B0 Bd 6a Each Bi binding set MFrags Fi T 6b The random variable instance φiεi obtained applying bindings Bi resident random variable term φiθi Fi 6c For id φi1εi1 obtained applying bindings Bi input random variable term φi1θi1 Fi inﬂuencing conﬁguration φiεi Bi contains φi1θi1 φi1εi1 obtained applying bindings Bi context value assignment term φi1θi1 Fi The integer d called depth ancestor chain The random variable instance φj εj ancestor φ0ε0 exists ancestor chain φd εd φj εj φ0ε0 T Deﬁnition 7 Let T F1 F2 set builtin generative andor ﬁnding MFrags Let VT denote set random variable terms contained Fi let NT denote set random variable instances formed VT substituting unique identiﬁers T F E arguments random variables VT T simple MEBN theory following conditions hold 7a No cycles No random variable instance ancestor itself9 9 This condition relaxed long demonstrated local distributions speciﬁed noncircularly 156 KB Laskey Artiﬁcial Intelligence 172 2008 140178 7b Bounded causal depth For random variable instance φε NT containing possibly unique identiﬁer symbols ε exists integer Nφε φd εd φd1εd1 φε ancestor chain T S d cid3 Nφε The smallest Nφε called depth dφε φε 7c Unique home MFrags For φε NT exists exactly MFrag Fφε T called home MFrag φε φε instance resident random variable φθ Fφε10 7d Recursive speciﬁcation T contain inﬁnitely domainspeciﬁc MFrags MFrag speciﬁ cations recursively enumerable That algorithm lists speciﬁcation algorithm generates input output context random variables fragment graph local distributions MFrag turn eventually lists speciﬁcation MFrag T Condition 7c simpliﬁes theoretical analysis circumstances useful relax For example independence causal inﬂuence model convenient specify inﬂuences different clusters related causes speciﬁed separate MFrags In polymorphic version MEBN convenient specify local distributions separate subtypes separate MFrags 12 Relaxing condition 7c allow natural treatment structural learning It clear main results paper remain valid appropriately weakened conditions Costa 12 deﬁnes typed version MEBN relaxes condition 7c Theorem 1 Let T F1 F2 simple MEBN theory There exists joint unique probability distribution P gen T set instances random variables MFrags consistent local distributions assigned MFrags T This distribution respects independence assumptions encoded MFrags That random variable instance conditionally independent nondescendants given possibly inﬁnite set parent instances The proof Theorem 1 Appendix A MEBN inference conditions joint probability distribution implied Theorem 1 proposition ﬁndings value T This conditional distribution clearly exists nonzero probability ﬁndings value T However inﬁnite sequence ﬁndings ﬁndings quantiﬁer random variables individual sequence ﬁndings probability zero sequence certain occur For example possible realization inﬁnite sequence rolls fair die zero probability sequence occur tossing continues indeﬁnitely Although individual sequence tosses probability zero assumption die fair allows draw conclusions properties sequences tosses actually occur In particular practical logical certainty die fair limiting frequency rolling trials That sequence having limiting probability 16 sequence having limiting probability 13 probability zero set worlds limit 16 inﬁnitely probable set worlds limit 13 Practical certainties stochastic phenomena formalized propositions true surely set measure zero 6 Almost sure propositions true possible interpretations FOL theory corresponding MEBN theory set worlds true probability 1 probability distribution represented MEBN theory In example set worlds limiting frequency 16 probability 1 The following results pertain existence conditional distributions MEBN theory Deﬁnition 8 The distribution P gen called generative prior distribution T Let Φψ1 α1 Φψ2 α2 ﬁnding MFrags T A ﬁnding alternative T set Φψ1 αcid16 2 values ﬁnding random variables T possibly assigning different values ﬁnding random variables values assigned T Finding alternatives represent counterfactual worlds T worlds priori possible different world asserted ﬁndings occurred 1 Φψ2 αcid16 T 10 It desirable relax condition For example independence causal inﬂuence model convenient specify inﬂuences different clusters related causes speciﬁed separate MFrags In polymorphic version MEBN logic convenient specify local distributions separate subtypes separate MFrags It clear main results remain valid appropriately weakened conditions KB Laskey Artiﬁcial Intelligence 172 2008 140178 157 Corollary 2 Let T MEBN theory ﬁndings Φψ1 α1 Φψ2 α2 Then conditional distrib ution exists P gen given ψ1 ψ2 Furthermore distributions differ set ﬁnding alternatives assigned probability zero P gen T The holds conditional distribution given ﬁnitelength subsequence ψ1 ψ2 ψn T Corollary 2 follows immediately Theorem 1 RadonNikodym Theorem 6 A distribution PT ξ1 ξ2 Φψ1 α1 Φψ2 α2 set random variables ξ1 ξ2 obtained conditioning ﬁndings having value T abbreviated PT ξ Φψ α called posterior distribution ξ given ﬁndings Φψ α Any posterior probabilities equal set ﬁnding alternatives assigned probability zero P gen T When sequence ﬁnding random variables inﬁnite probability particular realization ψ α zero In case single welldeﬁned conditional distribution ξ given ψ α In fact conditional distribution given ψ α set arbitrarily distribution whatsoever This imply Theorem 2 vacuous However statistical theory practice concerns conditioning probability zero events In important problems particular conditional distribution singled natural limiting distribution appropriate sequence distributions conditioned events nonzero probability cf 21 p 105 Theorem 3 implies case sequences sense P gen assigns probability 1 sequences welldeﬁned limiting distribution T Theorem 3 Suppose ξ1 γ1 ξ2 γ2 ξn γr abbreviated ξ γ assignment values ﬁnite set random variables T Then assigns probability 1 set ﬁnding alternatives Φψ1 αcid16 1 Φψ2 αcid16 2 cid3 PT cid3 ξ γ Φψ1 α cid16 1 Φψ2 α exists equal PT ξ γ Φψ αcid16 lim n cid16 2 Φψn α cid16 n cid4cid4 To prove Theorem 3 consider sequence X1 X2 random variables deﬁned Xn PT cid3 ξ γ ψ1 ψ2 ψn cid4 Let Fn σ ﬁeld generated ﬁrst n ﬁnding random variables ψ1 ψ2 ψn The random variables X1 X2 satisfy condition EXn1 Fn Xn A sequence satisﬁes property respect σ ﬁeld called martingale respect σ ﬁeld The Xn satisfy supn EXn The martingale convergence theorem 6 implies random variable X Xn X probability 1 Furthermore Theorem 355 Billingsley 6 implies P gen assigns probability 1 event T X PT cid3 cid4 ξ γ ψ1 ψ2 4 Semantics representation power inference Section 41 deﬁnes model theoretic semantics MEBN Section 42 demonstrates multientity Bayesian networks formalized Section 3 express probability distribution interpretations classical ﬁrst order theory constructs MEBN theory satisﬁable sentence nonzero probability Section 43 describes algorithm performing inference MEBN theories 41 MEBN semantics In standard model theoretic semantics ﬁrstorder logic developed Tarski 73 cf 23 FOL theory interpreted domain assigning constant symbol element domain function symbol k arguments function mapping ktuples domain elements domain elements predicate symbol k arguments subset ktuples domain elements corresponding entities predicate true equivalently function mapping ktuples domain elements truthvalues If axioms consistent 158 KB Laskey Artiﬁcial Intelligence 172 2008 140178 exists domain interpretation axioms theory true assertions domain given correspondences deﬁned interpretation Such interpretation called model axioms MEBN theories deﬁne probability distributions interpretations associated FOL theory Each kargument random variable MEBN theory represents function mapping ktuples unique identiﬁers possible values random variable Any function consistent logical constraints MEBN theory allowable probability function takes given values speciﬁed joint probability distribution represented MEBN theory For logical random variables possible values function T F phenomenal ran dom variables possible values entity identiﬁers Through correspondence entity identiﬁers entities domain random variable represents function mapping ktuples domain entities domain entities phenomenal random variables truthvalues assertions domain logical random variables MEBN provides logically coherent means specifying global joint distribution composing local condi tional distributions involving small sets random variables Formerly achieved restricted kinds distributions Standard Bayesian networks allow joint distributions ﬁnite number random variables composed locally deﬁned conditional distributions There wellknown special cases independent identically distributed sequences Markov chains joint distributions inﬁnite sets random vari ables composed locally deﬁned conditional distributions MEBN provides ability construct joint distributions local elements wider class distributions inﬁnite collections random variables As demonstrated MEBN represent joint distribution ﬁrstorder sentences assigns nonzero probability satisﬁable sentence Thus Bayesian conditioning probability distribution ex pressed interpretations consistent ﬁnitely axiomatizable ﬁrstorder theory This distribution updated Bayesian conditioning new axioms added providing theoretical framework analyzing limiting distributions interpretations inﬁnite sequences ﬁrstorder sentences Consider MEBN theory TM language LM having phenomenal random variable symbols X ξi phe nomenal constant symbols A αi domainspeciﬁc logical random variable symbols B βi exemplar symbols S σφi entity identiﬁer symbols E εi It assumed sets X A B E pairwise disjoint ﬁnite countably inﬁnite contain symbols T F It assumed S contains distinct exemplar symbol σφi X A B E T F pair consisting open logical random variable term φγ1 γn LM index ordinary variable γi occurring φγ1 γn The following conditions assumed section straightforward deﬁne corre spondence MEBN theory counterpart FOL theory logical content These conditions requirements MEBN need assumed given application Even sat isﬁed MEBN theory deﬁnes probability distribution interpretations ﬁrstorder theory deﬁning correspondence straightforward FOL1 There quantiﬁer random variable terms context terms MFrags TM simple random variable term TM quantiﬁer random variable term parent FOL2 Random variables ξ X β B value arguments belong T F FOL3 If values arguments phenomenal random variable ξ belong E value ξ belongs E probability 1 FOL4 Any constant symbol α A value E probability 1 FOL5 If values arguments logical random variable β belong E value β belongs T F probability 1 Given conditions P gen TM generates random interpretations phenomenal random variable symbols LM domain ε E cid2ε cid13 meaningful entity identiﬁers That constant symbol P gen TM generates meaningful entity identiﬁer For phenomenal random variable symbol P gen generates random TM function mapping ktuples meaningful entity identiﬁers meaningful entity identiﬁers For logical random variable symbol P gen generates random function mapping ktuples meaningful entity identiﬁers T F TM equivalently subset ktuples randomly generated function value T A classical ﬁrstorder theory TF represents logical content TM deﬁned follows KB Laskey Artiﬁcial Intelligence 172 2008 140178 159 1 The language LF TF function symbols X constant symbols A E predicate symbols B number arguments functions predicates LF number arguments corresponding random variables TM 2 For pair ε1 ε2 distinct entity identiﬁers TF contains axiom ε1 ε2 ε1 ε2 3 For phenomenal random variable symbol ξ TF contains axioms asserting instance ξ values outside set possible values deﬁned home MFrag ξ 4 If local distribution domainspeciﬁc MFrag TM assigns probability zero possible value ε phenom enal resident random variable ξx set SWξx inﬂuence counts axiom TF specifying function corresponding ξx equal ε context constraints hold parents ξx satisfy SWξx Each axiom universally quantiﬁed ordinary variables appearing ξ andor parents andor context random variables home MFrag ξ Formally TF contains axiom xκx SWξx ξx ε Here κx SWξx denote formulae LF asserting context constraints hold inﬂuence counts parents ξx equal SWξx x denotes ordinary variables ξ κ andor parents ξ depend This applies constant random variables treated functions arguments 5 If local distribution domainspeciﬁc MFrag TM assigns probability T logical random variable βx set SWβx inﬂuence counts axiom TF specifying predicate βx true conditions That TF contains axiom xκx SWβx βx Here κx SWβx denote formulae LF asserting context constraints hold inﬂuence counts parents βx equal SWβx respectively x denotes ordinary variables β κ andor parents β depend 6 If local distribution domainspeciﬁc MFrag TM assigns probability F logical random variable βx set SWβx inﬂuence counts axiom TF specifying predicate βx false conditions That TF contains axiom xκx SWβx βx Here κx SWβx denote formulae LF asserting context constraints hold inﬂuence counts parents βx equal SWβx respectively x denotes ordinary variables β κ andor parents β depend The logical combination MFrags Fig 8 deﬁne random variables explicitly represent truthvalues sentences TF The assumptions FOL1FOL5 ensure truthvalues satisfy axioms deﬁning TF That P gen generates random models axioms TF However sentences satisﬁable axioms TM TF P gen assigns probability zero When satisﬁable sentence TF assigned probability zero P gen TM TM assurance welldeﬁned conditional distribution exists given corresponding logical random variable value T The following additional condition ensures welldeﬁned conditional distribution exists given ﬁnite set satisﬁable ﬁndings random variables TM Again assumption required MEBN appropriate given application Suppose φγ1 γn open logical random variable TM depends ordinary variables γ1 γn Let θ1σφ1 θ2σφ2 θnσφn φσφ1 σφ2 σφn quantiﬁer random variable σφi exem plar symbol ordinary variable γi θi stands quantiﬁer symbols Suppose quantiﬁer random variable θ1σφ1 θ2σφ2 θnσφn φσφ1 σφ2 σφn corresponds satisﬁable mula TF Then P gen assigns strictly positive probability value T quantiﬁer random variable TM θ1σφ1 θ2σφ2 θnσφn φσφ1 σφ2 σφn Corollary 4 Suppose TM satisﬁes FOL1FOL6 suppose TF ﬁrstorder theory constructed expressing logical content TM Let Φψ1 α1 Φψ2 α2 Φψn αn ﬁnite set ﬁndings conjunction ψi αi satisﬁable sentence TF Let α ξθ βθ stand set instances constant phenomenal logical random variables TF Then posterior distribution PTM α ξθ βθ Φψ α exists unique Corollary 4 straightforward consequence Corollary 2 Specifying generative distribution satisﬁes FOL1FOL5 relatively straightforward A construction provided Section 42 MEBN theory TM P gen TM satisﬁes FOL6 160 KB Laskey Artiﬁcial Intelligence 172 2008 140178 Fig 8 Logical MFrags A MEBN theory interpreted domain application associating entity identiﬁer symbol entity domain Through correspondence identiﬁers entities represent MEBN theory induces probability distribution attributes relationships entities domain application In particular generative distribution MEBN theory constructs interpretations countable domain entity identiﬁers MEBN theory applied reason domains cardinality Under assumption entities associated entity identiﬁers constitute representative sample entities domain statistical conclusions drawn domain valid domains cardinality Important advantages MEBN random variable semantics clarity modularity For example add new collection MFrags equipment diagnosis MEBN theory reasoning vacation holiday schedule maintenance technicians affecting probabilities assertions unrelated change Furthermore probability distribution represented MEBN theory welldeﬁned mathematical object independent correspondence actual objects world having clearly speciﬁed semantics probability distribution interpretations Its adequacy reasoning actual world rests relationships model reﬂect empirical relationships entities symbols refer given domain application Our approach enforces distinction logical empirical aspects representation provides clearly deﬁned interface This supports principled approach empirical evaluation reﬁnement domain ontologies 42 A generative distribution ﬁrstorder logic This section demonstrates deﬁne generative MEBN theory TM P gen TM places positive probability value T logical random variable φ corresponds satisﬁable sentence ﬁrstorder logic Consider MEBN language LM classical FOL language LF related described Section 41 We assume total ordering ϕ1 ϕ2 phenomenal constant phenomenal logical random variable terms ϕi A X B total ordering ε1 ε2 E entity identiﬁers The domainspeciﬁc MFrags generative MEBN theory deﬁne distribution simple open random variable term ϕiu1 uni uj ordinary variables ni number arguments taken ϕi A distribution deﬁned exemplar constants The remaining random variables deﬁned logical MFrags Fig 8 The joint distribution simple open random variables exemplar constants deﬁned follows Let ψ1 ψ2 total ordering quantiﬁer random variables let π1 π2 strictly positive probability distribution entity identiﬁers let 0 θ ρ 1 real numbers We use notation ψk refer quantiﬁer random variable σψk refer exemplar constant ψk That ψk denotes logical random variable form σψk φσψk σψk φσψk φu open logical random variable called body ψk We think exemplar constant σψk denoting generic ﬁller entity place quantiﬁer random KB Laskey Artiﬁcial Intelligence 172 2008 140178 161 variable Its generative distribution deﬁned way ensures negation quantiﬁer random variable satisﬁable σψk nonzero probability having value constrains corresponding quantiﬁer random variable value F Exemplar constant distributions The distributions exemplar constants deﬁned inductively exemplar term cid2σψk value models ψk constrained value F sampled randomly entity identiﬁers logically possible values σψk Speciﬁcally The parents cid2σψk cid2σψ1 cid2σψ2 cid2σψk1 By inductive hypothesis assumed cid2σψi k ψk value F It veriﬁed inductive hypothesis true k true k 1 Conditional cid2σψ1 cid2σψ2 cid2σψk1 distribution cid2σψk deﬁned follows If ψk unsatisﬁable formula LF given constraints ψ1 ψk1 implied values parents cid2σψk value probability 1 If ψk unsatisﬁable formula LF given constraints ψ1 ψk1 implied values parents cid2σψi value εj probability πj Otherwise cid2σψi value probability θ εj probability 1 θ πj Calculating probabilities requires checking satisﬁability ψk ψk general undecid able We deﬁne process satisﬁes Deﬁnition 3 follows First assign probability θ 1 θ πj εj Then execute satisﬁability checker If point ψk proven unsatisﬁable change distribution assign probability 1 If ψk proven unsatisﬁable assign probability zero πj εj If ψk ψk unsatisﬁable algorithm eventually halt correct result Otherwise initialized correct distribution distribution changes algorithm interrupted correct result Domainspeciﬁc random variable distributions The distribution ϕku1 unk deﬁned follows The parents ϕku1 unk ϕiv1 vni k vj different ordinary variable uj implying instances ϕiv1 vni parents instance ϕku1 unk Instances ϕkv1 vnk entity identiﬁer bound uj equal precedes entity identiﬁer bound vj strictly precedes j speciﬁed recursive deﬁnition appropriate context constraints The exemplar constants cid2σψ1 cid2σψ2 The identity random variables cid2e If ϕku1 unk phenomenal random variable probability distribution calculated follows For binding ε1 εnk entity identiﬁers variables u1 unk value ϕkε1 εnk εj assigned randomly probability πj entity identiﬁers value consistent satisﬁability constraints implied assignment values parents ϕkε1 εnk Again step requires sat isﬁability checks Deﬁnition 3 satisﬁed implemented initially assigning probability πj εj ϕkε1 εnk εj proven unsatisﬁable setting probability εj zero The probability assigned converges correct value stop changing This allowed Deﬁnition 3 If ϕku1 unk logical random variable probability distribution calculated follows For binding ε1 εnk entity identiﬁers variables u1 unk ϕkε1 εnk value T ϕkε1 εnk inconsistent satisﬁability constraints implied assignment values parents ϕkε1 εnk ϕkε1 εnk value F ϕkε1 εnk inconsistent satisﬁability constraints implied assignment values parents ϕkε1 εnk Otherwise ϕku1 unk value T probability ρ F probability 1 ρ As calculation implemented initially assigning probability ρ T probability 1 ρ F revising distribution satisﬁability checks fails 162 KB Laskey Artiﬁcial Intelligence 172 2008 140178 Theorem 5 If ψ closed logical random variable corresponding satisﬁable sentence LF P gen nonzero probability value T ψ TM places Proof The deﬁnition ensures ψ corresponds satisﬁable sentence TF nonzero probability cid2σψ value When cid2σψ value local distributions domainspeciﬁc random variables assigned way constrains ψ value T Therefore nonzero probability ψ value T cid3 Theorem 5 shows P gen TM places nonzero probability value T sentences LF consistent axioms TF ﬁrstorder theory obtained P gen TM following rules Section 41 The ﬁnal step argument use Theorem 5 deﬁne probability distribution places nonzero probability models satisﬁable sentence ﬁrstorder logic Let L ﬁrstorder language function symbols X constant symbols A predicate symbols B let ψ sentence L The correspondences deﬁned logical MFrags Fig 8 provide recipe deﬁning language LM augments L special logical constants random variables common MEBN theories Following deﬁnitions deﬁne MEBN theory TM domainspeciﬁc random variable symbols L This MEBN theory logical random variable ψM makes assertion ψ Section 41 deﬁnes corresponding sentence ψF TF By examining ψM constructed ψ TF constructed TM clear ψF satisﬁable sentence LF ψ satisﬁable sentence L Thus given ﬁrstorder language countably symbols deﬁne MEBN theory represents joint probability distribution logical random variables corresponding sentences L This MEBN theory assigns nonzero probability value T logical random variable corresponding satisﬁable sentence ψ L Conditioning value T random variable results joint distribution models ψ Furthermore holds ﬁnite set jointly satisﬁable sentences conjunction satisﬁable sentence It clear approach fails inﬁnite sequences sentences 43 Comments FOL generative distribution Some comments order clarify accomplished deﬁning probability distribution Section 42 One need trouble merely demonstrate existence distribution interpretations assigns positive probability sentence This accomplished simply 1 listing satisﬁable sentences language 2 invoking axiom choice pick interpretation satisfy sentence list 3 assigning probability chosen interpretations Of course purely formal demonstration existence clear resulting distribution meaning respect intended domain application The distribution deﬁned Section 42 generates possible worlds assigning random values functions predicates Because sampled worlds required respect satisﬁability constraints undecidable generative probabilities Turing computable However computable oracle machine satisﬁabilitychecking oracle Oracle machines prove properties algorithms Although distrib ution Section 42 computed exactly approximated Furthermore difﬁcult modify process Section 42 obtain generative distribution nearly distribution speciﬁed domain modeler pinch probability 20 allocated satisﬁable sentence This accomplished making changes process deﬁned Section 42 First exemplar sampling distribution modiﬁed probability imposing unsatisﬁability constraint small Second domainspeciﬁc random variable distributions sampled according domain theory applicable unsatisﬁability constraints localize changes constraints The process Section 42 imposes unsatisﬁability constraints assigning value exemplar constants When sampler generate kth exemplar ﬁrst invokes oracle check ψk ψk unsatisﬁable given previously generated constraints If ψk unsatisﬁable value sampled ψk unsatisﬁable non value sampled If ψk ψk satisﬁable random choice impose unsatisﬁability constraint assign value impose constraint assign non value At point modiﬁcation sampling distribution follows An integer k cid2 0 chosen KB Laskey Artiﬁcial Intelligence 172 2008 140178 163 probability 1 θ kθ If k cid2 1 ψk satisﬁable sampler sets σψ value constrain sampling prevent ψk satisﬁed Otherwise set σψ set value ψk unsatisﬁable given constraints imposed far This procedure imposes unsatisﬁability constraint probability imposing constraint θ Next sampling distributions domainspeciﬁc random variables modiﬁed perturbed distribution close possible original MEBN theory To sampling domainspeciﬁc random variables carried order consistent fragment graphs original MEBN theory When sampling random variable ϕ imposed constraint exemplar sampling ϕ ancestor quantiﬁer random variable ψ unsatisﬁability constraint imposed ϕ sampled according local distribution original MEBN theory Otherwise distribution chosen prevents ψ satisﬁed To need add new arcs ϕ random variables parents original MEBN theory minimize changes original distribution add parents ancestors ψ The result oracle machine construction generative distribution close original distribution approaches limit θ tends zero The unsatisﬁability constraints imposed local perturbations disturb original MEBN theory little possible Speciﬁcally intervening ψ unsatisﬁable modify distributions ancestors ψ The generative distributions random variables remain unchanged There subtle issues deserve mention One issue accounting possibility original MEBN theory speciﬁes unsatisﬁability constraints This possible details presented Second probabilities assigned pinch probability distribution close like original distribution remains arbitrariness conditional probabilities given sentences assigned probability zero original MEBN theory The arbitrariness localized generative distributions ancestors measure zero sentence This contrasts standard probability theory conditional distribution given set measure zero totally arbitrary Basing probabilistic logic graphical models allows localize effects conditioning event measure zero If original MEBN theory imposes additional mathematical structure continuous probability density natural choice conditional distribution Further analysis topic scope paper 44 MEBN inference Situationspeciﬁc Bayesian networks As noted MEBN inference conditions prior distribution represented MEBN theory ﬁndings Fig 9 sketches inference algorithm uses knowledgebased model construction 74 produce sequence approximate situationspeciﬁc Bayesian networks Mahoney Laskey 54 deﬁne situationspeciﬁc Bayesian network SSBN minimal Bayesian network sufﬁcient compute response query query consists obtaining posterior distribution set target random variable instances given set ﬁnding random variable instances This algorithm version simple bottomup construction algorithm given 54 adapted case true SSBN inﬁnite The algorithm begins query set consisting ﬁnite set target random variable instances ﬁnite set ﬁnding random variable instances These combined construct approximate SSBN The approximate SSBN arc pair random variables variable parent context variable home MFrag inﬂuencing conﬁguration child variable At step algorithm obtains new approximate SSBN adding ﬁndings instantiating home MFrags random variables query set ancestors adding resulting random variable instances query set removing relevant query combining resulting set random variable instances new approximate SSBN This process continues changes approximate SSBN stopping criterion met If algorithm run stopping criterion SSBN construction terminates resulting SSBN provides exact response query indication ﬁndings inconsistent When algorithm terminate deﬁnes anytime process yields sequence approximate SSBNs converging correct query response exists In general ﬁnitelength proof set ﬁndings consistent inconsistent ﬁndings detected ﬁnite number steps SSBN construction 164 KB Laskey Artiﬁcial Intelligence 172 2008 140178 1 Initialization Set query set Q union target nodes ﬁnding nodes Initialize RV instances R0 Q Set maximum number states random variable N0 equal ﬁnite integer Set 0 2 SSBN Structure Construction Set current SSBN Bi contain nodes Ri arcs corresponding inﬂuencing conﬁg urations Remove Bi barren nodes nodes dseparated target nodes ﬁnding nodes nuisance nodes marginal distributions need updated 3 Local Distribution Construction Set local distributions Bi modifying local distributions restrict random variables Ni possible values approximate effect random variables enumerated compute Ki steps 4 Inference Apply standard Bayesian network inference compute conditional distributions target random variables given ﬁnding random variables If ﬁndings probability zero report ﬁndings inconsistent 5 Instance Enumeration Approximation Parameter Updating If stopping criterion met output Bi Else add Ri additional parents random variables adding additional parents change distribution increase Ni Ki return step 2 Fig 9 SSBN construction algorithm sketch Appendix A details Fig 10 Situationspeciﬁc Bayesian networks Two machines room b Two machines room b Fig 10 shows SSBNs constructed MEBN theory Fig 2 query engine status machines ﬁrst case machines known room second case machines different rooms In ﬁrst case learning engine machine overheated results increase probability engine overheated second case information effect probability distribution machine small impact inﬂuence evidence beliefs maintenance practices owner When uncertainty value context random variable appears explicitly SSBN For example MachineLocationm appears node Fig 10b possible values R1 R2 rooms M1 M2 located Context random variables facto parents resident random variables MFrag case EngineStatusm SensorStatusm TempLightm The distributions EngineStatusm SensorStatusm multiplexor distributions That distribution child depends temperature room machine actually located temperatures rooms located The distribution EngineStatusm depends MachineLocationm value Because known non value situation arc needed SSBN MachineLocationm EngineStatusm When uncertainty context random variables omitting implicit arcs context random variables resident random variables MFrag drawings hides complexity MEBN theory Nevertheless context random variables enable economical representations facilitate knowledge engineering Furthermore inference algorithms exploit contextspeciﬁc independence achieve computational efﬁciency KB Laskey Artiﬁcial Intelligence 172 2008 140178 165 As noted ordinary variable appears parent child random variable unbounded number parent instances constructed approximate SSBN Each step SSBN construction instantiates ﬁnitely parents random variable When inﬁnitely computationally relevant parent instances additional instances added step termination condition reached Even ﬁnitesize SSBN exists constructing computing query response intractable It typically necessary approximate SSBN pruning arcs random variables little inﬂuence query andor compiling parts SSBN send inference engines optimized special problem types The process controlling addition pruning random variable instances arcs called hypothesis management More generally execu tion management controls inference process balance accuracy computational resources Often portions inference task solved exactly approximately efﬁcient specialpurpose reasoners Such reasoners include constraint satisfaction systems deductive theorem provers differential equation solvers heuristic search optimization algorithms Markov chain Monte Carlo algorithms particle ﬁlters Online reasoning systems interleave addition new ﬁndings reﬁnement current approximate SSBN computation query responses given current approximate SSBN learning Laskey et al 4749 treat hypothesis management problem balancing computational overhead representing additional random variable instances accuracy responding queries Charniak Goldman 11 Levitt et al 751 consider hypothesis management openworld computational probabilistic reasoning systems Hypothesis management discussed extensively literature tracking multisource fusion 72 5 Probabilistic logics languages There growing literature languages representing probabilistic knowledge semantics probabilistic representations wellfoundedness tractability decidability inference probabilistic theories The success graphical models parsimonious representation tractable inference generated strong expressive languages reasoning probability Work knowledgebased model construction 74 focused constructing Bayesian networks knowledge bases consisting modular elements representing knowledge small clusters variables Early KBMC systems built decision theoretically coherent declarative domain theories relied heuristic knowledge typically encoded procedural rules constructing complex models simpler components As work knowledgebased model construction progressed grew theoretical foundations probabilistic representation languages relationship classical ﬁrstorder logic A number authors investigated approaches integrating classical logic probability A common approach provide language constructs allow express ﬁrstorder theories objects domain discourse proportions andor degrees belief statements objects Bacchus et al 23 augment ﬁrstorder logic proportion expressions represent knowledge given proportion objects domain certain property A principle indifference applied assign degrees belief interpretations satisfying constraints imposed ordinary ﬁrstorder quantiﬁcation proportion expressions Halperns 34 logic express proportion expressions degrees belief provides semantics relating proportions degrees belief Neither logical systems provides natural way express theories terms modular composable elements Unlike Bayesian networks easy verify conditions ensuring existence coherent domain theory general difﬁcult logical systems specify complete consistent probabilistic domain theories verify set axioms coherent Several languages developed represent probabilistic knowledge modular units repeated sub structures composed complex domain models These include pattern theory 32 hidden Markov models 22 plates language implemented BUGS 103071 objectoriented Bayesian networks 54445 probabilistic relational models 272863 There great deal commonality languages compactly ex pressing complex probabilistic domain theories cf 35 Plates BUGS object classes objectoriented Bayesian networks PRM structures probabilistic relational models correspond MFrag classes Fig 11 compares MEBN PRM plate representations theory fragment equipment diagnosis domain Like Bayesian networks plates represent joint distribution acyclic directed graph nodes represent random variables arcs represent direct dependence relationships node annotated speciﬁcation conditional distribution random variable given parents Repeated structure plates model represented indexing repeated random variables subscripts enclosing set random variables indexed given 166 KB Laskey Artiﬁcial Intelligence 172 2008 140178 b c Fig 11 MFrags PRM plates equipment diagnosis domain MEBN fragments ﬁndings shown b Probabilistic relational modelrelational schema PRM structure skeleton instances shown c Plates subscript rectangle called plate These indices play role ordinary variables MFrag As MEBN random variables parents contain indices mentioned random variable case local distribution child random variable specify aggregate inﬂuences multiple instances parent random variable Plate models restricted ﬁnite number instances random variable The number instances random variable ﬁxed attribute plate model BUGS sophisticated KB Laskey Artiﬁcial Intelligence 172 2008 140178 167 capability parameter learning builtin mechanism structure learning plate models constructed represent problem reasoning presence absence conditional dependency relationships random variables A PRM contains following elements 35 Fig 11b A relational schema speciﬁes types objects relationships exist domain A PRM structure represents probabilistic dependencies numerical probability information A skeleton speciﬁes unique identiﬁer blank template individual entity instance The data ﬁll entries blank template Like MEBN theory PRM represents probability distribution possible worlds Any given PRM expanded ﬁnite Bayesian network attributes relationships individuals explicitly repre sented skeleton PRMs use aggregation rules combine inﬂuences multiple instances parent random variable inﬂuence child random variable multiple reports inﬂuence WatchStatus random variable Fig 11 In addition attribute value uncertainty PRMs extended handle type uncertainty reference uncertainty identity uncertainty PRM learning theory provides formal basis parameter structure learning Learning methods published 27 learning structure parameters PRMs instances skeleton If probability distribution represented PRM assumed apply similar entities explicitly represented skeleton PRM learning methods extended allow sequential learning new individuals added skeleton time providing logical basis form open world reasoning One extend relational schema PRM structure hand add new entity types Heckerman et al 35 introduce new language DAPER expressing probabilistic knowledge struc tured entities relationships DAPER combines entityrelation model database theory directed graphical models expressing probabilistic relationships DAPER capable expressing PRMs plates providing uniﬁed syntax semantics expressing probabilistic knowledge structured entities relationships As presented Heckerman et al 35 DAPER expresses probabilistic models ﬁnite data bases express arbitrary ﬁrstorder formulas involving quantiﬁers That DAPER macro language compactly expressing ﬁnite Bayesian networks repeated structure true ﬁrstorder probabilistic logic Because DAPER represent PRMs plates conclusion applies formalisms On hand random variable semantics described Section 41 provide theoretical basis extending DAPER PRMs plates true ﬁrstorder logic Conditions identiﬁed DAPER models unbounded cardinality express welldeﬁned probability distributions models If developed fully relationship sketched MEBN theories PRMs plates facilitate construction extension Objectoriented Bayesian networks represent entities instances object classes classspeciﬁc attributes probability distributions Reference attributes allow representation function composition Although OOBNs multiplace relations handled deﬁning new object types represent multiplace relations Structure parameter learning methods OOBNs developed 445 The current literature OOBNs treat type reference uncertainty clearly possible extend OOBNs handle kinds uncertainty An advantage OOBNs ability represent encapsulated information random variables deﬁned internally object independent external random variables given interface random variables shield object environment The semantics encapsulation based conditional independence relationships Thus concept encapsulation extended languages based graph ical models including MEBN theories DAPER models encapsulated random variables As plates PRMs semantics described Section 41 provide theoretical basis extending OOBNs achieve ﬁrstorder expressive power A feature MEBN present PRMs plates OOBNs use context constraints specify logical conditions determine random variable inﬂuences A similar effect achieved aggregation functions ignore inﬂuences ruled context cumbersome PRMs OOBNs founded type Sophisticated implementations subtyping inheritance ability represent type uncertainty 37 MEBN extended typed logic advantages typed relational languages 12 168 KB Laskey Artiﬁcial Intelligence 172 2008 140178 Like MEBN relational Bayesian networks 3940 provide formal semantics probability languages extend Bayesian networks achieve ﬁrstorder expressiveness Random variables relational Bayesian network logical A RBN set predeﬁned relations deﬁning local distributions set probabilistic relational symbols represent uncertain relations domain A RBN deﬁnes joint probability distribution models uncertain relations Probability formulas specify combine inﬂuences multiple instances parents random variable obtain conditional distribution random variable given ﬁnite sets instances parents General relational Bayesian networks represent probability distributions ﬁnite domains nonrecursive RBNs extended represent probability distributions countably inﬁnite domains 39 Bayesian logic programs 1943 express uncertainty interpretations ﬁrstorder theories To en sure decidability BLPs typically restricted Horn clause theories Bayesian logic programs MEBN theories represent complementary approaches specifying ﬁrstorder probabilistic theories BLPs represent frag ments Bayesian networks ﬁrstorder logic MEBN theories represent ﬁrstorder logic sentences MFrags Although restriction Horn clause logic limits expressiveness BLP languages limitation balanced efﬁciency algorithms specialized Horn clause theories Research Bayesian logic programming ap plicable problem execution management SSBN construction That execution manager identify portions inference task involve Horn clauses send inference engine specialized efﬁcient reasoning Horn clauses MEBN semantics develop extensions BLP languages handle knowledge bases limited Horn clauses Other research integrating logic probability includes Pooles 65 parameterized Bayesian networks Ngo Haddawys 60 work contextspeciﬁc probabilistic knowledge bases PRISM 68 IBAL 64 BLOG 56 Parameterized Bayesian networks designed provide ability reason individuals explicitly named important capability lacking probabilistic languages Poole presents algorithm performing inference grounding theory Like MEBN random variables parameterized Bayesian network arguments individuals population substituted parameters form instances random variables Like MEBN population parameters range ﬁnite inﬁnite Poole considers models recursion Thus parameterized Bayesian network corresponds MEBN theory recursive links For theories Pooles inference algorithm provide alternative possibly efﬁcient SSBN algorithm presented Ngo Haddawy represent probabilistic knowledge universally quantiﬁed sentences depend context Like MEBN Ngo Haddawy exploit context constraints focus inference relevant portions knowledge base Unlike MEBN Ngo Haddawy separate context nonprobabilistic uncertain hypotheses contextspeciﬁc probability distributions deﬁned A contextsensitive knowledge base corresponds partially speciﬁed MEBN theory reserved subset logical random variables appear context random variables MFrags home MFrags truthvalues assumed known problem solving time PRISM logic programming language facts pa rameterized probability distributions Like MEBN theory PRISM program deﬁnes probability distribution interpretations A PRISM program random sampler distribution deﬁnes PRISM sup ports abductive reasoning EM learning IBAL probabilistic programming language allows users write functional programs stochastic branches Given program IBAL uses variety inference methods provide probability distribution outputs program Results conditioned userspeciﬁed evidence IBAL supports parameter learning utility maximization BLOG 56 new language enables probabilistic reasoning unknown entities domains contain unknown numbers entities Under appropri ate conditions ones deﬁned 33 BLOG express probability distributions interpretations broad class ﬁrstorder theories Hidden Markov models dynamic Bayesian networks partially dynamic Bayesian networks Bayesian net works containing static dynamic nodes provide ability deﬁne simple recursive relationships Pfeffer 63 considers recursive probabilistic models express richer class recursive relationships It straightforward express HMMs DBNs recursive probabilistic models MEBN theories Fig 3 Pattern theory 32 graphical modeling language based undirected graphs There extensive literature applications undirected graphical models image understanding geospatial data problems natural direction inﬂuence A hybrid language deﬁned extends MEBN permit directed undirected arcs Such extension considered KB Laskey Artiﬁcial Intelligence 172 2008 140178 169 A common problem ﬁrstorder graphical probabilistic languages specify local distributions random variable different numbers parents different ground Bayesian networks corresponding given ﬁrstorder probabilistic theory Probabilistic relational models use aggregation functions summary statistic computed instances parents local distribution depends summary statistic For example distribution WatchStatus Fig 11 depends summary statistic aggregates total number problematic reports received item Many knowledgebased Bayesian network construction approaches use combination rules 5860 With combination rules modeler deﬁnes probability distribution single instance parents random variable combination rule speciﬁes combine distributions ground model contains multiple instances parents Inﬂuence counts represent combining rules aggregation functions To inﬂuence counts represent combining rules consider extension diagnosis example EngineStatusm depends BeltStatusb GasketStatusg context constraints specify IsaBelt b IsaGasket g To specify combining rule modeler specify probability distribution EngineStatusm given beltgasket conﬁguration room temperature deﬁne function combine distributions Suppose particular machine belts gaskets located rooms Making legal substitutions yield probability distributions beltgasket com binations rooms The combining function specify obtain single distribution distributions To use inﬂuence counts deﬁne combining rule simply specify probability distribution parent conﬁguration use conﬁgurations inﬂuence count specify number copies corresponding distribution combine To represent aggregation rules inﬂuence counts little straightforward Suppose want deﬁne aggregation function depends total number broken belts total number broken gaskets In machine belts gaskets belt contributes inﬂuencing conﬁgurations gasket contributes inﬂuencing combinations Thus need divide total inﬂuence counts broken belt conﬁgurations 3 total inﬂuence counts broken gaskets order obtain needed aggregation function This simple rule breaks context constraints rule combinations For example belts allowed combine gaskets This case handled making entity identiﬁer cid2e parent counting number unique belt instances unique gasket instances inﬂuencing conﬁgurations One concern arise representing combining rules aggregates conditions 3c 3e satisﬁed For example average inﬁnitely terms general satisfy 3c In fact condition like 3c required precisely absence average inﬁnitely terms welldeﬁned distribution Most formalism avoid difﬁculty assuming domain ﬁnite In BLOG cardinality unbounded assumed ﬁnite In ﬁnite domains conditions 3c 3e satisﬁed This interpretation ﬁnitely entity identiﬁers value Therefore ﬁnitely inﬂuencing conﬁgurations random variable The number inﬂuencing conﬁgurations vary interpretation interpretation allowable condition 3c Thus random variables aggregates combined inﬂuences welldeﬁned distributions conditions 3c 3e satisﬁed Indeed conditions satisﬁed inﬁnite domains assumption interpretation random variable actually inﬂuenced ﬁnite possibly unbounded number parents This level expressiveness sufﬁcient represent problem knowledge engineer likely encounter These conditions impose real restrictions attempt represent completed inﬁnities average inﬁnite number nonzero numbers While appropriate relaxations conditions theoretical identifying conditions ensure MEBN theories represent completed inﬁnities pressing practical issue 6 Summary discussion Graphical models initially limited problems relevant random variables relationships speciﬁed advance Languages based graphical models rapidly reaching expressive power required general computing applications It possible base computational inference learning systems rationally coherent domain models implicitly encoded sets graphical model fragments use coherent deep structure models guide reasoning knowledge discovery Probability theory provides logically coherent 170 KB Laskey Artiﬁcial Intelligence 172 2008 140178 calculus combining prior knowledge data evolve agents knowledge observations accrue Probability theory provides principled approach knowledge interchange different reasoners This paper presents ﬁrstorder Bayesian language called MultiEntity Bayesian Networks MEBN The syntactic similarity MEBN standard ﬁrstorder logic notation clariﬁes relationship ﬁrstorder logic prob abilistic logic A MEBN theory MEBN theory assigns probabilities models associated FOL theory MEBN theories partition FOL theories equivalence classes theories logical content different proba bilities assigned models Provable statements FOL correspond statements associated MEBN theory SSBN construction terminates probability 1 assigned value T A MEBN theory corresponding inconsistent FOL theory ﬁnding equal probability 1 If associated MEBN theory inconsistent SSBN determine ﬁnitely steps inconsistent When SSBN construction terminate MEBN theory represents globally consistent joint distribution construction process gives rise anytime sequence approximations converges inﬁnite limit correct response query MEBN represent large class probability distributions construct domain theories wide variety application domains The conditions Deﬁnitions 3 5 impose constraints distributions MEBN represent For example MEBN represent average inﬁnitely non zero numerical random variables It represent random variables inﬁnitely long ancestor chains Markov chain extends bound past future directions Nevertheless MEBN provides rich language knowledge representation It handle nary relations contextspeciﬁc independence quantiﬁers combining functions aggregates The unit representation MEBN conceptually meaningful cluster related random variables In applications representational unit natural focus uncertainty attributes objects Unlike OOBNs PRMs MEBN represent nary relationships Although speciﬁcation given paper typed examples illustrate simple type formalized 12 It straightforward typed MEBN represent probabilistic relational models Because presently direct MEBN implementation pub lished applications translated MEBN theories relational models QuidditySuite probabilistic relational modeling KBMC toolkit 37 construct situationspeciﬁc Bayesian networks 113 Rules given 12 translating MEBN theories QuidditySuite frames There features MEBN notably context constraints represented declaratively standard relational languages ability QuidditySuite combine Prologstyle rules framebased relational modeling language provides ability specify powerful declarative representations 25 Many languages designed tractable implementation taken strategy restricting expressiveness en sure answers probabilistic queries decidable In open world answer queries undecidable best expected approximate answer Languages provide decidable closed form responses limited classes queries important place theoretically practically Nevertheless intelligent reasoning complex world requires principled methods coping intractable undecidable problems MEBN exploits language graphical models compose consistent domain theories modu lar components connected clearly deﬁned interfaces support efﬁcient implementations tractable domain theories Yet MEBN represent highly complex intractable undecidable domain theories Al answer probabilistic query undecidable intractable decidable Bayesian decision theory provides sound mathematical basis deﬁning analyzing properties processes converge correct response undecidable queries resourcebounded processes balance efﬁ ciency accuracy Bayesian theory provides semantics relationship empirical proportions probabilities logically justiﬁed theoretically principled way combine empirical frequencies prior knowledge reﬁne theories light observed evidence MEBN inherently open Bayesian learning theory provides inbuilt capability MEBNbased systems learn better representations observations accrue Parameter learning expressed inference MEBN theo ries contain parameter random variables Structure learning handled introducing multiple versions random variables having home MFrags different structures A natural approach structure learning ﬂexible type requires polymorphic extension MEBN Clearly typed MEBN polymorphism desirable applications We chose paper focus basic version logic highlight relationship classical ﬁrstorder logic demonstrate logic sufﬁciently powerful represent general ﬁrstorder theories Extensions MEBN planned incorporate additional expressivity KB Laskey Artiﬁcial Intelligence 172 2008 140178 171 Acknowledgements Research paper partially supported DARPA AFRL contract F3361598C1314 Alphatech subcontract 980367488 Additional support provided Advanced Research Development Activity ARDA contract NBCHC030059 issued Department Interior The views opinions ﬁndings contained paper author construed ofﬁcial position policy decision DARPA ARDA designated ofﬁcial documentation Appreciation extended Bruce DAm brosio Suzanne Mahoney Mike Pool Bikash Sabata Masami Takikawa Dan Upper Ed Wright helpful discussions Special thanks Paulo Costa Tod Levitt extensive feedback earlier drafts The author grateful anonymous reviewers earlier drafts thorough reviews insightful comments useful suggestions Special thanks anonymous reviewer previous version paper ﬁnding errors Appendix A Proofs algorithms This appendix proves MEBN theory represents globally consistent joint distribution random variable instances proves MEBN theory constructed described Section 42 places nonzero probability value T logical random variables corresponding satisﬁable ﬁrstorder sentences presents SSBN construction algorithm shows SSBN construction identiﬁes unsatisﬁable set ﬁndings ﬁnitely steps proves ﬁndings consistent SSBN construction converges probability 1 posterior distribution MEBN theorys random variables given ﬁnding random variables value T A1 Proof existence theorem Theorem 1 Let T F1 F2 simple MEBN theory There exists joint unique probability distribution P gen T set instances random variables MFrags consistent local distributions assigned MFrags T This distribution respects independence assumptions encoded MFrags That random variable instance conditionally independent nondescendants given possibly inﬁnite set parent instances Proof Let Z φ1α1 φmαm ﬁnite subset NT let D maxdφα φα φ1α1 φmαm maximum depth instances Z Suppose D 0 Let πT 1φ1α1 φmαm distribution φiαi independent distributed according default distributions πφi θi home MFrags Fφi αi All ﬁnitedimensional distributions constructed way depth 0 elements NT consistent local distributions T Therefore Kolmogorovs existence theorem11 implies ﬁnitedimensional distributions extended joint distribution πT 1 instances depth zero random variables joint distribution consistent local distributions T Now suppose T represents joint distribution πT D instances random variables depth D Let Z φ1α1 φmαm ﬁnite subset NT φiαi Z depth greater D Let A denote possibly inﬁnite subset NT consisting ancestors depth D elements Z elements Z depth strictly D Clearly instance ϕβ A depth D Therefore marginal distribution πT D represents joint distribution A consistent local distributions T Let S ϕβ γ ϕβ A set value assignment terms element A Suppose φiαi Z If φiαi depth D φiαi A S assigns particular value φiαi probability 1 Other wise condition 3e implies ﬁnite subset Sφi αi S πφi αi Sφi αi πφi αi S 11 Kolmogorovs existence theorem cf 6 states joint distributions exist ﬁnite subsets collection random variables ﬁnitedimensional distributions consistent joint distribution exists inﬁnite collection random variables 172 KB Laskey Artiﬁcial Intelligence 172 2008 140178 Sφi αi S S12 Thus given value assignments S T assigns welldeﬁned conditional distribution φiαi Z denoted πφi αi S Deﬁne joint conditional distribution πT D1 cid3 φ1α1 γ1 φmαm γm S cid4 cid3 φiαi γi S cid4 πφi αi mcid5 i1 φiαi independent distributed assigned local distributions home MFrags conditional value assignments S Existence joint conditional distribution φiαi marginal distribution S implies marginal joint distribution cid6 mcid5 πT D1 cid3 cid4 φ1α1 φmαm cid3 φiαi S cid4 πφi αi dπT DS A1 i1 exists consistent local distributions T The marginal distribution 1 expressed integral sum uncountably different ways choose value assignments S ϕβ γ ϕβ A This construction carried ﬁnite set depth D instances clear distributions deﬁned consistent local distributions T This implies T represents joint distribution arbitrary ﬁnite subsets NT distributions constructed way consistent local distributions T A second application Kolmogorovs existence theorem implies T represents joint distribution instances random variables VT It clear distribution sistent local distributions T Uniqueness satisfaction causal Markov conditions immediate consequences construction distribution cid3 A2 SSBN construction algorithm The situationspeciﬁc Bayesian network construction algorithm takes MEBN theory T ﬁnite possibly set target random variable instances ﬁnite possibly set ﬁnding random variable instances computes sequence Bayesian networks containing target ﬁnding random variable instances The algorithm interrupted time obtain approximate SSBN If ﬁndings inconsistent algorithm interrupted discover inconsistency ﬁnitely steps If algorithm terminates interruption ﬁndings consistent Bayesian network sequence compute joint distribution target random variable instances given ﬁnding random variable instances value T That additional model construction change result query For problems algorithm terminate interrupted produces sequence approximate SSBNs converge correct query response We SSBN construction simple MEBN theories The modiﬁcation mixture MEBN theories straightforward SSBN construction proceeds follows SSBNConstruct The inputs SSBNConstruct A simple MEBN theory T partial ordering cid19 modelerdeﬁned MFrags F deﬁned set X random variable symbols set A constant symbols A ﬁnite possibly set τiicid2T nonﬁnding random variable instances called target random variable instances A ﬁnite possibly set φiicid2F ﬁnding random variable instances The steps SSBNConstruct 1 Initialization Set Q τiicid2T φiicid2F set R0 Q Let N0 K0 positive integers Set iteration number equal 0 2 SSBN structure construction Set structure approximate SSBN Bi follows 12 Theorem 1 holds weaker conditions local distributions condition 3e sufﬁces MEBN represent classical ﬁrstorder logic KB Laskey Artiﬁcial Intelligence 172 2008 140178 173 Fig 12 Situationspeciﬁc Bayesian network Set Bi equal Bayesian network nodes random variables Ri Add arc random variable α β α instance parent β context random variable home MFrag β Remove arcs β inﬂuencing conﬁgurations β conﬁgurations parents context random variables match context constraints Do changes Bi occur Fig 12 Remove Bi barren nodes nodes having descendants Q Remove Bi nodes dseparated ﬁnding nodes target nodes Remove Bi parents nuisance node current cached marginal distribution A nuisance node 52 node computationally relevant given query evidential trail13 evidence target node 3 Local distribution construction Calculate local distributions Bi local distributions MFrags T modiﬁcations restrict random variables Ni possible values approximate effects random variables enumerated ensure computation local distributions halts Speciﬁcally If ψ nuisance node current cached marginal distribution case step 2 ensures ψ root node Bi assign cached marginal distribution For node ψ Bi let Sψ conﬁguration states parents ψ Bi convention Sψ ψ parents Bi If Sψ assigns parent ψ Bi 1st 2nd Ni 1st state run algorithm computing probabilities ﬁrst Ni possible values ψ given Sψ terminating computation Ki steps Assign ﬁrst Ni 1 states ψ probabilities returned algorithm assign Ni th possible value equal 1 minus sum probabilities values If Sψ assigns parent ψ Bi Ni th state assign ψ default distribution gives nonzero probability states ψ states fewer Ni ﬁrst Ni states 4 Inference Apply standard Bayesian network inference algorithm compute conditional distribution nonﬁnding random variables Bi given ﬁnding random variables Bi For node β Bi cache marginal distribution mark current 13 A node computationally relevant remains iteratively removing barren dseparated nodes An evidential trail sets nodes minimal active undirected path node set node If global joint distribution exists nuisance nodes marginalized affecting result query 174 KB Laskey Artiﬁcial Intelligence 172 2008 140178 If inference algorithm indicates ﬁndings inconsistent set SSBN S equal Bi output S stop indication SSBN construction terminated T inconsistent Else computationally relevant random variables added random variable Bi Ni possible values local distribution computation terminated prior completion set SSBN S equal Bi return Bi joint distribution target random variables stop ﬂag indicating SSBN construction terminated T consistent Else step 5 5 Instance enumeration approximation parameter updating This step enumerates additional instances ran dom variables increases limits number allowable states random variable computational steps local distributions If stopping criterion met output Bi joint distribution computed step 4 stop indication SSBN construction terminate Else set Ri1 Ri For random variable instance β Bi change local distribution occur additional parents added add ﬁnite number instances parents β Ri1 process ensures eventual addition instances parents β Here context random variable random variables home MFrag counts parent Set Ni1 Ki1 positive integers strictly greater Ni Ki respectively For node new parents added ii new states ancestor added iii computation halt computing local distribution node ancestors mark marginal distribution current Increment step 2 It known set sentences FOL unsatisﬁable exists ﬁnite set ground instances set logically equivalent sentences unsatisﬁable example 2367 The SSBN construction algorithm produces sequence Bayesian networks translated set constraints truthvalues ﬁnite set ground instances FOL sentences implied MEBN theory T Each Bayesian networks encodes probability distribution assigns nonzero probability assignment truth values consistent constraints encodes Each approximate SSBN includes constraints represented preceding approximate SSBNs additional constraints If query set contains ﬁndings eventually logical constraints implied ﬁndings predecessors random variable instance partial order enumerated If set logical constraints unsatisﬁable ﬁnite subset eventually constraints encoded SSBN include ﬁnite unsatisﬁable subset The following theorem states inconsistent theory discovered ﬁnite number steps SSBN construction specifying query set consisting ﬁndings setting SSBN construction stop inconsistency Theorem 6 If logical constraints represented T unsatisﬁable step 5 SSBNConstruct set stop SSBN construction query set consisting ﬁndings T terminates ﬁnitely steps indication T inconsistent Proof Each approximate SSBN Bi represents probability distribution interpretations theory logical axioms form subset logical axioms T The domain interpretation ﬁnite set consisting possible assignments values random variables Bi ﬁnding random variables value T The approximate SSBN Bi assigns nonzero probability hypothesis ﬁnding random variables value T interpretation ﬁnite domain satisﬁes logical axioms represented Bi turn case logical axioms represented Bi simultaneously satisﬁable For k approximate SSBN Bk includes logical constraints included Bi additional straints implied local distributions random variables appearing Bi1 Bi The SSBN construction process eventually adds computationally relevant random variables eventually includes logical constraints represented local distributions random variable instances ﬁndings ancestors ﬁndings random variable partial ordering cid19 Thus ﬁndings unsatisﬁable eventually approximate SSBN sequence represents unsatisﬁable set constraints cid3 KB Laskey Artiﬁcial Intelligence 172 2008 140178 175 Note SSBN construction add random variables dseparated target random variables ﬁndings Therefore query set contains nonﬁnding target random variables inconsistencies introduced adding dseparated random variables discovered It asserted logic texts inconsistent theory useless proven contradiction In practice inconsistent theories useful MEBN reason inconsistent theories long queries structured target given query dseparated subset ﬁndings ﬁndings contradict subset Thus MEBN turn useful tool studying conditions inconsistent theories provide accurate results probabilistic queries Condition 3e Deﬁnition 3 implies possible world local distribution computed ﬁnitely instances random variables parents context random variables However instances needed vary possible world possible world upper bound instances needed To SSBN construction converges correct result necessary correct response query approximated arbitrary accuracy explicitly representing ﬁnite number random variable instances Lemma 7 Let Q θiicid2M ﬁnite set random variable instances MEBN theory T Let R denote set random variable instances elements Q ancestors elements Q Let R0 R1 R2 Ri Let Bi increasing sequence ﬁnite sets random variable instances Q R0 R Bayesian network constructed random variables Ri That nodes Bi random variable instances Ri ii arc θi θj θi parent θj context random variable home MFrag inﬂuencing conﬁguration containing value assignment θj iii local distribution θi given local distribution πθi home MFrag Let S θi αiicid2M assignment values random variables Q Then PBi S converges P gen T S cid7 Proof The proof induction maximum depth random variable instances Q Clearly result holds instances Q depth zero Suppose result holds random variable instances depth D Suppose maximum depth random variables Q D Let R0 set obtained removing Ri random variables depth D let Q0 R0 0 Let S0 assignment values random variables Q0 agrees S random variables Q Q0 random variables Q depth strictly D Let B0 Bayesian network constructed described T S0 By induction hypothesis PB0 random variables R0 cid7 Let Ui RiQ That Ui consists random variables Bi Q let U Ui Let X denote assignment values random variable instances U let Xi denote subset value assignments corresponding random variables Ui Suppose depth D random variables Ri value Let θ depth D random variable Condition 3e Deﬁnition 3 implies integer N S0 P gen πθ α XN S0 πθ α XN 1 S0 πθ α X S0 A2 Let N denote smallest N 2 holds The number N function X S0 Marginalized X N probability distribution P gen T N S0 We write P gen T S cid8 cid8 cid9 cid5 πθ θ α Xn S0P gen T Xn S0 N cid10 n n Xn P gen θαS depthθD n S0P gen T N T S approximation P gen cid5 cid8 Let P n ables P n T S T S0 T S obtained enumerating ﬁnite set Un Q random vari A3 πθ θ α Xn S0P gen T Xn S0 A4 Xn θαS depthθD Combining 3 4 noting πθ θ α XN S0 πθ θ α Xn S0 N cid3 n 176 cid11 cid11P n T S P gen cid11 cid11 T S KB Laskey Artiﬁcial Intelligence 172 2008 140178 cid9 cid5 cid8 cid8 πθ θ α Xn S0P gen T Xn S0 N nn Xn θαS depthθD cid3 P gen T N cid2 n S0P gen T S0 cid10 n P gen T N n S0 A5 Let u positive real number let n integer P gen T S u2P gen We choose n sufﬁciently large cid8 T S0 By induction hypothesis distributions PB0 cid5 cid11 cid11PBi S P n cid11 cid11 T S cid11 cid11 cid11 cid11 cid3 πθ θ α Xn S0 PB0 Xn S0 P n cid4 T Xn S0 cid11 cid11 cid11 cid11 cid2 nn P gen T N n u2 Then P n Xn S0 converge P gen T S T Xn S0 Xn θαS depthθD T S0 u2P gen cid11 cid11PBi S P n T S Then n cid11 cid11PBi S P gen cid11 cid11 cid3 T S Therefore PBi S converges P gen cid11 cid11 T S cid11 cid11P n T S P gen cid11 cid11 uP gen T S T S0 A6 Now consider case depth D random variables value It clear PBi S converges P gen T S S k fewer depth D random variables value converge k 1 depth D random variables value This establishes result sets Q depth greater D concludes proof cid3 Theorem 8 Suppose logical constraints represented T satisﬁable Furthermore suppose algorithm described Deﬁnition 3c computing values πψεAS returns zero value exact value πψεAS equal zero If step 7 SSBNConstruct set stop SSBN construction query set Q terminates distribution P gen iicid2F produces sequence B1 B2 probability distribution Q0 given ﬁndings Bi converges distribution represented T T Q0 φi Proof Lemma 7 establishes distribution Q approximated arbitrary accuracy enumerating ﬁnitely random variable instances enumerated SSBN construction However unlike Lemma 7 SSBN construction approximates local distributions enumerating ﬁnitely possible values terminating computation ﬁnite steps Because maximum number possible values maximum length computation increase number SSBN steps upper bound additional approximations added affecting convergence cid3 References 1 G Alghamdi KB Laskey E Wright D Barbara KC Chang Modeling insider behavior multientity Bayesian networks 10th Annual Command Control Research Technology Symposium 2005 2 F Bacchus Representing Reasoning Probabilistic Knowledge A Logical Approach Probabilities MIT Press Boston MA 1990 3 F Bacchus A Grove JY Halpern D Koller From statistical knowledge bases degrees belief Artiﬁcial Intelligence 87 1997 75143 4 O Bangsø H Langseth T Nielsen Structural learning object oriented domains FLAIRS 2001 5 O Bangsø PH Wuillemin Object oriented Bayesian networks A framework topdown speciﬁcation large Bayesian networks repetitive structures Technical Report CIT87200obphw1 Department Computer Science Aalborg University Aalborg 2000 6 P Billingsley Probability Measure Wiley New York 1995 7 T Binford TS Levitt Evidential reasoning object recognition IEEE Transactions Pattern Analysis Machine Intelligence 25 7 2003 837851 8 C Boutilier N Friedman et al Context speciﬁc independence Bayesian networks Uncertainty Artiﬁcial Intelligence Proceedings Twelfth Conference Morgan Kaufmann San Francisco CA 1996 9 RJ Brachman RE Fikes HJ Levesque KRYPTON A functional approach knowledge representation IEEE Computer Society 16 10 1983 6773 10 WL Buntine Operations learning graphical models Journal Artiﬁcial Intelligence Research 2 1994 159225 11 E Charniak RP Goldman A Bayesian model plan recognition Artiﬁcial Intelligence 64 1993 5379 KB Laskey Artiﬁcial Intelligence 172 2008 140178 177 12 P Costa Bayesian semantics Semantic Web Doctoral Dissertation School Information Technology Engineering George Mason University Fairfax VA 2005 httphdlhandlenet1920455 13 P Costa KB Laskey F Fung M Pool M Takikawa E Wright MEBN logic A key enabler networkcentric warfare 10th Annual Command Control Research Technology Symposium 2005 14 RG Cowell Probabilistic Networks Expert Systems SpringerVerlag Berlin 1999 15 B DAmbrosio Local expression languages probabilistic dependency Uncertainty Artiﬁcial Intelligence Proceedings Seventh Conference Morgan Kaufmann San Mateo CA 1991 16 B DAmbrosio M Takikawa J Fitzgerald D Upper SM Mahoney Security situation assessment response evaluation SSARE DARPA Information Survivability Conference Exposition II IEEE Computer Society 2001 17 E Davis Representations Commonsense Knowledge Morgan Kaufmann San Mateo CA 1990 18 B Finetti Theory Probability A Critical Introductory Treatment second English ed Wiley New York 19341990 Translated A Machi AFM Smith 19 L De Raedt K Kersting Probabilistic logic learning ACMSIGKDD Explorations Special Issue MultiRelational Data Mining 5 1 2003 3148 20 MH DeGroot Lindleys paradox Comment Journal American Statistical Association 77 378 1982 336339 21 MH DeGroot MJ Schervish Probability Statistics Addison Wesley Boston MA 2002 22 RJ Elliott L Aggoun JB Moore Hidden Markov Models Estimation Control SpringerVerlag Berlin 1995 23 HB Enderton A Mathematical Introduction Logic Harcourt Academic Press 2001 24 G Frege Begriffsschrift J Heijenoort Ed From Frege Gödel Harvard University Press Cambridge MA 18791967 Translated 25 F Fung KB Laskey M Pool M Takikawa E Wright PLASMA Combining predicate logic probability information fusion decision support AAAI Spring Symposium Decision Support Changing World 2005 26 D Geiger D Heckerman Advances probabilistic reasoning Uncertainty Artiﬁcial Intelligence Proceedings Seventh Confer ence Morgan Kaufmann Publishers San Mateo CA 1991 27 L Getoor N Friedman D Koller A Pfeffer Learning probabilistic relational models S Dzeroski N Lavrac Eds Relational Data Mining SpringerVerlag Berlin 2001 28 L Getoor D Koller B Taskar N Friedman Learning probabilistic relational models structural uncertainty ICML2000 Workshop AttributeValue Relational LearningCrossing Boundaries Standford California 2000 29 Z Ghahramani Learning dynamic Bayesian networks CL Giles M Gori Eds Adaptive Processing Sequences Data Structures Lecture Notes Artiﬁcial Intelligence SpringerVerlag Berlin 1998 pp 168197 30 W Gilks A Thomas DJ Spiegelhalter A language program complex Bayesian modeling The Statistician 43 1994 169178 31 S Glesner D Koller Constructing ﬂexible dynamic belief networks ﬁrstorder probabilistic knowledge bases ECSQARU 1995 pp 217226 32 U Grenander Elements Pattern Theory Johns Hopkins University Press Baltimore MD 1996 33 TR Gruber A translation approach portable ontology speciﬁcations Knowledge Acquisition 5 2 1993 199220 34 JY Halpern An analysis ﬁrstorder logics probability Artiﬁcial Intelligence 46 May 1991 311350 35 D Heckerman C Meek D Koller Probabilistic models relational data MSRTR200430 Microsoft Corporation Redmond WA 2004 36 C Howson P Urbach Scientiﬁc Reasoning The Bayesian Approach Open Court Chicago IL 1993 37 IET QuidditySuite Technical Guide Information Extraction Transport Inc Arlington VA 2004 38 ISOIEC Information technologyCommon Logic CLA framework family logicbased languages ISOIEC 247072007 Inter national Organisation Standardisation Geneva Switzerland 2007 39 M Jaeger Reasoning inﬁnite random structures relational Bayesian networks Proceedings 6th International Conference KR 98 1998 40 M Jaeger Complex probabilistic modeling recursive relational Bayesian networks Annals Mathematics Artiﬁcial Intelligence 32 2001 179220 41 ET Jaynes Probability Theory The Logic Science Cambridge University Press Cambridge UK 2003 42 FV Jensen Bayesian Networks Decision Graphs SpringerVerlag Berlin 2001 43 K Kersting L De Raedt Adaptive Bayesian logic programs Proceedings Eleventh International Conference Inductive Logic Programming ILP 2001 SpringerVerlag Berlin 2001 44 D Koller A Pfeffer Objectoriented Bayesian networks Uncertainty Artiﬁcial Intelligence Proceedings Thirteenth Conference Morgan Kaufmann San Francisco CA 1997 45 H Langseth T Nielsen Fusion domain knowledge data structured learning objectoriented domains Journal Machine Learning Research 4 2003 339368 46 KB Laskey P Costa Of Klingons starships Bayesian logic 23rd century Uncertainty Artiﬁcial Intelligence Proceedings TwentyFirst Conference AUAI Press Arlington VA 2005 47 KB Laskey B DAmbrosio TS Levitt SM Mahoney Limited rationality action Decision support military situation assessment Minds Machines 10 2000 5377 48 KB Laskey SM Mahoney Network fragments Representing knowledge constructing probabilistic models Uncertainty Artiﬁcial Intelligence Proceedings Thirteenth Conference Morgan Kaufmann San Mateo CA 1997 49 KB Laskey SM Mahoney E Wright Hypothesis management situationspeciﬁc network construction Uncertainty Artiﬁcial Intelligence Proceedings Seventeenth Conference Morgan Kaufman San Mateo CA 2001 50 S Lauritzen Graphical Models Oxford Science Publications Oxford 1996 178 KB Laskey Artiﬁcial Intelligence 172 2008 140178 51 TS Levitt CL Winter CJ Turner RA Chestek GJ Ettinger SM Sayre Bayesian inferencebased fusion radar imagery military forces tactical terrain models image exploitation systembalanced technology initiative International Journal HumanComputer Studies 42 1995 52 Y Lin MJ Druzdzel Computational advantages relevance reasoning Bayesian belief networks Uncertainty Artiﬁcial Intelligence Proceedings Thirteenth Conference Morgan Kaufmann San Francisco CA 1997 53 SM Mahoney Network Fragments School Information Technology Engineering George Mason University Fairfax VA 1999 54 SM Mahoney KB Laskey Constructing situation speciﬁc networks Uncertainty Artiﬁcial Intelligence Proceedings Fourteenth Conference Morgan Kaufmann San Mateo CA 1998 55 SM Mahoney KB Laskey Representing combining partially speciﬁed conditional probability tables Uncertainty Artiﬁcial Intelligence Proceedings Fifteenth Conference Morgan Kaufmann San Mateo CA 1999 56 B Milch B Marthi S Russell D Sontag DL Ong A Kolobov BLOG Probabilistic models unknown objects Proceedings Nineteenth Joint Conference Artiﬁcial Intelligence 2005 57 K Murphy Dynamic Bayesian Networks Representation Inference Learning Computer Science Division University California Berkeley CA 1998 58 S Natarajan P Tadepalli E Altendorf TG Dietterich A Fern A Restiﬁcar Learning ﬁrstorder probabilistic models combining rules Proceedings 22nd International Conference Machine Learning 2005 59 RE Neapolitan Learning Bayesian Networks Prentice Hall New York 2003 60 L Ngo P Haddawy Answering queries contextsensitive probabilistic knowledge bases Theoretical Computer Science 171 1997 147177 61 J Pearl Probabilistic Reasoning Intelligent Systems Networks Plausible Inference Morgan Kaufmann San Mateo CA 1988 62 CS Peirce On algebra logic American Journal Mathematics 7 1885 180202 63 A Pfeffer Probabilistic Reasoning Complex Systems Stanford University Stanford CA 2000 64 A Pfeffer IBAL An integrated Bayesian agent language Joint Conference Artiﬁcial Intelligence IJCAI 2001 65 D Poole Probabilistic Horn abduction Bayesian networks Artiﬁcial Intelligence 64 1 1993 81129 66 D Poole Firstorder probabilistic inference Proceedings Eighteenth International Joint Conference Artiﬁcial Intelligence 2003 67 S Russell P Norvig Artiﬁcial Intelligence A Modern Approach PrenticeHall Upper Saddle River NJ 2002 68 T Sato Modeling scientiﬁc theories PRISM programs ECAI98 Workshop Machine Discovery 1998 69 LJ Savage The Foundations Statistics Wiley New York 1954 70 JF Sowa Knowledge Representation Logical Philosophical Computational Foundations BrooksCole Publishers 2000 71 DJ Spiegelhalter A Thomas N Best Computation graphical models Bayesian Statistics 5 1996 407425 72 LD Stone CA Barlow TL Corwin Bayesian Multiple Target Tracking Artech House Boston MA 1999 73 A Tarski The semantical concept truth foundations semantics Philosophy Phenomenological Research 4 1944 74 MP Wellman JS Breese RP Goldman From knowledge bases decision models The Knowledge Engineering Review 7 1 1992 3553 75 J Whittaker Graphical Models Applied Multivariate Statistics John Wiley Sons Chichester 1990