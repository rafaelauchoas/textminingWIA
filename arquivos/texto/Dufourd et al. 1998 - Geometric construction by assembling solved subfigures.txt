Artificial Intelligence 99 1998 73119 Artificial Intelligence Geometric construction assembling solved subfigures JeanFraqois Dufourd Pascal Mathis Pascal Schreck 3 Laboratoire ties Sciences lltnage llnformatique et la Tditection LSiIT URA CNRS 1871 Universite Luuis Pasteur 7 rue Rene Descartes 67084 Strasbourg France Received June 1996 Abstract Among thle expected contributions Artificial Intelligence ComputerAided Design possibility constructing geometric object description given topological dimensional constraints This paper presents theoretical foundations original approach formal geometric construction rigid bodies Euclidian plane based invariance displacements relaxation positional constraints This general idea allows explain greater methods proposed literature One advantages approach ability efficiently generalize join different methods local solving The paper describes main features powerful extensible operational prototype based ideas viewed simple multiagent blackboard Finally significant examples solved prototype presented 1998 Elsevier Science BV Keywords Geometric solving Assembling formal construction System geometric constraints Computeraided figures Multiagent Blackboard design Local 1 Introduction Following Intelligence Corresponding This research seminal work Sutherland ComputerAided Design 521 expected contribution possibility CAD building Artificial 3D author Email dufourdadptinfoustrasbgfr supported GDRPRC Programmation GDRPRC Algorithmique Mod2les et Infographie French CNRS Email mathisdptinfoustrasbgfr 3 Email schreckdptinfoustrasbgfr 0004370298r1900 PlISOOO4310297000702 1998 Elsevier Science BV All rights reserved 14 JE Dufourd et al Artificial Intelligence 99 1998 73119 topology rigid object defined geometric constraints 45 embedding The constraints topological adjacency tools hide setting constraints express object incidence relationships vertices edges faces Usually components drawing composition object The embedding object The designer gives dimensions constraining ponents sketch The problem constraints When CAD functional form metrics com build components satisfy real number equations come socalled constraints translating express transcendental solving polynomial ally approached graphs NewtonRaphson drawbacks approach described 284454 purely numerical way method initial 35391 homotopybased method subsystems That split problem equations Such question gener preprocessing case 301 Advantages literature interpretation As stated 12 tackle question interesting phases The phase solving process yielding formal construction plan second numerical numerical approximation formal expression geometric construction corresponding Formally construction plan This way possibility producing errors failures fairly diagnosed Moreover solutions propagated preserved problems convergence powerful means rendering object generic eliminated solving systems geometric constraints encountered 111846481 ones encountered In CAI wants area studied plane similarities education So dimensioning sketch graphi highschool mathematics obtain solutions Instruction constructions solving geometric ComputerAided cally sets constraint The aims different discuss general case plausible CAI similar solution degenerate cases CAD expects obtain Formal solving appears CAD knowledgebased common geometric mechanical systems 1816 Such provers based efficient methods like constraint graph decomposition 22 Moreover systems aspects axiomatics 274 1 progressive twophase applied easily figure rigidcation treatment But methods restricted geometric universe 505 15455 reconsidered types constraints specific This question solving 15561 Restrictions tackled algebra systems similar For automatic proving based formal size solved criticisms approach algebra solving work systems equations variables formal systems polynomial reasoning systems tedious calculation But surely numerical coordinates involved common geometric objects geometric objects main drawback generality 192032 In paper present general constraints encountered CAD formal specify framework rigid body We propose systems geometric original JE Dufourd et al Artijicial Intelligence 99 1998 73l I9 75 7 literature 730415051 displacements proposed invariance solving process based specifies methodological particular formalizing approach solving parts This framework systems computed metric constraints use ilar There considerable content levels numerical proach ical tion local foundation assembling sub border The approach looks sim concepts formal character More ap including ones based numer It great solving power wide applica local global underlying encompass different methods differences common problems advantages levels construction efficiency ability iterations algebra Next present current implementation framework prototype works assembling employing differ plane local solving tactics We ent strategies phases formal interpretative methods These methods knowledgebased use method closely methods 131 Finally related examples significant problems solved proto general characteristics technical details We CAD prototype 35391 We focus assembling systems NewtonRaphson systems blackboard Intelligence multiagent 4rtificial type The structure paper follows Section 2 gives example easy universe solved method Section 3 outlines systems constraints understand problem formal framework geometric formal solving method assembling workable framework effective Sec prototype Section 7 shows examples tion 6 briejly presents Section 8 compares propositions works Section 9 concludes discussion strategies local solving methods Section 5 presents Section 4 defines indications 2 An example geometric construction assembling Our method allows build step step geometric constructions Euclidian solving parts constraints assembling principles approach example illustrated plane locally displacements We examine constraint Fig 1 Fig 1 represents dimensional characteristic points curves numerical values respectively named g r kl k5 1 y3 order specify constraints doublearrow differs according In example kl corresponds lines constraint distance points b k5 constraint distance point e oriented In technical drawing area meaning dimensional positions joined line fg Fig 1 specifies constraints imposed sketch point b Some constraints constraints tangency drawn figure dimensions implicit The question transforming hexagon cdefga like explicit 16 JE Dufourd et al ArtQicial Intelligence 99 1998 73119 Fig 1 A constraint scope paper We consider following constraints problem textually set distance distance distance distance distance distance point LL point b kl point point g k2 point c point d k3 point d point e k4 point e oriented point f point g k6 line dc oriented line fe oriented line ba oriented angle oriented angle oriented angle oriented line fg k5 line al line fg a2 line bc 3 points b g collinear circular arc curve r oriented oriented line ab tangent line bc tangent r r c It completed topological constraints coming lines pointscircles produce drawing numerical values solution form simple program construction implicitly given impossible drawing points solve constraints For incidence Dimensions JE Dufourd et alArtcial Intelligence 99 1998 73119 11 plan comtruction numerical In order solve It later interpreted particular numerical data graphical 161 module displacement arbitrarily true figures solutions fix point xaxis choosing adjoining coordinate origin fix direction solution particular working origin choosing c et xaxis elements construction transform method loci 123242 construct points ct ei following way point When constructing suffix 1 identifier indicate For instance point d fixed dl fixed In order better define constraints incidence 111828294748 relationships Thus easily fix point dl fix direction dlcl construct construct oriented point ci intersection line 111 direction dlcl passing dl 111 circle centre dl radius k3 construct oriented angle rul 111 line Z2t passing dl forming oriented construct point ei intersection 121 circle centre dl radius k4 Continuing construction easy problem cl dl et possible continuation points cl et uniquely determined equations degree greater equal 2 This question geometry constraints subfigure known arc r locate point ft In fact successfully loci auxiliary method Note line circle This polynomial 471 degeneracy Let simply interpretation respect taking sketch We try construction f fi direction orientation account indicate fixing point f2 g2 e21 following way draw circular constructed method intersections translated discussed second coordinate fg fzg2 We construct determined auxiliary subfigure treated numerical proximity solutions fix point f2 fix direction construct construct f2g2 oriented point g2 intersection line 132 direction f2g2 passing f2 132 circle centre f2 radius k6 construct angle oriented _y2 132 line 142 passing f2 forming oriented construct oriented line 152 parallel 132 sense distant k5 construct e2 intersection 142 152 78 JE Dufourd et al Artcial Intelligence 99 1998 73I 19 Fig 2 Auxiliary subfigure subscript 3 construction easily construct a3 b3 g3 c3 Fig 2 possibility coordinate continuation Once try fixing point a3 direction a3bj We fix point fix direction a3b3 construct construct oriented point 63 intersection line 163 direction b3a3 passing a3 163 circle centre a3 radius kl construct point g3 intersection 163 circle centre a3 radius k2 construct oriented angle a3 163 line 173 passing b3 forming oriented construct construct oriented oriented line 183 bisector 163 173 line 19s passing a3 perpendicular 163 construct point ws intersection 183 193 construct construct point c3 orthogonal projection wg Z73 circular arc r3 a3c3 centre 03 One continue construction solved subfigures Thus auxiliary es equal ciei gses g2e2 The point es determined subfigure In way auxiliary cl dl el distance cse3 c3 f2 g2 e2 intersection circles subfigure metric properties JE Dufourd et al Artificial Intelligence 99 1998 73119 79 respective construction centres cg g3 respective gzez We add plan subfigure radii clel indexed 3 line construct point e3 intersection circles respective centres c3 g3 respective radii clel gze2 construction deduced 3 d3 e3 constructed It easy construct d3 f3 order achieve subfigure designation But useless coordinate subfigures e determined e3 unique displacement computed Thus 4013 p13cldlel unique displacement compute 423 2 f2 g2 e3 f3 g3 Thus end construction subfigure cl dl el More precisely displacement Now points c cl el cg 4013 transforms cl cg el e3 In way e2 e3 g2 g3 indexed 3 subfigures displacement coordinate plan assembling c3d3e3 transforming 4023 compute 13 transforms determine d3 p13dl compute 923 transforms determine f3 4023 f2 cl el 3 e3 e2 g2 g3 The concatenation construction brought plans subfigures subfigure initial problem fixed coordinate displacements Notice chosen obtained indexed 3 This plan indexed 1 2 3 instead formal solution forms general plan particular solutions obtained coordinate particular solutions 3 Geometric constraint systems syntacticalor figure concerns syntactical turns declarative Our approach formal construction formallevel semanticalor level figures interpretativelevel leads distinguish So notion figure accounted specification semantical level A formal solver acts essentially syntactical level Despite specification imperative equivalent accurate rigorous description geometric universe natural semantical given 243 little bit tedious makes basic ideas method For reason syntactical level detailed 31 Geometric universes andgures Our formal framework Euclidian seen geometric universe classical plane coordinate inter fixed 0 iJ3 pretation 80 JE Dufourd et al Artcial Intelligence 99 1998 73119 The syntactical functional description signature 2 consisting geometric universe contains set 0 symbols classically geneous atomics sorts type constructors x Each symbol 0 interpreted E objects type LY With types LY 3 2 cy p interpreted set functions cy set predicates E Among geometric geometric hetero types set Ep Y x 3 Cartesian product E Ep set 0 sort Cartesian product sorts distinguish type geometric sorts So geometric E sorts natural real numbers lines circles directions contains It geometric universe sorts Nat Real straight Example 31 Our geometric sponding oriented respectively correspond Displacement The use oriented statements A direction sure direction angle representative Point Line Circle Direction Length Angle Displacement For compound Point Point use later corre objects points They sorts Point Line Circle Direction Length Angle leads precise lines Later mea line xaxis Thus 0 0 0 U Nat Real types instance Point x Point Point x Direction Point x lines define oriented angles class oriented angles displacements equivalence lengths The signature 2 contains functional predicative symbols Indeed interpreted confusion note function predicate functions respectively predicates sets E Since corresponding symbol Example 32 The functional symbols following profiles midp Point x Point Point centre Circle 4 Point distpp Point x Point t Length distpl Point x Line Length angle Line x Line Angle dir Point x Point Direction functions giving distance correspond circle angle goes following predicative oriented respectively midpoint points centre distance point line lines direction defined distinct points The points symbols perp Line x Line tgclp Circle x Line X Point _ _CZyXCY expressing polymorphic perpendicularity tangency equality Note equality unfixed notation We add polymorphic function symbol JE Dufourd et al Artcial Intelligence 99 1998 73119 81 transj Displacement x LY LY allowing application displacement geometric object type cy We suppose set E geometric objects type LY bijectively determined structure homeomorphism set E real coordinates More precisely suppose II x x Z E topological Zj interval R We n degree freedom Y usually systems ya clbject type LY n degrees freedom The coordinate solutions draw geometric objects order calculate numerically program construction interpretation Usually figure later prefer explained vector f ol That way type f simply set geometric objects But reasons consider figure ntuple denoted types LYI atomic 0 geometric objects respective Cartesian product 1 x x Example 33 In case Euclidian plane Direction respectively degree freedom 2 4 3 types Point Point x Point Point x Let f o obeafigureoftypealxxcuWesaythatfo subfigure f subvectors We f proper component o f defined components oj f j functions universe 32 Geometric constraint A figure specified logical 152247 use constraint terminology given statement Since interested effective construction formula concerning geometric universe figures prefer specified objects seen solutions Definition 34 Constraint A geometric constraintsor geometric X A C X set unknowns denoted constraint systemS C set constraints denoted ZS A set parameters denoted dS CS form triple pi X A predicative parameters term constraint Unknowns A regarded sorts geometric X 0 We suppose unknowns parameters come referential set disjoint union countable sets V atyped variables 82 JE Dufourd et alArtcial Intelligence 99 1998 73II9 variabIes set Y variables sort Y variable x Thus X c V A c V We suppose set Y variables vector denoted Y Conversely consider If necessary notation x We use notation formula contains variables X A expressed algebraically Sec systems geometric objects respectively set constraints C We impose natural condi totally ordered vector Y distinct specify pi X A In framework request polynomial equations tion 31 We note varp X A 1 var C piX A tions constraint coordinate denote atomic positive sets variables XnA XUAvarC Finally order simplify note C X A C 33 Solutions Definition 35 Solution When constraint S valuation geometric objects Euclidian plane parameters solution set unknowns application geometric set respects types satisfies predicate pi X 0 If fix ordering unknowns consider solution geometric constraint set figures solutions S vector geometric objects figure We note FS If set 7S finite nonempty S wellconstrained S overconstrained constrained With assumption nomial equations FS solutions manifold Such types formally described elaborated T F 231 intuitive vision type constructions present context S The degree freedom type dimension algebraic typing If If infinite S poly type translated way defines algebraic manifold constraints Example 36 Consider CSs distppxlx2 represents type 5 units long segments S5 defined Z Ss xt Point x2 Point degree 3 It defines algebraic manifold 5 When S contains parameters consider function computing solutions space S wellconstrained corresponding solution point parameter space set LF S S fixed If subset parameter contains finite nonempty FS JE Dufourd et al Artificial Intelligence 99 1998 73119 83 homeomorphic paving stone R parametric wellconstrained points parameter space parametric S underconstrained If S underconstrained overconstrained respectively overconstrained S respectively point view wellconstrainedness number unknowns number constraints From semantical degrees freedom possible 151 On hand redundancy avoided adding strong hypotheses problem field numbers wellconstrained degrees freedom involve relation Indeed underlying tain fewer constraints contain constraints constraints Usually field numbers instance pendence constraints homogeneous For reasons simplicity try later stay semantical real field choose way dloes suppress difficulties situation restrictive hypothesis concerning constraints complexification solve constraints underlying consideration required andor denote expression Euclidian plane geometry Proceeding general algebraic independence inde 311 level algebraic coordinates Inclusion solution sets usual translated consequence relation equivalence parameters The set FS Definition 37 Consequence unknowns included S point parameters space F S C 3 Si S called consequence S denoted S S S S equivalent denoted s S Let S S systems S solutions set 7S solutions S S S S It unnecessary compare different unknowns However mediate unknowns sets subset given If variables ordered unknown vectors subvector added defined new constraints considered systems S X A C S X A C inter second subsystem In cases unknowns cases indispensable Let X subvector X 7r projec Definition 38 Extended consequence tion 7r X X Then S S 3S C 7 F S S S 7r F S C FS This definition means solution S extended solution case solution second case S projected solution 34 Operations constraint systems S S Since use formal manipulations operations concerning constraints constraint unknowns systems precisely parameters specify 84 JE Dufourd et alArtcial Intelligence 99 1998 73119 sum difference disjunction Let S X A C S Definition 39 Subsystem systems S subsystem S C G C X G X X A C constraint A c A The sum S S constraint S X A C X X U X A A u A X C C U C If S subsystem S difference S S S X A C X uar C n X A uarC fl A C C C It important note unknowns S S appear dS A S removed A This fact corresponds The disjunction systems S S containing noted S S It constraint hand conjunction parameters disjunction hand solution Si S p constraint More generally parameters note S disjunction conjunction sense defined S constraints S S S Therefore F S S 3S U F S unknowns constraints S A solution p systems Thus S solution systems containing parameter passing unknowns FSi il JFSi il 35 Solving constraint systems The aim geometric construction mainly numerical constraint producing NewtonRaphson method parametric numerical figures This transforming solved form following 353943 sense systems When contain parameters solutions For example Sunde method solve wellconstrained way geometric processed classical 5 15455 work To yield needed process triangular constraint figures solutions solutions shown produce construction formal method parametric Definition 310 Triangular triangular constraints pi X A contains unknowns solved constraints piX A form unknowns xi Xi Such triangular form solved form A parametric constraint S form said ordered xifixlxlAl fi x1 xil A denotes functional xi 1 parameters A term unknowns xi A solved triangular solution x__l A correspond fxi parameters way construction plan interpretation space A solved triangular In fact functional symbols partial functions defined values operational viewed parametric figure solution JE Dufourd et al Artificial Intelligence 99 1998 73119 85 Definition 311 Solvable We parametric hr2 1 solved triangular ZT systems Tl T A Ti dS S solvable 2 ZS TI S T S ii S Ti I Each condition ZS 2 Zz points new intermediate unknowns appear construction translated triangular condition equality The condition expresses ii completeness In words conditions correctness FS ijFC il This notion solvability solutions yielded formally geometric universe syntax Euclidian model considered syntactical It syntactical semantical requires expresses It semantical plane By definition solvable wellconstrained comes impossibility proved LowenheimSkolems axiomatize theorem 491 However false real field finite way converse Example 312 Carver Lesser 121 The famous problem circle quadrature insolvable The zeroes polynomials degree greater ruler compass radicals equal coefficients For reason computeraided approximate 5 written terms built elementary operations designers content values Moreover solvable correct decomposition seldom carried practice Thus geometric complete junction solved systems leads figures necessary conditions incorrectness rectified socalled discussion phase initial This checking phase interpretation The NewtonRaphson method 39431 CAD gives good example incomplete incorrect method solution method diverge solutions dis reasoning solutions construction numerical 4 Solving modulo displacements group The notion isometry precisely isometry based Usually isometry preserves distance orientation significant called displacement That plane As usual notion method affine application extend notion considered types geometric universe 86 JE Dufourd et al Artificial Intelligence 99 1998 73119 41 Action displacements group geometric universe Following rigorous point view action displacement object denoted transf 40 o according Example 32 To simplify conform P 0 p geometric common habits shorten notation signature given The set plane displacements forms group composition functions This allows define geometric set E following way pair f f E x E type LY equivalence relation za f G f displacement p pf f displacements orbit The quotient Definition 41 Orbit modisp degree freedom The equivalence merely modulo type named objects type modisp For type cy set En quotient structure dimension type ff modisp geometric object set fitted called modisp degree freedom set orbits class modulo set Ea abbreviated topologic reduced Considering single element objects type completely determined quotient set opposite cases occur First modisp degree freedom equal objects type invariant types orbit E null This means position This happens points lines Second single element degree freedom This means displacements described equal zero smaller This happens lengths angles The corresponding modisp degree freedom modisp degree freedom degree freedom types In cases orbit reduced equal E metric E 3 Example 42 Circles degree freedom equal centre modisp degree freedom equal 1 orbit contains circles plane radius set orbits homeomorphic lR Ellipses degree freedom equal radius direction modisp degree ellipses short freedom equal large radii Triangles figures degree freedom equal 6 vertex Their modisp degree freedom triangles corresponding 5 centre radius 2 case orbit contains equal 3 orbit contains great axis edges length quotient As seen group displacements acts figures parametric orbit figure yields socalled modisp figures By passing relating figure In case parametric space modisp figure To simplify numerical valuesof pointie problem occurs use term figure plain parametric figures Likewise consider geometric universe effects displacements figure modisp parametric figure function functions parameter JE Dufourd et alArtificial Intelligence 99 1998 73119 87 Definition 43 Stability displacements A function g n arguments ble displacements displacement gdZlvr sta cp equality cpg zt z p z holds zi zn Note values metric tant role CAD expression properties solved subfigures implies g zi z gqo zl q z type Such functions functions called metric functions They play impor allow linked systems dimensions Example 44 The functions midp distpp distpl stable displacements referring The metric functions absolute coordinate ycoordinate stable displacements return length The functions 0 53 yielding ncoordinate We liberty lightly misuse term visible So parametric displacement functional placements Finally consider notations making function g zi zn A stable dis parameters rp rp g zi zA effects displacements gPzlrqDznA predicates constraints geometric universe Definition 45 invariance displacements A constraint invariant displacements equivalent p X A ibdoWAl straint form pX A invariant displacements displacement rp PPUAI pXAl pm rp X A displacement S p X A 1 S 40 In particular single Then invariant displacements particular constraints invariant displacements case CAD xi x2 points The Example 46 Let parameter k length unknowns equality distppxl straints defined equalities form gxt xn A h ye ynl A respectively A A xi g h metric functions parameterized yi unknowns x2 k invariant displacements More generally invariant displacements The invariance displacements constraint rendered form solutions seen proposition Proposition 47 Passing A S invariant displacements tf 3 S union orbits So solutions S modisp figures quotient Proof Let S invariant displacements invariant If S solution simply trivially proposition 88 JE Dufourd et alArcial Intelligence 99 1998 73119 let f solution equivalent S q displacement S Thus Definition 37 pf SI Then pf solution true Otherwise solution S let S constraint Since J bijection Conversely displacement Since 3S S invariant displacements union orbits rp 3S 0 3S union orbits 4p S pt 3S 3S 3 S 3S 3 S 42 Positioning reference A modisp figure f 01 op positioned choice represen In case Euclidian usually setting point defined pair reference plane tatives direction A coordinate framein short referenceof Euclidian plane The type Reference defined Cartesian prod Definition 48 Type Reference object type uct Point x Direction We figure contains reference Reference determined components 01 op functions stable displacements We family figures type LY contains reference refer figure family contains reference S ence contains reference tion reference unknowns way determine figures family We constraint In case note determina subvector figure 3S contains reference included involves 3S Example 49 A figure distinct points b contains references reference constituted centre direction major axis dir 6 midp 6 dirf 6 An ellipse contains The classical problem construction triangle 12x3 length edges leads constraint S distppxlx2 kldistppnzx3 k2distppx3xl k3 x1 x2 value stability displacements kl k2 k3 positive parameters This contains reference contain denote xi dir x1 x2 reference defined substituting solutions indicating S Definition possible f d containing To point importance define reference point set lines fact proven reducing figure Indeed function g placements This function hand g q d gd pd cpgd fixpoint This refutes ments 48 line d contain reference set points stable dis absurd Let g direction vector d Then d hand function function g stable displace d line p translation vector line translation hypothesis identity distinct gd JE Dufourd et al Artijcial Intelligence 99 1998 73119 89 Section 31 matter Generally family figures type Y contain strict0 sensu reference socalled degenerate cases This produced proper figures type cy considered reference Checking contains fact S contains type Reference As seen hard So content ourself syntactical comes contains easy check In practice unknowns contain reference subfigures solution x2 k ensures distppxi reference constraint reference semantical level criteria The type vector ZS sufficient condition consider single constraint nature constraint assures set contains reference Typically points xi x2 different contain constraint To solve invariant sure contains reference reference We jlx reference The constraints impose value rleference fixed named reference constraints Example 410 We fix reference imposing constraints midpa b 0 dira b 7r3 instance distinct points b 0 dira b ST We fix figure containing In order simplify notations unknowns unknowns determined reference invariant xi xit condense containing set constraints reference fixing single generic constraint ref_q Xin Example 411 The unknowns Xi xj type Point linked constraint reference We fix reference constraints xi 0 disrppx Xj k determine dir xi xj 0 sum ref xi xj The notions reference displacement closely linked Thus degrees freedom types Reference Displacement equal following wellknown properties l Euclidian displacement type Reference null space dimension translating modisp degree freedom references d given l let figures type containing reference Example 49 infinity displacements In case figures contain reference typically lines translating l figure f contains reference pair distinct displacements cpi 2 pt f set qf 1 cp E CD infinite f 402f infinite set displacements Cp 43 Positioned figures systems With notion reference constraint distinguish figure absolute modisp orbit More precisely following proposition coordinate 0 Z j given refering 90 JE Dufourd et alArtial Intelligence 99 1998 73119 Proposition 412 Positioning Let LY type figures containing corresponding reference constraint ref xi I In type Reference modisp orbit 0 figures type figure satisfying reference constraint ref xi xjn reference Proof We proposition refxl x2 defined Example 411 This restrict ality permits case Y Point x Point x cyl x x gener proof Let R modisp orbit E f p CJY 0 0 E R figure There displacement trim aboi qdira b 0 composition rotation centre 0 angle measure expected figures Let translation dira b The figure p f vector alo like Let 0 figures orbit figure g bo conditions proposition On hand displacement f abol meeting p dir b 0 So p 0 0 oQ 7 3 J3 Then p identity function f g g hand 0 dira b qf 0 This property particularly useful case invariant solutions orbits Example 49 problem construction lengths edges The corresponding solution triangle Example 413 Resume S invariant xi 2x3 given displacements centre circumcircle w set 0 halfline constraints origin xi passing midpoint x2 x3 equal xaxis With geometric universe unusual constraints form S reached A particular imposing interllmedxlx2medxlx3 Odirxlmidpxzxs O More commonly fix reference halfline xix xaxis like Example 49 setting 0 Thus obtain particular figure solution add S reference constraints positioning S We position invariant S necessary figure following definition sufficient orbit solution proposition point Definition 414 Positioned Let r constraint refx xix The S positioned r noted S r defined reference Srrefxi xmXAl pXAl The solutions displacements wellconstrained modisp 3S S r particular solutions S permit solutions action S In particular S union orbits This notion finite nonempty JE Dufourd et al ArtQicial Intelligence 99 1998 73l 19 91 linked directly More precisely notion wellconstrained passing quotient Characterization wellconstrained modisp systems change Proposition 415 invariant reference A constraint wellconstrained modisp displacements reference constraint r positioned S r wellconstrained Moreover r r reference constraints solution f S r displacement cp translating solution qf S rt according S displacement union orbits So according Let f figure solution Proof If S wellconstrained modisp 3S finite nonempty invariant displacements solution 0 orbit solution Proposition 412 It deduced S r set orbitsor modisp figuressolutions finite nonempty S r wellconstrained bijection S figure D satisfying S r f Proposition definition 47 fortiori r set solutions S This set 50 rp f Conversely Conversely S invariant displacements 3S S r wellconstrained abovewhich worksimplies finite nonempty union FS union orbits Thus bijection described finite nonempty Now let f solution S r The set pf figure f satisfying 1 p displacement reference constraint orbit r So S containing solution f cp figure f sp f solution solution S r solution S r f S r correspond 0 displacement Intuitively proposition reference relaxed positioned indicates method invariant Thus constraint partial solutions The notion partial construction clearer subsection positioned released permit partially constraints solved added reference constraint reference solve single role subfigure plays important assembled Before advisable define syntactically treat unknowns references reference constraint new following definition unknowns considered discussed construction case process So qualify systematically Definition 416 Located Let S invariant r ref Xi xq We note Sr S associated reference constraint located r corresponding pointed notation More precisely Sr defined Z Sr xl r xnr A Sr dS set constmints S r unknown Xi replaced qualified unknown S r unknowns C Sr C S rr notation C S rr containing reference qualified stands xr 92 JE Dufourd et alArtijicial Intelligence 99 1998 73119 We use notation 1 set dequalified unknowns I Sr ZS We later qualified unknown xr qualified recovers specification xrr Note notion wellconstrainedness rigid bodies excluding nonconnected articulated bodies modp exactly 44 Partial solving The notions subfigure subsystem introduced pass quotient So talk modisp subfigure subsystem The following proposition results invariant displacements Proposition 417 Wellconstrained Let S wellconstrained modisp S wellconstrained modisp subsystem S Then modisp figure f solution S corresponds modisp subfigure ff solution St Conversely subsystem solution f S extended solution f S As seen solve construction problem method works representa tives modisp figures obtained fixing local references So pass positioned subfigure This process justified following proposition displacement moving method determines Proposition 418 Replacing Let S wellconstrained modisp located Sr S wellconstrained modisp subsystem S located Sr subfigure To figure f solution Sr corresponds figure f solution Sr single displacement rp cp f subfigure immediately definitions This proposition proof results sitions points possible constraints reference constitute solved Sr considered We informations Sr S This generalizes 4 11 More precisely following definition propo S S begin construction local reference defined S S remaining constraint coming border notion virtual bonds Owen constraints wellconstrained modisp metric informations r But general consider Definition 419 Border located defined ZB ZS S subsystem S Sr The border Sr S B border Sr S dB ZBr Let S invariant S nIS CB gxt x gxlr xr 1 g metric function x1 x E ZB Note unknowns provided Sr parameters B These parameters Sr This named border parameters meant substituted solutions substitution numeric formal Sr contains parameters JE Dufourd et alArtcial Intelligence 99 1998 73119 93 Proposition 420 Property border displacements Moreover associated named r B r solvable B contains reference System B borderSr S invariant reference constraint Suppose functional metric contains displacements terms constraints B invariant Proof It js clear equalities reference associated reference constraint simplify purpose refxl 2 xi x2 unknown points solvable note Z Br overconstrained Moreover solutions distpp x1 r x2r Examine unknowns ZB Let x unknown r As proof Proposition 412 r In order B r B B r x1 0 xaxis circle centre 0 radius sort loss generality supposing solution x2 intersection x xl x x2 reference B contains obvious according solution l x sort Point CB distppxrxlr distppxxl fore x intersection known distinct circles contains distppxxz distppxrxzr constraints l x sort Line CB contains constraints distplxl x distplxl r xr aflgllxstligxlx2 anglfxrstligxlrx2r oriented angle oriented angll measures oriented centre xi radius distplxlr xr making given angle oriented stlig x1 x2 construction lines stlig gives line circle line x tangent complicated line passing points l x sort Circle CB contains constraints radiusx radius xr distpp centre x x1 distpp centrexr xi r distppcentre x x2 distpp centrexr x21 easy construct x l sort In case build finite number solutions x B r solvable 0 We examine happens remaining S wellconstrained modisp means common syntactic define reference Let clarify constraints If S sub S S unknowns purely phenomenon Definition 421 Common reference Two constraint reference S S contain reference determined vector unknowns included reference Z S n Z S type Reference They common reference common 2 S n Z S We exactly common systems S S common reference exactly common reference 94 JE Dufourd et al Artificial Intelligence 99 1998 73119 Hence following main proposition makes clear role border Proposition 422 Use border Let S wellconstrained modisp S subsystem S containing reference S S S contains reference If SF wellconstrained modisp following assertions hold 1 S S common reference 2 If S S exactly common reference S wellconstrained modisp S general underconstrained modisp 3 If S located Sr S borderSr S wellconstrained modisp Proof Note S overconstrained solution S solution S gives let f al Examine assertion 1 suppose common unknowns S S Then respectively Sr bkbk I S XI xk form reference Let r r reference straints added solution f b I xk According XI bj contain sobr p bk ak Moreover S contains reference ity figures different solution wellconstrained modisp second properties reference akakl Sr So FSr aqbkl refuting qubP assumption infinity displacements f form Section 42 S xk qz infin S Sr bl bk correspond ak correspond b solution akakl infinite IYXpCCtiVely t0 x1 Next consider assertion 2 415 reference constraint xk suppose Proposition reference defined xl cording tions Sr Then r constraint solution alttakak19 tively XI Xk So solution infinity solutions case S S exactly common S underconstrained modisp Ac r infinity solu xk let f respec ak bkl b figures form infinite S wellconstrained modisp Therefore S fixing Sr Sr form al bkl b All unknowns xl solution ak correspond Sr Then FSr alakaklbkl refutes assumption constrained modisp reference common Now 2 proof suppose xt x2 We note r common case S S common refer S ence In order simplify ref S common points refxl x2 If suppose S wellconstrained modisp erence constraint xt 0 Str Sr yield finite nonempty set solutions x2 Sr dirxl x2 0 So finite nonzero number solutions Sr bh l In general ui sets disjoint The case implies algebraically case possible impose condition S S form S S But generally tries In case Sr solution independent hypothesis sets nonempty intersection solutions contradiction ai JE Dufourd et alArtifcial Intelligence 99 1998 73119 95 situation avoid modisp CAD So S general underconstrained Finally prove assertion wellconstrained modisp note border Sr S overconstrained We proof assertion solution S border Sr S underconstrained modisp 0 In order S S border Sr S S border Sr S extended S 2 S S border Sr S solution 3 45 Assembling In previous subsection shown partially border solved subsystems The proof Proposition 422 located solutions We solved points global solution produced assemble subfigures subsystems defining invariant partial Definition 423 Assembling Let S S subsystems S respectively Sr Sr Let cp unknown type Displacement Vur S The assembling S S 40 Si asb Sr Sr p defined located ZSi ZSr U yr 1 y E ZS ii A dS iii CSi CSr UCSr U eqdispSrSrp ZS U p eqdisp Sr Sr rp yr trunsf p yr 1 y E Z S In definition S S play dissymmetric roles However easy asb Sr Sr p asb Sr Sr 9 equivalent modisp The assembling works sense Note operation useful systems common Proposition 422 common common solution required reference reference assembling certain reference cp In case According infinity solutions kind border compatibility systems assemblable The assembling operation assembling compatible solving invariant operation comes following systems theorem The correctness indicates assembling operation yields false solution Theorem 424 Correctness thatZS1 ZS2 andTS S4r iSr S2r Sr SGr asbr Srq asbSzrSiro Let S1 Sz Sjand Si invariant constraint systems respectively located S1 r r S r ZSi Proof If asbSlr I cp solution noting Si r q broken PO permitting ment Otherwise eqdisp Sl r S r 0 eqdisp S2r Sir q solution F asb Sl r f S r displace solution solution f St r solution solve eqdisp Slr Sir D The figure f 96 IE Dufourd et al Artcial Intelligence 99 1998 73119 r figure f solution giving F clearly solution Sr assembling figures qpo UX 3 PO 0 We deduce immediately following corollary Corollary 425 If St r H S2r Si r H Sir asbSlrSr H asbrSirp The completeness assembling operation solutions expresses solutions border subsystems union given following theorem initial S assembling S solutions Theorem 426 Completeness Let S wellconstrained modisp S wellconstrained modisp subsystem S Suppose S located Sr solvable giving solved forms T TL S S S border Sr S located Sr solvable giving solved forms T TI Then 1 asb T T qj_i solvable j 2 Sr u i_i asb 7 q Pii p4ii new distinct unknowns contained Ui var Ti lJj varT Proof Assertion existence eqdispT Ty pjpji images solutions 1 clear choice common 422permits given Proposition reference 7 Ty compute pj_i Ty seen For assertion 2 note Sr contained immediately Sr H asbSr Sr rp For j lJ Sr TJ Sr asbTTy pji Sr previous Sr displacement So j fl Hence asb q Ty pj asb Sr Sr 5p Sr f 1 f2 Sr Ty solution figure f2 f 1 pjpj_i containing 0 theorem Conversely solution f plus auxiliary objects f Sr gives solution q f2 solution solution solution We shown section order solutions constraint S possible assemble subject correctness solve locally subsystems S S But success geometrical border construction completeness local solving methods 5 Strategies The previous theory constraint systems solving hypothesis way concretely proceed In order operational clarify strategies choice subsystems local methods activation methods assembling JE Dufourd et al Artijicial Intelligence 99 1998 73119 91 51 Decomposition subsystems Two main strategies considered decomposition subsystems The proceeds priori static analysis detect common perfect matching play like pairs articulation locally subsystems 30411 notions solving constraint graph connectivity references That method geometric role Next straint subsequent followed essential partial solutions assembled The second strategy proceeds dynamically obtain global solution simultaneous exploration More precisely step solving method brought method allow solving subsystem assembled This strategy constraint play unsolved The capabilities determination artificial related 7 unique numerical approach based blackboard iterative method intelligence solving 131 It We strategy topdown second prototype solving methods deeply different knowledgebased solver That idea multiagent solving methods systems second Indeed associate bottomup We favours conjoint use specialized iterative methods systems agents local algebra systems numerical subsystem way Thus constraints In prototype determined imum remaining use methods approximations restricted solve solve constraints knowledgebased systems formally obtain triangular propagation step try solve max Conversely amplification avoid restrained partial solutions That case NewtonRaphson method account set constraints minimum necessary In fact prototype given step constraint coexist possible assembling ence The prototype In case Failure new solving process tries complete tried fixing new reference subsystems common solved refer border 52 Activation local solving methods included type constraints The local solving methods solver depend underlying handled geometric knowledgebased geometric Thus constraints expressed universe like ruler compass Proge 18 47481 Constraints complex elements included areas treated method polygons numerical Classical procedural methods triangular construction 31 Geometers integrated iterative ones NewtonRaphson directly produced accepted Thus programs interactive 211 described 40 CabriGeom2tre 26 generate directed acyclic graphs constructions CAT like LEG0 framework scarcely trigonometric Sketchpad functions 98 JE Dufourd et al Artificial Intelligence 99 1998 73119 systems As classically multiagent vate local solving methods They sequentially priorities They activated chronization sequential case complex trigger method The criteria considered acti account syn direction Indeed formal character completion quickness solving strategies considered triggered parallel usual problems concurrency 131 We worked seize attention termination numerous taking Thus prototype formal resultmore precisely construction plan favour geometric methods based reasoning required numerical methods The second ones triggered ones block realized technique static priorities The method having activated progress In case assembling required construction possible tried success failure Then methods stopped formal complete method activated assembling decreasing priority order The running solving anymore assembling highest priority possible 53 Detection common references An important point detection common plans We saw Section 43 constraint type common unknowns systems construction subplans subplans contains references systems common Reference type When construction reference constraint unknowns defined For common unknowns determine coordinate Section 31 relationships referenceor systemthe figure proper correspondent degrees freedom satisfied In practical way underlying polynomial equations algebraically general check Section 33 conditions independent lead DDmR3 D Dm R respectively sums degrees freedom common objects built subplans degrees freedom modisp degrees restriction relations number degrees freedom called valency relation objects bound relation removed brings objects The degree restriction 301 corresponds The previous relationship test fore exactly common sufficient reference formal cleanness figure term R subtracted measure D Dm 3 know corrective Section 31 subplans common points b These points setting constraint form distppa 6 k implicitly Example 51 Consider given explicitly Dm 0 R 2 1 detected k 0 k 0 In case D Dm R 2 configuration subplan Thus configuration D 4 points confound JR Dufourd et al Artifzcial Intelligence 99 1998 73119 99 reference determine case D Dm R 3 configuration reference D Dm 4 2tuple b proper figure In second reference determines Consider subplans common point circle c Then D 5 Dm 1 c centre In reference determine R 2 1 detected bound case D Dm R 2 configuration configuration DDm4 reference 2tuple determines c proper figure In second case D Dm R 3 reference The hypothesis algebraic independence makes test formal equality possible points b example point centre c second reference When subplans assembling nature configuration extraction corresponding realize In prototype different procedures extraction depending displacement prepared detected configuration belonging Let notice interpretation abort particular values enables failure formal phase assembling numeric effective construction 54 Triggering assembling The case assembling solved systems investigated insufficient assembling Section 53 showed systems candidate In general case assembling possibilities Section 4 This order studied j2 Order assembling Let S rl S2r2 S3q solved located Theorem subsystems stemming wellconstrained modisp S If assemblable This result generalized assembling achieved moment result The possibilities solved subsystems number subsystems This extension possible completeness order prejudice shows assembling examined greater details When assemblable systems exactly common reference located subsystems S1r1 r2 S313 obtained local solving situation wellconstrained modisp S1r1 Szrz assemblable S3rg assemblable asbS1r1 S2r2 q91 rl x2 In words order imposed assembling possibilities This happens S313 asbS1 q S2r2 021 exactly common reference 100 JE Dufourd et alArtijcial Intelligence 99 1998 73l 19 subsystems When case geometric universe allow definition previous situation happen The frame In conditions restrictive strategy simplified strictly case algebraic assemblable independence reference satisfied thanks general exact references common assembling following underlying theorem polynomial equations Sections 33 53 Theorem 53 Assembling located subsystems stemming wellconstrained modisp S If Slrl assemblable S2r2 assemblable Let SI rl S2r2 S3q solved possibilities S3r3 S3q case 1 S273 case 2 asb Sl rI r2921 assemblable Slrl contain r3 reference S2r2 rp21 reference For S3r3 assemblable asbSlrl strictly common I S2q reference case 2 asb Sr rI S2r24_1 Proof By hypothesis subsystems common St rl case entirety The case impossible common border asb Slrl x2 false hypothesis general equations Siri metric impose Proposition 422 solving S3r3 needed constraint borders Slrl S2q Now assembling available construction rs underlying polynomial Section 33 The cases enable S3r3 assemblable S3r3 asbS1 rl r24021 case algebraic case 1 S2q defined 2_1 excluding enable independence case 2 0 Thus assembling according different strategies particularly completely decomposed assembling In case instance achieved local solving correspondent locally solved conversely soon possible early second latest For graph triangles assembling constraint subsystems 411 complete decomposition reconstruction 55 Exhaustive strategies In framework finite set possible initial finite set local solving methods step residual subsys finitely enumerate possible said exhaustive Our initial unknowns Therefore local methods possible references play enumeration referencesusing unknowns tem constraining triggering possibilities subsystems A strategy bringing prototype use strategy When local methods correct complete That strategies result yield solving methods best correct global resulting incomplete set numerical solutions exhaustive strategy fail solve constraint local In practice solving method JE Dufourd et al Artificial Intelligence 99 1998 73119 101 Note assembling method correct complete local methods ara correct complete triggering wellconstrained systems This comes letting unsolved constraints limits strategy exhaustive subsystems determine global solving method fail solve lack power local methods theirselves possibilities assembling 6 A prototype description This section describes characteristics prototype formal solving engine works It based assembling local resolution idea integrates methods 61 Geneml presentation Our prototype designed draw sketches augmented 333436 based modeller metric constraints Topological deduced construction module added modeller constraints framework project topology named Topofl 45 The interface modeller enter adjacency constraints incidence enable user order sketches So prototype seen formal constraintbased Our approach local solving methods based assembling different method prototype local solving methods Two knowledgebased The builds equation prototype Section 5 systems systems solved NewtonRaphson method Thus federated prototype As explained local reference For experimentation subfigures obtained application applied fixed initial multiagent similar Initially common base facts contains description geometric objects constraints Every solving method accesses updates During base seen blackboard solving phase subfigures constructed constraints contains border multiagent informations blackboard informations strategy following reference exhaustive procedure In prototype general procedure local solving applies early assembling common strategy main reasons The avoid production irrelevant subfigures modification prototype method performs assembling strategy Each time subfigures We choose early little allow dynamic deduced stops running possible assembling Theorem 52 attests informations Each time constructive definition bigger ones The second left assembling detect possible assembling border In case immediately assembles contained launches reason phase tries At step running method extracts blackboard solved Next knowledge The assembling phase updates achieved completes problem blackboard blackboard solved new deduction problem step step new pieces The formal solving produced Note 102 JE Dufourd et al Artificial Intelligence 99 1998 73119 NewtonRaphson However nonconvergence wellconstrained solving fail numerical phase classical method ensures success problem reasons The result formal phase general construction plan numerically conditions results correct use necessq necessary interpreted Some numerical local solving methods knowledgebased constraints checks constraints redundancy numerical solutions harmful effect overconstrained solution filter results At stage protoype systematically solving process This way constraint remains Finally heuristics order narrow set cases finally noticed systems A verification Like modeller Topojil prototype developed C language Graphics workstations GL graphic blackboard local resolution methods More technical details given library The sections briefly present Silicon 38 3 62 Geometric universe blackboard For reasons explained constraints Thus constraints appear predicative geometric universe express terms depth 1 Function construction 1 10221 use predicates formalize symbols symbol fdist symbol distpp Point x Point Length previously Example 61 The function relation symbol distpp Point x Point x Length However need function construc tion plan The relation symbol angle Point x Point x Point x Point x Angle t needed initl Real Length express constraints converts real number Angle Angle value mod ulo 2rr ln express respectively r angle Point x Point Length define lengths length We invangle bipoints The function symbol suppangle modangle supplementary opposite Unknowns represent geometric terms parameters seen variables Section 3 considered formalized closed prototype typed logic constants Each constraint term fact Arguments facts unknowns parameters predicative lengths The unification depth predicative logic constants set terms In order avoid functional place From syntactical synonym functional term From semantical point view geometric object defined functional term lines circles reasons particularly objects 1 efficiency point view constant terms constraints points function 45 units Example 62 With constraint distpppl type Angle angle constraint p3p4 written cy2 invanglesuppangle symbols Example 61 distance 2 k k logical constant type Length If LYE 02 constants 12 predicate points pl p2 written k initZ45 cyl cq anglepl p2p3p4 2 directions JE Dufourd et al Artcial Intelligence 99 1998 73119 103 Initially contains produces blackboard adds local construction private facts eliminated running local base facts The border construction metric obvious combinatorial implicitly terms explained complete represented Section 4 predicative evaluation border terms Moreover relevant risk border explosion number facts This prototype statement problem A solving method new facts private These solving method stops So correspond expressed equality Indeed limit number area blackboard memory access clude deduction mechanisms explicit pieces knowledge These functions manage border particular properties constraints realized For instance representa deduction mechanisms tion need particular data functions local solving methods predicates facts relation So internal properties permutativity ones hidden access angle constraints depth 1 base Chasles types But functions 63 Knowledgebased systems The local solving methods geometric way theory differ infer initial constraints The deduced relations defining incidence geometric locus new constraints The construction 11 They based Aldefeld soilving strategy Both use method loci new relations relations giving geometric object dejining incidence 111832424748 formal methods inferred relations logical Example 63 A defining point p circle c If line 1 circle c defined defined intersection instance incidence relation point p line I p construction The axioms logic theory form closed atoms implications variables Variables present correspond involved conclusions premises universally quantified The existentially quantified They implications naming functional terms explained Section 62 The inference synonyms The functional meaning relation symbols objects equivalence detect synonymous rules modus ponens paramodulution deal like distpp class Both lthe knowledgebased systems contain production rules corresponding implications logical theory Each production rule form ifP1 Pn Cl Cm conditions D 1 Dp Pi premises The conclusions Ci conclusions Di extralogic conditions predicative terms depth 1 definitions like Conditions construction conditions Applying validate 104 JE Dufourd et al Artificial Intelligence 99 1998 73119 time definition f function symbol size replaced constant symbols premises logic produced 2 2 variables The construction plan increases constant Since function If Z existentially theory definitions instantiate term defines quantified reused functional rules modify geometric production They avoid proliferation verification tests objects defined local reference variables constants rule yields new relations meaning irrelevant substituted relations Indeed conditions The blackboard local base facts initialized construction plan recorded records deductions The blackboard corresponding running method increases new relations The The knowledge basedsystems strategy relation nontermination search strategy loops Thus geometric production framework general blackboard extended new definitions logic theory differ search risks Indeed noticed usual rules solve problems produce kind rules efficient strategy depthrst search knowledge base contains need complete module geometric construction second knowledgebased loops In breadthJrst However consider produce search tree It complete suffices cases achieve sophisticated constructions led complicated search limitation depth rules Thus levels knowledgebased systems But problems solved solving fails second level required rules level Therefore CAD begin 64 NewtonRaphson method 39431 useful The NewtonRaphson method finds numerical solution nonlinear This method equation constraints convergence failure So possible prefer methods problems unicity solution set area However CAD software wellknown solve drawbacks lack information contains Our prototype NewtonRaphson raise federate different methods Raphson method fail When cases constraint NewtonRaphson solve parts problem determined methods work anew continue solving knowledgebased problem certainly totally solved However solving capability In fact Newton systems running called method One wonder numerical method purely formal framework In fact formal phase method prepares formal numerical phase The Newton equations interpretative Raphson method known indications setting equations second solved effectively solved JE Dufourd et alArtcial Intelligence 99 1998 73119 105 A geometric constraint chosen heuristics working constraints Next minimal finding systems A complete explanation minimal containing constraint based irreductibility given 381 solved constituted The way properties equations A minirnal written PAIPXAI X I rt x constraints work This set geometric unknowns produce global definition pi X A XI xn NRp1 PkXOl x x01 x0 initial values concerned geometric objects extracted sketch NR function NewtonRaphson resolution A functions pr triangular form obtained projection numerical These definitions defined Section 31 actually added construction extract numerical In fact references plan real unknowns t1 t minimal equations flfl tnt 0 numerically deduced functions This formal prepared formal f polynomial initial values phase tl t toi real coordinates geometric unknowns xi x So NewtonRaphson method integrated solved NewtonRaphson nOi x0 When solution formal way solving triangulation method 7 Some examples We present examples In case sketch entered modeller Tupofil allows fix topology The metric constraints Our prototype automatically solved prototype names interactively user interactively geometric objects Then solving produces The solutions gives like points drawn screen lines circles blackboard formal construction plan solves numerically It puts constraints 106 JE Dufourd et al Artificial Intelligence 99 1998 73119 Fig 3 Sketch Example 1 Table 1 Constraint Example 1 onlplll I point pl line I1 onlpll2 onlp212 onlp311 onlp313 onlp413 onlp414 onlp514 onlp515 onlp615 onlp616 onlp712 onlp716 oncp2cl oncp3 cl point p2 circle cl 7 I Example I fixPlP712P2 distppplp2kl distppp7p2 k2 distppp4 p3 k3 dWpp5p4 k4 distppplp6 k5 disrplp516 k6 angleplp2plp3al anglep6p567 a2 anglep4p345a3 tgclPclllP3 tgclpcl 12P2 centreclp8 sets initial reference distance pl p2 kl angle lines plp2 plp3 al circle cl tangent line 11 p3 p8 center circle cl We return introductive intersection example Section 2 The sketch voluntar Fig 3 The geometric points lines circles angles lengths The names ily incorrect objects names chosen prototype pi li ci ai ki respectively oriented Section 2 circle line drawn straight JE Dufourd et al Artificial Intelligence 99 1998 73119 107 extracted The corresponding constraint jCpZp7 E2 p2 plays sketch final reference constramt local reference p7 origin 12 xaxis oriented local reference figure This forces prototype explanations newly fixation metric parameters begin plan Next construction obtained successive knowledgebased Each subplan lies Table 1 In table remark role ref xi xik sets p2 In fact table plan Table 2 First notice subplans built level work desired way In following lie The construction elaborated prototype numbered corresponding geometric definitions automatically assemblings introduced symbols dotted notation For instance number named p7 I A subplan begins definitions point oriented local reference For instance subplan 1 suffixed definition p7 subplan 1 line set 71 q initp296958130 248927719 121 initdp711561722 The local origin constraintfixpZp7122 values 3 reference appears k10 fdist construction sketch functions 0O subplan solves fixing point 71 line 121 passing particular 71 21 initp ini Note subplans 2 benefit new The border subplan subfigure 3 definitions lengths k9 relaxed constraint k9 filistp71p31 k10 fdistp52p32 These definitions extracted subplans 1 2 indicated suf fixes l 2 respectively circles 153 163 intersection gives 33 points p7 p3 p5 p3 They definitions The complete construction The formal execution time ence Note formal solution given Section 2 obtained fixing reference finally brought displacements founded prototype refer figure Indigo 2 workstation solutions The topological satisfied like Fig 4 The interpretation users data yields numerical constraints selected Note statement probably accordance users wishes Other solutions eliminated satisfy 015 set Silicon Graphics second drawing figure perfectly dimensions constraints different respects 72 Example 2 example usual graph decomposition methods Here propose based systems particularly ways solving At prototype powerful fail knowledge socalled parallelogram rule 54551 Next requires 108 JE Dufourd et alArtijcial Intelligence 99 1998 73119 Table 2 Construction Example 1 fixing metric parameters k5 initl250000 k4 initl 158000 n3 inita 1413717 k3 initl 304000 a2 inita2809980 k2 initl200000 kl initl300000 nl inifaO558505 k6 initl70000 subplan suffixed I 248927 7 I initp 296958 121 initdp711561722 u 12 invangle suppangle 1 31 mkcirp71 k2 21 interlcl21 c31 41 mkcirp21 kl 11 interlcl21c41 171 inita 1570796 171 lplap21121a71 91 bissecta1 181 lpup11121n91 81 interlll81171 initialization length k5 initialization angle a3 initialization point 71 initialization line 121 definition angle al2 circle centre 71 radius k2 intersection 121 31 line passing 21 making angle 71 121 a91 half al intersection 181 171 111 lppa2pllp2lplla12 line passing 11 making angle al2 1121 circle centre 81 passing 21 cl1 mkcir2p81p21 31 inferlcll1cll 055 inv_angle a3 subplan suffixed 2 52 initp00000000 142 initdp52OOOO 62 mkcirp52 k4 42 interlcl42 62 72 mkcirp42 k3 132 lplap42142 a55 32 interlcl32 72 N 105 inv_angle n2 subplan suffixed 3 p73 inifp00000000 163 initdp73OOOO 193 ldl163 k6 cl 13 mkcirp73 k5 163 interlc163113 153 lplap63163 a105 JE Dufourd et al Artificial Intelligence 99 1998 73119 109 Table 2 continued p53 interlll53193 k9 fdistp7lp31 kl0 fdistp52 32 153 mkcrp73 k9 163 mkcirp53 k10 33 intercccl63 153 definition displacement depl3 2 3 depl3 make_dep_ppp33p53p32p52 use displacement depl3 43 tranp42 depl3 subplan l completed definition displacement dep21 3 1 dep21 muke_dep_ppp3lp71p33p73 61 transfip63dep21 51 tranp53dep21 41 tranp43dep21 intersection 163 153 displacement 42 43 displacement 63 61 displacement 53 51 displacement 43 41 b Fig 4 Two numerical solutions Example 1 Fig 5 Sketch Example 2 110 JE Dufourd et al Artijicial Intelligence 99 1998 73119 Example 2 Table 3 Constraint onlpl11 onlpll2 onlp213 onlp214 onlp315 onlp316 onlp414 onlp416 onlp417 onlp512 onlp517 onlp5lS onlp618 onlp619 onlp711 onlp719 onlp7110 onlp813 onlp815 onlp8llO distppp5plkl distppp8p2 k2 dWpp4 2 k3 disrppp3 p8 k4 distppWp3 distppWp4 k5 k6 distppp6pSk7 wpp7p6 k8 distppp8 7 k9 anglepSp7p4p5al anglepSp2p7pla2 angletp6765a3 angWp3 8 p3p4 n4 forget NewtonRaphson prototype presented Fig 5 second level knowledgebased method The sketch names geometric objects chosen prototype requires Table 4 Note The geometric constraints correspond reference discovering Table 3 geometric construction subplan numbers 2 4 6 visible solving attempts aborted fixing new definitions Both knowledgebased presented local systems required The level builds subplan 1 subplans 3 5 7 Subplan 1 completed following definitions deduced second level applying parallelogram beginning partial rule k18 fdistp83p43 k19 fdistp77p57 651 mkcirp81 k18 1121 Ippap7lp811 681 mkcirp71 k6 101 interlcoll21c681 intersection 1121 681 691 mkcirpl01 k19 41 interccc691651 Let explain quadrilateral distance k6 p5 p4 angle al oriented 8457 fragment plan subplan numbered prototype construct tries 1 The points p7 p8 lines p8p7 p4p5 JE Dufourd ef al Artijicial Intelligence 99 1998 73l 19 111 Table 4 Construction 1 Example 2 k9 initl200000 k8 initl 100000 k7 inirl 100000 k6 initl200000 k5 i1 100000 k4 inirl 100000 n4 inita2024582 a3 inita2164208 al inita0034907 k3 initl 150000 k2 i1 180000 kl initl210000 a2 inita3141593 81 initpl OOOOOOOO 1101 inirdp81OOOO cl1 mkcirp81 k9 71 intericll01cll p83 inilp00000000 153 initd p83OOOO 103 mkhp83 k4 133 intericl53 c103 cl 13 mkbrp83 k2 123 mkcirp33 k5 163 lplap33153 a4 43 intehf63 123 133 mkcirp43 k3 23 intercccl33c113 45 initp 0000 0000 175 inird45OOOO 215 mkcirp45 k6 p55 interlcl75 c215 a412 hangle a3 57 inifpOOOOOOOO 187 initdp57OOOO 307 mkcirp57 k7 67 interlcl87 307 337 mkcirp67 k8 197 lplap67187 a472 77 interlcl97 c337 k18 fdistp83p43 k19 fdisrp77p57 651 mkcirp81 k18 1121 lppapllp81al 681 mkcirp71 k6 101 inrerlcoll21c681 691 mkcirpl01 k19 41 interccc691651 depl1 make_depppp41p8lp43p83 31 transfpp33depll 21 wansfip23depll 111 lppa2p7lpSlp21a2 171 lppa2p41pSlp71al dep21 make_depplp41171p45175 51 transfip55dep21 dep31 make_dep_ppp5lp7lp57p77 61 transfip67dep31 701 mkcirp51 kl pl1 inrerlclllc701 known By lines fragment constrained distances k18 k19 deduced subplans thanks auxiliary permits 3 7 The quadrilateral way 45710 point 10 built directly obtain p4 The second geometric construction edges quadrilateral informations border easy construction parallelogram This point presented Table 5 The level knowledge subplan 2 subplans 3 5 7 The local formally subplan 2 giving complete based builts beginning method based NewtonRaphson definitions 52 72 52 NR0 72 NR0 112 JE Dufourd et al Artcial Intelligence 99 1998 73119 Table 5 Construction 2 NewtonRaphson Example 2 k9 initl200000 k8 initl 100000 k7 initl 100000 k6 initl200000 k5 initl 100000 k4 initl 100000 n4 initu2024582 a3 inifa 2164208 al inita0034907 k3 initl 150000 k2 initl 180000 kl initl210000 a2 inita3141593 82 initpOOOOOOOO 152 initdp820000 62 mkcirp82 k4 32 interlcl52 62 72 mkcirp82 k2 82 mkcirp32 k5 162 lplap32152 a4 42 interlcl62 82 92 mkcirp42 k3 22 interccc92 72 672 mkcirp52 kl 12 interlcll2 672 83 initpOOOOOOOO 1103 initdp83OOoO 123 mkcirp83 k9 73 interlcllO3 123 45 initpOOOOOOOO 175 initdp450000 265 mkcirp45 k6 55 interlcl75 265 a908 invanglea3 p57 initpOOOOOOOO 187 initdp57OOOO 357 mkcirp57 k7 67 interlcl87 357 387 mkcirp67 k8 197 lplap67187 a908 77 interlcl97 387 52 MO 72 MO NewtonRaphson method depl2 makedepppp72p52p77p57 62 transfpp67dep12 112 lppa2p728222 a2 Fig 6 Four solutions Example 2 JE Dufourd et al Articial Intelligence 99 1998 73119 113 Cl Pll Fig 7 Sketch Example 3 Table 6 Constraint Example 3 onlp1 II onlpll2 onlpll3 onlp214 onlp212 onlp215 onlp313 onlp316 onlp317 onlp415 onlp417 onlp418 onlp519 onlp5llO onlp6llO onlp6lll onlp719 onlp7112 onlp8113 onlp9112 onlp9113 onlplOlll onlplO 112 onlpllll2 onlpllll4 onlpl2114 onlpl2115 onlpl311 onlpl3116 onlpl3115 onlpl4117 onlpl5117 onlp15118 onlpl614 onlpl6116 onlp17118 onlpl7116 onlpl8119 onlpl9119 onlpl918 onlpl816 oncpl8cl oncpl9 cl oncp8 c2 oncpl4 c2 centreclp20 centrec2p21 diqvptp2plkl distpptp2pl6 k2 distppp3plk3 distppp4 2 k4 distppp4 3 k5 distpppl9 4 k6 distpppl9p18 k7 distppp9p8 k8 disrppp7p9 k9 distppp6p5 k10 distppplOp6 kll distppplOpllkl2 distpppl2pllk13 distpppl3pl2 k14 distpppl5p14 k15 distpppl7pl5 distpppl7pl6 k16 k17 anglep3plp4p2al anglep16p2p16p13a2 angleplp2plpl3a3 anglep2plp216a4 anglepl8p19p18p35 anglep19p18p19p4a6 angleCp5p756a7 anglep6plOp65a8 angleplOp7plOp6a9 anglep9p897alO anglepllpl2pllplOall anglep12p13p12pllul2 anglepl5pl7pl5pl4al3 anglep17p16p17pl5al4 radiusc1 k18 radiusc2 k19 tgclpc2113p8 In numerical pass MO prepares The unknowns solves number 1 4 6 correspond aborted solving attempts coordinates equations number 0 points 52 72 The subplans The solving times workstation respectively 137 set 112 sec second formal constructions The prototype provides solutions 114 JE Dufourd et alArttjkial Intelligence 99 1998 73119 Fig 8 Three numerical solutions Example 3 Fig 6 The solving presented solutions The resolution NewtonRaphson solution Fig 6 knowledgebased based method gives systems gives 73 Example 3 The example constraints The sketch constraint lines angles dimensions Table 6 presented biggest 47 topological 34 dimensional constraints Fig 7 points arcs circles names formal simplify The corresponding names The formal solving time 267sec workstation The numerical interpretation solutions shown yields Fig 8 The second drawings differ choice centre arc circle left user figures The valid certainly eliminated solution accept selfintersecting Larger examples 200 constraints solved prototype This experimentation 17381 8 Discussion classified invariance described The different approaches main categories depending displacements literature Thus content geometric construction based constraints roughly disregard The approaches category summarily classify like CAD work Alde 12 Suzuki et al 53 CA1 prototype Pro ruler expert polyhedra generation 184748 systems l methods geometric knowledgebased feld compass constructions described 37 JE Dufourd et al Artificial Intelligence 99 1998 73119 115 l methods founded algebra like Mapletoolbox called LtGeol 191 implementation l methods numerical attempt 141 Lebesgues method 321 iterations NewtonRaphson 91 Viking 3539 441 method linear approximation method based homotopies 30 l methods based propagation degrees freedom restriction graph collection objects like picture editors Sketchpad 6 PictureEditor ThingLub completed process Note Juno2 uses sophisticated separate constraints numerical 271 Junol ones Juno2 25 These methods case failure propagation repack localize unpack techniques constraint 521 The approaches second category use displacements theory outlined solved NewtonRaphson method 251 Sections 3 4 They use common local formal calculus Moreover metric approaches limits resolution power locally assemble partial solutions In fact known approaches use unique based numerical framework reduced essential thanks related closely methods category references displacements method elementary notion border constraints common Here briefly review references The approach Owen 41 consists describing constraint objects degrees freedom constraint 2 equal restricts geometric geometric pairs articulation radius constraints lines circles given universe known radius The edges binary constraints objects constraints graph The vertices precisely points That Thus circles necessarily simple egality lengths taken account The graph decomposed topdown way searching triconnected solving limited components The process assembling Simple ruler compass For instance perpendicular solvable method The class solvable problems constructions ruler compass adding virtual bonds necessary triangles isolated edges obtained The local triangle defined formalism Owen strict subset triconnected inverse operation decomposition graphs solved method components triangles problem constructing isolated edges fails heights translated triconnected numerically Lamure Michelucci 301 follow approach graph decomposition They use homotopies general previous geometric universe class terminal solved problems Although solving method contrary approach usual drawbacks numerical processes assembling Their method homotopy gives certain NewtonRaphson iterative ones method stability realize The approach Bouma et al 7 consists solving subsystems subfigures help assembling clusters constraint priori number easily extended They approach Sunde complex templates graph displacements The templates include triangle configuration systems triangulated given bottomup way The figures combined 116 JE Dufourd et al ArtiJcial Intelligence 99 1998 73119 mechanism solves triangular equations The emphasis Grobner bases The local solving method simple It systems method loci directly translated algebraic method assembling Our approach common Bouma et al employs systems different use displacements triangular feasible exploitation method references formal Bouma et al stays numeric founded use common strategy solves non major differences First local methods powerful possible That bottomup borders complexity Second assembling simple Third approach The approach Sunde 505 11 extended Verroust et al 54551 corresponds strategy graph The vertices points segments edges angles The graph progressively rigid starting In extreme reduced CDsets bottomup constraints distances edges production approach simplest expression Because use ad hoc data structures different kinds constraints mainly distances angles constraints CAsets rules assemble rules work local solving method approach treat restricted geometric universe subfigures interesting manage All methods drawback encoding form constraint geometric general imposes universe Thus fact circles fixed radii usual CAD constraint present satisfy constraints imposed graph structure geometric problem restrictions graph allowing To conclude discussion local solving methods advanced assembling methods need developed vice versa We prefer simple assembling solving power dedicate heart alternative method needs applicative domains difficult integration complex methods This allows increase specialized domain having reconsider assembling To based immutable define new assembling templates dedicate 9 Conclusion framework We presented mathematical formalize displacements solving constraint geometric universe systems wellconstrained modulo From study developed formal solving approach CAD area local assembling We indicated constraints reference solving displacement added local solving displacement We studied essential Finally shown approach prototype topologicalbased modeller different notions constructions integrated logic foundations role border subplans simply directly prove achievement approach correctness relaxed geometry Classical express completeness necessary integrate solving methods proposed allow terms graphs literature easily extend solving assembling Because transformation framework allows work geometric universe Moreover LE Dufourd et al Artificial Intelligence 99 1998 73119 117 principle solving formal approach use numerical methods scope reconsidering assembling Thus One ask performances specialized problems For applications frequent unnecessary displacements Therefore simple scale priorities included software based approach dealing unadapted method lead choice good solving method heuristic sophisticated In future expand possibilities notion coordinate systemor assembling extend daunting Less specifically algebraic group transformations general group acts step simplified help assembling framework 2D prepare transition techniques universes geometric displacements convenient Our prototype enriched new methods solving strategies heuristics reference order 3D We hope selecting methods clever strategies triggering use methods strategy Moereover automatic completion allowing underconstrained constraint definition articulated Our prototype need better integrated today Thus 2D frame extended Topojil Moreover designed realized For instance modified especially taking light experiment account constraints place revised references Besides parallel cooperative cases taken wellconstrained account 2 mode systems 281 TopoJl modeller advantage 3D facilities convivial user interface entered better visualized 45 implicit ones modeller consist 21 A final natural extension geometric objects particularly parametrization An application different animated rich plans building objects topology forms dimensions Another 2829 generation sequences step step progression parameter values managing terms construction References l B Aldefeld Variations geometries based geometricreasoning method ComputerAided Design 20 3 1988 117126 2 B Aldefeld H Malberg H Richter K Voss Rulebased variational geometry ComputerAided Design DT Pham Ed Artificial Design Springer Berlin 1992 pp 2746 Intelligence geometricCabriGeometre 31 Y Baulac Un micromonde 1990 Grenobk 4 Y Bertrand JF Dufourd Algebraic 56 1 1994 2960 5 Y Bertrand JF Dufourd J Francon P Lienhardt Algebraic VisionGMIP specification PhD Thesis Universite J Fourier 3Dmodeller based hypermaps Computer geometric Proceedings TAPSOFT Conference Lecture Notes Computer Science Vol 668 Springer specification development modeliqg Berlin 1993 pp 7589 6 A Borning R Duisberg Constraintbased tools building user interfaces ACM Trans Graphics 5 4 1986 345374 71 W Bouma Design 27 6 I Fudos C Hoffmann 1995 487501 J Cai R Paige A geometric constraint solver ComputerAided 118 JE Dufourd et al Artijicial Intelligence 99 1998 73l 19 81 L91 101 r111 I21 I31 constraint geometric objects defined constmints threedimensional Interactive 3D Graphics 1986 pp 11 l129 B Brilderlin Constructing ACM Siggraph Workshop LG Bullard LT Biegler Lp strategies 1989 pp 6984 A Bundy Computer Modelling Mathematical Reasoning Academic Press London 1983 M Buthion Un programme RAIRO Informatique 13 1 JC Carega Theorie des CorpsLa N Carver V Lesser Evolution blackboard I30 architectures Expert Systems Applications Regle et le Compas Hermann Paris 1989 qui rout 1979 73106 constructions des problemes formellement simulation geometriques 7 1994 Proceedings AIChE Conference Proceedings 141 Cl Chen Les constructions la regle et au compas par une methode algebrique Tech Rept Rapport DEA Universite Louis Pasteur Strasbourg France 1992 151 SC Chou Mechanical Geometry 1988 Dordrecht Theorem Proving Mathematics Applications Reidel 161 JF Dufourd P Mathis P Sreck Constructions geometriques dam modeleur base touologique _ systems assembling 1989 editor special constraint structures Tracts geometric geometriques JA Feldman constrained issue Artificial 1995 398411 proving machine 4th ACMSiggraph 1994 pp 351361 EA Feigenbaum pour les constructions planar euclidean geometric TCS Vol 7 Cambridge University JY Girard P Taylor Proofs types 10a Maple package 1988 Solid Modeling Applications Atlanta GA ACM Press New Thought McGrawHill New York 1963 pp 134152 International Conference Springer Berlin 1988 pp 379391 CFAO et dlnformatique Gmphique 10 4 Revue Intemationale JF Dufourd P Mathis P Schreck Formal resolution geometrical Proceedings York 1997 pp 271284 JF Dufourd P Sreck Un systeme base connaissances Actes Ia Conference AFCETRFIA LW Ericson LtGeol Tech Rept 101 INRIA Rocquencourt LW Ericson CK Yap The design Linetool Proceedings Computational Geometry Conference Lecture Notes Computer Science Vol 333 Springer Berlin 1988 pp 8392 Proceedings Computer N Fuller P Prusinkiewicz Geometric modeling Euclidean constructions Graphics H Gelemter Realization geometrytheorem Eds Computers Y Lafont Press Cambridge JA Goguen Modular specification basic geometrical constructions Geometry A Heydon G Nelson The Juno2 constraintbased System Research Center 1994 N Jackiw The Geometers Sketchpad Visual Project Key Curriculum Press San Francisco CA 1992 N Kin T Noma TL Kunii PictureEditor constraints pp 8392 GA Kramer Geometric Sussex 1990 GA Kramer Using degrees freedom analysis First ACM Symposium Solid Modeling CADCAM Applications ACM Press New York 1991 pp 371378 H Lamure D Michelucci Decomposition SaintEtienne S Lang Algebra AddisonWesley Reading MA 1965 H Lebesgue LeGons sur les Constructions Gtomriques GauthierVillars P Lienhardt Subdivisions Ndimensional 1989 pp 228236 5th ACM Symposium Computational Geometry representation Topological models P Lienhardt generalized maps ComputerAided Design 23 1 1991 5981 R Light DC Gossard Modification geometric models variational geometry ComputerAided Design 14 4 2D picture editing based geometric constructions International Conference Springer Berlin 1989 drawing editor Tech Rept SRC13la Digital kinematic analysis mechanisms graphs Tech Rept Ecole des Mines Proceedings Computer Graphics comparison ndimensional generalized maps Proceedings Intelligence 37 1987 123153 solve geometric constraint Computational Computer spaces Ndimensional PhD Thesis University 2D constraints 1982 209214 Proceedings boundary Paris 1950 reasoning systems 1995 1171 1181 1191 L201 211 221 231 1241 P51 261 271 281 1291 I301 1311 321 331 341 I351 JE Dujiourd et alArtcial Intelligence 99 1998 73119 119 36 M Miintyll A note modeling space Euler operators Computer VisionGMIP 26 1 1984 4560 37 D Martin P Martin An expert polyhedra modelling Proceedings Eurographics Conference NorthHolland Amsterdam 1988 pp 221232 38 P Mathi Un systeme resolution contraintes par assemblage en modelisation geometrique PhD Thesis IJniversite Strasbourg 1997 39 JL Moris Computational Methods 40 1 T Noma TL Kunii H Enomoto E Aso T Yamamoto Drawing Elementary Numerical Analysis Wiley New York 1983 input Computer Graphics geometrical International constructions applications Conference Springer Berlin 1988 pp 403415 specifications Proceedings 141 J J Owen Algebraic solution 1st ACM Solid Modeling CADCAM Applications ACM Press New York 1991 pp 397 dimensional Proceedings geometry constraints Symposium 407 42 J Petersen Problemes Constructions Geometriques 43 WH Press SA Teukolsky WT Werling BP Flannery Numerical Recipes CS Cambridge University I Gabay new ed 1990 Press Cambridge 1992 interactive 44 D Pugh Using sketch University Pittsburgh PA 1993 interpretation design solid objects PhD Thesis Carnegie Mellon 1451 D Roller F Schonek A Verroust Dimension driven geometry CAD survey Tech Rept LIENS Ecole Normale Supieure Paris 1988 46 P Sreck Automatisation des constructions geometriques la regle et au compas PhD Thesis 47 P Sreck Universite Strasbourg Implantation Revue dtntelligence Artilicielle 8 3 1993 dun systeme base connaissances 1994 223247 solving geometric 48 P Sreck A knowledgebased constructions problems IrEds Proceedings 7th International Conference Systems Research Lasker Cybernetics 1994 pp 1924 JW Brahan GE Informatics pour les constructions geometriques 49 JR Shoenfield Mathematical Logic AddisonWesley Reading MA 1973 50 G SundIe A CAD declarative 1986 Geometrc Modeling Rensselaerville specification shape Proceedings IFIP WG 52 Sl G Sunde Specification shape dimensions geometric constraints Proceedings Eurographics Workshop Intelligent CAD Systems Noordwijkerhout communication manmachine Sketchpad 1521 IE Sutherland 1987 Proceedings IFIP Spring Joint Computer Conference graphical 1963 pp 329346 53 H Suzuki H Ando F Kimura Geometric constraints reasoning geometrical cad systems Computer Graphics 14 2 54 A Verroust Etude problemes 1990 211224 lies la definition la visualisation et lanimation dobjets complexes en inforrnatique graphique These dEtat Universite ParisSud Orsay 1990 55 A Verroust F Schonek D Roller Oriented method parametrized 1992 531535 Aided Design 24 10 56 WT Wu Basic principles mechanical theorem proving elementary geometries J Symbolic computeraided design Computer Computation 4 1984 207235