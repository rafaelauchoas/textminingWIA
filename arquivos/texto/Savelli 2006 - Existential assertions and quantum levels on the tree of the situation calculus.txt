Artiﬁcial Intelligence 170 2006 643652 wwwelseviercomlocateartint Existential assertions quantum levels tree situation calculus Francesco Savelli Dipartimento di Informatica e Sistemistica Università di Roma La Sapienza Via Salaria 113 I00198 Roma Italy Received 14 February 2005 received revised form 7 December 2005 accepted 5 January 2006 Available online 8 February 2006 Abstract In seminal paper Reiter introduced variant situation calculus set properties To best knowledge properties remained unproved ignored despite relevance planning problem expressivity theories actions We state property general form provide proof Intuitively theory actions entails exists situation satisfying ﬁrst order formula goal situation predetermined distance initial situation This distance ﬁnite models theory depends theory formula hand 2006 Elsevier BV All rights reserved Keywords Knowledge representation Reasoning actions change Situation calculus 1 Introduction In reasoning actions change partial knowledge computing plan actions achieves speciﬁed goal impossible existence plan formally guaranteed Indeed logical theory actions include complete axiomatic representation systems state plan ﬁnite disjunction plans exist simultaneously meets goal models theory model contain valid plan When case ﬁnite plan guaranteed succeed built executed real world existence actually entailed theory This problem theoretical solution variant situation calculus 1 introduced Reiter 2 represented inﬂuential approaches laying formal foundations planning diagnosis agent speciﬁcation artiﬁcial intelligence having contributed new insights database theory For nearly ﬁfteen years diverse body research stemmed Reiters seminal paper 2 original ideas notions contained currently core work cognitive robotics All properties formalism formally proved later paper 3 cleaner systematic axiomatization extensively employed later research Email address FrancescoSavellidisuniroma1it F Savelli 00043702 matter 2006 Elsevier BV All rights reserved doi101016jartint200601002 644 F Savelli Artiﬁcial Intelligence 170 2006 643652 To best knowledge theorem 2 provides solution problem introduced mentioned formal justiﬁcation appeared literature The theorem formally guarantees theory actions entails existence plan achieves given goal ﬁnite disjunctive instance built This result theoretically relevant research community begins investigate complex systems consequently problem plan computability recasted sophisticated terms One note worthy example problem knowing execute program augmented nondeterministic choices sensing actions 45 cognitive robotics In paper provide missing proof Reiters theorem We state result general terms implications expressivity formalism Intuitively action theory entails exists situation satisfying ﬁrst order formula goal situation inside special region tree situations characterizes models theory This region takes form ﬁnite subset levels tree models theory depends theory formula hand We dub situationtree levels belonging subset quantum levels The rest paper organized follows In Section 2 recall basic formal notions needed paper selfcontained introduce preliminary deﬁnitions results straightforward consequences previous work In Section 3 state prove properties situation calculus including theorem mentioned Theorem 2 2 In Section 4 discuss implications results expressivity situation calculus current research reasoning actions change 2 The situation calculus We assume reader familiar basic concepts classical logic 6 We recall notations In formula τ1τ2 denote occurrences τ1 replaced τ2 By beginning formula intend free variables occurring formula universally existentially closed Given function constant symbol ω language L ωM denotes interpretation ω structure M L We extend classical notation entailment set sentences M φiiN means structure M entails sentence φ1 φ2 set simultaneously The meaning T φiiN T theory likewise deﬁned We use notations deﬁnitions results given 3 provides systematic formally complete foundations situation calculus formulated 2 These notions recalled Sections 21 22 23 Sections 24 25 26 introduce notions simply follow previous results 21 The language Lsitcalc The language Lsitcalc threesorted second order language equality The sorts action actions situation situations catchall sort object depending domain application We adopt following notations subscripts superscripts α terms variables sort action σ s terms variables sort situation t x terms variables sort S0 constant denoting initial situation action situation situation special function enables inductive construction successive situations The term doα σ interprets situation resulting performing action α situation σ Thus term doαn doα2 doα1 S0 abbreviated doα1 αn S0interprets situation obtained sequence actions α1 αn taken place If n 0 doα1 αn σ σ Hence situations represent sequences actions viewed histories dynamical domain states This fundamental distinguishing feature Reiters variant situation calculus The actions usually completely represented ﬁnite set action function symbols signature action objectn action As example consider action function symbol moveOnx y denoting action moving F Savelli Artiﬁcial Intelligence 170 2006 643652 645 object x object y The term domoveOnbook table S0 interpret situation action applied objects interpreted constant symbols book table Two special predicates cid1 situation situation deﬁnes ordering relation situations Poss action situation deﬁnes actions performed given situation The dynamical properties domain represented function predicate symbols signatures action objectn situation action object action objectn situation These functions predi cates respectively called functional relational ﬂuents Following example relational ﬂuents Onx y s Holdingz s mean situation s object x object y object z held agent Nonﬂuent functions predicates represent properties facts independent speciﬁc situation like Flattable Largertable book The use terms sort situation Lsitcalc limited The constant function symbols sort S0 The predicates allowed argument sort situation Poss cid1 equality relational ﬂuents The functions allowed argument sort situation functional ﬂuents In structure M Lsitcalc domain partitioned subsets Obj Act Sit reﬂecting sorts language Terms sorts object action situation range respectively different domains We use ν assignment free variables sort 22 Basic action theories A formula Lsitcalc uniform σ iff ﬁrst order mention predicates Poss cid1 mention equality situations quantify variables sort situation σ term sort situation mentioned ﬂuents occurring formula The set formulas syntactically deﬁned induction 3 Intuitively key property formula uniform σ concerns σ A basic action theory D composed foundational axioms Σ set action precondition axioms Dap set successor state axioms Dss set unique names axioms action function symbols Duna initial database DS0 The structure sets axioms follows1 Σ contains foundational domainindependent axioms doa1 s1 doa2 s2 a1 a2 s1 s2 unique axiom situations P P S0 sP s P doa s sP s 1 2 second order induction axiom situations purpose similar analogous axiom Peanos arithmetic 6 Axiom 2 important effect limiting domain Sit smallest set contains interpretation S0 ii closed application function elements Act recursively Sit This inductive deﬁnition constructs inﬁnite tree situations rooted S0 contains elements Sit nodes Every node branches elements Act 7 The axioms deﬁne ordering relation situations s s cid1 S0 cid8 s s s cid1 doa s cid8 s cid1 s cid8 s s cid8 3 4 Intuitively s cid1 scid8 means scid8 obtained s performing appropriate sequence actions Dap contains action precondition axiom form x1 xn s PossAx1 xn s ΠAx1 xn s 5 action function symbol A Lsitcalc ΠAx1 xn s formula uniform s mention free variable x1 xn s 1 For ease exposition section treat functional ﬂuents The complete introduction requires straightforward technical extension The interested reader referred 37 The theorems provided paper proofs formally complete respect framework including functional ﬂuents 646 F Savelli Artiﬁcial Intelligence 170 2006 643652 An action precondition axiom deﬁnes preconditions executability action given situation terms properties holding situation Following simple example deﬁne x s PosspickUpx s yHoldingy s x s PossputDownx s Holdingx s x y s PossmoveOnx y s Holdingx s Flaty Largery x Dss contains successor state axiom form x1 xn s F x1 xn doa s ΦF x1 xn s 6 relational ﬂuent F Lsitcalc ΦF x1 xn s formula uniform s mention free variable x1 xn s A successor state axiom deﬁnes ﬂuents truth value changes situation situation based action taken properties holding current situation For example x y s Onx y doa s moveOnx y Onx y s cid11 pickUpx x s Holdingx doa s pickUpx Holdingx s cid11 putDownx Duna contains unique axioms action function symbols For distinct action function sym bols A B Lsitcalc Ax1 xn cid11 By1 ym Besides action function symbol A Ax1 xn Ay1 yn x1 y1 xn yn DS0 called initial database set ﬁrst order sentences uniform S0 Their function world action executed Some sentences mention situation purpose representing situationindependent properties Unique axioms individuals typical case sentences An initial database simple example x Holdingx S0 table cid11 book Flattable Largertable book Note basic action theory deﬁned ﬁrst order induction axiom 2 23 Relative satisﬁability regression Relative satisﬁability key property basic action theories play essential role paper Theorem 1 Relative satisﬁability A basic action theory D satisﬁable iff DS0 Duna Regression form automated reasoning widely employed computational procedures planning diag nosis There precise natural way characterize regression formally situation calculus We ﬁrst need deﬁne class regressable formulas Lsitcalc Deﬁnition 2 The regressable formulas A formula W Lsitcalc regressable iff 1 W ﬁrst order F Savelli Artiﬁcial Intelligence 170 2006 643652 647 2 Every term sort situation mentioned W form doα1 αn S0 some2 n cid1 0 terms α1 αn sort action 3 For term form Possα σ mentioned W α form At1 tn action function symbol A Lsitcalc n cid1 0 terms t1 tn appropriate sorts Observe formula uniform σ trivially regressable σ variable sort situation Given basic action theory D regressable formula W regression operator R applied W generates formula RW uniform S0 logically equivalent W models D This operator deﬁned induction syntactic structure W number actions terms sort situation occurring W This deﬁnition complete detailed account syntactic transformations involved R 37 We emphasize transformations chieﬂy based employing logical deﬁnitions equivalences embodied successor state axioms rewriting rules In way number actions terms sort situation reduced Since rewriting rules axioms D logical equivalence preserved After ﬁnite number iterations process ends formula RW uniform S0 A formal account properties R given theorems Theorem 3 Let W regressable formula Lsitcalc D basic action theory Then RW uniform S0 D W RW By combining Theorems 1 3 following important result obtained 3 Theorem 4 Soundness completeness regression Let W regressable formula Lsitcalc D basic action theory Then D W iff DS0 Duna RW 24 Executable situations A logical deﬁnition executable situations provided 7 recursive macro exs def s S0 s cid8 s doa s cid8 Possa s cid8 exs cid8 For term doα1 αn S0 sort situation models Σ follows exdoα1 αn S0 Possα1 S0 Possα2 doα1 S0 Possαn doα1 αn1 S0 7 25 Closure actions In Theorem 10 shall consider basic action theory includes following action closure property axiom cid1 i1q x1 xni Aix1 xni 8 A1 Aq action function symbols action precondition axioms provided Dap Note basic action theory given formula θ variable sort action occurs free following holds D θ cid2 i1q x1 xni θ aAix1 xni 9 2 Different situation terms typically mentioned W n α1 αn vary terms doα1 αn S0 occurring W If case W shown equivalent formula uniform doα1 αn S0 648 F Savelli Artiﬁcial Intelligence 170 2006 643652 26 Compactness basic action theories Compactness property ﬁrst order logic theories general extend higher order languages Basic action theories fortunate case compactness hold include second order induction axiom 2 Σ This stated corollary relative satisﬁability Theorem 1 Corollary 5 Compactness basic action theories Let D inﬁnite basic action theory D unsatisﬁable iff exists ﬁrst order ﬁnite unsatisﬁable subset D Proof The straightforward Let address D unsatisﬁable Let D_ subtheory obtained second order induction axiom removed D Duna satisﬁable D relative satisﬁability If D_ satisﬁable subtheory DS0 contradicts hypothesis Then D_ unsatisﬁable ﬁrst order theory compact Therefore exist unsatisﬁable ﬁnite subset D_ cid2 3 Quantum levels Reiters theorem As recalled Section 22 domain Sit models Σ form tree rooted S0 nodes arcs respectively elements domains Sit Act 7 There countably inﬁnitely levels tree This imply Sit countable branching factor node equal cardinality Act constraint commonly given general case Sit inﬁnite cardinality models LowenheimSkolemTarski theorem 6 However split quantiﬁcation situations double quantiﬁcation ﬁrst levels second situations belonging current level syntactically expanded thanks countability trees levels This formally stated justiﬁed Lemma 6 First note formula ϕs s variable sort situation occurring free universal existential quantiﬁcations situations belonging level l situation tree form a1 al ϕsdoa1 al S0 a1 al ϕsdoa1 al S0 a1 al fresh variable symbols sort action Lemma 6 Let ϕs formula Lsitcalc s variable sort situation occurring free Let M model Σ ν assignment free variables occurring ϕs s M ν s ϕs iff M ν a1 al ϕsdoa1 al S0lN a1 al fresh variable symbols sort action Proof The straightforward Let address M ν Σ a1 al ϕsdoa1 al S0lN Assume M ν cid11 s ϕs 10 M ν s ϕs 11 Now pick witness M 11 element domain Sit M s ϕMνs false Since M Σ know situation corresponds unique path situation tree sequence F Savelli Artiﬁcial Intelligence 170 2006 643652 649 elements Act connecting situation root tree S0 Formally s doM a1 ap SM p N a1 ap elements domain Act M Therefore 0 M ν cid11 a1 ap ϕsdoa1 ap S0 contradicts initial assumption 10 cid2 We provide main result paper Theorem 7 Let D satisﬁable basic action theory ϕs ﬁrst order formula Lsitcalc n N α1 αn terms sort action formula ϕsdoα1 αn S0 regressable3 Then D s ϕs iff exists ﬁnite subset Λ N cid1 D a1 al ϕsdoa1 al S0 lΛ a1 al fresh variable symbols sort action Proof The straightforward Let address D s ϕs This stated D s ϕs unsatisﬁable By Lemma 6 theory D a1 al ϕsdoa1 al S0lN unsatisﬁable Every sentence a1 ak ϕsdoa1 ak S0 regressed Theorem 3 sentence uniform S0 ψk D a1 ak ϕsdoa1 ak S0 ψk 12 Therefore set Dcid8 D ψllN unsatisﬁable theory In particular letting Dcid8 S0 DS0 ψllN easy observe Dcid8 formally amounts new inﬁnite basic action theory Σ Dap Dss Duna Dcid8 S0 Then compactness Corollary 5 exist unsatisﬁable ﬁnite subset Dcid8 hypothesis Dcid8 l indexes The ﬁnite superset Dcid8 f f Dcid8 Since D satisﬁable f contain ﬁnitely elements ψllN let Λ ﬁnite subset N containing D ψllΛ unsatisﬁable Now reasoning backward 12 D a1 al ϕsdoa1 al S0lΛ 3 Hence s variable sort situation ϕs occurs free variable sort situation mentioned term αi 650 F Savelli Artiﬁcial Intelligence 170 2006 643652 unsatisﬁable cid1 D a1 al ϕsdoa1 al S0 cid2 lΛ This result points expressive power situation calculus affected compactness basic action theories turn compactness ﬁrst order theory DS0 Corollary 5 For example particular property come true situation corresponding sequence actions different length model theory More generally basic action theory entails existence situation given property situation range levels situation tree freedom Indeed basic action theory coupled property determines quantum levels situation tree given D ϕs D s ϕs exist ﬁnite subset levels situation tree depending D ϕ witness s ϕs Note set model D A proof Reiters Theorem 2 2rephrased according notations axiomatization 3 fol lowed herecan easily obtained variant proof Theorem 7 We ﬁrst introduce convenient deﬁnitions Deﬁnition 8 Let D basic action theory additionally includes action closure axiom 8 Let k N Gdoa1 ak S0 ﬁrst order formula Lsitcalc uniform doa1 ak S0 Ψk formula obtained occurrences variables a1 ak quantiﬁcations a1 ak cid3 Gdoa1 ak S0 cid2 cid4 Possai doa1 ai1 S0 13 replaced applying equivalence 9 k times i1k After transformation predicate Poss occurs consistently Deﬁnition 2 regressable formulas The remaining subformula expanded G inherits regressability G regressable uniform doa1 ak S0 Ψk regressable let Γk RΨk The purpose previous deﬁnition provide regressable formula equivalent 13 Indeed Possai doa1 ai1 S0 regressable form Deﬁnition 2 We rely chain equivalences Proposition 9 For Deﬁnition 8 D a1 ak Gdoa1 ak S0 exdoa1 ak S0 7 cid3 a1 ak Gdoa1 ak S0 cid2 cid4 Possai doa1 ai1 S0 i1k Deﬁnition 8 Ψk Deﬁnition 8 Theorem 3 Γk Theorem 10 Let D satisﬁable basic action theory additionally includes action closure axiom 8 Let Gs ﬁrst order formula Lsitcalc uniform variable sort situations variable occurring free Let Γi N sentences produced Gsdoa1 ai S0 Deﬁnition 8 Then D s Gs exs iff n N DS0 Duna cid1 Γi i1n F Savelli Artiﬁcial Intelligence 170 2006 643652 651 Proof We address straightforward Deﬁnition 8 Proposition 9 DS0 Duna cid1 Γi i1n By Proposition 9 cid1 D Ψi i1n Proposition 9 cid1 D a1 ai Gdoa1 ai S0 exdoa1 ai S0 i1n follows D s Gs exs For proof proceeds Theorem 7 provided additional care exs follows Let ϕs Gs exs ﬁrst step proof Theorem 7 theory D a1 al ϕsdoa1 al S0lN unsatisﬁable For step formula curly brackets regressable form purpose rely Proposition 9 D ΨllN unsatisﬁable Proceeding Theorem 7 shown exists ﬁnite subset Λ N D Ψl cid1 lΛ By Theorem 4 Proposition 9 cid1 DS0 Duna Γl lΛ By choosing n max Λ conclude cid1 i1n Γi cid2 DS0 Duna 4 Conclusion This paper contributes proof key property Reiters variant situation calculus The property ﬁrst stated theorem seminal paper 2 proof provided We rephrased proved theorem general form To end pointed result consequence compactness situation calculus basic action theories signiﬁcantly affects expressivity formalism The theorem constrains situations satisfying existential assertion place levels situation tree If situations exist given property goal satisﬁed situations certain levels tree ﬁnite distance initial situation The set levels distance model This key formal guarantee generating plan ﬁnite syntactic term language distinct models contain different plan solutions case knowledge incomplete This important property situation calculus hold basic action theory comply constraints assumed 2 later required deﬁnition 3 For instance initial database DS0 ﬁrst order Section 22 Theorems 7 10 hold proofs rest compactness basic action theories turn guaranteed fact initial 652 F Savelli Artiﬁcial Intelligence 170 2006 643652 database ﬁrst order Corollary 5 This case arises formalization chop problem 45 simple action domain showing agent know execute program nondeterministic choices sensing actions executability formally guaranteed underlying basic action theory known agent This basic action theory purposely designed ﬁrst situation goal reached arbitrary distance initial situation model It follows quantum levels predicted Theorem 7 ﬁnite number n predicted Theorem 10 This possible hypotheses theorems hold initial database second order Indeed quantifying natural numbers essential correctness chopproblem formalization exact standard model N selected The second order induction axiom Peanos axiomatization arithmetic required initial database order rule nonstandard models containing Zchains 6 The chop problem generalizes problem building plan known exist according given basic action theorywhich originally addressed Reiters theorem The insight gained generalization falls scope theorem chop problem similar structure arise basic action theories ﬁrst order initial database Acknowledgements I grateful Fiora Pirri stimulating discussion comments earlier draft I like thank Giuseppe De Giacomo acquainting chop problem Two anonymous referees provided valuable suggestions improving paper References 1 J McCarthy Situations actions causal laws M Minsky Ed Semantic Information Processing MIT Press Cambridge MA 1968 pp 410417 2 R Reiter The frame problem situation calculus A simple solution completeness result goal regression V Lifschitz Ed Artiﬁcial Intelligence Mathematical Theory Computation Papers Honor John McCarthy Academic Press San Diego CA 1991 pp 359380 3 F Pirri R Reiter Some contributions metatheory situation calculus J ACM 46 3 1999 261325 4 Y Lespérance H Levesque F Lin R Scherl Ability knowing situation calculus Studia Logica 66 1 2000 165186 5 S Sardina G De Giacomo Y Lespérance H Levesque On ability autonomously execute agent programs sensing Proceedings 4th International Workshop Cognitive Robotics CoRobo04 Valencia Spain 2004 pp 8893 6 HB Enderton A Mathematical Introduction Logic Academic Press San Diego CA 1972 7 R Reiter Knowledge Action Logical Foundations Specifying Implementing Dynamical Systems MIT Press Cambridge MA 2001