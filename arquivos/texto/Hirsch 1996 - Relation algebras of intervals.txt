ELSEVIER Artificial Intelligence 83 1996 267295 Artificial intelligence Relation algebras intervals Robin Hirsch Department Computer Science University College London WCIE 6BX UK Received February 1994 revised March 1995 Abstract If representation happens complete homogeneous Given representation relation algebra construct relation algebras pairs intervals pair interval algebras constructed direct relation algebra If original relation algebra wcategorical interval algebra The complexity relation algebras studied shown pair algebra infinite representations intractable Applications include constructing interval algebra combines metric interval expressivity fully universal 1 Introduction systems reasoning temporal handle There considerable reasoning For applications intervals turns formalisms particularly lack expressive power required situation adequately based points instead points basic entities significantly increases expressive Using intervals power general involves loss tractability Interval reasoning important applications involve interfering processors multiagents interactions environment The application require process takes place property holds actions disjoint duration One powerful algebraic tools temporal reasoning relation algebra This given general results decidability completeness systems binary relations good survey 251 useful considering questions complexity A background knowledge relation algebra certainly advantage reading paper terms defined 3410192024 Supported SERC grant reference GRH46343 Many thanks Ian Hodkinson Mark Reynolds contribution work Email RHirschcsuclacuk 00043702961500 SSDIOOO4370295000429 1996 Elsevier Science BV All rights reserved 268 R HirwhArtcial Intelligence 83 1996 267295 introduced Background study relation algebras previously reading 221 cited works 591112152126 relation algebra includes A good history The idea paper relation algebras handle interval reasoning Section 2 gives basic definitions relation algebras representations consist binary properties representations relation algebraintended interval algebras wcategorical pair algebras intractable A number concepts construction Although like homogeneity somewhat original point algebra In Section 5 shown theoretical relations pointsand In Section 4 build pair theory pair interval algebra In Section 6 virtually model flavour work applicable A number attempts reasoning quantitative metric expressivity Section 7 starts pointbased metric gives struction interval algebra achieves advantage competitors combine qualitative combination interval universality defined text 2 Basics Definitions boolean operations l A proper relation algebra set binary relations domain D closed identity element boolean square D x D relation Let 1 denote algebra Note turns 1 equivalence relative relation D Complementation 1 converse composition biggest binary containing equal relation A V lO l obeys Tarski element l A relation algebra A tuple 1 I That axioms 1 1 universal element A V O 1 Boolean algebra associative binary operator A 2 3 4 1 1 5 b v c b V c 6 7 8 9 avbavb a6ab ub b A c 0 H b c A 0 triangle axiom ba l A relation algebra equivalent algebra decomposed saying called simple nontrivial congruence relations This 0 E A 1 1 1 Any relation subalgebra direct product simple ones l An integral relation algebra satisfies 1 1 1 nonzero E A l A representation X A isomorphism A proper relation algebra d d d E D D The element 1 mapped identity R HirschArtificial Intelligence 83 1996 267295 269 x E X means A simple noting domain representation domain representation interpreted converse composition unit 1 gets represented sum disjoint confusion use letter X stand x domain representation respectively When isomorphism point For simple relation algebra complete graphs In paper representation consider simple relation algebras assume representation consists single component pair points unit called square We justify Such representation relation holds assumption relation representable representable simple components Let E A x y E X The notation X x y k alternative x y C Xa Where confusion An atomic representation property domain representation It proved completeie finite relation algebras representation An atomic dnetwork N finite directed graph edge m n labelled atom N m n A transitively closed nodes 1 m n N points x1 x unique atom A holds atomic 81 For arbitrary unions preserved complete arises simply write x y b defined representation square representation representation arbitrary algebra NZm Nmn 2 NZn A general dnetwork edge labelled single atomic relation2 defined similarly longer assumed Fact Not relation algebra representation set axioms characterises representable 191 finite relation algebras 241 relations J representation isomorphism h representation An automorphism 0 representation X permuation representation preserving Vx y E XVa E A x y b H x0 0 C_ A local tuples pair points A reprlzsentation automorphism A representation X called universal following property networks N N embeds embed atomic dnetworks finite map h R J hold A embeds called fully universal said homogeneous local isomorphism representation representation preserving relations atomic N If representation extends 2 It possible A firstorder certain sentence consistent Th A constmct firstorder language LA binary relation symbol element theory Thd models exactly representations A A network firstorder existential sentence network embeds representation equivalent 270 R HirschArtijcial Intelligence 83 1996 267295 Definition A representation homogeneous amalgamation atomic networks needed shown In 7 normal square complete fully universal relation algebra normal representation form amalgamation class concept Examples l Let P point algebra consisting atoms l representation composition table representation So countable ordering This representation local isomorphism Use forth construction fully universal follows finite linear order embeds defined 1 It follows composition P dense linear order endpoints usual let p partial map Q Q extend p automorphism That Q turns normal To homogeneity fact atomic Pnetwork finite orderpreserving rationals isomorphic effectively Q l The Allen interval algebra Z thirteen atoms I meets overlaps starts table 11 ordered pairs turns ends plus converses The composition We later countable rationals pq p normal representation q This representation ROO complement Wpql real interval rational endpoints identity l The metric point M 61 consists finite unions basic relations Ri open closed semiopen The V R 4 p composition R p q The representation based reals atomic pair 0 r related atom M constructed b E Ri real numbers rationals letting R p r q s A representation Rqco mverse WrtJl b belongs equivalently representation interval complete based rationals complete representation given by3 Roop Rpql 3 Intervals 31 The idea There views 27 intervals considered cotvex sets points simply ordered pairs points endpoints interval Here approach First representation X relation algebra A build representation pairs X2 domain includes pairs 4 Xx X If relation representation X simple construction algebra happens normal dindependent algebra pairs A2 directly representations 3 With similar definitions 4 Recall open semiopen use letter X denote representation intervals domain representation R HirschArtQicial Intelligence 83 1996 267295 271 r define rinterval Next fix atomic relation pair related r The exemplary pair x y x y The representation x y interval representation intervals XF domain contains certain element A Again AZ calculated direct A built twobytwo matrices atoms A In way build Allen certain interval point algebra P algebra interval simply point algebra P pairs X2 contains set rintervals Also A2 substructure A called interval algebra formed relativising case 32 Representations representation For pair points xy E X let N_otation Let X complete holds x y X If X tuple unique atom Xx y denote points at_omic network f set nodes edge xi xj 18 labelled atom X xi xi These uses symbol X distinguished X let XX context denote define binary We want naturally fine quadrangle atomic fournetwork N N nodes define binary relations relations pairs X Which binary X Well_two pairs d p PI 4 closed atomic relation RN pairs relations X E p So transitively definable RN XCp Z N Taking N possible pairs X closing unions complement But note X fully universal zero relation Also X homogeneous atomic illustrated following example form proper relation algebra binary relations relative X2 x X2 composition networks N RN relations RN nonzero Example Let A relation algebra atoms composition defined l e d selfconverse 1 1 e d e e 1Ve d d d d 1 In representation X A relation 1 V e equivalence relation partitions X clusters size Two distinct elements related A e cluster d A normal consists infinitely infinite clusters But clusters size following network N defines zero relation representation 272 R HirschArtificial Inrelligence g3 1996 267295 e e e El e e e Now consider representation X clusters size This homogeneous mapping elements fourcluster sixcluster local isomorphism extend automorphism Consider relation RN n RN RN N network diagram This hold distinct pair pairs taken cluster size Therefore RN atom Later consider normal representations problems arise But arbitrary representation X natural choice atoms proper relation algebra binary relations pairs X Dejnitions In definitions use symbol X square representation A different symbol D 1 domain representation The representation pairs X2 proper relation algebra domain D x D The atoms X2 orbits pairs D2 automorphism group X So pairs dE dlelez related atomic relation pairs f 2 automorphism X sending d E f g respectively In previous example element RN splits atoms distinct pairs lie cluster size lie cluster size It simple check converse atom atom identity union atoms composition atoms union atoms This follows equations ddZf5EJ dfl C del dfl 2 ii N L3 denotes existence automorphism sending ii D E class ii The proper relation algebra X2 defined unions atoms The unit X2 D2 x D2 X2 forms proper relation algebra structure derives naturally X The representation intervals XF proper relation algebra domain Xr pairs d e E D x D related atom r The atoms Xj atoms X2 restricted rintervals pair intervals j related atom intervals k 1 automorphism X sending j k I respectively The unit Xz Xr x Xr R HirschArtijcial Intelligence 83 1996 267295 273 4 Pair and1 interval algebras If representation X previous construction homogeneous X2 X considerably bigger X More importantly depend heavily representation X In section assume X normal representation A This yield simpler construction pair algebra dz interval algebra d constructed direct relation algebra independent representations 41 Pairs Definitions l Let 2 L XI x2 y 1 2 pairs Since X homogeneous atomic relation X2 holds pair pairs determined isomorphism type atomic networkdefined points So pair pairs fi Xii S XX7 z3 N Xg l The atomic pair relations d2 set isomorphism classes atomic networks size Because X fully universal atomic pair relations embed X2 homogeneity guarantees occurrences atomic pair relation X2 form atom X2 l It convenient denote isomorphism type atomic network a2 P2 s ff2 r a21 al2 EZI QI Pl This atomic pair relation relates endpoints related Xaipj Cj ij 12 rinterval sinterval j9 al2 a21 a22 diagram Thus l We use notation nonatomic entries Thus ERszf atomic pair relations jr A b B s S 274 R HirschArtial Intelligence 83 1996 267295 l We define structure d2 It consists sets atomic pair relations defined identity converse composition atomic pair relations The composition x respectively plus test matching subscripts ordinary matrix multiplication A place Theorem 1 Let X normal representation 6 A Then A2 forms relation algebra X2 normal representation Proof There potential problem b A c b A c generally matrix multiplication associative But theorem proved fact X2 proper relation algebra showing E A2 X2 true relation algebras distribution natural consequently law intersection isomorphism For atomic pair relation MY let 8 MY set pairs pairs formed points nonatomic s_uch atomic network X 5 p 2 M P extended atomic network size embeds E _ injective easy surjective identity converse preserved The crucial argument composition X 3f isomorphic 6 p MY relations Since X fully universal 0 happen Thus It hard check Z preserves Lemma 2 Let X normal representation A let M N atomic pair relations let LYI 3 p PI pairs X Then 2 8 k M N product defined pair 7 G 7 k IV PP NtU Although true converses calculated g E_ careful composition The composition nonatomic matrices calculatedby matrix multiplication defined set products atomic pair relations contained matrices h We proof sufficient A relation algebra X universal class atomic networks size local isomorphisms size extend automorphismsfull universality theorem strictly necessary homogeneity R HirschArtcial Intelligence 83 1996 267295 215 Proof There cases check s p t s t First let s t For pairs 3 E9 M A p k N p sinterval 7 tinterval A_ 5 p k M N 0 Now let s t The proof right left comes p k MN 37 GP k MA 7p N This implication rinterval holds representation 7 sinterval airj twobytwo matrix M Similarly p uinterval triangle ai rj entry j k 121 Considering case aiPk b Mij Njk jk 12 Mij 5 7 k M means d jth rj k N jk representation X diagram j 12the Mij ai MW Therefore UiPk b Mi1 N Ik A Mi2 N2k entry calculated matrix product Hence 5 p b M N Now prove implication left right suppose ii p T T E M N Since M p M Ny Let pair atomic pair relation atomic network relation r M11 R HirschArtijcial Intelligence 83 1996 267295 X By considering triangle following atomic network transitively 276 embeds closed r 722 T11 Universality ity ensures guarantees local isomorphism occurrence network embeds representation X homogene extends 6y automorphism sinterval 7 M 7 p b Npu required X Therefore El X2 X Proof Theorem 1 continued We shown A2 isomorphic normal Therefore d2 relation algebra X2 representation X2 normal Clearly X2 atomic pair pairs X2 related X It easy atomic pair relationthis fully universal follows completeness It remains I taking atomic pair network 2 converting putting appropriate atomic network points splitting node nodes network represent pairs 3 4 converting X2 showing universality X original network embeds X2 atoms edges X network Homogeneity handled way 0 R HirschArtcial Intelligence 83 1996 267295 271 42 Intervals Let r atom X representation A We defined interval algebra X proper relation algebra formed restricting proper relation algebra X2 domain consisting rintervals So X consists binary relations rintervals If A normal representation pair algebra d2 constructed Now d2 contains substructure d XF normal representation Definition An equivalence element e E A satisfies e e e e An equivalence element e defines relativised algebra A contained A consisting elements e Union converse composition unchanged identity lb A e unit e complement relative e Now d2 contains equivalence element 1 1 1 1 11 rr dz defined relativised algebra contained equivalence element consists elements d indexed r r Under representation X2 d2 element d represented binary relation rintervals Since indices fixed need write explicitly So atomic interval relations twobytwo matrices b 1 c d 2 r b d 2 r ab r cd 2 r In words network transitively closed C h r 1 d r As pair algebras use matrix notation nonatomic entries denote set atomic interval relations contained 278 R HirschArtcial Intelligence 83 1996 267295 Theorem 3 Let A simple relation algebra normal representation X I AZ forms relation algebra The identity relation converse The composition atomic interval relations calculated allh1 A aah mhl A aah allhd A aah mhd A mbd 1 In words ordinary matrix multiplication A place x defined respectively Composition sets S T atomic interval relations sTUst SES tET 2 XF forms universal homogeneous representation A Proof d substructure x 0 A2 restriction representation X2 d Note If representation X fails normal A If A possess normal matrix product Even form relation algebra associative Thus d form relation algebra guarantee X representation follow representation XF representation The following corollary shown 161 Corollary 4 1 The Allen interval algebra constructed normal representation relation algebra atomic relations ordered pairs rationals set twobytwo matrices point algebra P It isomorphic b 1 d c R HirschArticial Intelligence 83 1996 267295 219 elements cy bd 2 The atomic interval relations corresponding matrices equals c c 1 1 meets overlaps starts 1 1 I ends 1 1 1 2 plus converses It possible interval algebra atomic relation laps define relation algebra intervals intervals Here interval pair intervals j overlaps j The construction interval algebra suitable way case consider r E A called nonsingular r r r r lh relation algebra degenerate An element Theorem let r nonsingular atom A Then interval algebra d isomorphic d j Let A integral relation algebra normal representation Proof An atomic interval relation b 1 c d satisfy b r c r d r r atoms b c d But r nonsingular triangle axiom Section 2 9 Therefore interval relations form r atom r r r follows atomic 280 R HirschArtificial Intelligence 83 1996 267295 The mapping takes matrix sends atom required isomor phism 0 Theorem 6 Let A simple normal representation 1 The interval algebra d integral 2 If IAl 1 pair algebra A2 integral Proof I It shown relation algebra integral identity atom 121 Let Str 1 A r rW endr 1 A r r Since r atom str endr atoms follows triangle axiom Now hard identity dz contains exactly atomic pair relation r r 1 1 _ 1 r emIr atom d interval algebra integral 2 The identity A2 atomic atom r E A contains element 7 enr rr 5 Points intervals So far shown build pair algebra interval algebras point algebra It useful work backwards given representation pair interval algebra like retrieve points representation For representation pair algebra identifying pairs form x X point X However wont work intervals interval related atom r x X related identity So instead recover points different way Theorem 7 Let A simple relation algebra normal representation 1 Let Y representation pair algebra d2 There representation X A Y X2 Such X unique isomolphism 2 Let Y representation interval algebra A There representation X A Y Z XF Such X unique isomorphism Proof 1 Let Y representation pair algebra A Define domain D consist elements x E Y R HirschArtiial Intelligence 83 1996 267295 283 We shown interval representation Y isomorphic XF X A constructed representation suppose T Z g Y Z representation To X unique isomorphism A For z E Z map z iEY 3wEZ zw E Z2VZW Check z maps element X map isomorphism 0 Corollary 8 If A categorical infinite cardinal K d2 d Kcategorical Proof Follows Theorem 7 0 Note The converse hold interval algebra d Kcategorical point algebra A It true A representa d tion X cardinality representations K Xz representation fully universal complete inhomogeneous The corollary proved 151 171 follows general result Corollary 9 The Allen interval algebra d ocategorical Proof We seen P ocategorical So Corollary 8 gives result 0 recover A d2 directly considering Is possible Of course defined d2 special notationtwobytwo Problem 1 We shown recover representation A2 A representations matrices want algebraically Formally V c I3 V definable 13 D A d isomorphic elements indices l 1but indexed B E d2 relation algebra A representation 6 Complexity interval algebras relation algebra The Really Big Complexity Problem clearly map RBCP relation algebras tractable intractable Let precise When talk 2 class 4 E 2 4 satisfied Lstructures K thinking following question terms length 4 If structure careful 2 contains countably length representation languages complexity infinite number different symbols symbol countable K The complexity set Lformulas classes indifferent8 distinctions complexity measured A word caution complexity reduced representation symbols long Testing I n Is number n prime polynomial time n represented III complexity worse usual decimal notation assuming P NP 284 R HirschArtcial Intelligence 83 1996 267295 Considering complexity relation algebra A want know A The formulas consider sentence So want size firstorder existential time polynomial decides representation A representation formulas satisfiable network N equivalent certain networksa know A algorithm network embeds network known results time algorithms In direction cubic 2829 intractability temporal The reasoning 2 Examples Z NPcomplete problematic It hoped interval algebras expressive hope pair algebras intractable nondegenerate leave open conjecture applications relation algebras pointbased point algebras P M satisfiability Allen Allen Section interval algebra interval algebra 21 databases planning tractable In section succour infinite interval algebras intractable representations Problem 2 Decidability problem testing open problem satisfiable dnetworks problem implies general network consistent satisfiability atomic dnetworks It clear unlikely A decidable So fixed relation algebra A class atomic decidability atomic network general network atomic problemfor decidability simply undecidable Of course refinements satisfaction try possible original network We question complexity basic lemma Lemma 10 Let A C t3 relation algebras representation A embeds representation network satisfaction problem l3 t3 Then network satisfaction problem A reduces case representation X B reduct X A A embeds A Since assuming representation It Proof representation representation A consider N Bnetwork B tell N satisfiable representation t follows embeds dnetwork N embeds representation decide N satisfiable B So given dnetwork N representation representation A 0 We want prove virtually pair algebras intractable constructing applying simplest possible pair algebra C showing NPcomplete lemma Let C finite relation algebra atoms 1 If 1 The class build domain S x S S atomic networks relation algebra pair algebra C A normal infinite set domain consists pairs S form amalgamation representation When considering infinite atomic relation algebras assume finite disjunction atoms edge network It necessary relations edge recursive meaningful definition complexity R HirschArtificial Intelligence 83 1996 267295 281 x intended pair equal points Define representation X A domain D mapping atom r E A Y r r 1 11 This binary relation domain D clearly representation restriction Y For isomorphism Y g X2 let y E Y arbitrary A Y J f 1 f fx There unique points XI x2 diagram satisfying 21 k 1l I 1 11 This follows fact Y representation d2 The required isomorphism maps y thle pair XI x2 For uniquieness let Z representation A isomorphism B Y 10 Z2 Let x E X C Y Applying E x pair form z z E Z2this follows definition X fact 3 isomorphism The mapping sends x z isomorphism X Z 2 The relation samestart lb r r rr I defines equivalence relation Y Let set equivalence classes D form points representation X D A Next represent atoms A If atom p q E D let It routine exercise check defines representation X D 7 A To isomorphism interval E Y Let 5 map pair p q E XF p Recall drop D simply representation X 282 R HirschArtcial Intelligence 83 1996 267295 equivalence meets interval class intervals relation belongs q set j E Y meets j r lk r r r I q point Check pair p q belongs Xr hard 2 respects operations X equivalence words p q interval class samestart X It B injective Zi Bj pq j E p j related lh _ r r rr 1 definition q intervals k meets k By considering j meets k Hence j related Intersecting relations j deduce relates j identity To 3 surjective Let j representative relation intervals Hence j let p q pair points elements p q respectively X related r relates j rr I rr rr interval k k related k j related lb r r rr r r r 12 r 1 I This interval k satisfies Bk pq R HirschArtificial Intelligence 83 1996 267295 285 The atomic interval relations meets 1 fl ej I swap 1 1 I tltl metby 1 1 1 samestart 1 I 1 1 fl tlll disjoint nn tt iltf tt plus relations subscript 1 1 subscript l l atomic pair relations forrn algebra calculated meets swap sameend The identity atoms interval algebra Ct The composition hand samestart l er V e2 The seven listed table pair samestart samestart V el Theorem 11 The network consistency problems relation algebras C2 Ci NPcomplete Proof Any transitively consistency edge network Hamiltonian circuit problem problem NPnondeterministically closed atomic network network choose atom transitively closed We HPcomplete reducing C2 Ci consistent Let G undirected finite set nodes edges Let number nodes G n We build Cinetwork N way N consistent N Hamiltonian time polynomial circuit The construction G contains n finite graph I Turn G directed graph arbitrarily choosing direction edge Call G actually holds 2 Make C2network M node edge G setting Me f edges e f For G let Me f disjoint Note M C2 b distinct edges e include 1 swap c relations relation example consistent f relation Cf G network e f disjoint representation G embeds 286 R HirschArtcial Intelligence 83 1996 267295 3 Extend M M adding n new nodes XI x way xi equal swap original nodes M xi equal swap nodes constrained consistent M This construction given later 4 The statement shares exactly endpoint j defined mean j b meets V metby V samestart V sameend Add network assertions xi shares exactly endpoint xi foriln 1 x shares exactly endpoint XI pairs xi xi xi disj xi Call network N circuit circuit N consistent Conversely xi chosen If G contain Hamiltonian Hamiltonian model graph isomorphic construction G enforces intervals Xi form Hamiltonian N consistent edges circuit It remains construction perform 3 Let N consistent distinct nodes b relation Na b include node x coincide possibly Cfnetwork equality swap We add extra nodes x coincide nodes N x consistently node N coincides b means opposite order The size extension bounded polynomial size N endpoints N including First group nodes N pairs possibly odd left For pair u b add nodes u b w b set 1 V swapa bl V swapb udisj V startsb This constrains possibly b lie edges b respectively b look like diagrams opposite directions R HirschArtificial Intelligence 83 19 267295 287 This need assumption dont share endpoints Now let wmeets metbya wmeets metbyb So w join ends b Finally let xhmeets endsw xh 1 V disj startsa xb 1 V disj startsb xb finishes endpoint w disjoint b second constraint consistent forces Xob equal u 6 Either choice We set new nodes form Xab half started distinct nodes X xd share endpoint Therefore repeat procedure construct new nodes xabcd coincide x xd coincide b c d This process repeated logn original nodes graph This nodes Xi single node x constrained times If original graph G n nodes M total number nodes added edge G One iteration construction nodes 2n2 Cy 4 4n2 nodes paired Thus M n2 n x 4n2 M 4n3 nodescertainly polynomial approximate rounding construction n 0 n2 nodes Mf adds fn2 x 4 extra Xi errors bounded Corollary 12 The complexity network satisfaction problem pair algebra A2 injinite representations NPhard Proof The proof A2 subalgebra element subalgebra includes based Lemma 10 Since A representations isomorphic size bigger C2 Theorem 11 For example 1 1 1 1 I _ 1 I complement identity relation A corresponds atom C It remains A2 Since meets C2 A2 similar elements corresponding representation C2 embeds representations A2 infinite LiiwenheimSkolem atoms representation lo theorem I For relation algebra A possible firstorder language L tA binary relation symbol element A define Ltheory Z models exactly representations A 288 R HirschArtcial Intelligence R3 1996 267295 arbitrarily big So representation X C2 representation representations Y A2 big X Use Theorem 7 representations A X Z x2 Y 2 y2 y big x x embedded way like provided distinct points embedding X Y Now use Lemma 10 0 remain distinct This embedding determines x C y y A2 infinite representations finite bound n An d2network representations sizes uniform Problem 3 Note compactness N equality edge certainly If n nodes consistency atom edge seeing 2 possible choices nonisomorphic network satisfaction problem prove tractability satisfiability problem relation embeds case representations allowed representation representations inconsistent tested constant n nodes time picking There finite number check It tractable However able pair networks equality finite Problem 4 The situation interval algebras r E A interval algebra d Z A considered following problem hard nondegenerate interval algebra clear For nonsingular atoms degenerate case But complexity network satisfaction NP remains unproved representations conjecture infinite 7 Intervals metrics The metric point construction uninteresting fixed atomic overrestricted consider nonatomic representation M normal Q Theorem 3 produces relation algebra intervals metrics But algebra intervals interval defined single size pair points necessary usually considered intervals definition An interval relation That means deal second In order networks 71 Definition M2 1 An interval pair rationals 2 An elementary metric interval relation A twobytwo matrix p q p q A11 A12 421 A22 1 A1 1 A12 A21 A22 intervals rationals endpoints interval A11 endpoints A A Mnetwork let R HirschArtijicial Intelligence 83 1996 267295 289 OcQ Pi EC P A22 4 OPcQ A21 A12 All 4 satisfies transitive closure conditions A A At A A AT ppqq E Air q p E A12 q p E A21 q p E A22 Such relations composed according rule A asserts p p9 q q1 q P 3 4 41 I n 42 I A21 Bll n A22 B21 AH B12 n Al2 Bz2 A22 B22 1 A21 B12 n 5 6 words ordinary matrix multiplication addition intervals intersection instead multiplication addition respectively Converse calculated similar definitions open semi p q 4 p open intervals More general metric interval relations formed disjuncts elementary ones The complement elementary relation typically disjunct Nonelementary matrices introduced R V S The product tRVSTVU RTVRUvSTvSil Thus disjunct j expressed Ii j k CcbO coo v mO oO 1 0700 0900 Om Om 1 Note expressed network point algebras P M 7 The identity OOl wo Om to01 1 note atomic complement relation 290 R HirschArtificial Intelligence 83 1996 267295 Here complement lower preceding The efficiency enhanced interval item interpret 8 interval p q 00 p V q Use convention taken mean union upper complement matrix disjunction reduced rule M V N M N M C N entries M subset entry N Also matrices entries N corresponding equal provided D V D interval check As associative isomorphic composition necessary composition matrix product exists relations The critical showing section proof takes intervals 5 p related matrix product R S It interval 7 d 7 related required fact simple M R p fi related S But follows interval edge network N transitively extension propertyfor L N shown embedding embedding N Q 71 details L Q extended closed Mnetwork subnetwork 72 Expressive power This capable expressing Allens interval relations overlaps written 0 CQ ooO 60 Ooo 1 A constraint duration expressed format ii OOI Le dl IkeI 0 01 1 d e respectively qualitative expressive power Allens metric M Dechter Meiri Pearl 6 lower upper bounds duration Thus combined quantitative power R HirschArtijicial Intelligence 83 1996 267295 291 73 Complexity M2 It possible use algorithms literature language present suppose use fixpoint algorithm calculate transitive closure network conjunction 171 Repeat N N A N Until N G N2 N2ij ANikNkj k This equivalent Allen propagation algorithm highly expressive language network bad sublanguages M A Turing machine solve problem time case solved worstcase complexity checking cubic In fact nondeterministic time nondisjunctive checking But Irestrict certain M2 NPcomplete fragments language obtain following M2 consistency NPhard polynomial consistency results cubic SIP time This follows cubic proof 6 closure Mnetwork In turn result follows extension property mentioned checked transitive terminology network l A network elementary metric interval relations arcs disjuncts computing interval arc minimal earlier l If relations arcs network pure Allen relations equivalent matrix result algorithm provides union thirteen primitive calculated product Allen consistency useful approximation complexity Allen propagation table Therefore NPcomplete transitivity checking time produce time computes results hold constant relations interval l For general metric terminate problem Ithen problem loss assumed If metric values commensurate In case fixpoint algorithm certainly Dechter Meiri Pearl left open tional integer bounds algorithm number integers terminate analysing M2 bound apply number atomic matrices integer entries following constraint fixed bound metric constraints cubic time The argument NPcomplete fixpoint algorithm ratios ra constraint We answer question affirmatively general termination exactly terminate section lying cubic time constraints disjunctions The remaining problem calculating fixpoint complete deductive mechanism It easy devise transitive inconsistent closure transitively 292 R HirschArticial Infelligence 83 1996 267295 closed networks M M However computing transitive closure useful approximation consistency checker proceeds brute force test choice disjunctions consistency The constraint technology clearly useful 74 Proof point algorithm terminates temporal constraint problems TCPs A TCP defined 6 Mnetwork metric constraint edge finite union intervals possibly irrational endpoints h 1121 v lm51 11 V le71 A lIJzl C Let gloss problem algorithms handle real numbers finitely representable answer open problem raised 6 Theorem 13 The point algorithm Section 73 terminates jinitely Proof One iteration algorithm takes triangle b c network N replaces Na c Na c fl Na b Nb c This composition calculated addition intervals Let SN finite set endpoints intervals label instance mentioned N If number occurs SN separately order distinguish Claim At stage relation nodes n m 8 inconsistent equal finite union intervals endpoint sum distinct elements SN This claim proved induction number iterations algorithm Now finite number possible sums produced way finite number possible intervals occur edge stage algorithm The relations edge increasing edge placed queue finite number times algorithm terminate Cl Why elements sum distinct Because element occurred twice correspond constraint edge c created looping path However loop produces inconsistency algorithm terminates equally tight constraint produced path loop deleted R HirschArtial Intelligence 83 1996 267295 293 joverlapsk deduce meets overlaps 75 Examples 1 From iduringj starts duringk 030 0900 I ivk 0090 jk k 0 Ooo cG0 OGO OGO Of 1 0900 I 09 00 Om 0x cmO 600 1 mO nod 1 0000 ncoco 0000 n 0000 00 03 n 000 Lk gives kk cQoo _ 0900 OocJ 1 2 says endpoints lie end k required Let j start 5 seconds finishes let j finish 10 seconds starts It possible deduce duration 5 seconds Well 10 ij 0900 OvlO 5900 59 00 I ji ooO loo m5 _oo_5 I 10910 5x 0095 009 1 Intersecting initial constraint gives OOl 5O ii t 05 0O 1 required 76 Comparisons A number attempts combine qualitative quantitative The language M paper main advantages reasoning 13141823 Note necessary expressive power checking competing More systems tentatively case simple algorithm straightforward meets Allens language 294 R HirschArtificial Intelligence 83 1996 267295 uses uniform Firstly refer special metrics All constraints matrix multiplication By contrast handle metric interval represented table dealing interval constraint separate representation relations There table calculated 13 14231 essentially hybrid systems matrices compositions need information separately translate The advantage M2 expressive power When disjunctive express constraints pointbased metric starts j ends ends 10 seconds j ends use assert interval relations relations For example possible interval allowed qualitative 5 seconds interval disjunction tco51 c05 t005 X5 1 tom 10 10 oolO 1 represented directly construct additional achieved additional competing It intervals constraints This cost M complexity complexity systems consistency network sublanguage advantage When dealing disjunctive combining matching disjuncts efficiency considerably Disjuncts Section 71 8 like improve translate Oco 00 tco ml 1 Ooo Ooo Ooo 1 OOl gets rewritten 0 ml O 03 00 Om 1 eliminating average case performance judged eventually empirical hard provide results disjunct improve efficiency Theoretical area likely results 8 Conclusion An interval relation algebra constructed normal representation This allows construct metric interval algebra like metric M This representation allow quantitative metric j It expressive information As systems algorithm complete cubic complexity permits systems disjuncts performance point relation algebra provided expressing Allen type disjuncts 61 propagation intractable general R HirschArtin1 Intelligence 83 1996 267295 295 We shown large class relation algebras representations algebras tractable network satisfaction problem intractable The general problem deciding remains solved pair algebras infinite relation References 1 I 1 JF Allen Maintaining knowledge temporal 12 1 JF Allen J Koomen Planning temporal world model Inf J Compuf Artij Infell 8 1983 intervals Commun ACM 26 1983 832843 71 l714 representation problem distributive semigroups Preprint Institute Hungarian Academy Science Budapest I 4 1 H Andnika D Monk I Ntmeti Algebraic Logic NorthHolland Amsterdam 15 1 L Chin A Tarski Distributive arithmetic modular laws 1991 relation algebras Univ 3 1 H Andrika On Mathematics semilatticeordered 1989 Curna Publ Math NS 1 1951 341384 16 1 R Dechler 1 Meiri J Pearl Temporal constraint networks Ar InfeK 49 1991 6195 7 1 R Hirsch Relation algebras intervals PhD Thesis Imperial College London 8 I R Hirsch 1 Hodkinson Step stepbuilding representations algebraic 1994 logic J Symbolic Logic appear 19 I B Jonsson Varieties relation algebras Algebra Universalis 15 1982 273298 I 101 B Jonsron The theory binary relations Logic NorthHolland Amsterdam I I I 1 B Jonsson A Tarski Representation problems I 12 I B J6nsson A Tarski Boolean algebras operators Am I Math 73 1951 891939 I I3 1 H Kautz l Ladkin Integrating metric qualitative I99 1 245292 reasoning temporal H Andreka D Monk 1 Nemeti eds Algebraic relation algebras Bull Am Math Sot 54 1948 Proceedings AAAI91 Anaheim CA 1991 241246 I 141 P Ladkin Metric constraint satisfaction intervals Tech Rept TR89083 ICSI Berkeley CA 1989 I I5 1 F Ladkin R Maddux The algebra convex time intervals Tech Rept The Kestrel Institute Palo Alto CA 1987 I 16 I F Ladkin R Maddux On binary constraint networks Tech Rept KFiU888 The Kestrel Institute Palo Allo CA 1988 76 I I7 1 P LadkIn R Maddux On binary constraint problems J ACM 4 1994 435469 I I8 1 G Ligozat Weak representation interval algebras Proceedings AAAI90 Boston MA 1990 7 15720 I I9 1 R Lynclon The representation 20 I R Lynclon The representation 2 I 1 RD Maddux Nonfinite axiomatizability relational algebras Ann Math 51 1950 707729 relation algebras II Ann Math 63 1956 294307 results cylindric relation algebras J Symbolic Logic 54 1989 951974 I22 I R Maddux The origin relation algebras relations Studia Logicu 34 199 I development axiomatization calculus I23 I I Mein Combining qualitative quantitative constraints temporal reasoning Tech Rept R160 UCLA Los Angeles CA I99 1 I241 D Monk On representable 125 1 I Ntmeti Algebraisations 570 relation algebras Michigan Math J 11 1964 207210 quantifier logics introductory overview Stud Logica 50 1991 485 I26 I A Tarrki Contributions theory models Proc Koninkl Nederl Akad Wetensch Ser A 57 1954 572588 58 1955 5664 I27 J van 13enthem The Logic Time Reidel Dordrccht Netherlands I28 I M Villain H Kautz Constraint Represenfafion 1986 377382 propagation algorithms 1983 temporal reasoning Knowledge I29 I M Villain H Kautz P van Beek Constraint propagation algorithms temporal reasoninga revised report Altos CA 1989 373381 Readings Qualitative Reasoning Physical Systems Morgan Kaufmann Los