Artiﬁcial Intelligence 174 2010 2050 Contents lists available ScienceDirect Artiﬁcial Intelligence wwwelseviercomlocateartint Solving coalitional resource games Paul E Dunne b Sarit Kraus ac Efrat Manisterski Michael Wooldridge b Department Computer Science BarIlan University Ramat Gan 52900 Israel b Department Computer Science University Liverpool Liverpool L69 7ZF UK c Institute Advanced Computer Studies University Maryland College Park MD 20742 USA r t c l e n f o b s t r c t Article history Received 10 April 2008 Received revised form 18 September 2009 Accepted 22 September 2009 Available online 25 September 2009 Keywords Coalitional games NTU games Solution concepts The core Bargaining Algorithms Complexity 1 Introduction Coalitional Resource Games crgs form NonTransferable Utility ntu game provide natural formal framework modelling scenarios agents pool scarce resources order achieve mutually satisfying sets goals Although number computational questions surrounding crgs studied date attempt develop solution concepts crgs techniques constructing solutions In paper rectify omission Following review crg framework discussion related work formalise notions coalition structures core crgs investigate complexity questions determining nonemptiness core We questions general computationally hard possible check stability coalition structure time exponential number goals polynomial number agents resources As consequence checking stability feasible systems small bounded numbers goals We consider constructive approaches generating coalition structures We present negotiation protocol crgs associated negotiation strategy prove strategy forms subgame perfect equilibrium We coalition structures produced protocol satisfy desirable properties Pareto optimality dummy player pseudosymmetry 2009 Elsevier BV All rights reserved There currently possibility delegating complex tasks semiautonomous software agents 3437 A highly desirable requirement domains agents able reach agreements matters common For example order accomplish goals delegated agents need share scarce resource work achieve common goal come common understanding disputed domain discourse This requirement motivated work automated negotiation 2228 online auctions 11 computational social choice theory 15 In paper lies domains following characteristics We desire goal achieved delegate goal agent bundle resources expended agent order accomplish goal Accomplishing goal require resources possessed agent prompting need cooperation A group agents pool resources accomplish set goals satisfaction contributors Our primary aim agent satisfy goal end necessary expend resources endow Corresponding author Email addresses pedcsclivacuk PE Dunne saritmacsbiuacil S Kraus mjwcsclivacuk M Wooldridge 00043702 matter 2009 Elsevier BV All rights reserved doi101016jartint200909005 PE Dunne et al Artiﬁcial Intelligence 174 2010 2050 21 acceptable However multiple ways satisfying goal desire agent minimize resource usage The formal model use capture scenarios reﬁnement Coalitional Resource Games crgs framework introduced 39 In crg agent set goals endowed quantity resources goal requires speciﬁed quantity resource order accomplish The main change basic crg model introduce idea preferring outcomes minimize resource consumption To capture preferences introduce costs cost agent particular scenario simply sum resource quantities contributes scenario Many important real world scenarios ﬁt model Consider agents support arranging carpool schemes1 The idea carpool scheme encourage people live work close share cars work driving car We model car pooling framework follows A possible goal agent arranging transportation necessary days times An agent possible goal transportation different possible days worker visit main oﬃce Monday Wednesday The resources places cars speciﬁc days origin destination time An agent prefer agent provides ride possible available day car save resources One characteristic domains utility nontransferable In cooperative games transferable utility value coalition simply real number corresponding payoff divided coalition members way ﬁt 25 p 257 In games utility transferable transferred coalition members Most existing work multiagent negotiation resource allocation assumes transferable utility 2228 The rationale choice domains utility non transferable nontransferable utility games ntu games studied literature 25 p 268 As example respect domain scientists collaborate joint paper resources contribute include experience expertise Such resources easy value trade explicitly utility scientist gets publishing paper usually transferred cooperated We elaborate issue Section 3 We emphasise scenarios consider typically require cooperation general case agent achieve goals isolation need cooperate order The possible outcomes cooperative games structures coalitions commit achieve certain goals members coalition commit contribute resource endowment Presented number different possible outcomes want agent choose achieves delegated goal minimizing cost minimizes quantity resources contributes Given realm cooperative games number issues suggest consideration 29 Which coalitions form And coalitions choose outcome available given different preferences agents outcomes With respect question formalise core domain investigate complexity questions surrounding core We conpcomplete check particular outcome core game conphard check core nonempty check core nonempty contains nontrivial outcome However core strong constraints games motivates consider types outcomes Our second contribution consider constructive bargainingbased approach coalition structure generation We present negotiation protocol domain investigate properties Using backward induction derive strategies subgame perfect equilibrium prove outcomes generated average satisfy sirable properties pseudosymmetry dummy player Pareto optimality Although nagent bargaining ntu games considered game theory literature 16 little work scienceai 7 A comment notation proofs The remainder paper makes use notation readers conve nience summarise main notations Appendix A In addition interests readability omit longer proofs main text presenting instead Appendix B 1 This frivolous example car pooling major activity heavily promoted national governments means reducing road traﬃc pollution See example httpwwwcarpoolworldcom Carpools subject study coalitional games somewhat different abstract perspective present paper 24 22 PE Dunne et al Artiﬁcial Intelligence 174 2010 2050 2 Background related work If build programs cooperate natural ask models previously developed model cooperative scenarios Game theory valuable source models multiagent systems general cooperative game theory particular studies cooperation addressing problems cooperate coalitions form coalitions share beneﬁts cooperation Within cooperative game theory simplest bestknown widely studied model cooperative games coalitional game transferable utility 25 p 257 Such game structure cid3Ag νcid4 Ag set players ν 2Ag R characteristic function game assigns real valued utility payoff possible coalition The intuition νC value coalition C earn choose cooperate Notice characteristic function obtained deﬁned given scenario considered concerns considered abstract level modelling Given structures cooperative game theory attempts answer questions coalitions formed rational agents payoff received coalition reasonably divided members coalition With respect question concepts imputations core stable sets kernel nucleolus formulated 25 These concepts represent progressively richer attempts formalise coalition stable sense incentive rational agent remain member coalition A number authors taken ideas cooperative game theory attempted apply multiagent systems Sandholm et al identify key issues addressed 29 pp 210211 Coalition structure generation The partitioning group agents coalitions overall partition coalition structure Solving optimization problem coalition Solving joint problem coalition ﬁnding best way maximize utility coalition Dividing value solution coalition Deciding gets ﬁnal payoff game With respect issue concepts Shapley value 25 p 289 developed attempt answer question agent receive based analysis agent contributes coalition With respect coalition formation main approach considered coalitional game literature multi agent systems literature consider core 25 p 257 The core coalitional game set possible outcomes distributions coalitional value members coalition subcoalition possibly object sense able obtain outcome strictly preferred subcoalition members The fact core nonempty necessary suﬃcient condition coalition formation core coalition form coalition incentive work With respect distributing coalitional value Shapley value provides bestknown solution 25 p 291 The Shapley value states agent average contributes coalitions considering possible coalitions formed possible order The Shapley value particularly compelling unique solution set axioms characterise fair distributions payoff members coalition If interested computational applications coalitional games course important know hard compute solution concepts core Shapley value Since problems involve quantifying coalitions appears ﬁrst sight computationally costly However fact depends representation game input decision problem The naive representation coalitional game explicitly listing value coalition size exponential number agents example checking core nonemptiness time polynomial size representation However generally accepted representation practical effort focussed complexity computing solution concepts compact succinct representations games A number compact representations investigated Deng Papadimitriou ﬁrst detailed study complexity cooperative games considered representation based weighted graphs 12 The idea graph cid3Ag E Ag Agcid4 weights w j edge j E graph To compute value νC coalition representation simply sum weights edges graph induced coalition C cid2 νC w j jE jC The representation compact need represent O Ag2 weights w j input However checking core nonemptiness npcomplete representation computing Shapley value polynomial time Other succinct representations coalitional games considered literature For example Ieong Shoham developed marginal contribution nets rulebased formalism representing coalitional games 20 gener alises induced subgraph representation Deng Papadimitriou They showed computing solution concepts core hard representation notably Shapley value computationally PE Dunne et al Artiﬁcial Intelligence 174 2010 2050 23 easy Conitzer Sandholm considered complexity computing solutions based representation superadditive games 9 Elkind et al building results Deng Papadimitriou investigated complexity solution concepts weighted voting games 14 computing Shapley value hard checking corenonemptiness easy Bachrach Rosenschein considered models coalitional games complexity solution concepts games 23 Another approach coalition formation received attention literature forming coalition structures maximize social welfare maximizing sum values individual coalitions Formally given coalitional game cid3Ag νcid4 optimal coalition structure CS given follows arg CS max CS partitions Ag V CS V CS cid2 CCS νC computa There course exponentially possible coalition structures problem ﬁnding CS partitions tionally complex Sandholm colleagues developed algorithms ﬁnd optimal coalition structures CS agents worst case guarantees given ratio bound k optimal 29 They showed ﬁnding optimal coalition structure nphard 29 pp 224225 They able ratio bound k number agents algorithm required searching 2a1 nodes precise sense best expected algorithm They went establish extensive search lower bound k In earlier work Shehory Kraus developed algorithms coalition structure formation agents modelled having different capabilities assumed benevolently desire overall task accomplished task complex planlike structure 3133 In coalitional games transferable utility payoff utility obtained coalition arbitrarily divided coalition members Thus payments possible agents facilitates outcomes feasible 13 However transferable utility realistic assumption domains coalitional games nontransferable utility commonly referred simply ntu games model scenarios Formally ntu game understood structure cid3Ag Ω cid81 cid8n νcid4 Ag set players Ω set outcomes cid8i Ω Ω binary preference relation Ω player Ag ν 2Ag 2Ω characteristic function game intended interpretation νC outcomes C Ag cooperate achieve ntu games generalise coalitional games transferable utility understand νC set distributions payoff C obtain members C While core interpretation ntu games tu games obvious Shapley value interpreted ntu games Hart MasColell propose negotiation protocol ntu games protocol leads outcomes closely correspond Shapley value transferable utility case 162 However signiﬁcant restrictions placed ntu games considered 16 particular set outcomes inﬁnite continuous It clear solutions applied ﬁnite discrete ntu games VidalPuga report similar work giving similar bargaining protocol leads outcomes correspond Owen value analogue Shapley value 36 Bloch Diamantoudi present bargaining protocol class ntu games called hedonic games 5 In hedonic game start characteristic function simply preference ordering agent coalition words agent wants join coalition pleasure company term hedonic They certain circumstances protocol leads outcomes core game Two closely related types ntu game introduced speciﬁcally model goaloriented multiagent domains domains agents goals achieve In qualitative coalitional game qcg agent set goals desires accomplish indifferent goals 38 Each coalition assumed set choices choice representing set goals accomplished coalition corresponding choice coalitions form achieve mutually satisfying sets goals Such games termed qualitative numeric measure utility games agents simply satisﬁed Coalitional resource games crgs model underpinning work present paper introduced 39 The idea crgs consider situations choices available coalition derive resources available coalition agent endowed collection resources different goals require different amounts resource achieve Note considered 39 crgs retain qualitative nature qcgs agents aim simply ensure goals achieved The present paper motivated obvious aspect resourcebased situations considered 39 obvious desire minimize resource usage While resource bounds considered 39 consideration given preferring solutions minimize resource usage So base work model crgs presented 39 model extended natural notion preference capture natural 2 The Hart MasColell protocol inﬂuential determining bargaining protocol present paper Although differences follows Once order agents chosen protocol deterministic addition allow agents counter offers 24 PE Dunne et al Artiﬁcial Intelligence 174 2010 2050 requirement By introducing preferences allow solution concepts framed setting 39 example notion stability embodied core 3 Coalitional Resource Games CRGs crgs contain nonempty ﬁnite set Ag a1 agents A coalition typically denoted C simply set agents subset Ag The grand coalition set agents Ag Each agent Ag assumed associated ﬁnite set G goals drawn set overall possible goals G The intended interpretation members G represent different ways agent goals satisﬁed That agent happy member G achieved concerned preferences individual goals Thus level modelling indifferent members G satisﬁed member G achieved unsatisﬁed Note cases agents goals satisﬁed issue agents aim simply ensure goals achieved sense agent attempting satisfy members G possible In order bring goals agents expend resources We assume ﬁxed ﬁnite nonempty set resources R assume agent endowed possibly zero natural number quantity resource We denote resource r R agent Ag endowed eni r eni r N Different goals require different quantities resource achievement We denote resource r required achieve goal g reqg r assume reqg r N Collecting components coalitional resource games crgs A crg Γ n 5tuple Γ cid3Ag G R G 1 Gn en reqcid4 Ag a1 set agents G g1 gm set possible goals R r1 rt set resources Ag G G set goals intended interpretation goals G satisfy en Ag R N endowment function intended interpretation eni r k agent Ag indifferent members G endowed quantity k N resource r R req G R N requirement function intended interpretation reqg r k achieve goal g G necessary expend quantity k N resource r R We assume goal G trivially attainable goal requires nonzero expenditure resource This assumption reasonable goals requiring resources eliminated altering strategic structure game agent achieve goal goals effect formation speciﬁc coalitions Formally assume g G r R reqg r 0 We extend endowment function en coalitions function en 2Ag R N enC r cid2 eni r iC Similarly extend req function sets goals function req 2G R N reqG cid11 r cid2 reqg r gGcid11 cid11 denote total cost resources required satisfy set With little abuse notation use reqG goals G cid11 reqG cid11 A set goals G cid11 cid2 rR cid11 reqG cid11 r satisﬁes agent G cid11 G cid13 G cid11 satisﬁes coalition C Ag satisﬁes member C cid11 A set goals G feasible coalition C coalition endowed suﬃcient resources achieve goals cid11 Notice monotonically increasing coalitions monotonically increasing feasible goal sets That C C In terminology 38 crgs inherently coalition monotonic feasible C G feasible C G G cid11 cid11 cid11 We deﬁne function sf 2Ag 2G return set goal sets satisfy feasible given coalition sf C G cid11 G G cid11 feasible satisﬁes C PE Dunne et al Artiﬁcial Intelligence 174 2010 2050 25 Table 1 Endowments feasible goal sets satisfying feasible goal sets coalitions Example 1 enC x r1 enC x r2 f easC x sf C x C0 0 0 C1 2 0 C2 0 1 C3 2 1 g2 C4 1 2 C5 3 2 g1 g2 g1 C6 1 3 C7 3 3 g1 g2 We coalition C successful sf C cid13 C successful C endowed resources bring goal set G satisfy member C G cid11 cid11 cid11 set agents goals satisﬁed G cid11 Given set goals G cid11 succG Ag G denote succG cid11 G cid13 cid11 Consider following example Example 1 Consider following crg refer Γ1 We agents Ag a1 a2 a3 possible goals G g1 g2 resources R r1 r2 The goal sets agent follows G 1 g1 G 2 g2 G 3 g1 g2 The endowment function en deﬁned follows ena1 r1 2 ena2 r1 0 ena3 r1 1 ena1 r2 0 ena2 r2 1 ena3 r2 2 And requirement function follows reqg1 r1 3 reqg2 r1 2 reqg1 r2 2 reqg2 r2 1 There possible coalitions game follows C0 C4 a1 C1 a3 C5 a1 a3 C2 a2 C6 a1 a2 C3 a2 a3 C7 a1 a2 a3 The endowments coalitions summarised Table 1 feasible goal sets coalition goal sets feasible satisfy coalition Thus far presentation crgs faithfully followed 39 At point start introduce new concepts notations 31 Contribution vectors The ﬁrst new concept introduce captures idea agent contributing certain speciﬁed resource coalition Formally resource vector Rtuple natural numbers indexed elements R resource vector indicate resource contributed speciﬁc agent If C Ag C contribution vector Ctuple resource vectors members indexed elements C component C contribution vector deﬁnes contribution speciﬁc member C We denote contribution vectors ξ ξ cid11 write ξi denote member ξ indexed ξi vector deﬁning agent contribution ξ We let ξir denote resource r R contributed agent Ag according contribution vector ξ We allow agents contribute resource endowed reason require contribution vector ξ coalition C satisfy following natural feasibility requirement C r R ξir cid2 eni r Although paper course possible think contribution vector ξ Ag R matrix natural numbers value ξ r resource r contributed agent Now stated earlier key aims present paper consider situations agent multiple options achieving goals different options different resource consumption requirements aim minimize resource requirements To capture idea resource consumption deﬁne total cost contribution vector ξ agent C sum individual resource contributions These costs shortly 26 PE Dunne et al Artiﬁcial Intelligence 174 2010 2050 deﬁne preference relations basic idea agent prefers minimize costs This additive model costs course relatively simple models costs preferences possible useful starting point analysis Formally denote cost agent Ag contribution vector ξ ciξ ciξ cid2 ξir rR 32 Cooperation structures Coalitional games transferable utility model cooperation high level abstraction In particular indicate coalitions simply indicate value coalition earn This information provides basis agent decision rational work coalition In crgs picture little complex When agent deciding work coalition needs know goals coalition work expected resource contribution Only begin consider desirable outcome compare possibilities We introduce cooperation structures represent information Formally cooperation structure triple λ cid3C G C Ag G coalition endowed suﬃcient resources achieve goals commits ξ cid4 cid11 G ξ C contribution vector components satisfy feasibility constraint cid11 cid2 iC r R ξir cid3 reqG cid11 r The intended interpretation cooperation structure λ cid3C G cid11 ξ cid4 C cooperate achieve goal set G cid11 agent C contribute resources ξi joint effort If λ cooperation structure denote Cλ Gλ ξλ coalition goal set contribution vector λ respectively With slight abuse notation lift cost function ci contribution vectors cooperation structures writing ciλ shorthand ciξλ With abuse notation let succλ denote set agents goals satisﬁed λ succλ shorthand succGλ 33 Preferences We deﬁne agent Ag preference relation cid8i cooperation structures containing This relation captures idea agents primary objective satisfy goals secondary aim minimize costs Thus agent prefers cooperation structures goals achieved set cooperation structures goal achieved prefers minimize costs similarly set cooperation structures goal achieved Formally cooperation structures λ1 λ2 containing agent deﬁne cid8i λ1 cid8i λ2 iff following conditions satisﬁed 1 succλ1 succλ2 ciλ1 ciλ2 2 succλ1 succλ2 3 succλ1 succλ2 ciλ1 ciλ2 The nonstrict preference relation cid15i obvious interpretation Now cooperation structures superadditive sense merged loss utility participants To idea precise deﬁne disjoint union operator cooperation structures follows Suppose cooperation structures λ1 cid3C1 G 1 ξ 1cid4 λ2 cid3C2 G 2 ξ 2cid4 C1 C2 agents common Then denote λ1 cid16 λ2 cooperation structure λ3 cid3C3 G 3 ξ 3cid4 C3 C1 C2 G 3 G 1 G 2 k 1 2 Ck r R ξ 3 ir ξ k ir The disjoint union operator cid16 cooperation structures following property Proposition 1 Let λ1 λ2 cooperation structures crg Γ containing disjoint sets agents let λ3 λ1 cid16 λ2 Then k 1 2 Ck λ3 cid15i λk Proof Suppose Then agent goal achieved respective component cooperation structure λ1 λ2 λ3 case construction ii agent Cλ3 contributes λ3 respective component cooperation structure case construction cid2 PE Dunne et al Artiﬁcial Intelligence 174 2010 2050 27 It convenient deﬁne preference relations way based model utility The idea preference relations induced utility functions correspond preference relations deﬁned It important understand view utility simply numeric way capturing preferences particular fact utility mean utility transferable Deﬁning preference relation numeric utilities makes possible use numeric optimization techniques particular integer linear programs compute solutions associated preferences However utility solely convenient numerical representation preference form common currency agents compensate individual utility values compared agents We return point To deﬁne utility functions ui agent proceed follows First deﬁne V maximal possible cost needed satisfying goal agent cid3 V cid2 iAg cid2 rR max gG cid4 reqg r Then λ cid3C G cid11 ξ cid4 deﬁne functions ui follows cid5 uiλ V ciλ ciλ succλ Now given coalitional resource game Γ cooperation structures λ1 λ2 suppose deﬁned λ1 cid15i λ2 iff uiλ1 cid3 uiλ2 strict preference relation cid8i deﬁned obvious way It immediately clear construction preference relations deﬁned way directly correspond preference relations deﬁned earlier Given introduced model utility natural ask fact setting viewed tu game The answer To consider following scenario We Ag a1 a2 G g1 g2 R r1 r2 G 1 g1 reqg1 r1 reqg2 r1 1 reqg1 r2 reqg2 r2 0 ena1 r1 1 ena1 r2 0 G 2 g2 ena2 r1 0 ena2 r2 1000 Notice resource r2 plays agents goal achieved Now way agent a1 achieve goal use total resource endowment order achieve g1 However happens a2 unsatisﬁed way agent a2 satisﬁed agent a1 contribute entire endowment achievement g2 course leave a1 unsatisﬁed But situation worst outcome point view agent a1 Recall agent values achievement goal outcome achieves goal preferred outcome In scenario payment possible a1 induce transfer endowment r1 a2 way a1 achieve goal endowment end achieving goal matters agent a1 Resources resource consumption secondary concern goal achievement primary concern We express example informally somewhat morbidly following tongueincheek sce nario Suppose I plane crash You parachute unfortunately I We goal staying alive parachute allowing achieve goal staying alive unable achieve goal staying alive Is utility transferable Surely utility I transfer compensate able achieve goal 34 Coalition structures Recall Section 2 coalitional games transferable payoff coalition structure simply partition agents Intuitively element partition represents set agents work In highly abstract setting indication coalition actually cooperate The coalition structure generation problem domains involves ﬁnding partition maximizes sum individual coalition values In domain coalition structures somewhat complex They simply partitions agent population indicate goals coalition work achieve resources member coalition contribute Thus domain coalition structure σ set cooperation structures σ λ1 λk 28 PE Dunne et al Artiﬁcial Intelligence 174 2010 2050 Cλ1 Cλk partition Ag If σ coalition structure denote λσ cooperation structure σ member We let σ0 denote null coalition structure grand coalition agent makes contribution Intuitively coalition structure outcome crg It speciﬁes agent game coalition agent belongs agent contribute coalition goals achieved coalition Of course coalition structures equal agent prefer This leads consider notion stability 4 Stable coalition structures The core As discussed Section 2 core bestknown widely studied solution concept coalitional games 25 p 258 The core set outcomes game feasible grand coalition coalition achieve outcome strictly prefer In way core captures key idea coalitional stability core nonempty means rational incentive subcoalition defect Note core setting crgs formulated respect coalition structures agent needs know goals expected achieved expected contribute order able judgement value coalition structure Formally cooperation structure λ said block coalition structure σ Cλ λ cid8i λσ A coalition structure σ stable blocked cooperation structure The core crg set stable coalition structures Let establish properties stable coalition structures Proposition 2 The core closed disjoint union More precisely σ core λ1 λ2 σ λ1 cid13 λ2 coalition structure λ1 cid16 λ2 σ λ1 λ2 core Proof Suppose σ λ1 λ2 λ3 λk core Let σ λ1 cid16 λ2 λ3 λk suppose σ blocked cooperation structure λ But λ block σ Proposition 1 agent C coalition structure σ exactly good σ This case σ core Hence λ exists σ core required cid2 good possibly better σ agent Ag C coalition structure σ Proposition 3 Suppose σ λ1 λk core Γ Then core Γ contains coalition structure σ grand coalition cooperation structure σ λ Cλ Ag containing single Proof From Proposition 2 coalition structure core simply taking disjoint union cooperation structures obtain grand coalition cooperation structure cid2 Notice proposition looking stable coalition structures restrict attention looking cooperation structures containing grand coalition We stable coalition structure atomic component cooperation structures decomposed wrt disjoint union resulting coalition structure stable Formally let σ λ1 λk coalition structure core crg Γ Then σ atomic iff 1 cid2 cid2 k case exist disjoint σ λi core The following cid16 λ2 nonempty cooperation structures λ1 immediate λi λ1 λ1 λ2 λ2 Proposition 4 If core Γ nonempty core contains atomic coalition structure Proposition 5 Unsatisﬁed agents incur cost stable coalition structure More formally coalition structure σ stable Ag succλσ ciλσ 0 Proof Agent choose singleton cooperation structure contributes achieves goals cooperation structure block coalition structure unsatisﬁed incurred cost cid2 Proposition 6 Suppose coalition structure σ core let C set agents unsatisﬁed σ Then C sf C cid11 cid11 C Proof Suppose C ξ represents entire endowment member C achieved cost entire endowment goals achieved cid2 block σ C cid11 cid13 So suppose G cid11 C sf C cid11 Then cooperation structure cid3C cid11 ξ cid4 prefer goals cid11 sf C cid11 G cid11 cid11 PE Dunne et al Artiﬁcial Intelligence 174 2010 2050 29 Proposition 7 The following statements equivalent 1 No coalition successful Γ 2 The core Γ contains coalition structure agent expends resources agent satisﬁed Proof 1 2 Suppose 1 2 Then core contains cooperation structure agents expend resources ii agent satisﬁed For case follows 1 agents expending resource goal unsatisﬁed contradicts Proposition 5 For case ii suppose agent satisﬁed Note achieve goal 1 agents C contribute resources lead achievement goal Some member C unsatisﬁed C successful coalition 1 Again Proposition 5 contradiction 2 1 Follows immediately Proposition 6 cid2 A obvious question natural conditions crgs ensure core nonempty conditions obvious requiring agents goal But case core following example illustrates Example 2 Consider following crg We agents Ag a1 a2 a3 a4 possible goals G g1 g2 g3 g4 resources R r1 r2 r3 The goal sets agent follows G 1 g1 G 2 g2 G 3 g3 G 4 g4 The requirement function req deﬁned following table req g1 g2 g3 g4 r1 4 4 4 4 r2 0 1 1 0 r3 1 0 0 2 The endowment function en deﬁned following table en a1 a2 a3 a4 r1 8 8 8 4 r2 1 0 0 2 r3 0 1 1 0 We consider possible coalition core 1 σ0 core agent goals achieved coalition structure successful coalitions block σ0 goals achieved 2 The grand coalition coalitions a1 a4 a1 a2 a3 a1 a2 a4 a1 a3 a4 a2 a3 a2 a4 a3 a4 a1 a2 a3 a4 unsuccessful This coalitions exists resource total resource required satisfy goals coalition members larger total endowment resource 3 Consider coalition a1 a2 In order satisfy agents goals 8 units resource r1 required Therefore agents contribute 4 units resource r1 Given consider following cases Agent a1 contributes 4 units resource r1 In case coalition blocked cooperation structure cid3a1 a3 g1 g3 ξ cid4 values contribution vector ξ different 0 ξ12 1 ξ31 8 ξ33 1 This cost a1 smaller a3 satisﬁed b Agent a2 contributes 4 units resource r1 The coalition blocked cooperation structure cid3a2 a3 a4 g2 g3 g4 ξ cid4 values contribution vector ξ different 0 ξ23 1 ξ31 8 ξ33 1 ξ42 2 ξ41 4 This cost a2 smaller a3 a4 satisﬁed 4 Coalition a1 a3 stable similar considerations ones speciﬁed coalition a1 a2 notice agents a2 a3 symmetric sense goals require resource order satisfy identical endowments 5 Consider coalition a2 a3 a4 In order satisfy agents goals 12 units resource r1 required As agent a4 4 units resource r1 a2 a3 contribute 4 units resource r1 Given consider following cases 30 PE Dunne et al Artiﬁcial Intelligence 174 2010 2050 Agent a2 contributes 4 units resource r1 In case coalition blocked cooperation structure cid3a1 a2 g1 g2 ξ cid4 values contribution vector ξ different 0 ξ11 8 ξ12 1 ξ23 1 This cost a2 smaller a1 satisﬁed b Agent a3 contributes 4 units resource r1 In case coalition blocked cooperation structure cid3a1 a3 g1 g3 ξ cid4 values contribution vector ξ different 0 ξ11 8 ξ12 1 ξ33 1 This cost a3 smaller a1 satisﬁed Thus coalition structure stable core 41 Complexity stability checking It natural ask hard check given coalition structure core generally core nonempty We following results Proposition 8 Given crg Γ coalition structure σ Γ problem checking σ core Γ conp complete Proof We work complement problem problem checking Γ σ σ unstable For membership np simply guess cooperation structure λ check λ blocks σ size λ clearly polynomial size Γ verifying λ blocks σ easily polynomial time For np hardness reduce problem checking grand coalition given crg successful This problem named grand coalition success proved npcomplete 39 Let Γ cid3Ag G R G 1 Gn en reqcid4 g r reqg r new resource ri ﬁx req input instance problem We create instance Γ σ G contains members R addition agent Ag create resource ri For goal g G R g ri 1 Then r R ﬁx resource r R ﬁx req r eni r new resources ri ﬁx eni r j G j 0 Notice construction en property coalition Γ successful grand coalition ii grand coalition succeed Γ contains grand coalition cooperation structure goals achieved agent incurs cost The cooperation structures agent successful We conclude grand coalition successful Γ iff σ block σ successful iff grand coalition successful Γ core iff coalition Γ iff succeed Γ Finally deﬁne σ σ0 σ follows First set Ag G G Ag G cid2 Now consider general problem checking given Γ core Γ nonempty This amounts checking following property σ σ core Γ checking σ C Ag λC cid6 cid7 cid8 λσ cid15i λC iC We prove Proposition 9 Checking core crg nonempty nphard Proof See Appendix B cid2 Now simply knowing core nonempty fact useful following reason Suppose coalition successful set agents pool resources achieve mutually satisfactory set goals Proposition 7 tells cases core contain cooperation structure grand coalition achieve goals expend resources In words fact core nonempty mean contains meaningful coalition structures contains coalition structures In regular coalitional games situation occur coalition obtain nonzero utility generally considered outcome So let core strongly nonempty nonempty contain trivial coalition structure σ0 Similarly core game weak contains σ0 With respect notions ﬁrst notice reduction employed proof Proposition 8 immediately gives following Proposition 10 Checking core crg weak conpcomplete PE Dunne et al Artiﬁcial Intelligence 174 2010 2050 31 1 If succλσ ci λσ 0 return cid3i ξ0cid4 2 For G 21 Set C 22 Check exists preferred contribution vector ξ C G cid11 succλσ ci λσ 0 cid11 cid11 succG 2G cid3C cid11 G 3 Return σ stable cid11 ξ cid4 cid11 given σ Proposition 12 return Fig 1 Algorithm ﬁnding cooperation structure exists blocks σ If answer question possibilities Either core nonempty contain σ0 core So question core strongly nonempty distinct knowing core weak We following Proposition 11 Checking core crg strongly nonempty nphard Proof See Appendix B cid2 42 Positive results Having established series negative results imply checking stability going hard general obvious ask positive results relating stability checking We given coalition structure σ possible check σ stable time exponential number goals polynomial number agents resources Since real world situations number goals relatively small bounded constant actual complexity determining given coalition structure core cases considered polynomial size input Our result constructive present algorithm checking stability desired properties The key step algorithm given following result Suppose given crg Γ coalition structure σ Γ set Γ asked feasible resource vector ξ agents C Γ set goals G cid11 ξ cid4 blocks σ ξ exists asked report announce cooperation structure cid3C G cid11 ξ cid4 cooperation structure ξ carries resources ξ exists notice cid3C G achieve goals G addition C endowed suﬃcient resources Let problem computing preferred contribution vector We cid11 cid11 Proposition 12 The problem computing preferred contribution vector solved polynomial time Proof The proof given Appendix B overview The idea build ﬂow network corre sponding desired situation maximum ﬂow certain properties exists ﬂow network read contribution vector ξ ﬂow network A ﬂow network understood directed graph source node s sink node t edges graph associated capacity indicating ﬂow travel edge The classic question associated ﬂow networks compute maximum ﬂow source s sink t The overall structure construction illustrated Fig 2 capacity xi edge s ai agent maximum cost agent ai incur preferred cooperation structure prefer σ capacity ξi j edge ai r j agent ai resource r j indicates endowment agent ai resource r j capacity yi edges ri t indicate total resource ri required goal set G We ask integer ﬂow y1 y2 yt If answer yes actual ﬂow edges ai ri gives preferred contribution vector cid11 The size ﬂow network polynomial size inputs computing maximum ﬂow time polynomial size network EdmondsKarp version FordFulkerson algorithm cid2 Given algorithm computing preferred contribution vector overall algorithm checking coalition structure σ stable given Fig 1 We explain algorithm follows First line 1 check agent left unsatisﬁed incurring cost immediately gives blocking structure Proposition 5 Line 2 tries build blocking cooperation structure It considering possible set goals G turn achieved resource contribution trying coalition C prefer G If coalition contain agents incur cost σ G beneﬁt reducing costs agents goal achieved σ goal achieved G beneﬁt getting goal achieved line 2a At line 2b candidate goal set G relevant coalition C check exists preferred contribution vector vector ξ exists return continue goal set cid11 cid11 cid11 cid11 cid11 32 PE Dunne et al Artiﬁcial Intelligence 174 2010 2050 If considered goal sets indicate failure σ stable Fig 2 Overall structure ﬂow network construction Proposition 12 Now key properties algorithm stated following proposition Proposition 13 The algorithm Fig 1 correct returns σ stable σ stable returns cooperation cid11 ξ cid4 cooperation structure blocks σ Moreover algorithm terminates runs time exponential structure cid3C number goals polynomial number agents resources cid11 G Proof See Appendix B cid2 To illustrate algorithm consider following example Example 3 Consider following crg We agents Ag a1 a2 a3 possible goals G g1 g2 g3 resources R r1 r2 r3 r4 The goal sets agent follows G 1 g1 G 2 g2 g1 G 3 g1 g3 The requirement function req deﬁned follows req g1 g2 g3 r1 4 0 0 r2 3 0 2 r3 14 3 3 r4 0 3 0 The endowment function en deﬁned follows en a1 a2 a3 r1 4 0 0 r2 3 3 0 r3 0 3 11 r4 0 0 3 Consider σ cid3Ag g1 ξ cid4 ξ1r1 ξ2r1 ξ3r1 4 0 0 ξ1r2 ξ2r2 ξ3r2 3 0 0 ξ1r3 ξ2r3 ξ3r3 0 3 11 ξ1r4 ξ2r4 ξ3r4 0 0 0 PE Dunne et al Artiﬁcial Intelligence 174 2010 2050 33 The set goals includes seven nonempty sets g1 g2 g3 g1 g2 g2 g3 g1 g3 g1 g2 g3 The algorithm cid11 a2 a3 coalition considers goal sets g1 g2 g3 g1 g2 succeeding considers g2 g3 C agents goals satisﬁed g2 g3 obtain maximum utility σ check 2 preferred contribution vector exists case nonzero contributions ξ2r2 3 The algorithm returns cooperation structure cid3a2 a3 g2 g3 ξ cid4 terminates Note ξ3r3 illustrate construction preferred contribution vector example proof Proposition 12 6 ξ3r3 5 Fair coalition structures bargaining In previous section investigated type solution crgs main concern check particular coalition structure stable defections This assumes particular coalition structure course address issue structure comes In section address issue method group agents ﬁnd coalition structure Our approach present negotiation protocol ﬁnding coalition structures Although negotiation protocols long object study multiagent systems research 2228 wellknown examples little research scienceai addressed nagent ntu bargaining Section 2 We looking protocol possible compute reasonable time strategies equilibrium resulted coalitions satisfy desirable properties 51 A negotiation protocol coalition formation We present analyze negotiation protocol means agents crg agree coalition structure implement resulting coalition structure necessarily maximizing overall social welfare nonetheless exhibit number desirable properties The protocol described Algorithm 1 Algorithm 1 Negotiation protocol crg bargaining cid11 cid11 1 n cid4 Ag Choose ordering cid3a Negotiation stage starts t 0 repeat cid11 ξ cid4 C cid11 t cid11 cid11 t1 n accept true t t 1 cid11 t proposes cooperation structure λt t cid3C G t repeat 1 cid11 rejects λt t accept false cid11 t forms singleton coalition cid11 makes counteroffer cid11 proposes λt proposal satisfy The proposal round t end cid11 accepts offer cid11 t ﬁnal coalition structure cid11 accepts offer λt set λt 1 cid9 i1 jt cid11 decrease utility agent u j λt cid2 u j λt j cid11 j preceding cid11 ordering obtains earlier proposal λ j t accept n t n accept The coalition structure consists λt n singleton cooperation structures cid11 0 cid3 t The intuition protocol balances power given proposers responders The responders reject offer case proposer gets negotiation Thus proposer provide beneﬁcial offers makes poor offer reject forcing proposer leave negotiation forego beneﬁts cooperation However proposer power choose offer beneﬁcial offers choose preferred This protocol modiﬁcation protocol proposed Hart MasColell 16 The modiﬁcations motivated goals Our ﬁrst goal design deterministic protocol This makes easier compute equilibrium strategies In Hart MasColells protocol proposal rejected probability ρ proposer continues active continues participate negotiation process probability 1 ρ proposer drops negotiation 34 PE Dunne et al Artiﬁcial Intelligence 174 2010 2050 gets ﬁnal payoff 0 In protocol proposer rejected proposal drops negotiation Furthermore Hart MasColell protocol proposer chosen random active set beginning round negotiation protocol order agents determined beginning negotiation Thus order agents chosen protocol deterministic Our second goal direct agents Pareto optimal solution The Hart MasColell protocol directs agents Pareto optimal solutions changes weaker property true anymore Thus MasColell protocol responder accept reject offer protocol allow responders improve previous proposed cooperation structures given agents suffer improvement There number questions dealt order fully analyze approach described Algo cid11 t determine exact form cooperation structure λtt rithm 1 For example How agent cid11 t determine responses current proposal form propose round t How agents counterproposals λti And Recalling agent seeking realise desired goals maximize utility light agents having similar aims shall issues considered formulating inequalities solutions respect constraints set negotiation protocol described provide means establishing important equilibrium properties strategies deﬁned solutions Before considering form properties systems inequalities ﬁrst review concept strategic equilibrium 52 Subgame perfect equilibrium In following use concepts Nash equilibrium subgame perfect equilibrium order analyze negotia tion strategies These standard concepts game theory detailed presentation 25 A strategy agent simply function history negotiation choices available agent current state negotiation Thus strategy simply rule telling agent negotiate A strategy proﬁle sequence strategies agent Now Nash equilibrium commonly solution concept game theory 25 p 14 This notion deﬁnes stable state game attempt examine process state reached Deﬁnition 1 Nash equilibrium A strategy proﬁle f 1 f 2 fn Nash equilibrium agent different strategy yielding outcome prefers generated chooses f given players follow proﬁle strategies This means agents use strategies speciﬁed strategy proﬁle Nash equilibrium agent motivated deviate use strategy However use Nash equilibrium effective way analyze outcomes negotiation model evaluates desirability strategy viewpoint agents start negotiation In view fact negotiation model agents know history point negotiation agents prefer diverge Nash equilibrium strategies That Nash equilibrium strategies equilibrium ﬁrst step negotiation unstable subsequent stages Furthermore inﬁnitely Nash equilibria Motivated arguments use concept subgame perfect equilibrium 25 p 97 stronger concept order analyze negotiation Deﬁnition 2 Subgame perfect equilibrium A strategy proﬁle subgame perfect equilibrium strategy proﬁle induced subgame Nash equilibrium subgame This means step negotiation process matter history agent motivated deviate cid11 n agents ﬁxed use strategy deﬁned strategy proﬁle Once order compute strategies subgame perfect equilibrium backward induction 25 p 99 cid11 1 Having reviewed formulation equilibrium return questions raised following description negotiation protocol Algorithm 1 methods agents decide form cooperation structures forward course negotiation 53 Determining proposals integer linear programming cid11 1 cid11 cid11 2 n Suppose having ﬁxed ordering cid3a cid4 agents negotiation reached round t turn cid11 t cid2 cid2 n contribute formulate cooperation structure λtt t counter agent proposal λti reject We denote uii maximal utility agent Ag obtain singleton cooperation structure uii maxuiλ λ cid3i G cid11 obtains proposal round t ui t uiλti Agent cid11 seeking maximize utility complete freedom protocol deﬁned Algorithm 1 cid11 ξ cid4 We denote ui t utility agent PE Dunne et al Artiﬁcial Intelligence 174 2010 2050 35 cid11 simply propose structure solely t lead agents j rejecting proposal outright j t protocol described Algorithm 1 allow λti reduce utility according λt j agents ordered t cid2 j The constraints governing form proposed cooperation structures described considering inequalities disjoint sets variables integer values assigned variables solution exactly agents C realized goals G contributions ξ featuring cooperation structure cid11 Thus following variables featuring describing proposals λti round t cid10 Y yl gl G cid10 cid11 S t cid10 cid11 t s j cid10 x jr X cid11 j cid11 j cid11cid11 cid11 cid11 t1 n cid11 cid11 t1 n cid11 r R cid11 Informally play following roles cid11 The variable yl Y value 1 corresponding goal gl realized G cid11 cooperation structure λti achieving utility ui t proposed cid11 round t yl 0 The variable s j S value 1 goals agent cid11 j cid11 cid11 t n realized cooperation structure λti achieving utility ui t proposed The variable x jr describes resource r R contributed cid11 round t s j 0 cid11 j cooperation structure λti achiev ing utility ui t proposed cid11 round t x jr integer value 0 cid2 x jr cid2 ena cid11 j r We recall cid3 cid2 V max gG iAg cid4 reqg r cid2 rR maximum possible cost needs expended order agent able achieve cid11 goals Given s viewpoint maximize ui t solves cid11 seeks maximize utility round t optimal proposal maximize si V cid2 xir rR 1 cid11 As noted protocol described Algorithm 1 allow total latitude constructing proposal maximization problem speciﬁed Eq 1 solved subject number constraints captured terms following groups inequalities yl cid3 s j t cid2 j cid2 n 2 Eq 2 satisﬁed instantiations cid3Y S Xcid4 s j 1 goal acceptable realized cooperation structure λti proposed cid3C G goals realized cid11 j round t proposing cooperation structure λti cid11 j beneﬁts having C achieving utility ui t return cid11 rely assistance cid11 ξ cid4 cid11 j cid11 j cid11 s j V x jr cid3 u j t t cid2 j cid2 1 3 Eq 3 represents constraint speciﬁed protocol described Algorithm 1 proposal λti agents preceding obtain Hence lefthand 3 describes utility u jλti cid11 round t righthand 3 deﬁnes utility round t λt j cid11 provide cid11 utility t1 cid11 j round t achieve u j t virtue cooperation structure λt j proposed earlier round cid11 j accrues cooperation structure proposed cid11 j obtains earlier proposed cooperation structure cid11 round t agents cid11 i1 cid11 t uii ui t 1 t 4 cid12 si V cid2 rR xir cid3 Whereas 3 concerned conditions imposed λti arising expectations agents achieve utility afforded forming singleton coalition cid11 cid11 cid11 ﬁrst agent proposal round t 4 sets constraints utility obtainable irrespective actions agents Noting cid11 t cid11 i1 cid11 cid2 glG j cid2 rR 36 PE Dunne et al Artiﬁcial Intelligence 174 2010 2050 cid11 forming singleton coalition t case RHS 4 captures constraint Alternatively cid11 t cooperation structure λti proposed achieved cid11 ﬁrst agent bid round t cid13 t noting t case certainly case proposal λti cid11 realized later round negotiation value ui t 1 cid11 s interests beneﬁcial cid11 obtain utility s j V x jr cid3 u j t 1 1 cid2 j cid2 n 5 cid2 rR The conditions captured 5 indicate utility gained cid11 round cid11 j able later cid11 j reject proposal λti counterproposal obtaining utility cid11 j j cid2 n proposal λti cid11 j realise proposal t great round case u j t 1 later round 0 cid2 x jr cid2 en j r t cid2 j cid2 n r R cid2 yl reql r r R x jr cid3 cid2 tcid3 jcid3n glG 6 7 The constraints speciﬁed 6 7 ensure cooperation structure λti feasible regardless agent cid11 cid11 j resource r R proposal adopts For agent j expend endowment resource r 6 7 admits cooperation structures λti cid3C G yl 1 suﬃcient resource provided ξ cid11 allows cid11 ξ cid4 goal gl included G cid13 n jt x jr meet requirement reqgl r cid11 We denote LPi t space instantiations π cid3Y S Xcid4 ZG Xnt1 π LPi t maximizes ui t described 1 π LPi t satisﬁes inequalities speciﬁed 27 We refer instantiations subsequently solutions LPi t We note LPi t cooperation cid11 round t satisﬁes conditions imposed inequalities 27 LPi t structure λti proposed cid11 solutions3 In case unimportant solution LPi t chosen round t given cid11 achieve utility ui t formulation 17 cid11 ξ cid4 Given solution LPi t let λti cid3C G cid11 cid11 t n C G ξ j cid3x j1 x jRcid4 t cid2 j cid2 n cid11 gl gl G j yl 1 We observe instantiation cid3Y S Xcid4 deﬁning solution LPi t exact form cooperation structure cid11 ξ cid4 λti easily determined Thus solution LPi t associated cooperation structure λti cid3C G utility agent obtains proposed cooperation structure round t ui t si V cid13 rR xir We wish use protocol Algorithm 1 inequalities 17 determine λtn cooperation structure agreed protocol described Algorithm 1 ends Speciﬁcally wish treat maximization 1 subject inequalities 27 integer linear program One problem apparent condi tions The values V ena r reqg r known crg instantiation wish ﬁnd solutions values cid3Y S Xcid4 LPi t The problem solutions LPi t given terms solutions L j t t cid2 j need determine correct values u j t use Eqs 3 4 5 In words ﬁnd value ui t calculated value u j t t cid2 j Assume current round t turn agent cid11 propose cooperation structure The value u j t ﬁnding solution LPi t agent j preceding according predeﬁned order cid11 t cid2 j cid2 1 calculated easily proposal agent ji1 That u j t determined cid11 j round t require obtaining solutions LP j t cooperation structure proposed values substituted use 3 In order compute value u j t 1 cid2 j cid2 n ﬁnding solution LPi t require cid11 cid11 cid2 j cid2 n solutions LPi t speciﬁed terms solutions LP j t cid11 t t cid11 t computing values u j t cid11 cid2 j cid2 n cid11 t t t We resolve diﬃculty follows compute required values agent uses backward induction starting computing n ﬁnding solution LPn n lead unn Then agent computes 1 n 1 cid11 t agent computes n 1 ﬁnding solutions LPn 1 n 1 LPn n 1 In general given round t 3 Although ﬁnite number solutions possible ﬁnite number possible cooperation structures PE Dunne et al Artiﬁcial Intelligence 174 2010 2050 37 cid11 ﬁnding solution LP j t cid11 j t u j t till cid11 cid2 k cid2 j 1 cid11 calculated t j n Note agent calculates u j t cid11 1 cid2 k cid2 n It easy backward induction LPt t values uk t solution LPt t computed way nonempty These processes formally presented following proposition cid11 according agents predeﬁned order starts solving u j t cid11 1 computed t cid11 values uk t cid11 Proposition 14 Given order agents For round 1 cid2 t n cid11 1 cid11 n cid11 j Ag following strategies subgame perfect equilibrium Agent Agent cid11 t offers λtt cid11 j t j cid2 n turn round t Given cooperation structures λtl proposed LP j t computed described If LP j t feasible solution Otherwise λt j λt j 1 cid11 j accept propose λt j cid11 l t cid2 l j cid11 j compute ul t Then solution cid11 j reject offer Proof The proof backward induction negotiation step t step backward induction according agent order better Note For t n solution LPn n yield cid11 cid11 n utility una n cid11 solutions LPn n yield utility n cid11 n rejects For t n 1 j n If cid11 n1 makes yield cid11 cid11 n obtain utility n una n1s offer current round end cid11 round t n So offer n gain deviating This cid11 cid11 stated constraint 4 solutions LPn n 1 In addition suppose utility n1 offer n1 cid11 earlier round 1 n 1 According protocol n1 utility This stated constraint 3 solutions LPn n 1 Finally proposed offer feasible stated cid11 constraints 6 7 solutions LPn n 1 Among possible offers n choose cooperation structure yields highest utility stated target function 1 Thus solution LPn n 1 cid11 offer associated solution offer n accept offer associated cases improve deviating If solution exist cid11 n reject offer n una cid11 n offers yield cid11 n una cid11 n1 cid11 n cid11 n cid11 n cid11 n1 making offer So cid11 n1s utility proposal makes worse un1a cid11 n1 cid11 n1 forced leave negotiation cid11 n If cid11 n rejects offer For t n1 j n1 obtains un1a This valid according constraint 4 cid11 n1 If offer cid11 n1 makes yields cid11 n unn una cid11 n gain deviating This stated cid11 constraint 5 solutions LPn 1 n 1 In order accepted n LPn n 1 contain solution In particular satisfy constraint 4 solutions LPn n 1 constraint 5 solutions LPn 1 n 1 LPn n 1 solutions associated n 1 The feasibility cid11 proposal ensured 6 7 solutions LPn 1 n 1 Again possible agreements n1 cid11 considers best accept proposed offer n1 commuted proposes agreement incentive deviate cid11 n LPn k 1 Inductive step Suppose speciﬁed strategies subgame perfect equilibrium t k cid3 n We t k cid11 n obtain k 1 associated solutions First consider j n From induction hypothesis According constraint 4 solutions LPn k cid11 n obtain solution LPn k exists incentive wait round k 1 Similarly base case constraints necessary following protocol making sure proposed cooperation structure feasible cid11 Assuming induction hypothesis correct k m j cid2 n consider j m 1 From inductive hypothesis j s offer rejected obtain u j k 1 associated solutions LP j k 1 time period According cid11 constraint 5 solutions LP j k j obtain proposed cooperation structure According cid11 induction hypothesis j receive utility proposals rest round given j l cid2 n To ensure solution similar argument solution LPl k base case satisfy constraint 4 In addition meet protocol conditions ﬁnd feasible cooperation structure LP j k includes constraints 3 6 7 Finally consider j k Given induction hypothesis reasoning similar base case t n 1 j n 1 cid11 j incentive deviate cid2 If agents follow subgame perfect equilibrium strategies round negotiation The cid11 2 counter offer trying improve utility cid11 n try improve cid11 1 utility original offer turn agent cid11 1 offer second agent ﬁrst agent giving 38 PE Dunne et al Artiﬁcial Intelligence 174 2010 2050 utility giving got offer implemented consist cooperation structure λ1n offered agent ﬁrst round cid11 n1 The cooperation structure 54 Desirable properties An obvious question outcomes protocol lead assuming rational action participant agents particular highly desirable protocol assuming rational play good outcome result ﬁrst need consider mean good context First essential agent lose participating We capture notion individual rationality Proposition 15 Individual rationality Given sequence cid11 1 cid11 n uiλ1n cid3 uii Proof The claim clear cooperation structure u11 cid11 1 according constraint 4 solutions LP1 1 utility associated According constraint 3 solutions LPn 1 u1λ1n cid3 cid11 1 proposes u1a cid11 1 Consider agents cid11 j 1 j cid2 n From constraint 4 solutions LP j j u j j cid3 u j j It easy backward induction constraint 5 u j t 1 cid2 t j u j j cid2 An additional important property Pareto Optimality outcome This property ensures possible improve outcome agent decreasing outcome In particular case cooperation structure formed agents follow subgame perfect equilibrium strategies eﬃcient sense cooperation structures agent obtain higher utility obtaining lower utility Note property addresses outcome strategies It possible stable strategies strategies equilibrium yield non Pareto Optimal outcomes Nash equilibrium strategies Prisoners Dilemma game We formally prove property proposition Proposition 16 Pareto Optimality Given sequence uiλ1n uiλ j Ag j cid13 u jλ1n cid3 u jλ cid11 1 cid11 n λ cid3Ag G cid11 ξ cid11cid4 exists ai Ag Proof The proposition clear maximization expression LPi 1 1 cid2 cid2 n constraint 3 solutions LPi 1 1 cid2 cid2 n Intuitively agent tries maximize utility given utilities agents preceding cid2 A common criticism Pareto Optimality lead unjust outcomes In particular Pareto Optimal outcomes players obtains large utility obtain utility However deﬁning fair distribution utility easy The example player obtaining utility considered fair agent contributed creation utility However distribution regarded unfair agents contributed equally Thus ﬁrst like characterize agents contribute joint utility coalition We refer agent dummy agent4 We require fair cooperation structure dummy agent obtain utility In order deﬁne notion dummy agent ﬁrst recall means coalition successful A coalition C N successful iff sf C cid13 Intuitively successful coalition goal agent satisﬁed Deﬁnition 3 Dummy agents Agent Ag dummy iff C N C successful It follows Ag dummy agent uii 0 Furthermore adding dummy agent increase maximal sum utilities group agents obtain Given deﬁnition dummy agent property state dummy agent obtain utility coalition structure In order cooperation structure agents agree follow subgame perfect equilibrium strategies proposed protocol satisﬁes dummy agent property ﬁrst prove properties resulting structure Proposition 17 Suppose given sequence ai C uiλ1n 0 Then C successful coalition cid11 1 cid11 n associated agreement λ1n Let C Ag set agents Proof From constraint 2 Proposition 15 agent j goals satisﬁed contribute resources xlr 0 utility zero So agent C goals satisﬁed constraints 6 7 j C x jr 0 Thus C successful cid2 4 We borrow deﬁnition Shapley value 25 p 292 PE Dunne et al Artiﬁcial Intelligence 174 2010 2050 39 We prove dummy player property holds framework Proposition 18 Dummy agents Suppose given sequence dummy agent uiλ1n 0 cid11 1 cid11 n associated agreement λ1n Then ai Proof Let C Ag set agents j C u jλ1n 0 From Proposition 17 C successful according deﬁnition Dummy agent property ai C cid2 Another notion fairness similar agents obtain utilities taking cooperation structure Similarity deﬁned deﬁnition sense able replace agent cooperation structure changing utility obtained agents Deﬁnition 4 Interchangeable agents Agents j Ag said interchangeable iff 1 uii u j j 2 set agents C Ag j C λ cid3C G cid11 ξ cid4 exists λcid11 cid3C G cid11cid11 ξ cid11cid4 3 Suppose λ cid3C G cid11 ξ cid4 C j C Then λi cid3C G ξ icid4 λ j cid3C j G j ξ jcid4 st uiλ u jλcid11 u jλ uiλcid11 ii For l C l cid13 l cid13 j ulλcid11 ulλ uiλi u jλ j ii l C ulλi ulλ j It fair expected utility interchangeable agents coalition structure formed Unfortunately scenario protocol leads cooperation structure satisﬁes symmetry property order agents signiﬁcant difference However look expected utility property satisﬁed Given sequence agents ς 1 n associated agreed cooperation structure We deﬁne expected utility EUi agent cid11 cid11 1 n let λς cid2 EUi ς cid11 1a cid11 na cid11 Aga cid11 cid13a cid11 j cid14 cid15 λς 1 n 1 n ui Proposition 19 Pseudo symmetry If j Ag interchangeable E U E U j cid11 h cid11 n cid11 1 cid11cid11 cid13 ai Proof Consider cid13 j 1n agreements reached agents follows subgame perfect equilibrium strategies Theorem 14 associated ﬁrst ordering agents second ordering respectively 1n h cid13 h cid13 j uhλ1n h Denote λ1n λcid11 1n u jλ1n uiλcid11 ai 1 cid2 h cid2 n cid11cid11 j l cid11 cid11cid11 n k cid11cid11 j k cid11 ai l cid11cid11 1 cid11 h cid11 h We induction n uiλ1n u jλcid11 1n uhλcid11 cid11cid11 1 cid11cid11 a2 2 cid11 1 a1 cid11 2 Base case n 2 possible orders cid11 1 a1 a2 cid11 2 cid11 1 solution LP1 1 respect Let λ11 agreement proposed According 2 deﬁnition interchangeable agents Deﬁnition 4 cooperation structure λcid11 u1λ11 u2λcid11 Since according 1 Deﬁnition 4 u1a1 u2a2 λcid11 11 respectively Similarly u1λ12 u2λcid11 11 solution LP1 1 associated 11 u2λ11 u1λcid11 1 offer λ11 λcid11 12 u2λ12 u1λcid11 12 11 cid11cid11 1 cid11cid11 cid13 j cid13 ai Inductive case Suppose claim true n m n m 1 cid11 1 cid11 Consider ﬁrst case 1 From induction hypothesis u jλ2m 1 uiλcid11 h cid13 h cid13 j uhλ2m 1 uhλcid11 cid11 1 According speciﬁcations solutions LP1 1 yields agents Let λ11 offer cid11 constraint 6 maximizes utility given constraints 1 u1a ul 2 constraint 5 From 2 Deﬁnition 4 exists λcid11 agents j gets utility λ11 cid11cid11 uiλ11 u jλcid11 u jλ11 u jλcid11 It easy λcid11 cid11cid11 1 n order5 In similar way shown λ1h associated 1h associated 1h u jλ1h uiλcid11 n yields utility agents ai j uiλ1h u jλcid11 associated LP1 1 cid11 2m 1 u jλ2m 1 uiλcid11 1h In particular true h m 1 2m 1 n λcid11 2m 1 cid11cid11 1 cid11 1 cid11 1 cid11cid11 cid11cid11 2 Thus cid11 1 11 5 Note λcid11 yield utilities agents 40 PE Dunne et al Artiﬁcial Intelligence 174 2010 2050 cid11 1 cid11 ai l j ai Consider ﬁrst λhh h cid3 l It clear Consider case orders agents sequences starting h associated utilities associated λcid11 cid11 Suppose l h cid13 h cid13 j uhλll ulλcid11 Given shown h cid13 h cid13 j uhλ2m 1 uhλcid11 The proof continues previous case ll u jλll uiλcid11 ai 2m 1 u jλ2m 1 uiλcid11 j offer λll According 3 Deﬁnition 4 λcid11 ll It easy λcid11 cid11cid11 ll offered l ll 2m 1 hh cid11cid11 j l cid11cid11 1 Given claim proved deﬁnition E U conclude E U E U j cid2 55 Time complexity ﬁnding equilibrium strategies cid11 cid2 j cid2 n ﬁnding cooperation structure Next prove given integer program problem LP j t cid11 Eqs 27 maximizes objective function agents utilities satisfy constraints solutions LP j t Eq 1 exponential number goals Since agent turn arrives respond offer needs determine strategy reject proposal offer cooperation structure solve polynomial number problems computing subgame perfect equilibrium strategy exponential number goals As mentioned real world situations number goals relatively small bounded small constant number Thus complexity computing subgame perfect equilibrium strategy considered tractable cid11 1 cid2 t cid11 cid2 n t Proposition 20 Time complexity Given integer program problem LP j t exists satisﬁes constraints solutions LP j t exponential number goals cid11 cid2 j cid2 n ﬁnding cooperation structure cid11 Eqs 27 maximizes objective function Eq 1 cid11 1 cid2 t cid11 cid2 n t Proof See Appendix B cid2 56 Bargaining solutions core The types solution considered paper bargaining solutions core understood repre senting camps game theory researchers noncooperative cooperative The fundamental difference type deviation frameworks require solution concepts immune It interesting ask gap approaches closed In particular context means asking coalition structure obtained agents follow equilibrium strategies negotiation protocol core Some previous work studied relation noncooperative models core 827 However previous work focuses tugames Works ntu coalition games includes 172330 In 1819 partition games externalities studied Since utility function mechanism expressing preferences agents coalitions games similarities hedonic games players preferences depend coalition belong However unlike hedonic games model preferences depend goals coalition satisﬁes resources need contribute respect coalitions respect cooperation structures It turns relationships core outcomes negotiation understood considering relationships hedonic games We begin modifying deﬁnition topcoalition hedonic games 4 deﬁne concept topcooperation structure crg Deﬁnition 5 Topcooperation structure A cooperation structure λ cid3C G C cooperation structure λcid11 cid3C cid11cid11 ξ cid11cid4 C cid11 G cid11 λcid11 cid13 λ uiλ uiλcid11 cid11 ξ cid4 topcooperation structure agent The key point topcooperation structures participant topcooperation structure strictly prefers cooperation structure involved Thus topcooperation structures imply certain kind uniformity preference relations members topcooperation structure We Proposition 21 If cooperation structure λ cid3C G cid11 ξ cid4 exists crg Γ 1 λ contains grand coalition C Ag 2 λ topcooperation structure Γ 3 The core Γ nonempty contains single coalition structure σ λ PE Dunne et al Artiﬁcial Intelligence 174 2010 2050 41 cid11cid11 cid13 Now consider cooperation structure λcid11cid11 cid3C contribute achieve goals Take λcid11cid11cid11 λ cid16 λcid11cid11 cid11cid11 Ag C Proof For item 1 suppose sake contradiction λ topcooperation structure C cid13 Ag Let C cid11cid11 ξ cid11cid11cid4 ξ cid11cid11 cid11cid11 Since C cid13 Ag C 0 C r R ir cid11cid11 feasible λ feasible agents C introduces additional goals By Proposition 1 C uiλcid11cid11cid11 cid3 uiλ But λ λcid11cid11cid11 cooperation structure giving contradiction For item 2 suppose sake contradiction exists topcooperation structure λ cid13 λcid11 topcooperation structure Γ let λcid11 From item 1 know contain grand coalition Since λ topcooperation structure Ag uiλ uiλcid11 λ λcid11 topcooperation structure Ag uiλcid11 uiλ giving contradiction For But λcid11 item 3 core nonempty simply note cooperation structure λcid11 block σ λ λ contains grand coalition member Ag strictly prefers λ cooperation structure member To σ λ unique member core observe member λ grand coalition strictly prefers λ cooperation structure λ block coalition structure σ cid11 Clearly λcid11cid11cid11 cid2 Notice implies kind eﬃciency respect core solution concept topcoalition structure core Of course notion topcooperation structure strong begs question topcooperation structures exist The answer yes following example illustrates Example 4 We deﬁne crg agents shares common goal needs contribute entire endowment order goal accomplished Formally let Ag a1 a2 let G G 1 G 2 g let R r1 r2 deﬁne reqg r1 1 reqg r2 1 ena1 r1 1 ena1 r2 0 ena2 r1 0 ena2 r2 1 Let λ 1 It straightforward λ topcooperation cid3a1 a2 g ξ cid4 ξa1r1 structure feasible cooperation structures achieve goals agents strictly prefer λ 0 ξa2r2 1 ξa1r2 0 ξa2r1 However following example illustrates course crgs topcooperation structure Example 5 We deﬁne crg agents goal accomplished agent contributing resources The agents collectively accomplish goals prefer accomplish goal making contribution Formally let Ag a1 a2 let G g1 g2 let G gi let R r1 r2 deﬁne reqg1 r1 0 reqg1 r2 1 reqg2 r1 1 reqg2 r2 0 ena1 r1 1 ena1 r2 0 ena2 r1 0 ena2 r2 1 There feasible cooperation structures topcooperation 0 structure For example consider cooperation structure λ cid3a1 a2 g1 g2 ξ cid4 ξa1r1 1 It easy agents prefer contribute allow agent accomplish ξa2r2 goal 1 ξa1r2 0 ξa2r1 Now topcooperation structures exist core bargaining solutions coincide Proposition 22 For crg topcooperation structure outcome negotiation process agents follow subgame perfect equilibrium strategies topcooperation structure outcome negotiation core This result intuitive according subgame perfect equilibrium strategies making ﬁrst proposal cid11 1 tries maximise utility ensuring agents ﬁrst agent negotiation order cid11 bargaining proceeded stage position making proposal Agent 1 propose topcooperation structure agent improve proposal accepted Another obvious question element core reached picking appropriate negotiation order agents In general true Furthermore crgs order agents resulting coalition structure core The following example illustrates Example 6 Consider following crg We agents Ag a1 a2 a3 a2 Intuitively pair agents triple form successful cooperation structure A single agent successful Each coalition associated different goal For set goals G g12 g23 g13 g14 g24 g34 g123 g132 g231 g124 g142 g241 g134 g143 g341 g234 g342 g243 The naming convention goals clear For goal agent index appears goal resource superscript index agents index For example goal g12 resources r1 12 r2 12 goal g123 resource r3 The goal sets agent goals index appears example G 1 g12 g13 g14 g123 g132 g231 g124 g142 g241 g134 g143 g341 123 42 PE Dunne et al Artiﬁcial Intelligence 174 2010 2050 According endowment function en agent 3 units resource index appears super script agent a1 3 units resource r1 12 The requirement function follows A goal indexes gi j requires 2 units resource 12 A goal indexes 123 1 r1 123 3 jl For example g123 requires 1 unit r1 j For example g12 requires 2 units r1 j 2 r jl 1 unit r jl 3 units rl 12 2 units r2 j j indexes 2 units ri gi jl requires 1 unit ri r3 123 The core crg consists cooperation structures agents satisfying associated goal agent contributes relevant required resource For example σ λ1 λ2 core cid16 cid16 λ1 a1 a2 g12 ξ 1 λ2 a3 a4 g34 ξ 2 cid17 cid17 according ξ 1 a1 contributes 2 units r1 12 a2 contributes 2 units r2 12 according ξ 2 a3 contributes 2 units r3 structures merging coalitions core 34 a4 contributes 2 units r4 34 In addition grand cooperation We demonstrate order agents result negotiation core For ex ample suppose order a1 a2 a3 a4 We λ44 a4 λ33 cid3a3 a4 g34 ξ 34cid4 according 34 Furthermore λ22 cid3a2 a3 a4 g342 ξ 22cid4 ξ 34 a3 contributes 2 units r3 according ξ 22 a3 contributes 1 unit r3 342 a2 contributes 3 units r2 342 Finally λ11 cid3a1 a2 a3 a4 g342 ξ 22cid4 ξ 22 a1 successful It easy λ11 core a1 a2 block Similar observations order 34 a4 contributes 2 units r4 342 a4 contributes r4 An obvious question cases result negotiation core As shown papers study relationships core negotiation outcome ntu games 23 subgame perfect equilibria games strongly depends order players Therefore papers rely mechanism making players symmetric We follow direction deﬁne stronger notion equilibrium depend order agents adapt notion order independent equilibria 23 crgs oies introduced 23 way linking cooperative noncooperative games The starting point observation bargaining setting 16 bargaining protocol outcome available player depends crucially order players able proposals different order deﬁnes different game equlibrium order necessarily equilibrium order oies introduced capture idea equilibrium possible orders players Intuitively oie deﬁned collection strategies forms subgame perfect equilibrium possible ordering agents produces outcome independent ordering It proved strategy proﬁle forms oie outcome guaranteed core 23 Proposition A We adapt concept oie setting We ﬁrst assume strategy speciﬁes action agent decision point possible order players given order discussed Given deﬁne Deﬁnition 6 oie A proﬁle extended strategies order independent equilibrium oie negotiation protocol 1 strategy proﬁle subgame perfect equilibrium 2 offers agent accept according strategy subgames sets active agents regardless order Now according oie ﬁrst round given agent offer accept offers regardless order agents Even model time costly assume agent utility coalition structures prefer formed earlier time Thus assume negotiation end ﬁrst round negotiation ends time t disjoint union singleton cooperation structures ﬁrst t 1 agents members coalition structures form time t achieved ﬁrst round Proposition 23 The outcome negotiation agents follow OIE core cid11 n negotiation ending ﬁrst round Proof For contradiction assume order agents cid11 ξ cid4 blocks σ Now coalition structure σ σ core Thus cooperation structure λ cid3C G consider different order agents members C placed end order In order cid11 1 PE Dunne et al Artiﬁcial Intelligence 174 2010 2050 43 negotiation terminate round members C remain agent utility coalition structure form obtained λ Otherwise λ formed This agent accept σ ﬁrst round obtain higher utility negotiation continued However agents follow OIE accept σ ﬁrst round agents ordered according original order cid11 n contradiction cid2 cid11 1 Note Proposition 23 require topcooperation structure Also note converse Proposition 23 hold That core outcomes reached OIE In 23 require subgame game core This crgs demonstrated Example 6 6 Conclusions Coalitional resource games provide natural model scenarios groups agents cooperate pooling resources achieve mutually satisfying sets goals In paper considered types solutions games stable solutions agent contributes resources achievement goal set coalition incentive deviate solution bargaining solutions satisfy desirable properties Pareto Optimality dummy player pseudosymmetry Several issues suggest future work First interesting look sophisticated models resources resource consumption For example 6 considers processes duration different resource usage requirements different stages Interesting issues arise example considers combining processes We think different goals achieved different processes imagine scheduling processes way satisfy agents staying stated resource bounds This leads consider temporal extensions present framework temporal extensions qualitative coalitional games considered 1 Finally course bargaining approaches considered example work ntu bargaining literature bargaining protocols lead stable coalition structures coalition structures core It interesting consider bargaining protocols developed present framework Acknowledgements We extremely grateful referees detailed encouraging comments This research supported Royal Society travel grant epsrc project GRT1065701 Market Based Control Complex Computational Systems US Army Research Laboratory US Army Research Oﬃce grant number W911NF0810144 NSF grant 0705587 ISF 135707 Appendix A Notational conventions cid11 cid11 cid11 Ag req G R G en The set agents aka players Members set typically denoted j subsets Ag coalitions denoted C C The set overall possible goals members typically denoted g g The set resources members denoted r r The goals agent Ag G G The endowment function crg en Ag R N Thus eni r deﬁnes resource r agent endowed The requirement function crg req G R N Thus reqg r denotes resource r required achieve goal g A coalitional resource game Γ cid3Ag G R G 1 Gn en reqcid4 Γ enC R The total resource r coalition C Ag endowed reqG sf C ξ The set goals sets feasible satisfy C If sf C cid13 C successful A contribution vector C tuple resource vectors idea contribution vector C deﬁnes member C resource contributes The notation ξir denotes resource r contributed agent A feasible contribution vector agent contributes endowment given resource We let ciξ denote total cost contribution ξ A cooperation structure λ cid3C G goals G coalition goal set contribution vector components λ ciλ shorthand ciξλ The total resources required achieve goal set G cid11 ξ cid4 intended meaning coalition C Ag work achieve cid11 G contribution agent deﬁned contribution vector ξ Cλ Gλ ξλ denote cid11 r The total resource r required achieve goal set G cid11 G λ cid11 cid11 reqG cid11 The agents goal achieved G succG cid8i cid11 succλ shorthand succGλ Preference relation cooperation structures prefers cooperation structures achieves goals prefers minimize resource contribution The utility obtains cooperation structure λ positive gets goal achieved λ uiλ 44 PE Dunne et al Artiﬁcial Intelligence 174 2010 2050 Table 2 Resource requirements endowments reduction Proposition 9 req g0 g1 g2 g3 g4 g5 en ai a1 a2 σ r0 r1 4 0 0 0 0 0 0 4 0 0 0 0 0 0 2 0 0 2 r2 0 2zk 0 0 0 0 2z 0 0 r3 r4 0 0 3 0 0 0 0 0 3 0 0 0 3 0 0 0 3 0 r5 0 0 0 0 3zk 0 3z 0 0 r6 0 2k 0 0 k k 2 0 0 r7 k k 0 2k 0 0 0 2k 0 r8 0 0 k k 0 2k 0 0 2k r9 0 0 k k 2k 0 0 0 2k r10 k k 2k 0 0 0 0 2k 0 r11 2k 0 0 0 k k 2 0 0 A coalition structure set cooperation structures sets agents cooperation structures represent partition Ag σ0 denotes grand coalition achieves goals contributes resources λσ denotes cooperation structure σ member Appendix B Proofs We present proofs omitted main text interests readability Proposition 9 Checking core crg nonempty nphard Proof We reduce sat 26 p 171 An instance sat given propositional logic formula Φ z Boolean variables x1 xz aim answer yes valuation variables formula satisﬁed Without loss generality assume z 1 Φ presented Conjunctive Normal Form cnf conjunction k clauses Φ kcid18 i1 ψi ψi disjunction literals We create instance core nonemptiness problem follows Possible Goals For literal cid13 occurring Ψ create goal gcid13 We create additional goals g0 g5 Agents For clause ψi create agent aψi addition create agents a1 a2 Let Agψ denote set agents corresponding clauses Goal sets agents For agent ai Agψ deﬁne goal set Gai goals corresponding literals gcid131 gcid13 y g0 g5 For agent a1 deﬁne ψi goals g0 g5 ψi cid131 cid13 y Gai Ga1 g1 g2 a2 deﬁne Ga2 Resources For propositional variable x create resource rx We create additional resources r0 g3 g4 r11 Requirements For goal g corresponding variable resource rx deﬁne quantity rx required g follows cid12 reqg rx g gx g gx k 0 Requirements g0 g1 g2 g3 g4 g5 given Table 2 Recall z number Boolean variables sat input formula k number clauses Endowments For agent ai corresponding clause ψi resource rx corresponding variable x deﬁne endowment function enai r 1 For resources r0 r11 endowments deﬁned Table 2 We prove core ΓΦ nonempty Φ satisﬁable Assume Φ satisﬁable We prove implies core First observe case effect treat clause agents single agent clause agents form successful coalition satisﬁed satisfying g0 g5 So consider possible cases 1 Observe σ0 core agent goals achieved coalition structure successful coalitions block σ0 goals achieved PE Dunne et al Artiﬁcial Intelligence 174 2010 2050 45 2 Consider grand coalition The grand coalition unsuccessful For suppose contrary true note following property Consider pair distinct goals P gi g j g0 g1 g2 g3 g4 g5 P achieved grand coalition Agψ a1 a2 P g0 g1 g2 g3 g4 g5 cases resource ri 6 cid2 cid2 11 requiring 2k expended total endowment grand coalition resource ri 6 cid2 cid2 11 exactly 2k cid11 Since Agψ achieve literal goals unsatisﬁability g0 g5 G g1 g2 G contradiction grand coalition unsuccessful a2 satisﬁed g3 g4 G cid11 cid11 a1 satisﬁed From property stated 3 Consider coalition Agψ a1 achieving goals g0 g1 cost 4k 4 a1 contributing entire endowment r0 r7 r10 cost 2z 4 clause agent contributing entire endowment r2 r6 r11 This cooperation structure block coalition structure 1 The corresponding coalition structure involve a2 unsuccessful 4 Consider coalition a1 a2 achieving goals g2 g3 cost 4k 3 agent a1 contributes endowment r4 r7 r10 a2 contributes endowment r3 r8 r9 This cooperation structure block coalition structure 3 cost a1 smaller a2 satisﬁed The corresponding coalition structure involve Agψ unsuccessful 5 Consider coalition Agψ a2 This coalition achieve goals g4 g5 cost 4k 2 a2 contributing en dowment r1 r8 r9 3z 4 clause agent commit endowment r5 r6 r11 This block coalition structure 4 a2 incur lower cost clause agents goals achieved The corresponding coalition structure involve a1 unsuccessful 6 Finally notice coalition structure 3 block coalition structure 5 coalition structure 3 Agψ incur lower cost 5 agent a1 goal satisﬁed In sum Φ unsatisﬁable coalition structure ΓΦ blocked core ΓΦ Assume Φ satisﬁable The reader verify coalition Agψ clause agents successful case cost clause agent z In case core ΓΦ contain coalition structure clause agents Agψ achieve set goals corresponding valuation Φ agents a1 a2 cooperate achieve goals g2 g3 cost 4k 3 To coalition structure stable observe clause agents achieve goals cheaply cooperate a1 a2 incur greater cost way a1 a2 achieve goals work cid2 Proposition 11 Checking core crg strongly nonempty nphard Proof We reduce sat 26 p 171 An instance sat given propositional logic formula Φ aim answer yes valuation Boolean variables x1 x y satisﬁes formula Without loss generality assume Φ presented Conjunctive Normal Form cnf conjunction k clauses Φ kcid18 i1 ψi ψi disjunction literals We create instance core nonemptiness problem follows For literal cid13 occurring Ψ create goal gcid13 For clause ψi create agent aψi deﬁne G set goals corresponding literals occur Intuitively clause agent wants ψi That ψi cid131 cid13k deﬁne G gcid131 gcid13k literals satisﬁed For propositional variable x create resource rx For goal g resource rx deﬁne quantity rx required g follows cid12 reqg rx g gx g gx k 0 For agent ai deﬁne endowment function resources r enai r 1 We prove core ΓΦ strongly nonempty Φ satisﬁable Assume core ΓΦ strongly nonempty core contains coalition structure agents expend resources achieve goals It immediate construction coalition structure 46 PE Dunne et al Artiﬁcial Intelligence 174 2010 2050 involve grand coalition successful requirement resource rx goal gx k number agents agent exactly 1 unit resource rx satisfy agents goal require cooperation grand coalition possible satisfy gx gx So agent unsatisﬁed coalition structure strongly nonempty core object achieving non goals Finally observe core strongly nonempty straightforwardly extract valuation Φ coalition structure core goals achieved tell variables true satisfying assignment consistency valuation follows arguments Assume Φ satisﬁable let ζ x1 x y satisfying valuation Construct coalition structure σ cid11 cid11 ξ cid4 ζ follows C grand coalition ξ agent contributes resources deﬁne G cid3C G cid11 gx x ζ gx x ζ G We claim σ core ΓΦ First observe agent satisﬁed coalition structure clause agent goals satisﬁed clause Φ satisﬁed valuation ζ So suppose sake contradiction σ core Then objection Since agent goal satisﬁed objection coalition goals satisﬁed reduced cost But construction goal set corresponding satisfying assignment equal cost agent contribute entire endowment gives contradiction So σ core core strongly nonempty cid2 Proposition 12 The problem computing preferred contribution vector solved polynomial time cid11 cid11 algorithms target ﬁnd contribution vector ξ Proof Given set goals G blocks σ exists The overall algorithm given Fig 4 The algorithm makes use ﬂow network construction follows corresponding coalition C First notation Given set goals G cid13 cid11 denote set resources required set cid11 r r R g G st reqg r 0 We use eni denote overall quantity resources agent use resG cid11 goals resG endowed eni rR eni r Now use max ci denote agents maximum cost ξ way cid3C cid11 cid11 given G ciξ cid2 max ci In order determine value max ci consider following cases cooperation structures λ cid3C C cid11 ξ cid4 block σ In words cid11 cid11 ξ cid4 candidates blocking σ C cid11 G cid11 G 1 The agent goals satisﬁed σ Since agent goals satisﬁed λ σ agents cost λ strictly σ Therefore max ci ciλσ 1 2 The agent goals satisﬁed σ Since agent goals satisﬁed λ σ agents cost λ equal total resource agent Ag endowed max ci eni This agent prefers cooperation structures result goals satisﬁed We deﬁne cid12 max ci ciλσ 1 succλσ eni In order ﬁnd ξ C cid11 ciξ cid2 max ci r R network described bellow Given set goals G cid11 2G corresponding set agents C cid13 iC cid11 ξir cid3 reqG cid11 r algorithm constructs ﬂow cid11 construct corresponding network G f V E follows 1 Set vertices V V A V R s t V A represents agents C cid11 In addition let source s sink t additional new vertices resG cid11 V R corresponds resources 2 Set edges directed edge connects s vertex V A vertex V R t In addition directed edge connect v V A v j V R eni r j 0 cid10 E s v v V A v j t v j V R v v j v V A v j V R eni r j 0 cid11 cid10 cid11 cid10 cid11 3 Capacity function v V A set cs v max ci For v j V R set cv j t reqG connects v V A v j V R set cv v j eni r j cid11 r j For edge Intuitively PE Dunne et al Artiﬁcial Intelligence 174 2010 2050 47 Fig 3 The corresponding ﬂow network G f G cid11 g1 g2 1 Build corresponding ﬂownetwork G f 2 Find maximum ﬂow f G f 3 If f reqG 4 For agents resources r j v v j E set ξir j cid11 announce preferred contribution vector exists quit f v v j agents resources r j set ξir j 0 Fig 4 Algorithm computing preferred contribution vector exists Proposition 12 The ﬂow edges source s agents indicate agents total contribution resource vector capacity constraints ensure contribution strictly preferred agent The capacity constraints edge agent resource correspond endowment resource agent ﬂow edge indicates resource agent contributes The ﬂow edges resources sink node indicate resource contributed overall total requirement resource cid11 answer yes Now ask integervalued ﬂow G value f G reqG read ξ ﬂow construct The problem maximum ﬂow algorithm return noninteger amounts However Integrality theorem shows case capacity function takes integer values use FordFulkerson method maximum ﬂow property f integer edges value f u v integer 10 Thus ﬁnd ξ exists running EdmondsKarp version FordFulkerson method 10 cid2 Example 7 Continuation Example 3 Fig 3 shows ﬂow network built g2 g3 The values maximum ﬂow speciﬁed brackets Since value maximum ﬂow f 11 equals reqG cid11 σ blocked Proposition 13 The algorithm Fig 1 correct returns σ stable σ stable returns cooperation cid11 ξ cid4 cooperation structure blocks σ Moreover algorithm terminates runs time exponential structure cid3C number goals polynomial number agents resources cid11 G Proof Given coalition structure σ algorithm ﬁrst checks unsuccessful agents σ 0 cost Ag succλσ ciλσ 0 If Proposition 5 σ stable algorithm terminates cid11 2G exists coalition structure λ cid3C cid11 G cid11 ξ cid11cid4 Next algorithm checks set goals G satisﬁes goals G blocks coalition structure σ cid11 First note following agents belong coalition C cid11 cooperation structure λ blocks σ 1 Agents goals satisﬁed G cid11 Since agents satisﬁed uiλ cid2 0 Thus agents improve utility λ σ 2 Agents goals satisﬁed σ 0 cost succλσ ciλσ 0 Since agents obtain maximum utility σ U iλσ V way agents improve utility form blocking structure Given deﬁne C cid11 set agents includes agents A g belong cooperative structure λ blocks σ agents satisfy 1 2 cid10 cid14 cid11 C succG cid11 succλσ ciλσ 0 cid15cid11 B1 48 PE Dunne et al Artiﬁcial Intelligence 174 2010 2050 In fact suﬃcient check C cid11 contribution vector ξ exists λ cid3C cid11 G cid11 ξ cid4 blocks σ need check subset C cid11 established following lemma cid2 Lemma 1 If C cid11cid11 C cid11 contribution vector ξ λcid11 cid3C cid11cid11 G cid11 ξ cid4 blocks σ C cid11 block σ cid11cid11 C cid11 contribution vector ξ λcid11 cid3C cid11cid11 G cid11 ξ cid4 blocks σ We deﬁne following Proof Given coalition C contribution vector ξ cid11 cid12 ciξ cid11 ciξ 0 cid11cid11 C cid11 G cid11 ξ cid11cid4 Since λcid11 Let λcid11cid11 cid3C V uiλσ agents utility σ lower V include agents satisfy condition 2 C Consequently cid3C uiλcid11cid11 uiλcid11 uiλσ Moreover C blocks σ C cid11 ξ cid11cid4 blocks σ cid2 uiλcid11cid11 cid11 cid11 G cid11cid11 cid11cid11 cid11 Finally consider running time algorithm The complexity step 2 exponential number goals simply goes members 2G However complexity internal step polynomial G Proposition 12 Therefore total complexity algorithm exponential number goals polynomial number agents resources Proposition 20 Given integer program problem LP j t satisfy constraints solutions LP j t number goals cid11 cid2 j cid2 n ﬁnding cooperation structure exists cid11 Eqs 27 maximizes objective function Eq 1 exponential cid11 1 cid2 t cid11 cid2 n t cid11 cid2 k cid2 j 1 values uk t cid11 Eqs 17 assume utilities values right Proof Given integer program problem LP j t cid11 values uk t cid11 constraints computed This agent calculates LP j t cid11 1 cid2 k cid2 n Given cid11 1 computed t calculated t order prove proposition develop algorithm similar algorithm developed checking σ blocked algorithm described Fig 1 Section 42 Our algorithm goes power set cid11 cid11 ξ cid11cid4 exists cid11 cid3a G goals 2G For set goals G t n cid11 satisﬁes constraints LP j t j s utility After maximizes cid11 2G returns cooperation structure cid11 j s utility This cooperation structure maximizes objective function cid11 Eq 1 If cooperation structure exists algorithm returns feasible solution exists case algorithm computes cooperation structure exists G computed cooperation structure maximizes LP j t agent rejects offer Proposition 14 cid11 2G algorithm ﬁnds cooperation structure λcid11 G cid11 cid11 given Eqs 27 satisﬁes goals G In description algorithm use following deﬁnition Given integer program LP j t use λpk denote cooperation structure determines minimum utility cid11 t cooperation structure In order determine λpk consider following cases utility speciﬁed right constraints LP j t cid11 j proposes round t equal higher utility cid11 Namely utility cid11 cid11 cid11 agent k cid11 cid11 j propose k round cid11 k obtains cid11 k obtains λpk 1 If k j λpk cooperation structure 2 If k j k j j cid13 t 3 If k j j t cid11 cid11 λpk cooperation structure cid11 k proposes round t cid11 λpk singleton cooperation structure includes agent cid11 k proposes round t cid11 1 computed LPk t cid11 1 cid11 k maximizes utility agent cid11 k cid11 cid11 k obtain cooperation structure satisﬁes goals G cid11 cid11 cid3 k cid3 n satisﬁed G satisﬁed λpk cooperation k t First note exists agent cid11 satisfy constraints given Eqs 27 This maximum structure satisﬁed goals G utility greater 0 cid11 ks utility λpk greater 0 Therefore algorithm ignores G continues consider sets cid11 goals 2G Thus consider G λpk satisﬁed G agent satisﬁed G algorithms target Given set goals G ﬁnd contribution vector ξ exists satisﬁes constraints Eqs 27 satisﬁes goals G maximizes cid11 cid11 ck similar way deﬁne max ci Section 42 denote agent j utility For purpose use max k maximum cost ξ way constraints speciﬁed Eqs 27 satisﬁed In words cooperation structures λ cid3a G ck In order determine value max cid11 ξ cid4 satisfy constraints Eqs 27 k ckξ cid2 max cid11 integer program problem LP j t ck consider following cases cid11 coalition cid11 cid11 tcid11 n cid11 cid11 tcid11 n cid11 cid11 cid11 cid11 cid11 cid11 cid11 cid11 1 cid11 k goal satisﬁed λpk Since agent goals satisﬁed G λpk agents cost ξ equal cost λpk Therefore max ck ckλpk cid11 cid11 PE Dunne et al Artiﬁcial Intelligence 174 2010 2050 49 f min null G min null cid11 2G cid11 k succG 1 2 For G cid11 cid11 21 If k 22 Build corresponding ﬂownetwork G f 23 Find minimum cost ﬂow G f 24 If f exists following conditions satisﬁed succλp k 2 1 f min null 2 cid11 cid11 j satisﬁed G min cid11 j satisﬁed G cid11 j satisﬁed G 3 set f min f G min G f min null return feasible solution exists set ξkrl cid11 cid11 tcid11 n G min cost f G min ξ cid4 cid11 cid11 3 If cid3a smaller cost f min f minvk vl vk vl E ξkrl 0 vk vl E return Fig 5 Algorithm ﬁnding ξ exists satisﬁes constraints 27 solutions LP j t Eq 1 cid11 maximizes objective function LP j t cid11 2 3 cid11 cid11 λpk cid11 k goals cid11 k endowed ck enk This agent prefers cooperation structures result cid11 k goals satisﬁed λpk goals satisﬁed G satisﬁed G max goals satisﬁed cid11 k goals satisﬁed λpk G equal 0 max cid11 ks cost ξ equal total resource Since agent satisﬁed agents cost ξ ck 0 Since cid11 cid11 cid11 Consequently obtain cid11 max ck ckλpk k succG k succG enk k succG 0 cid11 k succλpk cid11 k succλpk cid11 k succλpk Given integer program LP j t satisﬁes goals G problem6 For purpose algorithm constructs corresponding network G f V E c b ζ follows cid11 cid11 n cid11 ka t ξkr cid3 reqG cid11 r maximizes cid11 r R cid11 cid11 2G order ﬁnd ξ k cid11 cid11 ck t n cid11 j s utility algorithm solves min cost ﬂow ckξ cid2 max cid11 cid11 set goals G cid13 1 Set vertices V V A V R s t V A represents agents resG cid11 In addition let source s sink t additional new vertices cid11 cid11 tcid11 n V R corresponds resources 2 Set edges directed edge connects s vertex V A vertex V R t In addition directed edge connect vk V A vl V R enk rl 0 cid10 E s vk vk V vl t vl V R vk vl vk V vl V R enk rl 0 cid11 3 Capacities vk V A set cs vk max ck For vl V R set cvl t reqG connects vk V A vl V R set cvk vl enk rl cid11 cid11 r j For edge cid11 j vl V R set ζ v j vl 1 The 4 Costs For edge connects v j vertex presents agent rest edges cost 5 Balances set bs reqG cid11 bt reqG cid11 0 rest vertices The following lemma follows immediately construction cid11 2G exists ξ satisﬁes constraints 27 Lemma 2 Given integer program problem LP j t cid11 j s cost ξ equal r c jξ r exists feasible ﬂow G f satisﬁes satisﬁes goals G capacity balance constraints cost r Moreover resource rl R contributed agent k ξkrl corresponds value f vk vl corresponding ﬂow network G f cid11 set goals G cid11 Given ﬁnd ξ exists maximizes agent satisﬁes constraints cid11 Eqs 27 running algorithm ﬁnding minimum cost ﬂow G f The integrality solutions LP j t theorem min cost ﬂow shows case ﬂow network costs capacities balances integer valued feasible ﬂow network exists minimum cost feasible ﬂow integer valued Furthermore cid11 j utility satisﬁes goals G cid11 6 Let G V E c b ζ directed graph deﬁned set vertices V set directed edges E Each edge v u E capacity cv u R cost ζ v u R In addition vertex v V balance bv R The min cost ﬂow problem ﬁnd ﬂow function f V V R vuE ζ v u f v u satisﬁes supplydemand constraints vertex v V bv minimum cost cost ﬂow deﬁned cid13 cid13 uvE f u v sumvuE f v u capacity constraints v u E f v u cid3 cv u 35 50 PE Dunne et al Artiﬁcial Intelligence 174 2010 2050 Kleins algorithm ﬁnds feasible ﬂow 21 10 pp 643698 detailed discussion related algorithms Our algorithm shown Fig 5 The complexity algorithm exponential number goals G cid11 This complexity step 2 simply goes 2G s subsets However complexity exponential number goals G internal steps 2124 polynomial problem ﬁnding minimum cost ﬂow integral data solved polynomial time 35 Therefore total complexity algorithm exponential number goals polynomial number agents number resources cid2 cid11 References 1 T Ågotnes W van der Hoek M Wooldridge Temporal qualitative coalitional games Proceedings Fifth International Joint Conference Autonomous Agents Multiagent Systems AAMAS2006 Hakodate Japan 2006 2 Y Bachrach JS Rosenschein Computing Banzhaf power index network ﬂow games Proceedings Sixth International Joint Conference Autonomous Agents Multiagent Systems AAMAS2007 Honolulu Hawaii 2007 pp 335341 3 Y Bachrach JS Rosenschein Coalitional skill games Proceedings Seventh International Joint Conference Autonomous Agents Multia gent Systems AAMAS2008 Honolulu Hawaii 2008 4 S Banerjee H Konishi T Sonmez Core simple coalition formation game Social Choice Welfare 18 2001 135153 5 F Bloch E Diamantoudi Noncooperative formation coalitions hedonic games Unpublished working paper 2005 6 A Chakrabarti L Alfaro TA Henzinger M Stoelinga Resource interfaces Proceedings Third International Conference Embedded Software EMSOFT LNCS vol 2855 SpringerVerlag Berlin 2003 pp 117133 7 G Chalkiadakis E Markakis C Boutilier Coalition formation uncertainty Bargaining equilibria Bayesian core stability concept Proceedings Sixth International Joint Conference Autonomous Agents Multiagent Systems AAMAS2007 Honolulu Hawaii 2007 8 K Chatterjee B Dutta D Ray K Sengupta A noncooperative theory coalitional bargaining The Review Economic Studies 60 2 1993 463477 9 V Conitzer T Sandholm Complexity constructing solutions core based synergies coalitions Artiﬁcial Intelligence 170 2006 607619 10 TH Cormen CE Leiserson RL Rivest Introduction Algorithms The MIT Press Cambridge MA 1990 11 P Cramton Y Shoham R Steinberg Eds Combinatorial Auctions The MIT Press Cambridge MA 2006 12 X Deng CH Papadimitriou On complexity cooperative solution concepts Mathematics Operations Research 19 2 1994 257266 13 PE Dunne M Wooldridge M Laurence The complexity contract negotiation Artiﬁcial Intelligence 164 12 2005 2346 14 E Elkind L Goldberg P Goldberg M Wooldridge Computational complexity weighted threshold games Proceedings TwentySecond AAAI Conference Artiﬁcial Intelligence AAAI2007 Vancouver British Columbia Canada 2007 15 U Endriss J Lang Eds Proceedings First International Workshop Computational Social Choice Theory 2006 COMSOC2006 Amsterdam The Netherlands December 2006 16 S Hart A MasColell Bargaining value Econometrica 64 2 1996 357380 17 M Horniacek Negotiation preferences agreements core International Journal Game Theory 37 2 2008 235249 18 CY Huang T Sj ostr om Consistent solutions cooperative games externalities Games Economic Behavior 43 2003 196213 19 CY Huang T Sj ostr om Implementation recursive core partition function form games Journal Mathematical Economics 42 2003 771793 20 S Ieong Y Shoham Marginal contribution nets A compact representation scheme coalitional games Proceedings Sixth ACM Conference Electronic Commerce EC05 Vancouver Canada 2005 21 M Klein A primal method minimum cost ﬂows application assignment transportation problem Management Science 14 1967 205220 22 S Kraus Strategic Negotiation Multiagent Environments The MIT Press Cambridge MA 2001 23 Benny Moldovanu Eyal Winter Order independent equilibria Games Economic Behavior 9 1995 2134 24 M Naor On fairness carpool problem Journal Algorithms 55 2005 9398 25 MJ Osborne A Rubinstein A Course Game Theory The MIT Press Cambridge MA 1994 26 CH Papadimitriou Computational Complexity AddisonWesley Reading MA 1994 27 M Perry PJ Reny A noncooperative view coalition formation core Econometrica 62 4 1994 795817 28 JS Rosenschein G Zlotkin Rules Encounter Designing Conventions Automated Negotiation Computers The MIT Press Cambridge MA 1994 29 T Sandholm K Larson M Andersson O Shehory F Tohmé Coalition structure generation worst case guarantees Artiﬁcial Intelligence 111 12 1999 209238 30 R Serrano R Vohra Noncooperative implementation core Journal Social Choice Welfare 14 4 1997 513525 31 O Shehory S Kraus Coalition formation autonomous agents Strategies complexity C Castelfranchi JP Müller Eds From Reaction Cognition Fifth European Workshop Modelling Autonomous Agents MultiAgent World MAAMAW93 LNAI vol 957 SpringerVerlag Berlin 1995 pp 5672 32 O Shehory S Kraus Task allocation coalition formation autonomous agents Proceedings Fourteenth International Joint Conference Artiﬁcial Intelligence IJCAI95 Montréal Québec Canada August 1995 pp 655661 33 O Shehory S Kraus Methods task allocation agent coalition formation Artiﬁcial Intelligence 101 12 1998 165200 34 Y Shoham K LeytonBrown Multiagent Systems Algorithmic GameTheoretic Logical Foundations Cambridge University Press Cambridge 2008 35 PT Sokkalingam RK Ahuja JB Orlin New polynomialtime cyclecanceling algorithms minimumcost ﬂows Networks 36 1 2000 5363 36 JJ VidalPuga A bargaining approach consistent value NTU games coalition structure Unpublished working paper 2003 37 M Wooldridge An Introduction Multiagent Systems John Wiley Sons New York 2002 38 M Wooldridge PE Dunne On computational complexity qualitative coalitional games Artiﬁcial Intelligence 158 1 2004 2773 39 M Wooldridge PE Dunne On computational complexity coalitional resource games Artiﬁcial Intelligence 170 10 2006 853871