Artiﬁcial Intelligence 222 2015 4966 Contents lists available ScienceDirect Artiﬁcial Intelligence wwwelseviercomlocateartint Finding core coalition structure utilizing dual solution Atsushi Iwasaki Graduate School Information Systems University ElectroCommunications Tokyo Japan b Graduate School Information Science Electrical Engineering Kyushu University Fukuoka Japan c National Institute Informatics Tokyo Japan Suguru Ueda c Naoyuki Hashimoto b Makoto Yokoo b r t c l e n f o b s t r c t Article history Received 21 December 2013 Received revised form 13 January 2015 Accepted 19 January 2015 Available online 24 January 2015 Keywords Game theory Cooperative games Core Coalition structure When forming grand coalition possible optimal agents need create coalition structure The idea core extended case In paper propose innovative exact algorithm called CoreD check corenonemptiness coalition structures A straightforward exact algorithm based existing techniques CoreP ﬁrst obtains value optimal coalition structure solving integer programming problem Then checks value divided making blocking dissatisﬁed coalition In contrast CoreD ﬁrst ﬁnds minimal value optimal coalition structure exists blocking coalition Next checks optimal value equals minimal value We empirically core CoreD far superior CoreP Also ﬁnd secondbest payoff vector core propose new solution concept called weak εcore utilize approximate value optimal coalition structure Based idea CoreD develop algorithm checking nonemptiness weak εcore 2015 Elsevier BV All rights reserved 1 Introduction Coalition formation important capability automated negotiation selfinterested agents As result coali tional game theory attracted attention AI multiagent systems MAS researchers 712 In traditional model coalitional game theory assumed coalitions possible characteristic function super additive coalitions merged merged coalition obtain sum values original coalitions However organizing large coalition costly coordination overhead communication costs If time limited agents time carry communications computations required coordinate effectively composite coalition component coalitions advantageous Furthermore realworld applications inherent constraints possible coalitions For example countries antitrust laws prohibit formation certain coalitions companies cartels dominate entire market Constraints placed coalition sizes permit prohibit particular sizes There underlying graphical structure determines possible communication patterns agents Therefore natural assume This paper extended version conference paper appeared 17 Corresponding author Email addresses iwasakiisuecacjp A Iwasaki suedaniiacjp S Ueda hashimotoagentinfkyushuuacjp N Hashimoto yokooinfkyushuuacjp M Yokoo httpdxdoiorg101016jartint201501001 00043702 2015 Elsevier BV All rights reserved 50 A Iwasaki et al Artiﬁcial Intelligence 222 2015 4966 making coalition possible members communicate There exist works considered constraints possible coalitions 411129353121 When grand coalition coalition agents possible optimal agents divided smaller coalitions agents need create coalition structure maximize reward obtain 37 Furthermore coalition structure stable agents need agree divide reward obtained coalition structure The core 13 prominent solution concept traditional model coalitional game theory extended case grand coalition possible optimal agents form coalition structure 2 For instance consider coalitional form game agents A b c The characteristic function v represents mapping coalition S subset agents worth value earned coalition va vb 0 vc 3 va b 12 vb c vc 8 va b c 15 A payoff vector y ya yb yc belongs core computed linear programming way coalition S vS exceed total payoff agents S total payoff equals v A In example core payoff vector y p 12 p 3 p 5 7 Let turn case grand coalition prohibited example The concept core extended situation The agents create coalition structure CS b c obtain 15 reward share eﬃciently The coalition structure b c optimal sense total payoff V CS maximized The payoff vector core coalition structure ﬁrst example Checking core nonempty polynomial time number allowed coalitions formulated linear programming problem However Conitzer Sandholm 8 pointed requires constraints subcoalitions size representation input exponential number agents Any algorithm computing core payoff vector requires time exponential long reads input If coalition prohibited value explicitly speciﬁed algorithm need compute value coalitions Computing value coalition necessarily straightforward agents solve complex collaborative planning problem In general noted computing optimal coalition structure known NPhard checking exists core optimal coalition structure NPcomplete value explicitly provided Thus research goal develop exact algorithm average runtime faster traditional methods worstcase complexity doomed exponential number explicitly given coalitions Based existing techniques construct algorithm check corenonemptiness coalition structures CoreP In obtained solving integer programming IP problem 25 algorithm value optimal coalition structure V CS divided making blocking dissatisﬁed coalition solving linear The algorithm checks V CS programming LP problem 8 In paper propose exact algorithm called CoreD utilizes dual problem linear relaxation IP problem Experimental evaluations CoreD far superior CoreP core To ﬁnd secondbest payoff vector core introduce new approximate solution concept called weak εcore weak εcore optimal coalition structure The weak εcore deﬁned particular coalition structure optimal relaxes nonblocking condition parameter ε eﬃciently distributes specify particular coalition rewards coalition structure earns On hand weak εcore structure It relaxes eﬃciency condition weak εcore optimal coalition structure addition nonblocking condition eﬃciently distributes reward dual solution provides Thus sum elements payoff vector sum rewards distributed agents value optimal coalition structure difference ε n n number agents Based idea CoreD develop algorithm checking nonemptiness weak εcore called ECore ε This paper organized follows Section 2 brieﬂy describes basic terms notations Section 3 introduces existing technique checking corenonemptiness proposes proposed technique derives associated theorem Based technique Section 4 develops novel solution concept weak εcore Section 5 empirically examines proposed algorithm criteria Section 6 describes issues contributions Section 7 concludes paper 11 Related works This subsection brieﬂy explores related works In traditional models coalitional game theory assumed coalitions possible characteristic function superadditive Forming grand coalition guaranteed optimal main research topic divide gain grand coalition agents The traditional theory coalitional games provides number solution concepts core 13 Shapley value 39 nucleolus 38 More recently AI MAS researchers considering case forming grand coalition possible optimal In cases agents form coalition structure maximize reward obtain This problem called coalition structure generation CSG problem active research topic AI MAS Sandholm et al 37 worstcase complexity CSG problems O nn general Rahwan et al 30 develop stateoftheart algorithm based dynamic programming complexity O 3n Furthermore class games 6315425 complexity CSG problems examined tractable classes A Iwasaki et al Artiﬁcial Intelligence 222 2015 4966 51 identiﬁed For instance Bachrach et al 6 identify coalitional skill games complexity polynomial games constant number skills constant length tree width Many faster scalable algorithms designed 303425223233 CSG deeply related winner determination WD problem scrutinized literature combina torial auctions Part III 9 extensive survey In combinatorial auctions agents bidders interested buying bundle objects goods level complementarities agent wants set objects simultane ously submit higher bid single object The WD problem ﬁnds allocation combination bids maximizes sum value objects Both CSG WD problems essentially set packing problem divides distinct objects nonoverlapping subgroups sum payoffsvalues objects subgroup maximized 23 example Since seminal paper Sandholm 36 reveals complex ity WD problem NPhard standard assumptions analyzed variety settings combinatorial auctions Several tractable classes problems identiﬁed concise bidding languages representations pro posed practically mitigate complexity hurdle presence complementarities In context main idea paper similar Nisan 24 In existing literature CSG exists restriction possible coalitions coalitions allowed There exist works considered constraints possible coalitions From perspective game theory Demange 11 characterizes core games arbitrary coalitions prohibited From perspective science Shehory Klaus 41 Rahwan Jennings 29 examine situation size possible coalitions limited Ramchurn et al 35 consider spatial temporal constraints coalition formation problem emergency responders robots Meir et al 21 restrict coalition agents connected graph Rahwan et al 31 propose general framework constrained coalition formation develop algorithm CSG problems This paper considers special case called locally constrained games framework To coalition structure stable agents need agree divide reward obtained coalition structure Aumann Dreze 2 extend core 13 agents form coalition structure Assuming number possible coalitions constant value grand coalition value optimal coalition structure known checking corenonemptiness easy problem reduced linear programming problem Osborne Rubinstein 27 However value grand coalition value optimal coalition structure explicitly given problem NPcomplete1 assume number possible coalitions constant 8 Since core traditional models coalitional game theory relaxed solution concepts proposed strong weak εcore 40 Based idea weak εcore develop new solution concept eﬃciency condition relaxed parameter ε This idea similar cost called weak εcore stability minimal money provided outside source coalition structure stable 4 We discuss point Section 63 Another line popular research topic AI MAS compact representation schemes characteristic function 816 By naively representing characteristic function table need 2n entries A compact representation scheme tries reduce representation size characteristic function In particular representation scheme called Synergy Coalition Group SCG 8 closely related constrained coalition formation consider We discuss connection SCG Section 61 2 Model We model coalitional form game constraints possible coalitions according locally constrained coalition form games 31 Let A set agents A n We assume characteristic function game value coalition S A given characteristic function v 2 A R Without loss generality assume S A vS 0 v 0 Assume set allowed coalitions given AC 2 A If coalition S AC assume value vS values positive setting vS zero works One commonly assumption characteristic function superadditivity We characteristic function v superadditive disjoint coalitions S1 S2 vS1 S2 vS1 vS2 holds However assume v necessarily superadditive Even assume original v superadditive considering AC longer superadditive Although Rahwan et al 31 provide elaborated compact representations use simple representation locally constrained game require possible allowed coalitions AC explicitly represented order develop eﬃcient algorithm checking corenonemptiness A similar model 8 compactly represent standard superadditive characteristic function We assume number allowed coalitions relatively small Deﬁnition 1 Coalition structure Coalition structure CSS agents S partition S disjoint exhaustive coalitions CSS S1 S2 satisﬁes following conditions S AC j cid11 j S S j cid2 S CSS S S 1 Greco et al 14 checking corenonemptiness coNPcomplete different model obtaining value grand coalition polynomial time number possible coalitions constant 52 A Iwasaki et al Artiﬁcial Intelligence 222 2015 4966 We assume singleton coalition allowed CSS singleton coalition structure exists Otherwise coalition structure CSS exist The value coalition structure CSS denoted V CSS given V CSS coalition structure agents A satisfying following condition CS A V CS S CSS vS The optimal coalition structure CS V CS A cid3 Example 1 Consider coalitional game agents A b c d Assume possible coalitions allowed The characteristic function given cid5 3 cid5 cid4 cid4 b cid4 b c v v v 6 cid5 8 cid5 3 cid5 cid4 b cid4 c cid4 b d v v v 5 cid5 8 cid5 2 cid5 cid4 c cid4 d cid4 c d v v v 5 cid5 5 cid5 2 cid5 cid4 d cid4 b c cid4 b c d v v v 5 cid5 5 cid5 cid4 b d cid4 b c d 5 cid5 cid5 cid4 c d v 2 5 v v In case optimal coalition structures CS b c d b d c The payoff V CS 10 When agents create coalition structure need consider stability The concept core extended cases agents create optimal coalition structure 2 Let y y1 y2 yn yi 0 payoff vector A yi V CS A holds We payoff yi represents reward given agent We payoff vector y feasible vector y eﬃcient A yi V CS A holds If payoff vector y eﬃcient y feasible vice versa The core 13 prominent solution concept coalitional game theory Aumann Dreze 2 extend concept cid3 cid3 considering coalition structures In paper extend deﬁnition coalitional form game Deﬁnition 2 Core coalition structure The core coalition structure CS A agents A set payoff vectors element denoted y satisﬁes following conditions cid3 S AC cid3 iS yi vS nonblocking condition A yi V CS A eﬃciency condition The core nonempty optimal coalition structure CS standard coalitional games 2 AC contains possible coalitions Also deﬁnition monetary transfers payments different coalitions transfers prohibited Thus concentrate ﬁnding core optimal coalition structure CS Example 2 Let consider example Example 1 The core optimal coalition structure nonempty For instance payoff vector y 3 3 2 2 core Deﬁnition 2 requires eﬃcient payoff vector blocked coalition AC However think set agents S AC creates coalition structure CS S Such S blocking coalition structure V CSS exceeds sum payoffs Nevertheless Conitzer Sandholm 8 possible2 Proposition 1 Lemma 2 8 For payoff vector y S AC cid3 cid14 coalition structure S holds CSS iScid14 yi V CSS cid14 cid14 cid3 iS yi vS holds S cid14 A S cid14 AC 3 Corenonemptiness 31 Traditional method We going present CoreP based existing techniques 825 First ﬁnds value optimal coalition solving following IP problem Ohta et al 25 showed simple IPbased method com structure V CS petitive stateoftheart coalition structure generation techniques Also deal locally constrained games directly apply elaborated techniques 31 algorithm utilizes complicated repre sentation structure 2 To precise deal coalition formation However described Section 61 transformation technique called superadditive cover directly apply results problem setting paper A Iwasaki et al Artiﬁcial Intelligence 222 2015 4966 53 Deﬁnition 3 IPPRIMAL IP ﬁnding CS cid6 value max subject x j vS j S j AC cid6 x j 1 jiS j AC x j 0 1 j Here x j decision variable coalition S j j 1 AC If S j included CS x j 1 x j 0 Strictly speaking chance obtained coalition structure contain agents However assume value coalition nonnegative agent included obtained coalition structure add coalition reducing value coalition structure When size AC large ﬁnd optimal solution IP reasonable time stateoftheart optimization package CPLEX Second CoreP gives payoff vector core following LP problem 8 Deﬁnition 4 LPCNE LP checking corenonemptiness ﬁnd subject y cid6 A cid6 yi V cid4 cid5 CS yi vS j S j AC iS j yi 0 In summary CoreP returns payoff vector core nonempty described follows Algorithm CoreP 1 Solve IPPRIMAL obtain value optimal coalition structure V CS 2 Check exists payoff vector y satisﬁes eﬃciency nonblocking conditions solving LPCNE V CS 3 If y exists return element core Otherwise report core 32 Our method Let consider linear relaxation IPPRIMAL dual problem Deﬁnition 5 LPPRIMAL LP relaxation IPPRIMAL max subject cid6 x j vS j S j AC cid6 x j 1 jiS j AC 0 x j j Deﬁnition 6 LPDUAL Dual problem cid6 A cid6 min subject yi yi vS j S j AC iS j yi 0 Before constructing algorithm let deﬁne decision problem called IPEFF Our algorithm effectively decision problem checks CS equal V value V CS bridges solution cid3 yi denoted V 54 A Iwasaki et al Artiﬁcial Intelligence 222 2015 4966 Deﬁnition 7 IPEFF IP checking eﬃciency condition ﬁnd subject x cid6 x j vS j V S j AC cid6 x j 1 jiS j AC x j 0 1 j Now ready construct CoreD newly developed algorithm utilizes LPDUAL IPEFF Note sim ilar idea applied ﬁnding approximate solution winner determination problem combinatorial auctions 24 Algorithm CoreD 1 Solve LPDUAL obtain dual solution y 2 Check y 3 If y satisﬁes return y satisﬁes eﬃciency condition solving IPEFF V element core Otherwise report core cid3 A y When V CS equal lower bound V optimal value linear relaxation happens identical original IP problem When V CS V discussed Section 63 obtained LPDUAL exists integer solution LPPRIMAL smaller called cost stability 4 core Then difference V V CS Theorem 1 Algorithm CoreD correct returns y y core reports core core Proof If CoreD returns y y satisﬁes eﬃciency condition Thus y If CoreD reports core IPEFF solution Let x core Deﬁnition 6 y satisﬁes nonblocking condition S AC Also Deﬁnition 7 x 2 optimal solution 1 x n optimal solution LPDUAL From strong duality principle solutions holds Since LPPRIMAL linear relaxation vS j V cid3 cid3 A y y LPPRIMAL y problems identical IPPRIMAL optimal value exceed V 1 y S j AC x j Here y payoff vector satisﬁes nonblocking condition satisfy eﬃciency condition sum elements minimized If IPEFF solution IPPRIMAL solution Thus exists payoff vector simultaneously satisﬁes eﬃciency value better equal V nonblocking conditions Thus core cid2 CoreD ﬁrst solves LPDUAL optimization problem solves IPEFF decision problem On hand CoreP ﬁrst solves IPPRIMAL optimization problem solves LPCNE decision problem When core nonempty expect performances algorithms equivalent However core expect IPPRIMAL ﬁnds optimal value especially V CS harder IPEFF simply checks V CS We empirically conﬁrm expectations Section 5 Furthermore class games optimal coalition structure polynomial time 63425 expect performance CoreP CoreD improve IPPRIMAL IPEFF polynomial time save runtime Thus average difference performance change algorithms improve smaller V equal V 4 Weak εcore Since core traditional model coalitional game theory solution concepts relax nonblocking condition proposed based core Representative solution concepts based core strong weak εcore 40 The minimizes total excess coalition minimizes average Although extend concepts coalition structure general3 model locally strained games guarantee property similar Proposition 1 respect strong εcore Accordingly concentrate weak εcore utilize idea CoreD 3 We course extend solution concepts Airiau Sen 1 extended kernel 10 coalition structure A Iwasaki et al Artiﬁcial Intelligence 222 2015 4966 55 Let remark important issue introducing weak εcore proposing new solution concept To deﬁne feasible allowed payoff vector coalition structure need consider monetary transfers payments different coalitions possible We need consider issue core nonblocking condition monetary transfers coalitions possible However relax nonblocking condi tion allowing monetary transfers coalitions extends space feasible payoff vectors We concentrate case transfers coalitions possible4 This assumption considered fairer case Consider problem assigning managers departments talented manager successful managers department Also assume person reduce deﬁcit particular department Then assigning department maximize total proﬁt company In case clearly unfair withhold bonus department shows deﬁcit That said case transfers possible computationally challenging We revisit topic Section 62 Now ready introduce average excess weak εcore Deﬁnition 8 Average excess For coalition S payoff vector y let d y S average excess coalition S deﬁned follows cid3 d y S vS S iS yi Deﬁnition 9 Weak εcore The weak εcore CS A set payoff vectors element denoted y satisﬁes following conditions cid3 S AC d y S ε relaxed nonblocking condition A yi V CS A eﬃciency condition From deﬁnition clear weak εcore nonempty coalition structure CS A nonempty Similar core blocking coalition structure optimal coalition structure CS following theorem holds Theorem 2 If payoff vector y satisﬁes d y S ε S AC V CSS coalition structure CSS cid14 cid14 cid3 Scid14 iS cid14 yi ε holds S cid14 AC arbitrary Proof From deﬁnition coalition structure CSS cid14 S1 Sk S j AC nonoverlapping cid2 cid14 S j S CSS cid14 S V CSS cid14 vS1 vS2 vSk holds Also assumption d y S j vS j iS j yi cid3 S j ε cid3 iS j yi ε S j Then holds S j This means vS j cid3 cid14 V CSS Scid14 iScid14 yi vS1 vSk yi cid3 iSk yi cid3 iS1 Scid14 ε S1 ε Sk Scid14 ε cid2 Intuitively theorem holds conjunction Proposition 1 worth coalition scaled proportion ally size factor ε The weak εcore optimal coalition structure CS payoff vector need know exact value V CS approximate semioptimal solution weak εcore CS εcore obtained approximate value V CS requires payoff vector eﬃcient To ﬁnd eﬃcient Since ﬁnding exact value NPhard natural utilize We introduce new solution concept called weak deﬁne follows Deﬁnition 10 Weak εcore following conditions The weak εcore set payoff vectors element denoted y satisﬁes 4 Although assumption nonstandard examined Kamien Zang 18 PerezCastrillo 28 addition Aumann Dreze 2 56 A Iwasaki et al Artiﬁcial Intelligence 222 2015 4966 Fig 1 Example weak εcore ε 3 cid3 S AC d y S ε relaxed nonblocking condition relaxed eﬃciency condition A yi V CS cid3 We relax eﬃciency condition A yi V CS directly linked particular coalition structure The existing solution concepts model Aumann Dreze 2 require agents agree coalition structure form However weak εcore explicitly specify coalition structure fact computing optimal coalition structure NPhard A yi n ε maximum Furthermore deﬁnition indicates difference V CS laxed nonblocking condition We discuss introduce algorithm approximate solution concept It clear εcid14 ε weak εcore superset weak εcid14 superset weak εcore ε 0 Thus weak εcore nonempty weak long ε nonnegative weak εcore εcore nonempty The converse true The condition implies weak εcore core cid3 Theorem 3 If weak εcore nonempty exists coalition structure CSA weak εcore CS A nonempty nonempty Assume weak εcore Proof It suﬃcient weak εcore CS y element weak εcore CS σ create payoff vector y y following condition holds cid14 cid14 nonempty Thus choose element y If nonempty weak εcore optimal coalition structure A yi Here σ 0 holds From y holds Also S AC Otherwise choose σ V CS yi σ n Then A yi V CS V CS cid3 cid3 cid3 A y cid14 cid5 cid4 d cid14 y S vS iS y cid14 vS iS yi ε cid3 S cid3 S Thus y cid14 weak εcore CS nonempty cid2 Notice theorem implies exist nonoptimal coalition structure CS A weak εcore coalition structure CS A nonempty cid3 A yi V CS A Example 3 Let agents b c let cid7 AC b c b b c c cid8 b c va vb vc 0 va b vb c va c 12 Optimal coalition structure CS 12 The core coalition structure game b c c b value V CS coalition structure suﬃciently provide value payoff vector stable At agent excess long coalition remaining agents receives payoff excess cid3 game For given ε 3 choose εcid14 ε relax eﬃciency condition identical weak 3core CS When coalition Fig 1 illustrates weak 3core A yi n εcid14 V CS When εcid14 0 weak 3core 12 linear programming problem weak 3core structure value V CS given A Iwasaki et al Artiﬁcial Intelligence 222 2015 4966 57 ﬁnd y subject y S j y S j ya yb yc 12 3 0 S j 2 3 0 S j cid7 cid8 b c b b c c cid7 cid8 By solving problem agent obtains payoff 6 sum exceed 12 y 6 6 0 y 6 0 6 y 0 6 6 Some coalitions agents average excess 3 Alternatively y 4 4 4 The region payoff vector represented smaller shaded weak 3core Each point triangle larger triangle leftmost Fig 1 Here height larger triangle equal V CS represents eﬃcient payoff vector weak 3core CS When εcid14 23 coalition structure value reduced 10 The weak 3core equivalent weak 3core n εcid14 10 illustrated total payoffs 10 We compute payoff vector height larger triangle middle Fig 1 Each agent obtains payoff 6 sum exceed 10 Total payoff 10 exactly shared The region represented smaller shaded triangle larger triangle y 103 103 103 weak 3core Here equally distribute sacriﬁced eﬃciency agents obtain 4 4 4 weak 3core Finally let relax eﬃciency condition εcid14 1 Now sacriﬁce eﬃciency 3 height uniquely determined larger triangle rightmost Fig 1 9 In case payoff vector weak 3core 3 3 3 A yi V CS cid3 In summary weak 3core represented shaded triangular prism Fig 1 The payoff vector belongs cross section triangular prism corresponds case 0 εcid14 3 To algorithm checks weak εcore nonemptiness given ε let introduce mathematical programming algorithms Deﬁnition 11 Dual problem relaxed nonblocking condition cid6 min yi A cid6 subject yi ε S j vS j S j AC iS j yi 0 Deﬁnition 12 IP checking relaxed eﬃciency condition ﬁnd subject x cid6 x j vS j V S j AC cid6 x j 1 jiS j AC x j 0 1 j Deﬁnitions 11 12 constructed slightly modifying Deﬁnitions 6 7 With introduce following algorithm Algorithm ECore ε 1 Solve dual LP problem Deﬁnition 11 ε obtain dual solution y satisﬁes feasibility condition V 2 Check y satisﬁes relaxed eﬃciency condition return y 3 If y V CS solving IP problem Deﬁnition 12 ε element weak εcore Otherwise report V cid3 A y weak εcore cid3 If algorithm reports payoff vector y cid3 CS A Notice equal weak εcore CS A A slight modiﬁcation improve eﬃciency weak εcore distributing difference resulting coalition structure value V CS A weak εcore CS A IP problem Deﬁnition 12 returns particular coalition structure equal reward CS A provides V CS A guaranteed larger choose payoff vector equivalent More precisely uniformly cid3 agents obtain A y Thus weak εcore A y A y 58 A Iwasaki et al Artiﬁcial Intelligence 222 2015 4966 Fig 2 Runtime checking corenonemptiness Theorem 4 Algorithm ECore weak εcore ε correct returns y y weak εcore reports weak εcore Proof The proof basically similar Theorem 1 The additional issue V CS A yi holds If set agents A unique optimal coalition structure implies A AC Thus fact derived constraint Deﬁnition 11 Otherwise Theorem 2 cid2 cid3 n ε Notice use simple modiﬁcation CoreP checking nonemptiness weak εcore In case payoff vector y satisﬁes relaxed nonblocking eﬃciency conditions runtime long algorithm ﬁrst ﬁnds V CS However regardless value ε needs ﬁnd V CS number elements AC large 5 Evaluation 51 Settings We experimentally evaluate proposed algorithms All tests run Core i74770 processor 16 GB RAM The test machine runs Windows 7 Professional SP1 x64 Edition We CPLEX 126 solving linear integer programming problem instances To understand features algorithms concentrate simple typical cases likely observed practice AC tends include small coalitions ii AC tends include large coalitions iii bias size coalition AC Unfortunately exist widely accepted standard benchmark instances locally constrained games We borrowed way generate instances 25 To generate problem instances chose distributions decay normal uniform determine size coalition AC according chosen distribution5 The instances decay distribution capture case The normal distribution corresponds case ii uniform distribution corresponds case iii We believe likely occur practical situations Considering useful deepen understanding features proposed technique admit classiﬁcation slightly rough Let explain construct instances case For case decay distribution create coalitions included AC Create coalition randomly chosen agent Then repeatedly add new random agent probability α agent added coalition includes agents α 055 Then choose value vS uniform distribution 0 S 10 For case ii ﬁx mean variance normal distribution 900 502 The size coalition S drawn Nμ σ 2 randomly add agents coalition number agents belong coalition equals S For case iii use uniform distribution S consistent uniform distribution 1 n Notice distributions value coalition drawn uniform distribution 0 S 10 We generate 100 problem instances calculate geometric average problem instances 52 CoreD CoreP Fig 2 compares runtime algorithm CoreD CoreP distribution Each data point represents geo metric average 100 problem instances left yaxis shows ratio instances core nonempty right yaxis In experiments set agents 1000 vary number elements AC AC 1000 10 000 xaxis 5 For convenience partly use Combinatorial Auction Test Suite 19 create coalitions arbitrary distribution A Iwasaki et al Artiﬁcial Intelligence 222 2015 4966 59 Fig 3 Runtime ratio core value First Fig 2a ratio decreases rapidly In fact number elements AC exceeds 3000 generated instances core Let examine average runtimes CoreD CoreP problem instances core nonempty decay distribution When core denoted CoreDE CorePE CoreD far superior CoreP CoreD check corenonemptiness 104 msec AC 10 000 runtime CoreP increases rapidly AC increases As result CoreP check corenonemptiness 106 msec AC exceeds 5000 On hand core nonempty denoted CoreDN CorePN average runtimes CoreD CoreP equivalent For randomly generated problem instances core AC 3000 We artiﬁcially created problem instances core nonempty large AC conﬁrmed average runtimes CoreD CoreP equivalent problem instances Notice investigate normal distributions N100 502 N500 502 similar cases decay distribution size coalitions AC relatively small In case conﬁrm tendency decay distribution core runtimes basically longer regardless number allowed coalitions Next Figs 2b 2c illustrate results normal distribution N900 502 uniform distribution substantially different ﬁrst distribution In instances core nonempty regardless number allowed coalitions distributions runtimes larger decay distribution As decay distribution core nonempty average runtimes CoreD equivalent CoreP When AC 5000 normal distribution CoreD slightly worse CoreP This LPDUAL requires time AC increases IPEFF remains hard IPPRIMAL Here able extract results core instances CoreD In summary core nonempty average runtimes CoreD CoreP equivalent dis tribution When core average runtimes CoreD signiﬁcantly outperform CoreP decay distribution CoreP This suggests core IPPRIMAL computes optimal solution V CS harder solve IPEFF decides V CS equal V So far illustrated runtimes CoreD CoreP varying number allowed coalitions proba bility distribution sizes Let focus runtime relation unstable game time saved moving CoreP CoreD There ways measure stability level game instance We consider core value minimal value ε weak εcore nonempty 20 As conﬁrmed instances normal uniform distributions core nonempty We focus decay distribution core compute core value We obtained 440 100 10 instances compute value 105 msec If size AC exceeds 5000 obtain exact solution time limit Otherwise successfully obtain exact values AC 1000 2000 solve 45100 95100 instances respectively Fig 3 scatters runtime ratios CoreD CoreP core value It clear core value larger CoreD signiﬁcantly better If value exceeds 005 CoreD approximately twice fast CoreP In contrast value small runtime ﬂuctuates wide ranges instances CoreD performs vice versa 53 ECore ε Next Fig 4 investigates runtime ECore ε varying ε examines ratio instances weak nonempty The xaxis indicates value ε yaxis left right sides shows average εcore runtime ratio instances respectively Through experiment set agents 1000 AC 10 000 ε exceeds time limit vary ε 001 10 We set time limit 105 msec runtime ECore terminate algorithm exclude problem instance calculating average runtimes ratios ε As described algorithm terminated ε slightly 01 decay distribution 60 A Iwasaki et al Artiﬁcial Intelligence 222 2015 4966 Fig 4 Runtime checking nonemptiness weak εcore Fig 5 Runtime obtaining εl εr In general core ε suﬃciently large weak εcore eventually non ε exhibits easyhardeasy transition runtime increasing ε decay distribution Fig 4a ECore ε exceeds shows hardest region lies 005 01 For decay distribution runtime ECore time limit values ε 005 100 008 100 number parentheses ratio instances exceed time limit This case experiment On hand simple modiﬁcation CoreP previous section solve problem instances setting time limit 105 msec distribution Let turn normal uniform distributions obtain V CS ε hardly changes varying ε 1 When ε exceeds 1 runtime depicted Figs 4b 4c The runtime ECore gradually faster faster Note weak εcore From results especially decay distribution expect exist regions 0 ε εl ε terminate nonempty Ideally weak εcore ECore reasonable time iii εr ε ECore hope identify value ε However ε lies region ii As result identifying ε ε eﬃciently check εcore ε eﬃciently check εcore ε ε ii εl ε εr ECore nonempty ε ε nonempty ε timeconsuming st weak εcore Alternatively use standard binary search procedure identify εl εr εl ε εr holds More ε predeﬁned time limit varying ε We largest smallest value ε speciﬁcally run ECore nonempty candidates εl εr Also smallest largest weak εcore ε terminate predeﬁned time limit If difference values ε denoted cl cr ECore cl candidate εl difference cr candidate εr smaller δ terminate procedure return current candidates εl εr Fig 5 shows runtime binary search procedure obtained bound εr εl varying precision δ We set ε half minute 30 000 msec The parameter settings identical time limit run ECore Fig 4 For decay distribution Fig 5a runtime increase rapidly decreasing δ The obtained bound εr εl δ large smaller decreasing δ increasing precision eventually εr εl change decreasing δ time limit In contrast normal uniform distributions observed far runtime bound constant Figs 5b 5c 54 Eﬃciency We empirically shown ECore However sacriﬁce eﬃciency social surplus weak εcore optimal coalition structure n ε worst case When impossible compute exact value optimal coalition structure ε Nevertheless derive directly investigate far optimal sum payoffs obtained ECore nonoptimal coalition structure compute value obtain weak εcore We investigate eﬃ ε effectively removed complexity hurdle exactly knowing V CS A Iwasaki et al Artiﬁcial Intelligence 222 2015 4966 61 ciency achieved sum payoffs obtained ECore manner ε value coalition structure computed greedy Let brieﬂy greedy algorithm We sort allowed coalitions decreasing order value check coalition utilized according order obtain coalition structure worth optimal The agents form coalition structure share value eﬃciently coalition S tolerates excess Sε The greedy algorithm guarantees lower bound respect eﬃciency algorithm bounds eﬃciency difference optimal value n ε We ﬁx number agents allowed coalitions nonempty greedy 1000 10 000 In setting exactly knowing V CS ε share value coalition structure algorithm ﬁnds coalition structure value exceeds ECore payoff vector weak εcore obtained coalition structure We observe ratio coalition structure value obtained greedy algorithm sum payoffs obtained ECore impossible When weak εcore ε varying ε chosen ECore For decay distribution core shown Section 52 For suﬃciently small ε weak ε outperforms weak εcore coalition structure chosen greedy procedure εcore ε terms sum payoffs eﬃciency In fact ε 01 average ratio greedy algorithm ECore 087 As ε increases eﬃciency ratio linearly increases ε reaches 10 095 For 100 instances ε signiﬁcantly outperforms greedy algorithm However ε weak εcore ε number agents case coalition structure greedy algorithm earn ECore value ε increases When ε exceeds ratio exceeds The greedy algorithm achieves better eﬃciency ECore ε However agent face relatively high excess nonempty ECore For normal uniform distributions core nonempty instances uniform distribution Note CoreD ﬁnds payoff vector agent excess In case ε ε For uniform distribution ε 01 ratio 101 ratio linearly greedy algorithm outperforms ECore increase 111 ε 10 The trend observed normal distribution This size coalition relatively larger decay distribution greedy algorithm choose large coalitions higher value ﬁnd coalition structure value larger value linear relaxation problem ﬁnds degree approximately 10 suﬃciently small ε 6 Discussions 61 Superadditive cover Aumann Dreze 2 presented conceptual transformation method called superadditive cover transforms original game nonsuperadditive characteristic function new game superadditive More speciﬁ cally original characteristic function v AC new superadditive v deﬁned follows If S AC vS given vS Otherwise vS given maxCSS cid2 S CSS S S S AC cid3 S CSS vS CSS S1 S2 partition S S disjoint cid3 S CS A vS holds Thus V CS identical partition Based conceptual transformation optimal coalition structure original game CS v A holds In summary problem ﬁnding optimal CS A v A coalition structure core coalition structure original game equivalent ﬁnding value grand coalition standard core transformed game Actually Conitzer Sandholm 8 dealt transformed game characteristic function explicitly given elements AC Synergy Coalition Group Greco et al 15 introduce concept called cohesive cover transformation applied grand coalition The result presented subsection holds cohesive cover 62 Monetary transfers coalitions When monetary transfers coalitions allowed core forming optimal coalition structure necessarily best minimizing ε Example 4 Let agents b c assume va b c va b vb c va c 30 vc 3 va vb 0 Here optimal coalition structure b c Assume transfers coalitions allowed agents choose payoff vector y 15 15 3 Coalition S c unsatisﬁed obtain 30 work vS 30 obtain 18 The average excess d y S vS iS yi S 6 On hand grand coalition formed optimal agents choose payoff vector y 10 10 10 Then average excess 5 Thus suboptimal coalition structure better minimiz ing ε cid3 62 A Iwasaki et al Artiﬁcial Intelligence 222 2015 4966 2 ﬁnding y satisﬁes When monetary transfers coalitions allowed separately solve following problems 1 ﬁnding optimizes criteria minimizing average excess V CS On hand monetary transfers coalitions allowed need ﬁnd desirable pair coalition structure payoff vector A yi V CS cid3 In fact following mixed integer programming MIP formulation Deﬁnition 13 MIP monetary transfers allowed ﬁnd subject y cid6 x j 1 jiS j AC cid6 yi ε S j vS j S j AC iS j cid6 A cid6 yi cid6 S j AC x j vS j yi x j vS j S j AC iS j xi 0 1 S j AC yi 0 Given ε MIP ﬁnds pair coalition structure CS A payoff vector y weak εcore CS A The notations constraints basically borrows Deﬁnitions 3 4 The fourth constraint highlights assump tion monetary transfers coalition allowed value coalition S j earns distributed members It clear MIP Deﬁnition 13 separated manner monetary transfers coalition allowed The fourth constraint connects ﬁrst constraint explores coalition structure second ones ﬁnd appropriate payoff vector Also MIP search coalition structure including nonoptimal ones Example 4 describes Therefore monetary transfers allowed idea CoreD longer applied Though developing algorithm admittedly immediate future work need entirely different technique dual solution Note case given instance core optimal coalition structure For instances payoff vector core change regardless monetary transfers coalitions allowed 2 We need transfer payoffs coalition payoff vector stable subcoalition nonpositive excess 63 Cost stability This subsection discusses connection weak εcore cost stability CoS minimal money provided outside source coalition structure stable 4 CoS deﬁned difference optimal CS If outside source lower bound V government provides CoS V exists blocking coalition obtained LPDUAL value V CS agents form CS V CS divide V CS CoS V Deﬁnition 14 Cost stability Fix characteristic function v optimal coalition structure CS deﬁned solution following problem The cost stability CoS min subject Δ 0 Δ yi 0 A cid6 yi V CS Δ A cid6 iS yi vS S AC When core nonempty CoS clearly zero For weak εcore CoS following theorem holds A Iwasaki et al Artiﬁcial Intelligence 222 2015 4966 63 Theorem 5 If weak εcore nonempty CoS n ε holds Proof Assume weak εcore y new payoff vector y cid14 cid14 nonempty Then choose element y weak εcore yi ε From deﬁnition weak εcore Next consider following conditions satisﬁed cid3 vS V CS iS y cid3 cid14 0 S AC V CS A y cid14 n ε Both conditions imply y cid14 core game v cid14 cid3 j Δ j n ε CoS n ε holds cid2 We obtain lowerbound ε weak εcore nonempty based CoS Theorem 6 The weak εcore nonempty ε CoSn Proof From deﬁnition CoS exists y y core game v cid3 weak εcore nonempty cid2 A yi n ε V CS A yi V CS cid14 Now consider new payoff vector y cid3 A y cid14 CoS S AC cid14 cid14 S AC d y S ε hold Thus weak εcore yi ε ε CoSn y y iS yi vS hold That cid14 cid3 cid3 From theorems obtain following theorem Theorem 7 Choose ε value ε weak εcore nonempty Then ε equal CoSn 64 Nucleolus This subsection discusses relation weak εcore nucleolus 38 Since nucleolus exists uniquely determined focus weak core 20 optimal coalition structure weak core solution concepts value ε guaranteed exist Lemma 1 The value ε weak core optimal coalition structure equivalent weak core First assume ε1 ε2 Consider weak εcid14 Proof Let ε1 ε2 values weak core optimal coalition structure weak From core assumption weak ε1core However deﬁnition weak ε1core superset weak ε1core nonempty This contradicts weak ε1core εcid14 ε2 Then weak εcid14 ε1 ε2 core core εcid14 ε1 From assumption weak ε2core core core nonempty Theorem 3 derives weak ε2core nonempty Next assume ε1 ε2 Consider weak εcid14 However weak ε2core This contradiction Accordingly ε1 ε2 cid2 From lemma theorem derived straightforwardly Theorem 8 The weak core weak core weak core CS vice versa identical weak core optimal coalition structure CS payoff vector Proof From deﬁnitions Lemma 1 weak core coalition structure CS core violate eﬃciency condition weak core Here let construct payoff vector y superset weak core optimal Assume exists payoff vector y weak core weak Since nonblocking conditions solution concepts payoff vector y cid14 yi V CS cid14 y y A n The payoff vector y cid14 inevitably satisﬁes eﬃciency condition y cid3 cid14 A A y cid14 y A V CS y A n n V CS cid2 A Iwasaki et al Artiﬁcial Intelligence 222 2015 4966 value weak core For coalition S payoff vector y y A cid14S V CS n ε 64 Let ε vS y S vS yS S cid14S Then obtain vS y S contradicts fact ε Accordingly weak core ε V CS weak εcid14 value weak εcore weak εcid14 core εcid14 y cid14 y A n equal ε V CS core εcid14 ε y A n This nonempty identical weak core CS This theorem shows ε reaches value weak εcore cid3 A yi converges V CS dual solution agents produce value As CS needed However long ﬁnding CS given ε unknown value Thus weak εcore εcore CS As result agents weak εcore That longer value exactly computed weak εcore hard value diﬃcult obtain practice We justify far useful approximate solution concept weak converges weak εcore CS form CS Next brieﬂy explain traditional nucleolus 38 For payoff vector coalition let consider excess coalition Also consider vector coalitions excesses sorted descending order The nucleolus chooses payoff vector lexicographically minimizes vector ﬁrst minimizes greatest excess secondgreatest excess The nucleolus desirable properties For transferable utility game exists unique core game core core nonempty Furthermore known core nucleolus strong core The property holds use average excesses weak core weak nucleolus weak core 43 example Before formally deﬁning weak nucleolus games constraints possible coalitions let introduce notations Let θ y payoff vector y ACvector components corresponding average excess d y S allowed coalition S AC sorted descending order θi y θ j y 1 j AC associated coalition S θi y d y S The lexicographic order excess vectors deﬁned follows We represent θ y cid5 holds exists integer cid14 θ y y preferred y cid5 cid4 cid4 cid14 cid14 θi y θi y cid14 θi cid14 cid16 θ y indicates θ y θi y y Also write θ y nucleolus cid14 cid17 θ y hold Now ready deﬁne weak Deﬁnition 15 Weak nucleolus The weak nucleolus coalition structure CS A agents A set payoff vectors element y satisﬁes cid5 cid7 cid8 cid4 cid9 cid9θ y cid14 y cid16 θ y y cid14 This deﬁnition implies eﬃciency condition minimizing largest average excess If coalition constrained course equivalent original weak nucleolus Furthermore weak nucleolus minimize largest excess members nonmembers AC However lexicographically minimize excess vector Precisely lexicographically minimizes excess vector members AC nonmembers6 Therefore weak nucleolus provide different payoff vector conventional use coalition prohibited Nevertheless optimal coalition structure given weak nucleolus guaranteed weak core coalition structure Theorem 9 The weak nucleolus optimal coalition structure weak core optimal coalition structure weak core Proof Assume exists payoff vector y weak core optimal coalition structure payoff vector weak core From weak nucleolus optimal coalition structure Let y assumption largest excess θ1 y excess vector y exceed θ1 y preferred y This fact contradicts y weak nucleolus cid2 cid14 That y cid14 cid14 Finally let brieﬂy happens relax eﬃciency condition weak nucleolus We deﬁne However distinguish weak nucleolus weak automatically achieves eﬃciency deﬁnition minimizes largest A yi V CS imposing cid3 weak nucleolus nucleolus excess y 6 A similar argument context synergy coalition group representation previously discussed 26 7 Conclusions A Iwasaki et al Artiﬁcial Intelligence 222 2015 4966 65 When forming grand coalition possible optimal agents need create coalition structure decide divide gain We developed innovative algorithm called CoreD check corenon emptiness coalition structures Since checking corenonemptiness NPcomplete set research goal develop algorithm average runtime faster traditional algorithm called CoreP We showed perfor mance newly developed algorithm called CoreD better CoreP core Furthermore proposed new solution concept called weak εcore optimal coalition structure CS algorithm checking nonemptiness weak εcore It utilize approximate CS called ECore ε based weak εcore value Based idea CoreD developed Acknowledgements This research partially supported KAKENHI 23500184 24220003 26280081 We wish thank Yukihiko Funaki Takumi Kongo Reshef Meir Dengji Zhao valuable comments Makoto Kitaki provided excellent research assistance We highly appreciate associated editor anonymous reviewers fruitful comments References 1 S Airiau S Sen On stability optimal coalition structure Proceedings 19th European Conference Artiﬁcial Intelligence ECAI 2010 pp 203208 2 RJ Aumann JH Dreze Cooperative games coalition structures Int J Game Theory 3 1974 217237 3 H Aziz B Keijzer Complexity coalition structure generation Proceedings 10th International Conference Autonomous Agents Multiagent Systems AAMAS 2011 pp 191198 4 Y Bachrach E Elkind R Meir DV Pasechnik M Zuckerman J Rothe JS Rosenschein The cost stability coalitional games Proceedings 2nd International Symposium Algorithmic Game Theory SAGT 2009 pp 122134 5 Y Bachrach P Kohli V Kolmogorov M Zadimoghaddam Optimal coalition structure generation cooperative graph games Proceedings 26th Conference Artiﬁcial Intelligence AAAI 2013 pp 8187 6 Y Bachrach R Meir K Jung P Kohli Coalitional structure generation skill games Proceedings 24th Conference Artiﬁcial Intelligence AAAI 2010 pp 703708 7 G Chalkiadakis E Elkind M Wooldridge Computational Aspects Cooperative Game Theory Morgan Claypool Publishers 2011 8 V Conitzer T Sandholm Complexity constructing solutions core based synergies coalitions Artif Intell 170 2006 607619 9 P Cramton Y Shoham R Steinberg Combinatorial Auctions MIT Press 2006 10 M Davis M Maschler The kernel cooperative game Nav Res Logist Q 12 1965 223259 11 G Demange The strategy structure coalition formation games Games Econ Behav 65 2009 83104 12 E Elkind T Rahwan NR Jennings Computational coalition formation Multiagent Systems 2nd edn MIT Press 2013 pp 329380 13 D Gillies Some theorems nperson games PhD thesis Princeton University 1953 14 G Greco E Malizia L Palopoli F Scarcello On complexity core kernel bargaining set Artif Intell 175 2011 18771910 15 G Greco E Malizia L Palopoli F Scarcello On complexity core coalition structures Proceedings 22nd International Joint 16 S Ieong Y Shoham Marginal contribution nets compact representation scheme coalitional games Proceedings 6th ACM Conference Conference Artiﬁcial Intelligence IJCAI 2011 pp 216221 Electronic Commerce ACM EC 2005 pp 193202 17 A Iwasaki S Ueda M Yokoo Finding core coalition structure utilizing dual solution Proceedings 2013 IEEEWICACM International Conference Intelligent Agent Technology IAT 2013 pp 114121 18 MI Kamien I Zang The limits monopolization acquisition Q J Econ 105 1990 465499 19 K LeytonBrown M Pearson Y Shoham Towards universal test suite combinatorial auction algorithms Proceedings 1st ACM Conference Electronic Commerce ACM EC 2000 pp 6676 20 M Maschler B Peleg LS Shapley Geometric properties kernel nucleolus related solution concepts Math Oper Res 4 1979 303338 21 R Meir JS Rosenschein E Malizia Subsidies stability restricted cooperation coalitional games Proceedings 23rd International Joint Conference Artiﬁcial Intelligence IJCAI 2011 pp 301306 22 TP Michalak J Sroka T Rahwana M Wooldridge P McBurney NR Jennings A distributed algorithm anytime coalition structure generation Proceedings 9th International Conference Autonomous Agents Multiagent Systems AAMAS 2010 pp 10071014 23 TD Nguyen A fast approximation algorithm solving complete set packing problem Eur J Oper Res 237 2014 6270 24 N Nisan Bidding allocation combinatorial auctions Proceedings 1st ACM Conference Electronic Commerce ACM EC 2000 pp 112 25 N Ohta V Conitzer R Ichimura Y Sakurai A Iwasaki M Yokoo Coalition structure generation utilizing compact characteristic function representa tions Proceedings 15th International Conference Principles Practice Constraint Programming CP 2009 pp 623638 26 N Ohta A Iwasaki M Yokoo K Maruono A compact representation scheme coalitional games open anonymous environments Proceedings 21st Conference Artiﬁcial Intelligence AAAI 2006 pp 697702 27 M Osborne A Rubinstein A Course Game Theory MIT Press 1994 28 D PerezCastrillo Cooperative outcomes noncooperative games Games Econ Behav 7 1994 428440 29 T Rahwan NR Jennings An algorithm distributing coalitional value calculations cooperative agents Artif Intell 171 2007 535567 30 T Rahwan NR Jennings An improved dynamic programming algorithm coalition structure generation Proceedings 7th International Conference Autonomous Agents Multiagent Systems AAMAS 2008 pp 14171420 31 T Rahwan TP Michalak E Elkind P Faliszewski J Sroka M Wooldridge NR Jennings Constrained coalition formation Proceedings 25th AAAI Conference Artiﬁcial Intelligence AAAI 2011 pp 719725 32 T Rahwan TP Michalak NR Jennings Minimum search establish worstcase guarantees coalition structure generation Proceedings 22nd International Joint Conference Artiﬁcial Intelligence IJCAI 2011 pp 338343 33 T Rahwan TP Michalak NR Jennings A hybrid algorithm coalition structure generation Proceedings 26th AAAI Conference Artiﬁcial Intelligence AAAI 2012 pp 14431449 66 A Iwasaki et al Artiﬁcial Intelligence 222 2015 4966 34 T Rahwan SD Ramchurn NR Jennings A Giovannucci An anytime algorithm optimal coalition structure generation J Artif Intell Res 34 2009 521567 35 SD Ramchurn M Polukarov A Farinelli NC Truong NR Jennings Coalition formation spatial temporal constraints Proceedings 9th International Conference Autonomous Agents Multiagent Systems AAMAS 2010 pp 11811188 36 T Sandholm Algorithm optimal winner determination combinatorial auctions Artif Intell 135 2002 154 37 T Sandholm K Larson M Andersson O Shehory F Tohmé Coalition structure generation worst case guarantees Artif Intell 111 1999 209238 38 D Schmeidler The nucleolus characteristic function game SIAM J Appl Math 17 1969 11631170 39 LS Shapley A value nperson games Contributions Theory Games Princeton University Press 1953 pp 307317 40 LS Shapley M Shubik Quasicores monetary economy nonconvex preferences Economitrica 34 1966 805827 41 O Shehory S Kraus Methods task allocation agent coalition formation Artif Intell 101 1998 165200 42 T Voice M Polukarov N Jennings Coalition structure generation graphs J Artif Intell Res 45 2012 165196 43 HP Young N Okada T Hashimoto Cost allocation water resources development Water Resour Res 18 1982 463475