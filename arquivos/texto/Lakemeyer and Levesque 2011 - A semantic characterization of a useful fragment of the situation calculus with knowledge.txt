Artiﬁcial Intelligence 175 2011 142164 Contents lists available ScienceDirect Artiﬁcial Intelligence wwwelseviercomlocateartint A semantic characterization useful fragment situation calculus knowledge Gerhard Lakemeyer Hector J Levesque b Dept Computer Science RWTH Aachen 52056 Aachen Germany b Dept Computer Science University Toronto Toronto Ontario Canada M5S 3A6 r t c l e n f o b s t r c t Article history Available online 3 April 2010 Keywords Knowledge representation Reasoning action 1 Introduction The situation calculus proposed McCarthy Hayes developed reconsidered A new logical variant called ES decade Reiter coworkers proposed captures expressive power original certain technical results easily proved This illustrated existing nontrivial results determinacy knowledge theorem Reiter regression theorem reduces reasoning future reasoning initial situation Furthermore correctness approach embedding ES Reiters situation calculus 2010 Elsevier BV All rights reserved Among contributions John McCarthy formalism situation calculus proved extremely useful tool reasoning precisely action change It originally proposed 2930 dialect ﬁrstorder logic A secondorder reﬁnement language developed Reiter colleagues 36 forms theoretical implementation foundation Golog 27 language highlevel control robots agents example 231 Over past decade number extensions proposed deal issues time natural actions knowledge agents numerical uncertainty utilities 36 references As formalism situation calculus based axioms In Reiters formulation starting point form socalled basic action theories These consist number foundational axioms deﬁne space situations uniquename axioms actions axioms describing action preconditions effects axioms initial situation What makes basic action theories particularly useful formulation action effects terms successor state axioms provide simple solution frame problem 35 allow use regressionbased reasoning planning 8 forms core Golog interpreter example Derivations regression simple clear computationally feasible Since situation calculus deﬁned axiomatically special semantics needed Tarskian models suﬃce provided satisfy foundational axioms When focus logical entailments case execution Golog programs example approach perfectly adequate However wish consider theoretical questions basic action theories direct entailment questions problems arise For example suppose analysis want know Theory1 entails Formula1 true Theory2 entails Formula2 Here run complications Corresponding author Email addresses gerhardcsrwthaachende G Lakemeyer hectorcstorontoedu HJ Levesque 00043702 matter 2010 Elsevier BV All rights reserved doi101016jartint201004005 G Lakemeyer HJ Levesque Artiﬁcial Intelligence 175 2011 142164 143 Fig 1 A simple robot axiomatic setting ways derivations Formula1 Theory1 convert derivations Formula2 Theory2 Similar issues arise consistency questions For instance consider epistemic extension situation calculus introduced Moore later extended Scherl Levesque 3239 If Know A entails KnowB KnowC theory true Know A entails KnowB Know A entails KnowC For restricted A B C answer yes proof Reiter requires multi page argument considerable prooftheoretic machinery including Craigs Interpolation Lemma 37 One wonder semantic proof Tarski structures easier The answer short The problem different Tarski structures different domains considerable effort required standardize domains identify situations amalgamate multiple structures single structure satisﬁes foundational axioms While certainly possible argument long complicated In contrast epistemic logic KL 22 semantic proof determinacy knowledge theorem simple clear direct One reason use semantic formulation involving possible worlds knowledge 127 Typical formalisms situations possible worlds reiﬁed language Beyond major factor simplicity proofs KL extension OL use standard names allows substi tutional interpretation ﬁrstorder quantiﬁers1 While philosophical arguments substitutional quantiﬁcation 18 experience technical simplicity tremendous help tackling issues quantifyingin 15 rarely addressed formalisms Since KL deals static knowledge bases amalgamation KL situation calculus previously pro posed 19 However formalization kept situations reiﬁed allow substitutional quantiﬁcation deﬁnition knowledge required secondorder logic complicated proofs considerably semantic ones In paper propose different amalgamation KL situation calculus called ES The idea simplicity KL dropping expressiveness ordinary situation calculus retain main beneﬁts like successor state axioms solve frame problem regressionbased reasoning In particular use possibleworld semantics situations semantics appear terms language In order represent true situation number actions occurred use special modal operators For example formulas like traditional dynamic logic 3310 forward forward distance 4 robot units away wall moving forward twice Fig 1 illustration In contrast modal approaches 3115 similar 6 allow formulas form xadistance x φ modalities contain action variables This feature key reconstructing Reiters basic action theories language Moreover unlike standard modal logics including dynamic logics able use substitutional interpretation ﬁrstorder quantiﬁers This main reason afford situation terms language The epistemic situation calculus requires consider uncountable number initial situations 26 secondorder foundational axiom makes explicit In language countably situation terms preclude substitutional interpretation quantiﬁers Yielding simpler proofs like determinacy knowledge correctness regression leaves open question overall correctness approach In words ES faithful reconstruction situation calculus We prove providing embedding ES Reiters version situation calculus showing valid sentences ES cast entailments Reiters original version modulo modest assumptions This shows ES notational variant fragment situation calculus given clean work able semantics In addition result allows automatically transfer results obtained ES fragment situation calculus expressive formulate basic action theories The rest paper organized follows In section introduce syntax semantics ES discuss properties knowledge In Section 3 introduce ESversion Reiters basic action theories 1 Roughly speaking amounts assuming outset domain quantiﬁcation countably inﬁnite set special constants called standard names uniquely denoting element domain A ﬁrstorder universal sentence ends true iff instance sentence standard substitutes variable true 144 G Lakemeyer HJ Levesque Artiﬁcial Intelligence 175 2011 142164 followed regression theorems nonepistemic epistemic case Section 5 provides results embedding ES situation calculus We end paper discussion related work onlyknowing concluding remarks 2 The logic ES The language secondorder modal dialect equality sorts type object action Before presenting formal details main features Standard names Unlike languages similar KL language includes countably standard names objects actions These thought special extra constants satisfy unique assumption inﬁnitary version domain closure This allows ﬁrstorder quantiﬁcation understood substitutionally Equality given simpler treatment ground term coreferring standard terms considered equal coreferring standard names identical Fluent rigid functions predicates The language contains ﬂuent rigid predicate function symbols Fluents vary result actions values unknown rigids These present original situation calculus course For example sentence like situation calculus Fragilec Brokenc S0 Here ﬁrst predicate rigid second ﬂuent seeing argument situation In case situation terms need distinguish sorts predicates syntactically semantically Furthermore secondorder quantiﬁcation need distinguish rigid ﬂuent predicate variables well2 Knowledge truth The language includes modal operator Know knowledge This allows distinguish sentences true sentences known implicit agent For example model situations robot close wall know We model situations robot false beliefs world world changes The connection knowledge truth sensing Every action assumed binary sensing result performing action agent learns action possible indicated Poss predicate sensing result action 1 0 indicated SF predicate 21 The language Deﬁnition 1 The symbols ES taken following vocabulary ﬁrstorder variables x1 x2 y1 y2 a1 a2 2 ﬂuent secondorder variables arity k P k rigid secondorder variables arity k Q k 2 standard names n1 n2 objects actions ﬂuent function symbols arity k f k 1 f k rigid function symbols arity k gk 1 gk ﬂuent predicate symbols arity k F k rigid predicate symbols arity k Gk connectives symbols Know cid2 round square parentheses period comma 2 example distance 2 example forward 2 example Broken 1 F k 2 example BrotherOf 1 Gk 1 P k 1 Q k We assume action function symbols rigid ﬂuent predicates include special predicates Poss SF Deﬁnition 2 The terms language sort action object form set expressions 1 Every standard ﬁrstorder variable term corresponding sort 2 If t1 tk terms h kary function symbol ht1 tk term sort h By primitive term mean form hn1 nk h ﬂuent rigid function symbol ni standard names 2 We follow Reiter including types symbols It possible live ﬂuents treat rigids ﬂuents happen change G Lakemeyer HJ Levesque Artiﬁcial Intelligence 175 2011 142164 145 Deﬁnition 3 The wellformed formulas language form set 1 If t1 tk terms H kary predicate symbol Ht1 tk atomic formula 2 If t1 tk terms V kary secondorder variable V t1 tk atomic formula 3 If t1 t2 terms t1 t2 formula 4 If t action term α formula tα formula 5 If α β formulas v ﬁrstorder variable V secondorder variable following formulas α β α vα V α cid2α Knowα We read tα α holds action t cid2α α holds sequence actions So example successor state axiom language follow usual convention having free variables universally quantiﬁed outside cid2 cid2 Brokenx cid2 cid3 dropx Fragilex cid2 Brokenx cid7 repairx cid3cid3 In English sequence actions object x broken action iff dropping x x fragile x broken action repairing As usual treat α β α β α β vα V α abbreviations To ease notation leave type variables implicit We reserve symbol denote variable type action We use αx n mean formula α free occurrences variable x replaced n We formula free variables sentence By primitive sentence mean formula form Hn1 nk H ﬂuent rigid predicate symbol ni standard names In following refer special sorts ﬁrstorder formulas use following terminology formula cid2 operators called bounded formula cid2 t operators called static formula Know operators called objective formula ﬂuent cid2 t operators outside scope Know called subjective formula Know cid2 t Poss SF called ﬂuent formula3 22 The semantics The main purpose semantics present precise handle ﬂuents vary result actions values unknown Intuitively determine sentence α true sequence actions z performed need specify things world w epistemic state e We write e w z cid10 α A world determines truth values primitive sentences coreferring standard names primitive terms sequence actions An epistemic state deﬁned set worlds possibleworld semantics More precisely let N denote set standard names Z set ﬁnite sequences standard action names including cid11 cid12 sequence Then world w W function primitive sentences Z 0 1 primitive terms Z N preserving sorts satisfying rigidity constraint g rigid function predicate symbol z z cid14 cid14 Z wgn1 nk z wgn1 nk z epistemic state e W set worlds We extend idea coreferring standard names arbitrary ground terms follows Given term t variables world w action sequence z deﬁne tz w read coreferring standard t given w z 1 If t N tz w whn1 nk z ni tiz 2 ht1 tkz w w t So ﬁnd coreferring standard ht1 tk ﬁnd coreferring names ti recursively use function w resulting primitive term 3 In situation calculus correspond formulas uniform situation term 146 G Lakemeyer HJ Levesque Artiﬁcial Intelligence 175 2011 142164 To interpret formulas free variables proceed follows Firstorder variables handled substitutionally standard names To handle quantiﬁcation secondorder variables use secondorder variable maps deﬁned follows The secondorder primitives formulas form V n1 nk V ﬂuent rigid secondorder variable ni standard names A variable map u function worlds secondorder primitives Z 0 1 satisfying rigidity constraint Q rigid secondorder variable w w W z cid14 z Z uw Q n1 nk z uw cid14 Q n1 nk z cid14 cid14 Let u u cid14 variable maps let V ﬂuent rigid secondorder variable write u cid14 V u mean u cid14 u agree secondorder primitives involving V cid14 cid17z w read w cid14 agrees Finally interpret known sequence actions taken place deﬁne w w agree sensing action sequence z inductively following 1 w 2 w cid14 cid17cid11 cid12 w iff w cid14 cid14 cid17zn w iff w cid4 cid14 w SFn z w agree value primitive rigid term sentence cid14 cid17z w w cid4 w SFn z cid14Possn z 1 cid5 cid5 Note cid17z equivalence relation use Poss As clearer insisting agent comes believe Poss true performing action nonlegal situations action possible reality4 Putting semantic deﬁnition truth Given sentence α ES epistemic state e W world w W deﬁne e w cid10 α read α true e w e w cid11 cid12 u cid10 α secondorder variable map u z Z 1 e w z u cid10 Ht1 tk iff wHn1 nk z 1 ni tiz w 2 e w z u cid10 V t1 tk iff uw V n1 nk z 1 ni tiz 3 e w z u cid10 t1 t2 iff n1 n2 identical ni tiz 4 e w z u cid10 tα iff e w z n u cid10 α n tz 5 e w z u cid10 α β iff e w z u cid10 α e w z u cid10 β 6 e w z u cid10 α iff e w z u cid7cid10 α 7 e w z u cid10 xα iff e w z u cid10 αx 8 e w z u cid10 V α iff e w z u 9 e w z u cid10 cid2α iff e w z z 10 e w z u cid10 Knowα iff e w cid14 cid10 α u cid14 u cid10 α z cid14 z u cid10 α w cid14 e w cid14 V u cid14 Z w w w cid14 cid17z w n standard n right sort When α objective Know operators leave e write w cid10 α Similarly α subjective leave w write e cid10 α When Σ set sentences α sentence write Σ cid10 α read Σ logically entails α mean e w e w cid10 αcid14 αcid14 Σ e w cid10 α Finally write cid10 α read α valid mean cid10 α 23 Knowledge At point detailed discussion properties ES Instead focus knowledge ﬁrst example semantics ES allows prove properties relative ease A complete picture ES emerge later establish formal connection Reiters situation calculus The interpretation knowledge ES special case possibleworld semantics 1712 One minor feature worth noting simply require truth elements e given set possible worlds KL In fact e represents initial state knowledge knowledge acquired action initial worlds longer considered possible This reﬂected cid17z relation In nutshell look truth elements e agree real world w terms sensing It follow sequence actions agent know correct values sensing results real world conclude Regarding traditional logical properties knowledge surprising obtain usual properties weak S5 K45 7 Since assume ﬁxed universe discourse Barcan formula knowledge Property 4 following theorem existential version Property 5 hold Moreover properties hold number actions performed 4 An alternate account state agent learns true value Poss analogous SF bit cumbersome allow cid17z equivalence relation G Lakemeyer HJ Levesque Artiﬁcial Intelligence 175 2011 142164 147 Theorem 1 1 cid10 cid2Knowα Knowα β Knowβ 2 cid10 cid2Knowα KnowKnowα 3 cid10 cid2 Knowα Know Knowα 4 cid10 cid2x Knowα Knowxα 5 cid10 cid2x Knowα Knowxα Proof 1 Let e w z cid10 Knowα Knowα β Then w e w cid14 z cid10 β e w z cid10 Knowβ 2 Let e w z cid10 Knowα Let w cid14 w cid14cid14 cid17z w e w cid14cid14 relation w e w cid14 z cid10 Knowα e w z cid10 KnowKnowα worlds e w 3 Let e w z cid10 Knowα Thus w w cid14cid14 e Clearly e w cid14cid14 z cid10 Knowα Since w 4 Let e w z cid10 x Knowα Hence r R e w z cid10 Knowαx right sort e w z cid10 αx n e w z cid10 Knowxα follows cid14 cid17z w w cid14 e e w cid14 z cid10 α e w cid14 z cid10 α β Hence cid14cid14 z cid10 α assumption As true w cid14 cid17z w w cid14cid14 cid17z w cid14 Since cid17z equivalence cid14cid14 e w cid14cid14 cid17z w cid14 cid14 w cid14 cid17z w w cid14 e e w cid14 z cid7cid10 α Let w cid14cid14 world w cid14cid14 cid17z w cid14 cid14cid14 cid17z w e w z cid10 Know Knowα follows r w cid14 cid17z w w cid14 e n N 5 Let e w z cid10 x Knowα Then e w z cid10 Knowαx n n N By deﬁnition Know follows e w z cid10 Knowxα cid2 We remark converse Barcan formula Property 4 holds However note case Property 5 cid2Knowxα x Knowα valid general Despite fact quantiﬁcation understood substitutionally knowing satisﬁes α entail knowing individual Perhaps interestingly easily prove generalized version determinacy knowledge Theorem 2 Suppose α objective sentence β objective formula free variable x cid10 Knowα x Knowβ Then standard n cid10 Knowα Knowβ x n Proof Suppose Then n right sort Knowα entail Knowβ x α entail β x Then e cid10 Knowα standard n e cid10 Knowβ x fact Knowα entails x Knowβ cid2 n So n world wn wn cid10 α β x n lemma n Now let e wn n standard n e cid10 x Knowβ This contradicts Lemma 1 If α β objective cid10 α β cid10 Knowα Knowβ Proof Suppose e cid10 Knowα Then w e w cid10 α Then w e w cid10 β Thus e cid10 Knowβ cid2 This proof exactly KL Again worth noting proof theorem ordinary situation calculus simpler case involving disjunction existential quantiﬁcation multipage argument involving Craigs Interpolation Lemma 3 Basic action theories Let consider equivalent basic action theories situation calculus Since logic explicit notion situations basic action theories require foundational axioms like Reiters secondorder induction axiom situations 36 In fact section use secondorder logic consider ﬁrstorder fragment ES Deﬁnition 4 Given set ﬂuents F set Σ ES sentences called basic action theory F iff Σ Σuna Σ0 Σpre Σpost Σsense Σ mentions ﬂuents F 1 Σuna set unique names axioms action functions 2 Σ0 set ﬂuent sentences 3 Σpre singleton sentence form cid2 Possa π π ﬂuent formula5 5 We assume cid2 lower syntactic precedence logical connectives cid2 Possa π stands acid2Possa π 148 G Lakemeyer HJ Levesque Artiﬁcial Intelligence 175 2011 142164 4 Σpost set sentences form cid2aF cid19v γF cid2a f cid19v y γ f relational ﬂuent F functional ﬂuent f respectively γF γ f ﬂuent formulas6 5 Σsense sentence exactly parallel Poss form cid2SFa ϕ ϕ ﬂuent formula The idea Σ0 expresses true initially initial situation Σpre large precondition axiom Σpost set successor state axioms ﬂuent incorporate solution frame problem proposed Reiter 35 Here follow convention 39 action returns sensing result Σsense captures outcome sensing actions For actions like forward return useful sensing information SF deﬁned vacuously true example7 Since agents beliefs differ true general need basic action theories Σ true world including dynamics Σ cid14 agent believes true Except unique names assumption actions allowed differ arbitrarily contradict allow false beliefs A state affairs characterized sentences form Σ denote actually true KnowΣ cid14 denote agent believes true set sentences Knowφ capture agents ignorance8 We interested entailed theories As example imagine robot lives 1dimensional world away ﬁxed wall The robot sonar sensor tells gets close wall 10 units away See Fig 1 So imagine actions forward backward robot unit away wall sonar sensing action tells robot close wall effect world For simplicity simply assume standard names need stipulate unique names axioms We single ﬂuent distance gives actual distance robot wall9 Let consider informally sensing relates knowledge truth We start initial epistemic state e world w Initially actions taken place action sequence z cid11 cid12 We suppose wdistance cid11 cid12 distance cid11 cid12 13 Now suppose 6 diagram If robot know w SFsonar cid11 cid12 0 In robot performs sonar action In case expect wSFsonar cid11 cid12 1 w words sonar job w tell robot close wall w tell cid7cid17z w disagree SF robot far wall So let z cid11sonarcid12 w cid14SFsonar cid11 cid12 1 Since deﬁnition Know uses cid17 value In fact w consider known sonar action robot believe correctly close wall e w cid11sonarcid12 cid10 Knowdistance 10 cid14 cid17z w w e w w cid14 Let precise We begin formalization writing preconditions actions cid2 Possa forward distance 0 backward TRUE sonar TRUE In words backward sonar possible forward executable robot wall Next deﬁne sensing results actions cid2SFa forward TRUE backward TRUE sonar distance 10 Since backward forward expected return useful sensing information SF vacuously true SFsonar says sonar returns 1 precisely distance wall 10 Finally write successor state axiom ﬂuent cid2adistance x forward distance x 1 6 The t construct higher precedence logical connectives So cid2aF cid19x γF abbreviates acid2aF cid19x γF 7 In paper restrict sensing truth values See 39 handle arbitrary values 8 When use Σ sentence mean conjunction ﬁnitely sentences contained Σ 9 Here use simple arithmetic involving easily deﬁned secondorder terms standard names acting natural numbers We omit details G Lakemeyer HJ Levesque Artiﬁcial Intelligence 175 2011 142164 149 backward distance x 1 cid7 forward cid7 backward distance x In words distance wall increases decreases 1 depending backward forward executed remains actions Now ready consider speciﬁcs having true initially deﬁning action theory Let Close stand formula distance 10 Let φ denote conjunction sentences We assume φ true robot knows We assume robot located initially 6 units away wall robot idea So let Σ φ distance 6 Σ cid14 φ Then Example 1 The following logical entailments Σ Know x Knowdistance cid7 x cid3 cid2 cid14 Σ 1 Close KnowClose forward KnowClose robot close wall know continues know moving forward 2 sonarKnowClose forward KnowClose reading sonar robot knows close continues know moving forward 3 sonarbackward KnowClose reading sonar moving backward robot longer knows close wall 4 backwardsonar KnowClose moving backward reading sonar robot knows close wall 5 sonarforwardbackward KnowClose reading sonar moving forward backward robot knows close wall 6 sonar KnowforwardClose reading sonar robot knows remain close moving forward 7 Knowsonar KnowClose robot know initially know close reading sonar 8 KnowsonarKnowClose KnowClose robot know initially reading sonar know close wall 9 Knowsonarbackward KnowClose robot knows initially know close reading sonar moving backwards Proof The proofs similar Here item 3 Let z cid11sonar backwardcid12 suppose e w cid10 Σ KnowΣ cid14 x Knowdistance cid7 x e w z cid10 KnowClose Because e cid10 x Knowdistance cid7 x cid14 cid17z w However exists w w cid14distance cid11 cid12 9 Since 9 10 w cid14 z cid10 Close Therefore e w z cid10 KnowClose cid2 cid14distance z 10 So exists w cid14 e w cid14 e w cid14 cid17cid11 cid12 w w cid14 cid17z w w 4 Projection regression The examples previous section involve projection fundamental reasoning task determining holds number actions occurred Σ Know x Knowdistance cid7 x cid10 sonarbackward KnowClose cid3 cid2 cid14 Σ When concerned knowledge things somewhat simpler need single basic action theory Σ cid10 forwardbackwardClose For simpler case Reiter 36 showed successor state axioms allow use regression solve reasoning task certain α called regressable formulas roughly correspond bounded objective formulas ES The idea successively replace ﬂuents α righthand successor state axioms resulting sentence contains actions point need check sentence follows sentences initial theory Later Scherl Levesque 39 extended results handle knowledge situation calculus In section ideas carry ES beginning nonepistemic fragment language 41 Regressing objective formulas Here consider regression determine entailments form Σ cid10 α Σ basic action theory α bounded objective sentence To start assume basic action theories queries rectiﬁed quantiﬁer distinct variable This needed regression work properly later 150 G Lakemeyer HJ Levesque Artiﬁcial Intelligence 175 2011 142164 translation ES situation calculus10 To simplify formal details deﬁne regression formulas following normal form NF Deﬁnition 5 A sentence α NF rectiﬁed function symbol f α occurs equality expressions form f n1 nk n ni n variables standard names It easy sentence transformed equivalent NF transformation linear size original sentence For example b rigid constant f functional ﬂuent normal form F f b x yb x f x y F y Note formula NF term t appears t argument function predicate t variable standard In following use sequences consist action variables action standard names We reserve symbol r denote sequences We continue use z denote special case elements sequence standard names In account bounded objective sentence α NF considered regressable By transformation bounded objective sentence regressable ﬁrst converting NF applying regression result Deﬁnition 6 We deﬁne Rα regression α wrt Σ Rcid11 cid12 α sequence r consisting action variables standard names Rr α deﬁned inductively α 1 Rr xα xRr α 2 Rr α β Rr α Rr β 3 Rr α Rr α 4 Rr tα Rr t α 5 Rr Posst Rr π t 6 Rr SFt Rr ϕa t 7 Rr Gt1 tk Gt1 tk rigid predicate G 8 Rr F t1 tk ﬂuent predicate F deﬁned inductively r Rcid11 cid12 F t1 tk F t1 tk v1 b Rr t F t1 tk Rr γF t1 t 9 Rr t1 t2 t1 t2 t1 t2 mention functional ﬂuents 10 Rr f n1 nk n functional ﬂuent f deﬁned inductively vk tk Rcid11 cid12 f n1 nk n f n1 nk n b Rr t f n1 nk n yγ f t n1 vk v1 nk y n Note deﬁnition uses righthand sides precondition successor state sense condition axioms Σ It hard R transforms bounded objective formula ﬂuent formula Lemma 2 Let α bounded objective formula r sequence action variables standard names Then unique ﬂuent formula φ Rr α φ Proof The proof simple tedious skip details Perhaps interesting aspect structure proof proofs properties regression First lemma proved static formulas This achieved induction length r subinduction length α counting 1 number logical operators occurrences Posst SFt counted length π t respectively Note particular induction wellbehaved formulas π ϕ γF γ f ﬂuent formulas static mention Poss SF 1 ϕa t Having proved lemma static α case bounded formulas established simple induction number toperators α cid2 Using semantics ES reprove Reiters Regression Theorem possible reduce reasoning formulas contain t operators reasoning ﬂuent formulas initial state We begin deﬁning world w basic action theory Σ world wΣ like w satisﬁes Σpre Σsense Σpost sentences Σ Deﬁnition 7 Let w world z Z Σ basic action theory ﬂuents F Then wΣ world satisfying following conditions 10 See proof Lemma 6 needed establish induction G Lakemeyer HJ Levesque Artiﬁcial Intelligence 175 2011 142164 151 1 h F predicate function wΣ hn1 nk z whn1 nk z 2 predicate F F wΣ F n1 nk z deﬁned inductively wΣ F n1 nk cid11 cid12 wF n1 nk cid11 cid12 b wΣ F n1 nk z m 1 iff wΣ z cid10 γF m n1 vk v1 nk 3 function f F wΣ f n1 nk z deﬁned inductively wΣ f n1 nk cid11 cid12 w f n1 nk cid11 cid12 b wΣ f n1 nk z m n iff wΣ z cid10 γ f m y n n1 vk v1 nk 4 wΣ Possn z 1 iff wΣ z cid10 π n 5 wΣ SFn z 1 iff wΣ z cid10 ϕa n Note uses π γ ϕ formulas Σ Then following simple lemmas11 Lemma 3 For w wΣ exists uniquely deﬁned Proof wΣ clearly exists The uniqueness follows fact π ϕ ﬂuent formulas ﬂuents F initial values ﬁxed values number actions uniquely determined Σpost cid2 Lemma 4 If w cid10 Σuna Σ0 wΣ cid10 Σ Proof Directly deﬁnition wΣ wΣ cid10 acid2 Possa π wΣ cid10 acid2SFa ϕ wΣ cid10 acid19xcid2aF cid19x γF wΣ cid10 acid19x ycid2a f cid19x y γ f cid2 Lemma 5 If w cid10 Σ w wΣ Proof If w cid10 acid2 Possa π w cid10 acid2SFa ϕ w cid10 acid19xcid2aF cid19x γ f w cid10 acid19x ycid2a f cid19x y γ f w satisﬁes deﬁnition wΣ cid2 The following property regression prove main lemma needed Regression Theorem Given n denote r occurrences variable x replaced standard sequence action variables standard names r let rx n Lemma 6 For bounded objective formula α sequence action variables standard names r Rr αx n Rrx n αx n Proof The proof long simple follows structure proof Lemma 2 Here consider static α cases ﬂuent predicates assuming lemma holds r k 1 Poss assuming subinduction lemma holds formulas length m 1 1 Let r r cid14 t Then Rr F cid19tx n Rr cid14 γF n def R Rr x t cid19u cid19t cid14x n γF t cid19u cid19t x n induction Rr cid14x n γF tx n cid19u cid19tx n x γF Rr 2 Rr Posstx n n F cid19tx cid14 tx n n deﬁnition R Rrx Rr π x t π mention x Rrx 3 Rr yαx n yRr αx n n Posstx n yRr αx n π t x n induction π t length m 1 Rrx n π tx n n x cid7 y yRrx n αx n induction α Rrx n yαx n cid2 Lemma 7 Let α bounded objective sentence NF z Z Then w cid10 Rz α iff wΣ z cid10 α Proof As proof straightforward uses induction scheme Lemma 2 Assuming lemma holds z length k 1 consider cases atoms functional ﬂuents 1 Note deﬁnition NF ground atoms mentioning functional ﬂuents form f n1 nk n n ni standard names Then wΣ z m cid10 f n1 nk n iff deﬁnition wΣ wΣ z cid10 yγ f v1 w cid10 Rz yγ f v1 w cid10 Rz m f n1 nk n y n iff induction y n iff deﬁnition R mn1 vk nk mn1 vk nk 2 w cid10 Rz xα iff w cid10 xRz α iff w cid10 Rz αx n n right sort iff Lemma 6 w cid10 Rz αx n n iff subinduction α wΣ z cid10 αx n n iff wΣ z cid10 xα cid2 11 As consider ﬁrstorder sentences secondorder variable map u dropped 152 G Lakemeyer HJ Levesque Artiﬁcial Intelligence 175 2011 142164 Theorem 3 Objective regression Let Σ Σuna Σ0 Σpre Σpost Σsense basic action theory let α objective bounded sentence Then Rα ﬂuent sentence satisﬁes Σ cid10 α iff Σuna Σ0 cid10 Rα Proof Suppose Σuna Σ0 cid10 Rα We prove Σ cid10 α Let w world w cid10 Σ Then w cid10 Σuna Σ0 w cid10 Rα By Lemma 7 wΣ cid10 α By Lemma 5 wΣ w w cid10 α Conversely suppose Σ cid10 α We prove Σ0 cid10 Rα Let w world w cid10 Σuna Σ0 From Lemma 4 wΣ cid10 Σ wΣ cid10 α By Lemma 7 w cid10 Rα cid2 Note conciseness proof depends crucially fact Lemma 7 proved induction sentences possible quantiﬁcation interpreted substitutionally 42 Regressing knowledge Let turn general case regression bounded sentences refer agents knowledge true As discussed Section 3 means need consider basic action theories Σ Σ cid14 world agent believes respectively The following theorem thought successorstate axiom knowledge allow extend regression formulas containing Know Note contrast successor state axioms ﬂuents theorem logic stipulation basic action theory Theorem 4 cid10 cid2a Knowα SFa KnowPossa SFa aα SFa KnowPossa SFa aα Proof For directions equivalence consider case SFn holds arbitrary action n The case completely analogous cid14SFn z 0 Thus w To prove onlyif direction let e w z cid10 n Knowαa SFn It suﬃces e w z cid10 KnowPossn SFn nαcid14 So suppose w w e w cid14SFn z wSFn z w follows cid14 z n cid10 αcid14 Conversely let e w z cid10 SFn KnowPossn SFn nαcid14 We need e w z cid10 n Knowαcid14 cid14SFn z wSFn z 0 assumption e w z cid10 n Knowαcid14 follows cid2 cid14 cid17zn w w cid14 z cid10 Possn SFn Therefore assumption e w e w z n cid10 Knowαcid14 Let w Hence e w n Suppose e w z cid10 cid14Possn z 1 cid14 cid17zn w Since e w z cid10 n Knowαcid14 assumption n action n We write αcid14 cid14Possn z 1 w e w cid14 e Then w cid14 z cid10 nαcid14 cid14 z n cid10 αcid14 cid14 cid17z w w cid14 e w αa We consider successor state axiom knowledge sense tells action known terms true Like 39 makes simplifying assumption actions known agent Unlike 39 formalized ﬂuent knowledge accessibility relation required situation terms language In case knowledge depends known future like contingent action possible sensing information provided a12 For example sonar robot knows close wall sonar robot knew conditional sonar returns 1 completion indicates robot close wall represents beliefs agent We allow Σ Σ cid14 We ready extend regression deal knowledge Instead deﬁned relative basic action theory Σ regression operator R deﬁned relative pair basic action theories cid11Σ cid14 Σcid12 Σ cid14 differ arbitrarily contradict agents false beliefs world like including dynamics13 The idea regress wrt Σ outside Know operators wrt Σ cid14 inside To able distinguish cases R carries basic action theories extra arguments Rules 110 new regression operator R exactly Deﬁnition 6 extra arguments Σ cid14 Σ Then add following 11 RΣ cid14 Σ r Knowα deﬁned inductively r RΣ cid14 Σ cid11 cid12 Knowα KnowRΣ cid14 Σ cid14 cid11 cid12 α b RΣ cid14 Σ r t Knowα RΣ cid14 Σ r βa t β righthand equivalence Theorem 4 12 Note account performing impossible action agent believes action possible This undesirable anomaly arises nonlegal situations 13 This like 19 contrast Scherl Levesque 39 handle true belief While allow false beliefs continue use terms knowledge belief interchangeably G Lakemeyer HJ Levesque Artiﬁcial Intelligence 175 2011 142164 153 For simplicity write Rα instead RΣ cid14 Σ cid11 cid12 α Next extend Lemma 4 knowledge eΣ wΣ w e given epistemic state e basic action theory Σ Lemma 8 If e cid10 KnowΣuna Σ0 eΣ cid10 KnowΣ Proof Let e cid10 KnowΣuna Σ0 w w e w cid10 Σuna Σ0 We need w w eΣ w cid10 Σ Let w eΣ By deﬁnition w cid14 e w w cid14 Σ Since w cid14 cid10 Σuna Σ0 Lemma 4 w cid14 Σ cid10 Σ w cid10 Σ cid2 We turn generalization Lemma 7 knowledge Lemma 9 e w cid10 RΣ cid14 Σ z α iff eΣ cid14 wΣ z cid10 α Proof The proof induction z subinduction α Let z cid11 cid12 The proof Poss SF ﬂuent atoms connectives exactly analogous Lemma 7 For formulas Knowα eΣ cid14 cid10 Knowα iff w eΣ cid14 eΣ cid14 w cid10 α iff deﬁnition eΣ cid14 w e eΣ cid14 wΣ cid14 cid10 α iff induction w e e w cid10 RΣ cid14 Σ cid14 cid11 cid12 α iff e cid10 KnowRΣ cid14 Σ cid14 cid11 cid12 α iff deﬁnition R e cid10 RΣ cid14 Σ cid11 cid12 Knowα This concludes base case z cid11 cid12 Now consider case z n proved subinduction α The proof exactly like subinduction base case Know following eΣ cid14 wΣ z n cid10 Knowα iff Theorem 4 eΣ cid14 wΣ z cid10 βa n β Theorem 4 iff main induction e w cid10 RΣ cid14 Σ z βa n e w cid10 RΣ cid14 Σ z n Knowα iff deﬁnition R completes proof cid2 Finally general regression theorem Theorem 5 Generalized regression Let Σ Σ cid14 sentence satisﬁes Σ Know cid10 α iff Σuna Σ0 Know cid3 cid2 cid14 Σ cid2 Σuna Σ cid14 0 cid3 cid10 Rα basic action theories α bounded sentence Then Rα static Proof To prove onlyif direction let suppose Σ KnowΣ cid14 cid10 α e w cid10 Σuna Σ0 KnowΣuna Σ cid14 0 Thus w cid10 Σuna Σ0 Lemma 4 wΣ cid10 Σ Also e cid10 KnowΣuna Σ cid14 0 Lemma 8 eΣ cid14 cid10 KnowΣ cid14 Note Σuna Σ Σ cid14 Therefore eΣ cid14 wΣ cid10 Σ KnowΣ cid14 By assumption eΣ cid14 wΣ cid10 α Lemma 9 e w cid10 Rα Conversely suppose Σuna Σ0 KnowΣuna Σ cid14 0 cid10 Rα let e w cid10 Σ KnowΣ cid14 Then w cid10 Σuna Σ0 0 Then assumption e w cid10 Rα Then eΣ cid14 wΣ cid10 α Lemma 9 By Lemma 5 wΣ w e cid10 KnowΣuna Σ cid14 e cid10 KnowΣ cid14 eΣ cid14 e Therefore e w cid10 α cid2 This theorem shows determining true known bounded number actions occurred reduced reasoning true known initial state In order deal robot example need little want assumptions robot know cid2 cid3 Σ Know cid14 Σ x Knowdistance cid7 x cid10 sonarbackward KnowClose The following corollary shows deal cases problems 154 G Lakemeyer HJ Levesque Artiﬁcial Intelligence 175 2011 142164 Corollary 1 Let γ static sentence mentions Poss SF Then Σ Know γ cid10 α iff Σuna Σ0 Know cid3 cid2 cid14 Σ cid2 cid3 Σuna Σ cid14 0 γ cid10 Rα Proof The proof makes use fact static formula γ Rγ γ Σ KnowΣ cid14 γ cid10 α iff Σ KnowΣ cid14 cid10 γ α iff Σ KnowΣ cid14 cid10 Rγ α regression theorem iff Σ KnowΣ cid14 cid10 γ Rα R leaves γ iff Σ KnowΣ cid14 cid10 γ Rα cid2 5 Mapping situation calculus How know semantics ES correct In section argue correct showing formulas α ES translated direct way formulas α situation calculus deﬁned Reiter We assume language functional relational ﬂuents functions predicates ﬂuents distinguished constant S0 function binary predicate cid20 situations predicates Poss SF binary predicate K knowledge We Knowsα σ situation calculus abbreviation formula sK s σ αnow result replacing s α occurrence scope Knows14 αnow s s Perhaps desirable simplest outcome translation ES situation calculus cid10 α iff Σ cid10FOL α cid10 validity ES Σ set foundational axioms situation calculus cid10FOL ordinary classical logical consequence Unfortunately exactly correspondence variety reasons discuss But close cid10 α iff Σ Υ cid10FOL α Υ set ﬁve axioms justify separately Somewhat surprisingly turns foundational axioms Σ actually completely irrelevant far fragment situation calculus deﬁned translation concerned In words obtain cid10 α iff Υ cid10FOL α Below ﬁrst prove result small modiﬁcations needed obtain proof case foundational axioms assumed To establish results necessary work ordinary Tarski models sentences situation calculus As argued beginning diﬃcult painstaking main reasons prefer ES situation calculus But alternative So proof theorems laborious remind reader thought ﬁnal reckoning formalism unworkable semantically 51 The translation Before describing Υ present translation ES situation calculus In simplest case idea formula like distance 6 distance ﬂuent mapped situation calculus formula distanceS0 6 restored distinguished situation term S0 ﬂuent Similarly formula forwarddistance 6 mapped distancedoforward S0 6 cid2distance 0 mapped cid14 0 For knowledge Knowdistance 0 mapped Knowsdistancenow 0 S 0 s cid14 0 So ES formulas thought situationsuppressed abbreviation s mapping deﬁne restores situation argument ﬂuents leaving situationcalculus terminology rigids unchanged cid14 S0 distances cid14 distances cid14S0 cid20 s cid14K s More precisely following Deﬁnition 8 Let α term formula ES standard names The expression α situation term σ ασ deﬁned inductively deﬁned αS0 1 vσ v ﬁrstorder variable v 2 gt1 tkσ g rigid function predicate secondorder variable gt1σ tkσ f t1 tkσ f 3 4 t1 t2σ t1σ t2σ 5 tασ αdotσ σ 6 α βσ ασ βσ ﬂuent function predicate secondorder variable f t1σ tkσ σ 14 In versions situation calculus argument Knows formula α situations suppressed In case αnow understood restoring s situation argument s G Lakemeyer HJ Levesque Artiﬁcial Intelligence 175 2011 142164 155 7 ασ ασ 8 vασ vασ 9 V ασ V ασ 10 cid2ασ s 11 Knowασ Knowsαnow σ cid14σ cid20 s cid14 αs cid14 Note translation cid2α introduces quantiﬁcation situations introduced variable s cid14 assumed appear situation term σ 52 The axioms embedding theorem The axioms assume Υ following 1 Domain objects countably inﬁnite15 2 Domain actions countably inﬁnite 3 Equality identity relation16 x yx y Q cid2 cid3 Q x Q y cid14s cid20 s 4 Lessthan situations ss cid14 P P s s cid14 ellipsis stands universal closure cid4 cid5 P s1 s1 P s2 s3 P 5 The K predicate s cid4 cid2 cid3cid5 s2 doa s3 cid14 s ellipsis stands universal closure cid14 s P P s cid14sK s cid4 cid4 cid4 cid5 K s1 S0 P s1 S0 cid5 P s1 s3 P s2 s3 P s1 s2 P s1 s2 Possa s1 SFa s1 SFa s2 P cid2 doa s1 doa s2 cid3cid5 Axioms 1 2 talk cardinality set objects actions respectively countable ﬁnite The countability aspect controversial In ﬁrstorder case satisﬁable set sentences satisﬁable countable domain expect users situation calculus use secondorder logic defeat Note rule having theories talk real numbers continuous phenomena simply rules secondorder logic force interpretations theories uncountable We imagine contexts ﬁniteness desirable In cases introduce new predicate O instead asserting ﬁnitely objects assert ﬁnitely objects O As axiom 3 hard imagining taking negation seriously The usual ﬁrstorder axioma tization equality intent invariably equality symbol understood identity relation secondorder axiom ensures Axiom 4 uses secondorder logic deﬁne cid20 relation reachability It S 0 situations reached As turns need stipulate See conclusion Finally axiom 5 second order deﬁnition K predicate terms value S 0 This way capturing successor state axiom K introduced Scherl Levesque 39 added machinery Knows weakS5 operator 14 Other knowledge operators possible situation calculus weakS5 extensions strongS5 The missing piece axioms asserting countability objects actions Here way specifying objects Q xQ x Inf Q CntQ CntQ def Q cid14 cid14 cid2 Q Inf Q cid14 Q Q cid2 Q cid2 cid2 cid3 cid3 cid14 Inf Q def Q cid14 Q cid14 cid2 Q Q cid2 Q cid14 15 See precise logical rendering 16 It hard secondorder deﬁnition entails usual properties like reﬂexivity substitution equals equals 156 G Lakemeyer HJ Levesque Artiﬁcial Intelligence 175 2011 142164 Q cid2 Q Q cid2 Q cid2 cid14 def Rx cid2 cid14 def x Q x Q cid14 cid3 x cid2 x cid14 cid3 x cid14 Q x Q cid3 y Rx y cid14 Q x y Q cid14 cid14 x x yRx y R cid3 cid2 cid14 x y cid14 x x cid14 says Q proper subset Q Starting Q cid2 Q Q cid2 Q smaller Q CntQ says Q countable inﬁnite proper subset smaller Q ﬁnally ﬁrst line says set objects countably inﬁnite x assumed type object To assert actions simply add axiom form Inf Q says Q inﬁnite contains proper subset Q smaller Q 11 mapping Q Q says set Q cid14 cid14 cid14 Q Q Inf Q CntQ type action With axioms place state ﬁrst embedding theorem Theorem 6 Let α sentence ES standard names Then α valid iff Υ cid10FOL α The long arduous proof theorem left Appendix A If provides evidence ordinary Tarski models sentences situation calculus cumbersome work An interesting aspect theorem requires assumptions nature situations For example Υ admits models situations reachable S 0 situations K accessible S0 In contrast Reiters foundational axioms Σ present moment rule nonstandard models In order ES fully embedded Reiters situation calculus requires foundational axioms need theorem continues hold add Σ additional assumptions righthand theorem Note immediately obvious extra assumptions normally lead entailments To case let ﬁrst review axioms Σ epistemic situation calculus 36 1 doa1 s1 doa2 s2 a1 a2 s1 s2 2 Q sInis P s sQ s Q doa s sQ s Inis 3 s cid3 doa s 4 s cid3 S0 5 K s cid14 s Inis Inis cid14 s cid20 s cid14 cid14 def cid14s cid7 doa s cid14 1 unique names axiom situations secondorder axiom 2 deﬁnes set situations reachable initial situation Inis sequence actions 3 deﬁnes cid3 reachability sequence actions situations 4 says situation precedes S0 5 says initial situation K accessible initial situation Note IniS0 logical consequence Σ The intuitive reason add axioms Theorem 6 invalidating assert properties situations express ES image translation For example S0 language simply precedes S 0 In words certainly Σ Υ cid10FOL ss cid3 S0 Υ cid7cid10FOL ss cid3 S0 matter theorem α ES α equivalent ss cid3 S0 Hence obtain Theorem 7 Let α sentence ES standard names Then α valid iff Σ Υ cid10FOL α The theorem establishes ES fragment Reiters situation calculus As ES workable main signiﬁcance theorem property obtain ES automatically holds fragment original situation calculus given translation And fragment covers main uses situation calculus particular Reiters basic action theories 36 dealing knowledge 39 We saw example Section 3 In 24 showed ES expressive capture action language Golog 27 What As seen foundational axioms expressed ES Another sentence straightforward counterpart cid14 ss S0 cid20 s S0 cid20 s cid14 cid14 s cid7 s F s F cid2 cid3 cid2 cid3 cid14 s says distinct situations reachable agree truth value F Its equality situations presents problem However showed 24 sentences like expressed add ES explicit encoding action sequences Indeed trick able come backward translation situation calculus ES covers entire rooted situation calculus knowledge Here rooted means G Lakemeyer HJ Levesque Artiﬁcial Intelligence 175 2011 142164 157 quantiﬁcation situations restricted formulas form sσ cid20 s α σ situation term Note particular rooted situation calculus knowledge equivalent Reiters original version simply σ S0 So little bit extra effort ES expressive power situation calculus 6 Related work While situation calculus received lot attention reasoning action community course number alternative formalisms including close relatives like ﬂuent calculus 1340 distant cousins described 16938 The closest approaches concerned reasoning action based dynamic logic 10 For example De Giacomo Lenzerini 4 later Demolombe et al 6 work extends 3 import Reiters solution frame problem dynamic logic There epistemic extensions dynamic logic 11 5 In language 11 possible express things like forwardsonar KnowClose identical syntax Know possibleworld semantics While approaches remain propositional ﬁrstorder treatments 56 like ES inspired desire capture fragments situation calculus modal logic Although consider epistemic notions work 1 relevant reconstructs version situation calculus Hybrid Logic 1 variant modal logic inspired work tense logic Prior 34 In sense work goes way explicit reference situations logic retained To presents disadvantage moving epistemic extension As said beginning problem epistemic situation calculus requires consider uncountably situations precludes substitutional interpretation quantiﬁcation 7 Only knowing actions In previous work example 2122 concept onlyknowing way capturing idea sentence believed agent believed agent This idea number applications including reconstructing aspects nonmonotonic reasoning 25 One application onlyknowing purposes provide convenient way specifying known instead saying agent believes sentences basic action theory stipulating believe certain sentences robot example Section 3 suﬃcient basic action theory agent believes It follow logically certain sentences believed So example robot example instead saying The following logical entailments cid14 cid3 cid2 Σ Know Σ x Knowdistance cid7 x explicitly agent know distance wall suﬃcient The following logical entailments cid2 cid3cid3 cid2 Σ OKnow cid14 Σ OKnowΣ cid14 language Σ cid14 obtain property cid14 cid2 cid3 cid10 OKnow Σ x Knowdistance cid7 x known Once operator properly deﬁned allows carry example In fact ﬂuent sentences φ ψ cid7cid10 φ ψ cid10 OKnowφ Knowψ But operator generalized previous work onlyknowing static case In earlier version paper 23 proposed deﬁnition interesting properties drawbacks We believe deﬁnition following e w z u cid10 OKnowα iff w cid14 w cid14 e w z iff e w z w cid14 cid11 cid12 u cid10 α e w z deﬁned cid6 w cid14 z cid4 w z deﬁned w z cid7 cid7 w Hcid19n z cid14 e w cid4 cid5 cid14 w cid8 cid14 cid17z w Hcid19n z z cid5 cid14 158 G Lakemeyer HJ Levesque Artiﬁcial Intelligence 175 2011 142164 This semantic characterization appears correct generalization onlyknowing dynamic language like ES In addition appears nice connections concept progression basic action theories 202841 One complication rigid predicates predicates truth values unchanging known appear present problems wellbehaved deﬁnition However leave exploration future research pursue matter 8 Conclusions In paper isolated fragment situation calculus knowledge presented modal syntax showed relatively simple model theoretic semantics based possible worlds We showed semantics allowed clear direct proofs certain properties We showed coincided use situation calculus Reiter provided ﬁve assumptions countably inﬁnitely actions objects symbol denotes identity cid20 symbol denotes reachability knowledge satisﬁes properties quantiﬁed weak S5 Given assumptions practitioners free use modal syntax presented original situation calculus syntax introduced McCarthy expect reap semantic rewards The subset situation calculus studied thought owe dialect studied Ray Reiter coworkers 36 constrained dialect ﬁrst envisioned John McCarthy 29 For example lean heavily use basic action theories regression popularized Reiter However right A careful reading embedding theorem shows fragment classical situation calculus realized ES demonstrates clearly exact correspondence requiring foundational axioms proposed Reiter These axioms including secondorder induction axiom Reiter constrain space situations tree rooted S0 In embedding rule nonstandard models example S 0 result performing action We away heresy situation terms language nonstandard anomalies expressed Thus point view situation calculus leave space situations unconstrained McCarthy jeopardizing advantages Reiter account So end despite modal syntax admittedly somewhat odds McCarthys aesthetic situation calculus dialect presented fact closer semantically vision ﬁrst presented McCarthy subsequently useful Appendix A Proof Embedding Theorem M M We need notation talking classical Tarski structures truth Suppose given Tarski structure M deﬁned domain D interpretations constant function predicate symbols situation calculus language We assume D Dsit Dact Dobj Dsit domain situations Dact domain actions Dobj domain objects We use following notation c constant symbol c element D M denoted c h relation subset Cartesian product D appropriate arity denoted H function Cartesian product D appropriate arity D denoted h H Let μ mapping ordinary variables D secondorder variables relations D For ordinary variable v element d D μxd variable map like μ x mapped d Similarly secondorder variable P relation Z D right arity μP Z variable map like μ P mapped Z More notation For term t cid21tcid21M μ element D denoted t classical sense M μ cid10 α means α true classical sense structure M free variables interpreted μ We omit μ depends variable map Let M Tarski structure satisfying axioms Υ domain D Dsit Dact Dobj Let ι0 S Dstrt ι0 ds Dsit M μsds cid10 K s S0 Dstrt thought starting situations consisting S0 K accessible S0 These play role initial situations Reiters situation calculus predecessors require Reiters foundational axioms Let e epistemic state assume given mappings ω Dstrt W θ N Dact Dobj π Z Dstrt Dsit Suppose following properties satisﬁed M 0 1 θ 11 sort preserving 2 ω e e image ω 3 rigid function symbol g θ cid2 cid3 θn1 θnk cid4 ωι M g cid2 gn1 nk cid11 cid12 cid5cid3 4 ﬂuent function symbol f cid2 cid3 θn1 θnk π z ι cid2 cid4 ωι θ f n1 nk z cid5cid3 M f 5 rigid predicate symbol G cid10 cid7 cid4 cid6cid9 cid7 ωι θn1 θnk M G cid5 Gn1 nk cid11 cid12 cid8 1 G Lakemeyer HJ Levesque Artiﬁcial Intelligence 175 2011 142164 159 6 ﬂuent predicate symbol F including Poss SF cid6cid9 M F θn1 θnk π z ι F n1 nk z cid10 cid7 cid4 cid7 ωι cid5 cid8 1 M θn π z ι π z n ι 7 8 M identity 9 cid3M π z ι π z z 10 K cid14 ι M π z ιcid14 π z ι ωιcid14 e ωιcid14 cid17z ωι In follows consider expressions terms formulas ES free ﬁrstorder variables appear list x1 xm We consider substituting variables standard names n1 nm right sort For ease reading term formula α write α mean μx1θn1 xmθnm sπ z ι variable s z Z ι Dstrt determined context Then following nm In situation calculus variable map μ write μ mean αx1 n1 xm Lemma 10 Let t term ES standard names free variables x1 xm Let ι Dstrt z Z w ωι Then given properties cid2cid7 cid7t cid11 cid11 cid11ts cid11 cid3 μ θ cid7 cid7z w Proof By induction t If t variable xi cid21tscid21μ cid21xicid21μ θni θt If t form gt1 tk following z w cid2 cid3 cid2 g cid3cid11 cid11 μ cid3 deﬁnition ts cid11 cid11 cid11ts cid11 cid11 cid2 cid11g μ deﬁnition denotation t1s tks cid2cid11 cid11 cid11 cid11 cid11t1s cid11tks cid11 cid11 M μ cid2cid7 cid2cid7 cid7 cid7 cid3 cid7t cid7t cid7z cid7z θ k w w cid2cid7 cid7 cid7 cid7 cid3 cid7t cid7z cid7z cid7t cid11 cid12 w k w cid2cid7 cid7 cid7 cid7 cid5cid3 cid7t cid7z cid7z cid7t w w k w cid7 cid2cid7 cid3 cid7z cid7gt1 tk w Property 3 cid5cid3 induction 1 1 1 M cid2 μ cid3cid3 θ cid4 z w θ θ θ g g g cid3 cid2 cid4 rigidity constraint deﬁnition coreference If t form f t1 tk following f cid2 μ cid11 cid11 cid3 cid11ts cid11 deﬁnition ts cid3cid11 cid11 cid2 cid11 cid11 f μ deﬁnition denotation t1s tks s cid2cid11 cid11 cid11 cid11 cid3 cid11t1s cid11 cid11tks cid11 M induction μ π z ι μ cid2cid7 cid2cid7 cid7 cid7 cid3 cid3 cid2 cid3 cid7t cid7t cid7z cid7z π z ι θ θ k w w cid2cid7 cid7 cid7 cid7 cid5cid3 cid3 cid4 cid7t cid7z cid7z cid7t w w k w cid7 cid2cid7 cid3 cid7z cid7 f t1 tk w Property 4 1 1 M cid2 z cid2 θ θ f f deﬁnition coreference Lemma 11 Let t term ES standard names free variables x1 xm Let ι Dstrt z Z w ωι Then given properties cid3 cid2 cid11 cid2 cid11do ts s cid3cid11 cid11 μ π cid7 cid7t cid7 cid7z w ι z Proof The proof immediate Property 7 Lemma 10 cid2 Deﬁnition 9 For given variable map μ let uμ ES variable map satisﬁes following 1 rigid secondorder variable V w z let cid10 θn1 θnk w V n1 nk z 1 iff uμ cid5 cid4 cid9 μV 160 G Lakemeyer HJ Levesque Artiﬁcial Intelligence 175 2011 142164 2 ﬂuent secondorder variable V ι z let cid4 ωι V n1 nk z cid5 uμ 1 iff cid9 cid10 θn1 θnk π z ι μV Note uμ necessarily completely speciﬁed ﬂuent variables worlds W image ω Let world image ω ωworld For example worlds e ωworlds ω assumed e Property 2 Then following Lemma 12 Let w ωι let u1 u2 variable maps agree values ﬁrst argument ωworld Then basic sentences α e w z u1 cid10 α iff e w z u2 cid10 α Proof The proof induction structure α All cases secondorder variables immediate w worlds e ωworlds Let e w z u1 cid10 V α Then u cid14 V u1 agrees u u cid14 V u1 e w z u V Also deﬁnition u u u2 u obtain e w z u2 cid10 V α The direction completely symmetric cid2 values ωworlds Thus induction e w z u cid14 cid10 α Now consider u cid14 cid14cid14 V u2 Then clearly agrees u1 values agrees cid14cid14 V u2 cid14cid14 cid10 α Since holds u cid14cid14 cid14cid14 cid14 Lemma 13 e w z uμ cid10 V α iff relations Z D arity sorts given V e w z uμV Z cid10 α Proof We consider ﬂuent variables V Rigids simpler special case For onlyif direction suppose uμV Z agrees uμV Z V deﬁnition V agrees uμV Z given Then u variables V ωworlds Hence uμV Z agrees u ωworlds assumption Lemma 12 e w z uμV Z cid10 α cid14 V uμ u cid14 cid14 cid14 V uμ Consider Conversely let u cid6cid9 θn1 θnk π z Z cid14 cid14 V uμ obtain e w z uμ cid10 V α cid2 agrees uμV Z ωworlds e w z u cid10 cid7 cid7 u cid14 cid4 ωi V n1 nk z cid5 Then u u cid8 1 ι z cid14 cid10 α assumption Lemma 12 Since holds Now results prove main lemma Lemma 14 Let α basic formula ES standard names free variables x1 xm Then given properties variable map μ ES variable map uμ satisfying Deﬁnition 9 situation variable s z Z ι Dstrt w ωι e w z uμ cid10 α iff M μ cid10 αs Proof The proof induction structure α There 12 cases 1 For formula form F t1 tk k e w z uμ cid10 F t1 tk z wF t w t w z 1 iff Property 6 z 1 w θt z cid11θt w π z ιcid12 F z cid10 1 k cid11cid21t1scid21μ cid21tkscid21μ π z ι M μ cid10 F t1s tks s F M M iff deﬁnition satisfaction iff Lemma 10 iff deﬁnition satisfaction 2 For formula form Gt1 tk e w z uμ cid10 Gt1 tk w t z wGt 1 z wGt w t 1 cid11θt w θt z 1 cid11cid21t1scid21μ cid21tkscid21μ cid12 G M μ cid10 Gt1s tks s M iff deﬁnition satisfaction w z 1 iff rigidity constraint z k w cid11 cid12 1 iff Property 5 z k w cid12 G z iff Lemma 10 k M iff deﬁnition satisfaction 3 For formula form P t1 tk e w z uμ cid10 P t1 tk w t uμw P t z w z 1 iff deﬁnition uμ z w π z ιcid12 μP iff Lemma 10 z w θt z cid11θt 1 k iff deﬁnition satisfaction k 1 G Lakemeyer HJ Levesque Artiﬁcial Intelligence 175 2011 142164 161 cid11cid21t1scid21μ cid21tkscid21μ π z ιcid12 μP iff deﬁnition satisfaction M μ cid10 P t1s tks s 4 For formula form Q t1 tk 1 k iff deﬁnition satisfaction e w z uμ cid10 Q t1 tk w t uμw Q t z w z 1 iff deﬁnition uμ z w π z ιcid12 μQ iff Lemma 10 cid11θt z w θt z 1 k cid11cid21t1scid21μ cid21tkscid21μ π z ιcid12 μQ iff deﬁnition satisfaction M μ cid10 Q t1s tks s 5 For formula form t1 t2 iff deﬁnition satisfaction e w z uμ cid10 t1 t2 t z z t w iff Property 1 w 2 1 w θt z θt 1 cid21t1scid21μ cid21t2scid21μ iff deﬁnition satisfaction Property 8 M μ cid10 t1s t2s z w iff Lemma 10 2 6 For formula form tα w uμ cid10 α z iff deﬁnition satisfaction iff induction cid14 iff z e w z uμ cid10 tα z e w z t M μs cid14π z t w ι cid10 αs w ι M μs τ Dsit τ π z t τ Dsit τ cid21 dots scid21μ M μs cid14 dots s αs τ Dsit M μs M μ cid10 s cid14s M μ cid10 αdots s iff M μ cid10 tαs cid14 dots s αs cid14τ cid10 s cid14 iff cid14τ cid10 αs cid14τ cid10 αs cid14 iff deﬁnition satisfaction cid14 iff Lemma 11 cid14 iff 7 For formula form α β e w z uμ cid10 α β M μ cid10 α βs iff induction 8 For formula form α e w z uμ cid10 α M μ cid10 αs iff induction 9 For formula form vα iff deﬁnition satisfaction e w z uμ cid10 vα names n right sort e w z uμ cid10 α v names n right sort M μvθn cid10 αs iff Property 1 d D right sort M μvd cid10 αs iff deﬁnition satisfaction M μ cid10 vαs n iff induction 10 For formula form V α e w z uμ cid10 V α relations Z D e w z uμV Z cid10 α rel Z D M μV Z cid10 αs iff deﬁnition satisfaction M μ cid10 V αs iff Lemma 13 iff induction 11 For formula form cid2α e w z uμ cid10 cid2α cid14 uμ cid10 α cid14 Z e w z z z cid14π z z cid14 Z M μs z τ Dsit exists z τ Dsit M μs deﬁnition satisfaction M μ cid10 s iff deﬁnition satisfaction iff induction cid14 ι cid10 αs cid14 iff cid14 Z τ π z z cid14τ cid10 s cid20 s cid14 αs cid14 αs cid14s cid20 s cid14 iff cid14 cid14 ι M μs cid14τ cid10 αs cid14 iff Property 9 12 For formula form Knowα cid14 e w iff deﬁnition satisfaction e w z uμ cid10 Knowα cid14 cid17z w e w w ωιcid14 e ωιcid14 cid17z w e ωιcid14 z uμ cid10 α ωιcid14 e ωιcid14 cid17z w M μs τ Dsit exists ιcid14 Dstrt τ π z ιcid14 ωιcid14 e ωιcid14 cid17z w iff induction cid14 iff cid14π z ιcid14 cid10 αs cid14 z uμ cid10 α iff Property 2 M μs τ Dsit M μs cid14τ cid10 αs cid14 iff Property 10 cid14 s αs cid14τ cid10 K s cid14 iff deﬁnition satisfaction 162 G Lakemeyer HJ Levesque Artiﬁcial Intelligence 175 2011 142164 M μ cid10 s cid14K s M μ cid10 Knowsαnow s iff M μ cid10 Knowαs cid14 s αs cid14 iff This completes proof cid2 With lemma place prove correctness embedding ES situation calculus Theorem 6 Let α basic sentence ES standard names Then α valid iff Υ cid10FOL α Proof First assume α valid Then e w 0 e w 0 cid7cid10 α Deﬁne Tarski structure follows The domain M D Dobj Dact Dsit Dobj resp Dact set standard names objects resp actions Dsit Z times W The ﬁxed vocabulary M deﬁned M M M S 0 cid3M z w z z K identity relation D cid11 cid12 w 0 n z w z n w cid14 w M z w z w 0 w e w cid17z w 0 cid7 cid7 w 0 ﬂuent predicate symbol F including Poss SF 1 rigid predicate symbol G cid5 Gn1 nk cid11 cid12 cid11n1 nkcid12 F n1 nk z cid11n1 nk z wcid12 rigid function symbol g cid7 cid7 w M M 1 cid8 G cid6 cid6 F cid4 cid5 cid4 cid8 g Mn1 nk w 0 ﬂuent function symbol f cid4 w cid2 cid3 n1 nk z w M f cid5 gn1 nk z cid4 cid5 gn1 nk cid11 cid12 These deﬁnitions ensure M satisﬁes Υ Next deﬁne mappings θ π ω letting θn n initial ι cid11 cid12 w letting π z ι z w ωι w This ensures properties needed Lemma 14 satisﬁed M cid7cid10 α Consequently Υ cid7cid10FOL α Conversely assume Υ cid7cid10FOL α The domain D Dsit Dact Dobj Dstrt Dsit set starting situations ι0 S Dstrt Since M cid10 Υ Dobj Dact countably inﬁnite Dobj δ1 δ2 Dact λ1 λ2 We deﬁne map pings θ π ω following Then Tarski structure M satisﬁes Υ M cid7cid10 α M 0 θ maps ith standard objects δi ith standard actions λi z Z ι Dstrt deﬁne π z ι π cid11 cid12 ι ι π z n ι M cid2 cid3 θn π z ι ι Dstrt let ωι world w deﬁned following cid4 cid5 cid4 cid4 cid4 w w w w Gn1 nk z cid5 F n1 nk z cid5 gn1 nk z f n1 nk z cid5 1 iff 1 iff cid2 1 θ θ 1 g cid2 f G cid9 cid10 M θn1 θnk cid10 cid9 θn1 θnk π z ι cid2 θn1 θnk cid2 θn1 θnk π z ι cid3cid3 M M cid3cid3 F M For ι Dstrt ωι obviously satisﬁes rigidity constraint Finally let e ωι ι ι0 K w 0 ωι0 M G Lakemeyer HJ Levesque Artiﬁcial Intelligence 175 2011 142164 163 These deﬁnitions ensure properties needed Lemma 14 satisﬁed e w 0 cid7cid10 α Consequently α valid cid2 Theorem 7 Let α sentence ES standard names Then α valid iff Σ Υ cid10FOL α Proof The proof previous reuse model constructions Let ﬁrst assume α valid Then e w 0 e w 0 cid7cid10 α Now deﬁne Tarski structure M exactly ﬁrst proof Theorem 6 It easy Σ Υ satisﬁed M In particular construction ensures situations unique names S 0 situation K accessible S0 predecessor truly initial situations Furthermore construction situations reachable initial situations situations model induction axiom situations Axiom 2 satisﬁed The rest argument exactly Theorem 6 Σ Υ cid7cid10FOL α Conversely assume Σ Υ cid7cid10FOL α Then Tarski structure M satisﬁes Σ Υ M cid7cid10 α We deﬁne mappings θ π ω w 0 e exactly Theorem 6 As properties Lemma 14 satisﬁed e w 0 cid7cid10 α proves α valid cid2 follows References 1 P Blackburn J Kamps M Marx Situation calculus hybrid logic ﬁrst steps P Brazdil A Jorge Eds Progress Artiﬁcial Intelligence Lecture Notes Artiﬁcial Intelligence vol 2258 SpringerVerlag 2001 pp 253260 2 W Burgard AB Cremers D Fox D Hähnel G Lakemeyer D Schulz W Steiner S Thrun Experiences interactive museum tourguide robot Artiﬁcial Intelligence 114 12 2000 3 MA Castilho O Gasquet A Herzig Formalizing action change modal logic I The frame problem Journal Logic Computation 9 5 1999 701735 4 G De Giacomo M Lenzerini PDLbased framework reasoning actions Proc AIIA Lecture Notes Artiﬁcial Intelligence vol 992 1995 pp 103114 5 R Demolombe Belief change situation calculus modal logic IJCAI Workshop Nonmonotonic Reasoning Action Change NRAC03 Acapulco Mexico 2003 6 R Demolombe A Herzig IJ Varzinczak Regression modal logic Journal Applied NonClassical Logics 13 2 2003 165185 7 R Fagin J Halpern Y Moses M Vardi Reasoning Knowledge MIT Press Cambridge 1995 8 A Finzi F Pirri R Reiter Open world planning situation calculus Proc 7th Conference Artiﬁcial Intelligence AAAI00 AAAI Press 2000 pp 754760 9 Michael Gelfond Vladimir Lifschitz Representing action change logic programs Journal Logic Programming 17 1993 301321 10 D Harel Dynamic logic D Gabbay F Guenther Eds Handbook Philosophical Logic vol 2 D Reidel Publishing Company 1984 pp 497604 11 A Herzig J Lang D Longin T Polacsek A logic planning partial observability Proc Seventeenth National Conference Artiﬁcial Intelligence AAAI00 AAAI Press 2000 pp 768773 12 J Hintikka Knowledge Belief Cornell University Press Ithaca 1962 13 S Hölldobler J Schneeberger A new deductive approach planning New Generation Computing 8 1990 225244 14 G Hughes M Cresswell An Introduction Modal Logic Methuen Co London 1968 15 D Kaplan Quantifyingin L Linsky Ed Reference Modality Oxford University Press Oxford 1971 pp 112144 16 R Kowalski M Sergot A logic based calculus events New Generation Computing 4 1986 6795 17 SA Kripke Semantical considerations modal logic Acta Philosophica Fennica 16 1963 8394 18 SA Kripke Is problem substitutional quantiﬁcation G Evans J McDowell Eds Truth Meaning Clarendon Press Oxford 1976 pp 325419 19 G Lakemeyer HJ Levesque AOL logic acting sensing knowing knowing Proc Sixth International Conference Principles Knowledge Representation Reasoning Morgan Kaufmann San Francisco 1998 pp 316327 20 G Lakemeyer HJ Levesque A semantical account progression presence defaults Proc 21st International Joint Conference Artiﬁcial Intelligence IJCAI09 Pasadena USA 2009 pp 842847 21 HJ Levesque All I Know A Study Autoepistemic Logic Artiﬁcial Intelligence vol 42 North Holland 1990 pp 263309 22 HJ Levesque G Lakemeyer The Logic Knowledge Bases MIT Press 2001 23 G Lakemeyer HJ Levesque Situations si situation terms Proc Ninth Conference Principles Knowledge Representation Rea soning KR2004 2004 24 G Lakemeyer HJ Levesque A useful fragment situation calculus Proc 19th International Joint Conference Artiﬁcial Intelligence IJCAI05 2005 pp 490496 25 G Lakemeyer HJ Levesque Towards axiom default logic Proc 21st National Conference Artiﬁcial Intelligence AAAI06 2006 26 HJ Levesque F Pirri R Reiter Foundations situation calculus Linköping Electronic Articles Computer Information Science 3 18 1998 27 HJ Levesque R Reiter Y Lespérance F Lin RB Scherl Golog logic programming language dynamic domains Journal Logic Programming 31 1997 5984 28 F Lin R Reiter How progress database Artiﬁcial Intelligence 92 1997 131167 29 J McCarthy Situations actions causal laws Technical report Stanford University 1963 Also M Minsky Ed Semantic Information Processing MIT Press Cambridge MA 1968 pp 410417 30 J McCarthy PJ Hayes Some philosophical problems standpoint artiﬁcial intelligence B Meltzer D Mitchie M Swann Eds Machine Intelligence vol 4 Edinburgh University Press 1969 pp 463502 31 S McIlraith TC Son Adapting Golog composition semantic web services Proc Eighth International Conference Principles Knowledge Representation Reasoning Morgan Kaufmann San Francisco 2002 pp 482493 32 RC Moore A formal theory knowledge action JR Hobbs RC Moore Eds Formal Theories Commonsense World Ablex Norwood NJ 1985 pp 319358 164 G Lakemeyer HJ Levesque Artiﬁcial Intelligence 175 2011 142164 33 VR Pratt Semantical considerations FloydHoare logic Proc 17th Annual IEEE Symposium Foundations Computer Science IEEE Computer Society Press 1976 pp 109121 34 A Prior Past Present Future Oxford University Press 1967 35 R Reiter The frame problem situation calculus A simple solution completeness result goal regression V Lifschitz Ed Artiﬁcial Intelligence Mathematical Theory Computation Academic Press 1991 pp 359380 36 R Reiter Knowledge Action Logical Foundations Describing Implementing Dynamical Systems MIT Press 2001 37 R Reiter On knowledgebased programming sensing situation calculus ACM Transactions Computational Logic 2001 433457 38 Erik Sandewall Features Fluents The Representation Knowledge Dynamical Systems Oxford University Press 1994 39 RB Scherl HJ Levesque Knowledge action frame problem Artiﬁcial Intelligence 144 12 2003 139 40 Michael Thielscher From situation calculus ﬂuent calculus state update axioms solution inferential frame problem Artiﬁcial Intelli gence 111 12 1999 277299 41 S Vassos HJ Levesque On progression situation calculus basic action theories resolving 10yearold conjecture Proc 20th AAAI Conference Artiﬁcial Intelligence AAAI08 2008