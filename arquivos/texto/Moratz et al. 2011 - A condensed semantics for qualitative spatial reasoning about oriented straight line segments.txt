Artiﬁcial Intelligence 175 2011 20992127 Contents lists available ScienceDirect Artiﬁcial Intelligence wwwelseviercomlocateartint A condensed semantics qualitative spatial reasoning oriented straight line segments Reinhard Moratz Dominik Lücke b Till Mossakowski bc University Maine National Center Geographic Information Analysis Department Spatial Information Science Engineering 348 Boardman Hall Orono 04469 Maine USA b University Bremen Collaborative Research Center Spatial Cognition SFBTR 8 Department Mathematics Computer Science Bibliothekstr 1 28359 Bremen Germany c DFKI GmbH Bremen Safe Secure Cognitive Systems EnriqueSchmidtStr 5 28359 Bremen Germany r t c l e n f o b s t r c t Article history Received 13 March 2010 Received revised form 22 July 2011 Accepted 25 July 2011 Available online 10 August 2011 Keywords Qualitative spatial reasoning Relation algebra Aﬃne geometry More 15 years ago set qualitative spatial relations oriented straight line segments dipoles suggested Schlieder However turned diﬃcult establish sound constraint calculus based relations In paper present results new investigation dipole constraint calculi uses algebraic methods derive sound results composition relations dipole calculi This new method condensed semantics based abstract symbolic model speciﬁc fragment domain It based fact qualitative dipole relations invariant orientation preserving aﬃne transformations The dipole calculi allow straightforward representation prototypical reasoning tasks spatial agents As example generate survey knowledge local observations street network The example illustrates fast constraintbased reasoning capabilities dipole calculi We integrate results reasoning tools publicly available 2011 Elsevier BV All rights reserved 1 Introduction Qualitative reasoning space abstracts physical world enables computers predictions spatial relations precise quantitative information available 4 A qualitative representation provides mech anisms characterize essential properties objects conﬁgurations In contrast quantitative representation establishes measure relation unit measurement generally available 12 The constant gen eral availability common measures selfevident In history lot measurement systems standardized locally If said pole feet long pole 150 cm long grand duchy Hesse 300 cm duchy Nassau Even today quantitative systems measurements world SIsystem Imperial United States Customary Units predominant ones One need recall history length measurement technologies local relative measures represented qualitatively1 managed biologicalepigenetic cognitive systems easily absolute quantitative representations Corresponding author Email addresses moratzspatialmaineedu R Moratz lueckeinformatikunibremende D Lücke tillinformatikunibremende TillMossakowskidfkide T Mossakowski 1 Compare example qualitative expression piece material longer quantitative expression thing meters long 00043702 matter 2011 Elsevier BV All rights reserved doi101016jartint201107004 2100 R Moratz et al Artiﬁcial Intelligence 175 2011 20992127 Fig 1 Orientation dipoles Qualitative spatial calculi usually deal elementary objects regions points qualitative relations included adjacent left This reason qualitative descriptions natural people The main trends qualitative spatial reasoning QSR topological reasoning regions 944454964 positional direction distance reasoning point conﬁgurations2 Positional relations refer absolute cardinal directions 102848 relative directions 25 Relative position calculi based points basic entities 31323355465 Most relative position calculi use ternary relations In contrast cardinal directions expressed binary relations Positional calculi related results psycholinguistic research ﬁeld reference systems 2537 Human natural language spatial propositions express relative spatial positions based reference directions derived shape function objects involved 25 The hill left train This leads binary relations objects objects feature orientedness For reason conception orientedness important feature natural objects In corresponding qualitative calculus necessary use complex basic entities points One option building complex basic entities use oriented line segments Fig 1 basic entities In abstraction lose speciﬁc shape object preserve feature orientedness With approach design relative position calculi directions expressed binary relations The corresponding calculus Schlieders line segment calculus 533 main topic paper Oriented straight line segments called dipoles Moratz et al 36 speciﬁed start end points Using dipoles basic building blocks complex objects constructed polylines polygons straight forward manner Fig 11 Therefore dipoles basic units numerous applications To example line segments central edgebased image segmentation grouping vision In addition GIS systems line segments basic entities 21 Polylines particularly interesting representing paths cognitive robotics 40 serve geometric basis mobile robot autonomously mapping working environment 61 To sum dipole calculi qualitative calculi abstract metric information They focus directional relations express certain topological relations Section 27 In previous paragraphs discussed representation spatial knowledge The central topic paper collection reasoning mechanisms employed use represented initial knowledge infer indirect knowledge In qualitative spatial reasoning main reasoning modes conceptual neighborhoodbased reasoning constraintbased reasoning static spatial conﬁgurations Conceptual neighborhoodbased reasoning describes spatial conﬁgurations objects transformed small changes 1115 The conceptual neighborhood qualitative spatial relation set relations relation changed minimal transformations continuous deformation Such transformation movement object conﬁguration short period time The movement agent modeled qualitatively sequence neighboring spatial relations hold adjacent time intervals4 Based qualitative representation trajectories neighborhoodbased spatial reasoning example simple abstract model navigation spatial agent5 In constraintbased reasoning spatial conﬁgurations typically partial initial knowledge scene represented terms qualitative constraints spatial objects Implicit knowledge spatial relations derived constraint propagation6 Previous research mathematical notion relation algebra related notions wellsuited kind reasoning In particular arbitrary relation algebra wellknown path consistency algorithm computes algebraic closure given constraint network approximates cases decides consistency network polynomial time Intelligent backtracking techniques study maximal tractable subclasses allow eﬃciently deciding networks involving disjunctions Starting Allens interval algebra approach successfully applied qualitative constraint calculi supported freely available 2 There work directions regions 1855 3 However Schlieders ﬁrst presentation dipole relations 53 mention composition dipole relations Moreover focuses DRAlr start end points straight line polylines presentation ﬁner calculi sketchy imprecise leading wrong number 63 DRA f relations See Section 21 deﬁnition calculi 4 This reasoning ﬁrst investigation dipole relations Schlieder 53 5 For application neighborhood based reasoning spatial agents refer reader simulation model SAILAWAY 7 6 For application constraintbased reasoning spatial agents refer reader example Section 25 R Moratz et al Artiﬁcial Intelligence 175 2011 20992127 2101 toolboxes 1659 Moreover people started develop benchmark problem libraries 42 shown method performs compared constraint reasoning techniques 60 Since approach inherently based composition tables essential prerequisite computation tables For dipole calculi composition tables large existing composition tables contain errors7 The main objective paper ﬁrst computation correct composition tables dipole calculi The sections paper present detailed technical description dipole calculi prove new results algebraic features constraint calculi In Section 2 introduce base relation sets dipole calculi Then revisit theory constraint reasoning algebraic closure To use constraint reasoning applications newly computed correct composition table directly fed SparQ 5859 GQR 16 tools reasoning dipole calculi Using concrete sample application dipole calculi spatial reasoning toolbox presented Finally inconsistent algebraically closed scenario presented showing limits algebraic closure method Section 3 tackles problem obtaining correct composition table dipole calculi It provides condensed seman tics dipole calculus A condensed semantics provides spatial domain knowledge calculus form abstract symbolic model speciﬁc fragment spatial domain In model possible conﬁgurations basic spatial entities calculus enumerated In case use orbits aﬃne group GAR2 This provides useful abstraction reasoning qualitatively different conﬁgurations Euclidean plane mathematical reasoning directly transformed program checking conﬁgurations This avoids sources errors previous approaches composition table computation We use aﬃne geometry elementary level appeal pictures instead complete analytic arguments easy ﬁll details key points argument careful analytic treatments provided Further calculate composition tables dipole calculi condensed semantics investigate properties composition It noted condensed semantics techniques applied calculi example OPRA calculus 34 In general condensed semantics summarized study geometric transformations leave relations calculus hand invariant work qualitative conﬁgurations essentially identiﬁed orbits automorphism group transformations Our paper ends summary conclusion discussion future work 2 Representation dipole relations relation algebras In section ﬁrst present set spatial relations dipoles variants set spatial relations The subsection gives formal representation dipole relations Then subsection presents standard reasoning method dipole relations The subsections discuss application contexts dipole reasoning exhibit limits dipole reasoning 21 Basic representation dipole relations The basic entities use dipoles oriented line segments formed pair points start point end point Dipoles denoted A B C start points s A end points e A respectively Fig 1 These dipoles representing spatial objects intrinsic orientation When examining different relations goal obtain set B jointly exhaustive pairwise disjoint atomic baserelations exactly relation holds dipoles The set general relations PB powerset set base relations That general relation set R B base relations It interpreted union base relations abuse notation identify general relation R B union R General relations express uncertainty relative position dipoles If relations form algebra fulﬁlls certain requirements possible apply standard constraintbased reasoning mechanisms originally developed temporal reasoning 1 proved valuable spatial reasoning Section 24 cid2 So enable eﬃcient reasoning attempt number different base relations relatively small For reason restrict twodimensional continuous space particular R2 distinguish location orientation different dipoles according small set seven different dipolepoint relations We distinguish point lies left right ﬁve qualitatively different locations straight line passes corresponding dipole8 The corresponding regions shown Fig 2 7 There explosion new qualitative spatial calculi decade A recent diploma thesis supervised errors composition tables calculi But composition table core standard reasoning mechanism algebraic closure calculus A wrong composition table easily lead wrong conclusions reasoning While algebraic closure limits incomplete know sound gives safe approximation space possible geometric conﬁgurations However soundness depends correct composition table Developing techniques correctly computing composition tables important contribution This means methods computing composition tables subject research Moreover method use gives insight nature spatial conﬁgurations identifying orbits aﬃne group GAR2 8 In introduction set qualitative spatial relations oriented line segments Schlieder 53 mainly focused conﬁgurations end start points straight line points general position However domains wish represent spatial arrangements start end points dipoles straight line 2102 R Moratz et al Artiﬁcial Intelligence 175 2011 20992127 Fig 2 Dipolepoint relations LR relations A corresponding set relations points proposed Ligozat 27 ﬂipﬂop calculus later extended LR calculus 549 Then dipolepoint relations cases point left dipole l right dipole r straight dipole b start point dipole s inside dipole end dipole e straight dipole f For example Fig 1 sB lies left A expressed A l sB Using seven possible relations dipole point relations dipoles speciﬁed according following relationships A R1 sB A R2 eB B R3 s A B R4 e A Ri l r b s e f 1 cid2 cid2 4 Theoretically gives 2401 relations 72 relations geomet rically possible They constitute dipole calculus DRA f f stands ﬁne grained listed Fig 3 In subsection present versions sets dipole base relations informal way Then Section 23 deﬁne dipole base relations algebraic way Proposition 1 Allens interval algebra embedded DRA f following mapping base relations10 cid6 sese b cid6 ffbb m cid6 efbs o cid6 ifbi d cid6 bﬁi s cid6 sfsi f cid6 beie bi cid6 bbff mi cid6 bsef oi cid6 biif di cid6 iibf si cid6 sisf ﬁ cid6 iebe In cases stemming embedding Allens interval algebra dipoles lie straight lines direction DRA f DRAfp contain 13 additional relations correspond case dipoles lying line facing opposite directions 22 Several versions sets dipole base relations In paper customizing spatial temporal calculi Renz Schmid 51 investigated different methods deriving variants given calculus granularity bettersuited certain tasks One methods uses subset base relations new set base relations For example Schlieder 53 introduced set base relations start end points straight line As result subset DRA f base relations We DRAlr calculus based base relations lr stands leftright The following base relations DRAlr rrrr rrll llrr llll rrrl rrlr rlrr rllr rlll lrrr lrrl lrll llrl lllr Moratz et al 36 introduced extension DRAlr adds relations representing polygons polylines In extension start end points share identical location In calculus points different locations belong straight line This subset DRA f named DRAc c refers coarse f refers ﬁne The set 24 base relations DRAc extends base relations DRAlr following relations ells errs lere rele slsr srsl lsel rser sese eses The method subset base relations reduces number base relations Conversely methods extend number base relations For example Dylla Moratz 8 observed DRA f suﬃcient robot navigation tasks dipole conﬁgurations pooled certain base relations diverse Thus representation extended additional orientation knowledge ﬁnegrained DRAfp calculus additional orientation distinctions derived It slightly base relations The large conﬁguration space rrrr relation visualized Fig 4 The analogous relations ex tremely coarse llrr rrll llll In applications unwanted coarseness relations lead problems11 9 The LR calculus features relations dou tri reference points points equal respectively These cases possible dipoles start end points coincide deﬁnition 10 Indeed yields homomorphism nonassociative algebras 11 An investigation Dylla Moratz ﬁrst cognitive robotics applications dipole relations integrated situation calculus 8 showed coarseness DRA f compared DRAfp lead meandering paths spatial agent R Moratz et al Artiﬁcial Intelligence 175 2011 20992127 2103 Fig 3 The 72 atomic relations DRA f calculus In dipole calculus orthogonality deﬁned graphical representation suggest Fig 4 Pairs dipoles subsumed relation Therefore introduce additional qualitative feature considering angle spanned dipoles This gives important additional distinguishing feature distinctive values These qualitative distinctions parallelism P antiparallelism A mathematically positive negative angles A B leading reﬁning relations abovementioned relations Fig 5 2104 R Moratz et al Artiﬁcial Intelligence 175 2011 20992127 Fig 5 Reﬁned base relations DRAfp We algebra DRAfp extension ﬁnegrained relation algebra DRA f additional distinguish ing features parallelism For relations different rrrr llrr rrll llll P A respectively determined original base relation mentioned explicitly These base relations relation symbol DRA f The introduction parallelism dipole calculi beneﬁts certain applications algebraic features beneﬁt extension Section 36 23 Formal representation dipole relations The dipole relations introduced informal way Section 21 deﬁned algebraic way The following derivation semantics dipole calculi bit complicated readers want remain compatible work begun Moratz et al 36 possible Every dipole D plane R2 ordered pair points sD eD Euclidean plane represented Cartesian coordinates x y x y R sD cid8 eD D sD eD sD cid3 cid4 sD x sD y cid3 eD eD x eD y cid4 The basic relations described equations coordinates variables The set solutions equations describes possible coordinates points A ﬁrst speciﬁcation based coordinates presented Moratz et al 36 Let focus LR relations ﬁrst Given dipole A point p want determine p lies right left A collinear A We begin derivation constructing vectors cid9A cid9P having base point s A pointing e A p respectively cid5 cid9A e Ax s Ax e A y s A y cid6 cid5 cid6 cid9P px s Ax p y s A y If construe cid9A cid9P vectors threedimensional Euclidean space located plane determined z 0 vector product Fig 6 cid9P cid9A R Moratz et al Artiﬁcial Intelligence 175 2011 20992127 2105 Fig 6 Constructing cid9P cid9A Fig 7 Computing LRrelation qualitative angle b vectors points upwards z 0 iff p right A downwards z 0 iff p left A The z coordinate cid9P cid9A given z px sa y eax sa y p y sax ea y sax p y eax px ea y If vectors cid9A cid9P collinear z 0 use η t cid9A cid9P sa2 y sa2 x p y ea y px eax p y sa y ea y sa y px sax eax sax positive cid9A cid9P point direction negative point opposite directions Altogether deﬁne LR relations e f R z 0 z 0 l r b z 0 η 0 s p sa cid11 z 0 η 0 cid10ea sacid10 cid10p sacid10 p ea cid11 z 0 η 0 cid10ea sacid10 cid10p sacid10 This description relations particularly useful reasoning tasks Gröbner reasoning Gröbner reasoning check solvability linear equalities complex numbers For SparQ toolbox 58 extension Gröbner reasoning deﬁned implemented check solvability nonlinear inequalities real numbers Unfortunately Gröbner reasoning doubly exponential running time This particular extension work progress preliminary results published 63 A followup article appear The semantics relations expressed convenient regular way atan2 function angle based angle cid9A cid9B atan2 cid9Ax cid9B y cid9A y cid9B x cid9Ax cid9B x cid9A y cid9B y To determine LRrelation b R c cid8 b compute angle vector cid9ab vector cid9ac depicted Fig 7a Now need substitute LRrelations deﬁnitions case distinction 2106 R Moratz et al Artiﬁcial Intelligence 175 2011 20992127 l r b s e f R 0 angleab ac π π angleab ac 0 angleab ac π angleab ac π angleab ac 0 cid10 cid9accid10 0 angleab ac 0 cid10 cid9accid10 cid10 cid9abcid10 angleab ac 0 cid10 cid9accid10 cid10 cid9abcid10 angleab ac 0 cid10 cid9accid10 cid10 cid9abcid10 The conditions s e rewritten c b c respectively Please note LR relations Dou Tri express ﬁrst points coincide occur dipoles nonzero length To obtain DRA f relation determine LRrelations operation concatenate manner described For determining DRAfprelation additionally need determine angle intersection dipoles dp A cid9dp A cid9dp B shown Fig 7b quantitative angle dp B Again consider vectors angle cid9dp A cid9dp B simple casedistinction R5 0 angle cid9dp A cid9dp B π π angle cid9dp A cid9dp B 0 A angle cid9dp A cid9dp B π angle cid9dp A cid9dp B π P angle cid9dp A cid9dp B 0 24 Constraint reasoning algebraic closure The domain dipole calculi Euclidean plane inﬁnite Standard methods developed ﬁnite domains generally apply constraint reasoning inﬁnite domains The theory relation algebras nonassociative algebras 2432 allows purely symbolic treatment constraint satisfaction problems involving relations inﬁnite domains The corresponding constraint reasoning techniques originally introduced temporal reasoning 1 later proved valuable spatial reasoning 2249 The central data qualitative calculus given set B symbolic names base relations interpreted relations domain having crucial properties pairwise disjointness joint exhaustiveness general relation simply set base relations table computation converses relations table computation compositions relations As described Section 21 set general relations PB powerset set base relations general relation identiﬁed union The converse composition operations easily extended B PB These data generate socalled nonassociative algebra 2932 Then path consistency algorithm 33 backtracking techniques 57 tools tackle problem consistency constraint networks related problems These algorithms implemented generic reasoning tools GQR 16 SparQ 59 To integrate new calculus tools list base relations tables compositions converses need provided Thereby qualitative reasoning facilities tools available calculus Since compositions converses general relations reduced compositions converses base relations tables need given base relations Based tables tools provide means approximate consistency constraint networks list atomic reﬁnements Section 25 application12 If b base relation converse x y y x b base relation denoted b 13 In dipole calculus obvious converse relation easily computed exchanging ﬁrst second letters relation Table 1 Since Rcid4cid4 R DRA f calculus entries table read yielding correct converses For dipole calculus DRAfp additional orientation distinctions converses obtained adding simple rule exchanged P A remain invariant cid2 Since base relations generally closed composition operation approximated weak composition cid12cid13 cid14 b1 cid12 b2 b B b1 b2 b cid8 b1 b2 given usual set theoretic composition 12 With information calculus tools provide functionality goes simple qualitative reasoning constraint calculi 13 In Freksas doublecross calculus 12 converses necessarily base relations calculi investigate property holds R Moratz et al Artiﬁcial Intelligence 175 2011 20992127 2107 Table 1 The converse cid4 operation DRA f reduced simple permuta tion rrrl rlrr sese sese lril illr rrbl blrr fefe fefe rrlr lrrr ells lsel llrf rﬂl bbff ffbb ﬁﬁ ﬁﬁ rrll llrr errs rser lfrr rrlf efbs bsef ebis iseb rllr lrrl lere rele frrr rrfr ifbi biif fbii iifb rlll llrl slsr srsl rrrb rbrr sfsi sisf fsei eifs llll llll lrri rilr lllb lbll bﬁi iibf ibib ibib lrll lllr rlli lirl ﬂll llﬂ beie iebe sbsb sbsb R Rcid4 R Rcid4 R Rcid4 R Rcid4 R Rcid4 R Rcid4 rrrr rrrr eses eses irrl rlir brll llbr bbbb bbbb ffff ffff R S cid13 x z cid15 cid15 y x y R y z S cid14 Computing composition tables nontrivial subject Section 3 Generally b1 cid12 b2 overapproximates settheoretic composition b1 cid12 b2 cid2 b1 b2 composition said strong approximation exact b1 cid12 b2 b1 b2 Strong composition attracted extensional composition 226 Note DRAlr DRAc provide jointly exhaustive set base relations Euclidean plane This leads lack identity relation case DRAlr severely DRAlr DRAc weak com position lead overapproximation underapproximation14 settheoretic composition ffbb missing composition llll This means obtain nonassociative algebra calculi By contrast DRA f DRAfp provide jointly exhaustive pairwise disjoint sets base relations lead nonassociative algebras Let apply relationalgebraic method constraint reasoning Given qualitative calculus set base relations B constraint network map ν N N PB N set nodes variables 29 Individual constraints ν X Y R written XRY X Y variables N R relation PB A constraint network ν N N PB atomic scenario ν X Y base relation Given constraint network ν important reasoning problem decide ν consistent assignment variables ν dipoles constraints satisﬁed solution We problem DSAT DSAT constraint satisfaction problem CSP 31 We rely relationalgebraic methods check consistency mentioned path consistency algorithm For nonassociative algebras abstract composition relations need coincide associative settheoretic composition Hence case standard pathconsistency algorithm necessarily lead path consistent networks algebraic closure deﬁned follows 47 Deﬁnition 2 Algebraic closure A constraint network binary relations called algebraically closed variables X1 X2 X3 relations R1 R2 R3 constraint relations X1R1 X2 X2R2 X3 X1R3 X3 imply R3 cid2 R1 cid12 R2 Algebraic closure enforced iterating R3 R3 R1 cid12 R2 X1R1 X2 X2R2 X3 X1R3 X3 ﬁxed point reached Note procedure leaves set solutions constraint network invariant This means algebraic closure contains relation original network inconsistent However general algebraic closure onesided approximation consistency algebraic closure detects inconsistency sure constraint network inconsistent algebraic closure fail detect inconsistencies algebraically closed network necessarily consistent For calculi like Allens interval 14 Recall generally weak composition overapproximates composition exactly captures case strong composition 2108 R Moratz et al Artiﬁcial Intelligence 175 2011 20992127 Fig 8 A street network local observations algebra algebraic closure known exactly decide consistency scenarios 47 shown question completely orthogonal question composition strong We examine questions dipole calculi Sections 27 34 ff 25 A sample application algebraic closure reasoning dipole calculus In subsection want demonstrate example dipole calculus useful qualitative model directional information Moreover example shows compositionbased reasoning useful incomplete Our example uses spatial knowledge expressed DRAfp deductive reasoning based constraint propagation algebraic closure resulting generation useful indirect knowledge partial observations spatial scenario This direct application composition table generated based new condensed semantics dipole calculi Section 3 In sample application spatial agent simulated robot cognitive simulation biological explores spatial scenario The agent collects local observations wants generate survey knowledge Fig 8 shows spatial environment It consists street network streets continue straight crossing streets run parallel These features typical realworld street networks Spatial reasoning example uses constraint propagation algebraic closure computation derive indirect constraints relative location streets apart local observations neighboring streets The resulting survey knowledge tasks including navigation tasks The environment represented streets si crossings C j The streets crossings unique names s1 s12 C1 C9 concrete example The local observations modeled following way based speciﬁc visibility rules want simulate prototypical features visual perception Both crossing straight street segment observation At crossing agent observes neighboring crossings At middle straight street segment agent observe direction outgoing streets adjacent crossings ends Two speciﬁc examples observations marked Fig 8 The observation s1 errs s7 marked crossing C1 The observation s8 rrllP s9 marked street s4 These observations relate spatially neighboring streets pairwise manner DRAfp base rela tions The agent additional knowledge speciﬁc environment The spatial world knowledge agent expressed converse composition tables DRAfp The following sequence partial observations result tour spatial agent exploring street network example Fig 8 Observations crossings C1 s7 errs s1 C2 s1 efbs s2 s8 errs s2 s1 rele s8 C3 s2 rele s9 C4 s10 efbs s7 s10 errs s3 s7 srsl s3 C5 s3 efbs s4 s11 efbs s8 s11 errs s4 s3 ells s8 s3 rele s11 s8 srsl s4 C6 s12 efbs s9 s4 ells s9 s4 rele s12 C7 s10 srsl s5 C8 s5 efbs s6 s5 ells s11 s11 srsl s6 C9 s6 ells s12 R Moratz et al Artiﬁcial Intelligence 175 2011 20992127 2109 Fig 9 All observation resulting uncertainty marked different colors Observations streets s1 s7 rrllP s8 s2 s8 rrllP s9 s3 s10 rrllP s11 s4 s11 rrllP s12 s8 s3 llrr s1 s9 s4 llrr s2 s10s3 rrll s5 s11s4 rrll s6 The result algebraic closure computationconstraint propagation reﬁned network solution set results computed publicly available SparQ reasoning tool supplied newly computed DRAfp composition table 58 We listed results Section 26 Three different models remaining consistent interpretations Section 26 list resulting data The different models agree relations The solution set explained help diagram Fig 9 The input crossing observations marked green arrows input street observations marked red arrows The result shows street pairs observed directly algebraic closure algorithm deduces strong constraint precise information typically resulting spatial relation street pairs comprises DRAfp base relation The exception consists relations streets models differ marked dashed blue arrows Fig 9 For relations model solution set agrees DRA f base relation given pair dipoles consistent models differ ﬁner granularity level DRAfp base relations Since reﬁnement underspeciﬁed relations single interpretation DRAfp base relation logical consequence assigns single base relation relations interpretations valid models The uncertaintyindeterminacy result speciﬁc street conﬁguration example The streets NorthSouth direction parallel streets EastWest direction parallel resulting fewer constraint composition results However small solution set consistent models agrees relative position relations street pairs differences models small In judgement means generated relevant survey knowledge street network local observations 26 Computation street network application SparQ tool In section demonstrate use publicly available SparQ QSR toolbox 58 compute algebraic clo sure constraint propagation street network example previous Section 25 For successful relative position reasoning SparQ tool supplied newly computed DRAfp composition table generated based new condensed semantics dipole calculi Section 3 The local street conﬁguration observations spatial agent listed Section 25 The direct translation logical propositions SparQ spatial reasoning command looks follows15 sparq constraintreasoning drafp pathconsistency s7 errs s1 s1 efbs s2 s8 errs s2 s1 rele s8 s2 rele s9 s10 efbs s7 s10 errs s3 s7 srsl s3 s3 efbs s4 s11 efbs s8 s11 errs s4 s3 ells s8 s3 rele s11 s8 srsl s4 s12 efbs s9 15 For technical details SparQ refer reader SparQ manual 58 2110 R Moratz et al Artiﬁcial Intelligence 175 2011 20992127 s4 ells s9 s4 rele s12 s10 srsl s5 s5 efbs s6 s5 ells s11 s11 srsl s6 s6 ells s12 s7 rrllP s8 s8 rrllP s9 s10 rrllP s11 s11 rrllP s12 s3 llrr s1 s4 llrr s2 s3 rrll s5 s4 rrll s6 16 The result reasoning command reﬁned network solution set derived application algebraic closureconstraint propagation algorithm Section 24 SparQ omits converses compact presentation Modified network S5 EFBS S6S12 LSEL S6S12 LLFL S5S11 SRSL S6S11 LSEL S5S11 RRLLP S12 S4 RRLL S6S4 RRLL S5S4 RELE S12S4 RSER S11S3 RRLL S6S3 RRLL S5 S3 RFLL S12S3 RELE S11S3 EFBS S4S10 RRBL S6S10 SRSL S5S10 RRLLP S12 S10 RRLLP S11S10 RRRB S4S10 ERRS S3S9 LBLL S6S9 LLLL S5S9 BSEF S12 S9 LLRRP S11S9 LSEL S4S9 LLFL S3S9 LLRRP S10S8 BRLL S6S8 LBLL S5 S8 RRLLP S12S8 BSEF S11S8 SRSL S4S8 LSEL S3S8 LLRRP S10S8 RRLLP S9 S2 RRLL RRLL RRLLP S6S2 RRLL RRLL RRLLP S5S2 RRLF S12S2 RRFR S11S2 RRLL S4 S2 RRLL S3S2 RRRR S10S2 RELE S9S2 RSER S8S1 RRLL RRLL RRLLP S6 S1 RRLL RRLL RRLLP S5S1 RRLL S12S1 RRLF S11S1 RRLL S4S1 RRLL S3 S1 RRFR S10S1 RFLL S9S1 RELE S8S1 EFBS S2S7 RRLL S6S7 BRLL S5 S7 RRLLP S12S7 RRLLP S11S7 RRBL S4S7 SRSL S3S7 BSEF S10S7 RRLLP S9 S7 RRLLP S8S7 RRRB S2S7 ERRS S1 SparQ output pathconsistent scenarios constraint networks base relations For constraint network slightly different path consistent scenarios exist They differ following relation subsets 1 S2 RRLLP S6S2 RRLLP S5 S1 RRLLP S6S1 RRLLP S5 2 S2 RRLL S6S2 RRLL S5 S1 RRLL S6S1 RRLL S5 3 S2 RRLL S6S2 RRLL S5 S1 RRLL S6S1 RRLL S5 All relations assigned single base relation reﬁned network shown result application algebraic closure algorithm This result visualized diagram interpreted terms goals reasoning task Section 25 27 Limits algebraic closure We consider question algebraic closure decides consistency This open DRA f Recall Section 24 set constraints dipoles hand called constraint network If constraint dipoles given agree universal relation Further recall scenario denote constraint network constraints base relations17 With help embedding interval algebra DRA f Proposition 1 algebraic closure decides consistency DRA f scenarios involve images relations interval algebra Moreover calculi RCC8 46 interval algebra 41 maximal tractable subsets 50 determined sets relations algebraic closure decides consistency nonatomic constraint networks involving relations We obtain algebraic closure DRA f decides consistency constraint network involving image maximal tractable subset interval algebra Similar remarks apply DRAfp However situation changes calculus The scenario consistency problem DRA f calculus NPhard 62 algebraic closure polynomial decide scenario consistency case assuming P cid8 NP This means essentially tractable subsets To illustrate failure algebraic closure decide consistency construct constraint networks geometrically unrealizable algebraically closed This gives insight calculi note LR calculus counterexamples extremly simple 30 case We obtain counterexample constructing constraint networks consistent algebraically closed change relation way remain algebraically closed inconsistent We follow approach 52 simple geometric shape scenarios exist algebraic closure fails decide consistency In case basic shape convex hexagon Fig 10 16 SparQ accept line breaks inserted better readability All data sample application including new composition table obtained URL httpwwwinformatikunibremendetillOslsatargz provides composition table data GQR reasoning tool httpssfbtr8informatikunifreiburgdeR4LogoSpaceResources 17 In case base relation pair distinct dipoles provided R Moratz et al Artiﬁcial Intelligence 175 2011 20992127 2111 First algebraic closure decide consistency DRA f Consider convex hexagon consisting dipoles A B C D E F Such object described Fig 10 Convex hexagon A errs BB errs CC errs DD errs EE errs F F errs AF rrrr C A rrrr DB rrrr E A rrrr CF rrrr DB rrrr D A rrrr EC rrrr E B rrrr F relations rrrr sure dipoles intersect components r relations errs ensure convexity enforce angle 0 π respective ﬁrst second dipole endpoint consecutive dipoles lies right preceding dipole Such object given Fig 10 Any object inside hexagon lies right dipoles border outside To scenario add dipoles G H inside hexagon F rrrl HC rrlr GH efbs G collinear endpoint H startpoint G This gives constraint network A errs BB errs CC errs DD errs EE errs F F errs AF rrrr C A rrrr DB rrrr E A rrrr CF rrrr DB rrrr D A rrrr EC rrrr E B rrrr F F rrrl HC rrlr GH efbs G We construct inconsistency postulating H start endpoint lies left E meaning lies outside hexagon introducing constraint E llrr H By applying algebraic closure reﬁnement network contain set H efbs GF rrrl GF rrrl HE llrr GE llrr HE errs F D llrr rrrr GD llrr rrrr HD rrrr F D errs EC rrlr G C rrlr HC rrrr F C rrrr EC errs DB llll rrll G B llll rrll HB rrrr F B rrrr EB rrrr DB errs C A llll rrll G A llll rrll H A rser F A rrrr E A rrrr D A rrrr C A errs B But H lie left E meaning outside convex hexagon inside time This impossible Euclidean plane In fact construct similar inconsistencies dipoles check constraint network relation llrr Unfortunately algebraic closure DRA f decide consistency The constraint network extended DRAfp constraint network straightforward manner replacing rrrr rrrr rrrr rrrrA llrr llrr llrr llrrP Algebraic closure DRAfp detects inconsistency network We drop constraint E llrr llrr llrr P H observe relation E H reﬁned cid3 cid4 E rrrr rrrr rrrrA H This constraint component demands H s outside hexagon DRA f case We example shows algebraic closure DRAfp ﬁnds inconsistencies constraint networks fails DRA f This leads question Does algebraic closure decide consistency DRAfp We negative answer question 2112 R Moratz et al Artiﬁcial Intelligence 175 2011 20992127 Fig 11 Construction counterexample Pappus conﬁguration To construct counterexample begin point conﬁguration points A B I Fig 11 This conﬁguration corresponds Pappus conﬁguration 5 A Pappus conﬁguration points straight lines Eight collinearities point triples G H I A BC A D H A E I B DG B F I C E G C F H enforce collinearity ninth point triple D E F Pappus Hexagon Theorem 5 We reconstruct arrangement dipoles add inconsistency Pappus Hexagon Theorem detected algebraic closure DRAfp The conﬁguration Fig 11 described constraint network following way G H efbs H I A B efbs BC A D efbs D H A E efbs E I B D efbs D G B F efbs F I C E efbs E G C F efbs F H D G errs G HD G rele E G F I lere H I F I lere E I A D srsl A E A D srsl A B C F lsel BC C F slsr C E G H rele D HG H rele F H A B ells B F A B ells B D A D ells D G A D rele B D C F errs F I C F lere B F A E rele C E dipole X Y description dipole point X point Y We observe Pappus Hexagon Theorem points D E F collinear We add constraint A E lrrr lrrl D F states carrier lines A E D F intersect A E A E E But D E F collinear possible intersection point E contradiction Any scenario based constraint network consistent But applying algebraic closure DRAfp yields reﬁnement dozens possible scenarios D G rrll F I F H rser D F C F rele D F C F efbs F H E G rrrr D F E G rrll F H E G brll C F C E rrbl F H C E rrlr D F C E srsl C F C E efbs E G F I rser D F F I slsr F H F I rser C F F I llrr E G F I rlrr C E B F rele D F B F ells F H B F rele C F B F lllr E G B F rllr C E B F efbs F I D G rrrr D F D G rrllP F H D G rrllP C F D G rele E G D G rrlf C E D G brll B F B D rrlr D F B D rrllP F H B D rrllP C F B D rﬂl E G B D rrll C E B D rrbl F I B D efbs D G B D srsl B F E I lrrr D F E I rllr F H E I slsr E G E I rrlr C F E I rser C E E I rele F I E I llrr D G E I rrlf B F E I rlrr B D A E rrll C F A E lrrr D F A E rlll F H A E ells E G A E rele C E A E rﬂl F I A E rrll B F A E lllr D G A E rllr B D D H rrrrA D F A E efbs E I D H rele F HD H rrlf C F D H rll E G D H rrlr C E D H rrll F I D H rrll B F D H slsr D G D H rser B D D H rrll E I D H brll A E A D rrrrA D F A D rﬂl F H A D rrll C F A D rlll E G A D rrll C E A D rrll F I A D rrll B F A D ells D G A D rele B D A D rrbl E I R Moratz et al Artiﬁcial Intelligence 175 2011 20992127 2113 A D srsl A E A D efbs D HBC llll D F BC lllb F H BC ells C F BC lllb E G BC ells C E BC llbr F I BC slsr B F BC llbr D G BC slsr B D BC llrr E I BC blrr A E BC llrr D HBC blrr A D A B llrl D F A B llll F H A B ﬂll C F A B llll E G A B ﬂll C E A B lllb F I A B ells B F A B lllb D G A B ells B D A B llbr E I A B slsr A E A B llbr D H A B slsr A D A B efbs BCH I lrrr D F H I rser F H H I rrfr C F H I rbrr E G H I rrrr C E H I rele F I H I rrlf B F H I rbrr D GH I rrrr B DH I rele E I H I rrlf A E H I rser D HH I rrfr A D H I rrllP BC H I rrllP A B G H lrrr D F G H rele F H G H rrlf C F G H rser E G G H rrfr C E G H rﬂl F I G H rrll B F G H rser D G G H rrfr B DG H rﬂl E I G H rrll A EG H rele D H G H rrlf A D G H rrllP BC G H rrllP A BG H efbs H I For DRAfp algebraic closure decide consistency scenarios This counterexample DRA f simpler shows differences reasoning effectiveness algebraic closure DRAfp DRA f 3 A condensed semantics dipole calculus Since domains spatial calculi inﬁnite Euclidean plane impossible enumerate possible conﬁgurations relative composition operation deriving composition table18 Hence question remains composition table computed effective automatic way To start tried generating composition table DRA f directly resulting quadratic inequalities described 36 derived exhaustively p 2105 However turned infeasible base reasoning inequalities aid interactive theorem provers IsabelleHOL 43 HOLlight 20 dedicated proving facts real numbers Gröbner base reasoners19 This infeasibility probably related abovementioned NPhardness consistency problem dipole base relations Therefore developed qualitative abstraction instead condensed semantics It provides level abstraction metrics underlying space We observe Euclidean plane respect possible line conﬁgurations distinguishable DRA calculi From formal point view key insight conﬁgurations qualitatively different transformed maps spatial structure invariant essential calculus In case maps orientation preserving aﬃne bijections A set conﬁgurations transformed appropriate maps orbit suitable automorphism group Here use primarily aﬃne group GAR2 leads qualitatively different spatial conﬁgurations The results analysis mapped eﬃcient method computing composition tables DRA f DRAfp 31 Seven qualitatively different conﬁgurations For binary composition operation DRA calculi consider qualitatively different conﬁgurations lines In order formalize qualitatively different conﬁgurations regard DRA calculus ﬁrstorder structure Euclidean plane domain base relations Let start having look automorphism groups DRA f DRAfp Deﬁnition 3 An aﬃne map f Euclidean plane given 2 2 transformation matrix A translation vector bx b y 18 It shown exhaustive inspection ﬁnite number conﬁgurations ﬁnite grid suﬃce compute composition table dipole calculi The size grid needs doubleexponential number points 17 number grids consider tripleexponential This practically infeasible points 2223 19 For computation DRAc composition table reported 36 Gröbner base reasoning needed complemented grid method In general research history QSR dipoles shows necessary use methods yield reliable results The dipole composition focus section involves conﬁgurations dipoles However simpler question complete list distinguishable dipole base relations characterized certain properties dipole point relations trivial This question answered conﬁgurations dipoles list exhaustively Deriving manually 72 base relations DRA f 80 base relations DRAfp errorprone procedure For reason manually derived sets base relations ﬁnergrained dipole calculi described 3653 composition tables contained errors 1077 grids need inspected 2114 R Moratz et al Artiﬁcial Intelligence 175 2011 20992127 f x y A cid16 cid17 x y bx b y f bijection iff det A nonzero f orientation preserving iff det A positive Proposition 4 All orientation preserving aﬃne bijections DRA f DRAfp automorphisms In 39 converse shown Proof It suﬃces orientation preserving aﬃne bijections preserve LR relations Now orientation preserving aﬃne bijection product translations rotations scalings shears It straightforward mappings preserve LR relations cid2 Automorphisms compositions form group acts set points tuples points lines function application Recall group G acts set orbit consists set reachable ﬁxed element performing action group elements G x f x f G The importance notion following Two conﬁgurations qualitatively different belong disjoint orbits automorphism group Note related theory line arrangements 19 work slightly different setting First theory line arrangements uses weaker notion isomorphism Second work line arrangements uses projective plane conﬁgurations lines instead Euclidean plane parallelism possible Here interested Euclidean plane distinguish cases lines parallel identical The reason DRAfp distinguishes A llrrP B A B point direction distinct parallel carrier lines A B Allen relation A B point direction carrier line Third consider triples lines later sets lines Further note Cristanis 2DSLA calculus 6 reason sets lines coarse purposes orbits 1 2 introduced distinguished 2DSLA We start conﬁgurations consisting lines Euclidean plane consider orbits sets l1 l2 l3 l1 l2 l3 necessarily distinct We consider conﬁgurations isomorphic mapped aﬃne bijection That work orbits group aﬃne bijections orientation preserving onesorientations come later stage This group usually called aﬃne group R2 denoted GAR2 A line Euclidean plane given set points x y y mx b Given lines y mi x bi 1 2 3 list orbits giving deﬁning property In case fairly obvious deﬁning property preserved aﬃne bijections Moreover case transformation property given instances deﬁning properties ﬁrst instance transformed second aﬃne bijection Together means deﬁning property exactly speciﬁes orbit The transformation property follows following basic facts aﬃne bijections 14 1 An aﬃne frame 14 aﬃne space basis vector space particular point aﬃne space unique aﬃne combination points frame An aﬃne frame ndimensional aﬃne space consists n 1 points particular aﬃne frame Euclidean plane point triple general position The importance notion present context following An aﬃne bijection uniquely determined action aﬃne frame result given aﬃne frame Hence given point triples Euclidean plane general position unique aﬃne bijection mapping ﬁrst point triple second 2 Aﬃne maps transform lines lines 3 Aﬃne maps preserve parallelism lines That suﬃces instance deﬁning property determined points general position drawing lines parallel lines We consider intersection line line j cid8 j 1 2 3 This given equations y mi x bi y m j x b j This cover case line x 0 loss generality assume case occur apply appropriate aﬃne bijection mapping lines away line x 0 For mi cid8 m j equations unique solution y mib j m jbi mi m j x bi b j mi m j R Moratz et al Artiﬁcial Intelligence 175 2011 20992127 2115 For mi m j solution bi cid8 b j lines parallel inﬁnitely solutions bi b j lines identical We distinguish seven cases 1 All mi distinct systems equations y mi x bi y m j x b j cid8 j 1 2 3 yield different solutions Geometrically means lines intersect different intersection points The transformation property follows fact intersection points determine conﬁguration In theory line arrangements called simple arrangement 19 2 All mi distinct systems equations y mi x bi y m j x b j cid8 j 1 2 3 common solution Then obviously single solution common equation systems Geometrically means lines intersect point In theory line arrangements called trivial arrangement 19 Take point second point lines By drawing parallels second point obtain points lines points form parallelogram The transformation property follows fact nondegenerate parallelograms transformed aﬃne bijection 3 mi m j cid8 mk bi cid8 b j distinct j k 1 2 3 Geometrically means lines parallel coin cident line intersects Such conﬁguration determined points points intersection plus point parallel lines Hence transformation property follows 4 mi m j cid8 mk bi b j distinct j k 1 2 3 Geometrically means lines equal intersects Again conﬁguration determined points intersection point plus point different lines Hence transformation property follows 2116 R Moratz et al Artiﬁcial Intelligence 175 2011 20992127 5 All mi equal bi distinct Geometrically means lines parallel coincident We transformation property means case comprises orbits Actually orbit distance ratio b1 b2 b1 b3 An aﬃne bijection f x y A cid16 cid17 x y bx b y transforms line y mx b y m x b However m m1 m2 m3 nonlinearity matter This means b1 b2 b1 b3 c1mb1 c1mb2 c1mb1 c1mb3 b b b b b cid18 cid18 cid18 1 cid18 1 cid18 2 cid18 3 cid18 c1mb c2m c1 c2 depend nonlinearly m distance ratio invariant aﬃne bijections wellknown aﬃne geometry Given ﬁxed dis tance ratio transformation property points suﬃce determine parallel lines position parallel line determined distance ratio For distance ratio 1 conﬁguration looks follows Actually qualitative relations dipoles placed parallel lines distance ratio matter Hence ignore distance ratios computing composition table fact inﬁnitely orbits matter 6 All mi equal bi equal different Geometrically means lines coincident parallel coincident Such conﬁguration determined points points coincident lines point line Hence transformation property follows 7 All mi equal bi equal This means lines equal The transformation property obvious Since exhaustively distinguished possible cases based relations mi bi parameters describes possible orbits lines action group aﬃne bijections Although inﬁnitely orbits case 5 contexts distance ratio introduced case 5 matter speak seven qualitatively different conﬁgurations understood inﬁnitely orbits case 5 conceptually combined equivalence class conﬁgurations Recall considered sets lines If consider triples lines instead cases 3 6 split subcases feature distinguishable lines We 15 different conﬁgurations 1 2 3a 3b 3c 4a 4b 4c 5a 5b 5c 6a 6b 6c 7 While 5a 5b 5c correspond case 5 comprise inﬁnitely orbits remaining conﬁgurations comprise single orbit cid4 The split appears point consider qualitatively different conﬁgurations triples unoriented lines respect orientation preserving aﬃne bijections An aﬃne map f x y A bx b y orientation preserving det A positive In arguments consider oriented aﬃne frames Let aﬃne frame p1 p2 p3 positively oriented angle cid8 p1 p2 p3 positive negatively oriented Two given aﬃne frames orientation determine unique orientation preserving aﬃne bijection transforming ﬁrst second Thus orientation aﬃne frame matters cases 1 2 split subcases For cases freedom choose aﬃne frames orientations coincide In end 17 different orbits triples oriented lines 1 1 2 2 3a 3b 3c 4a 4b 4c 5a 5b 5c 6a 6b 6c 7 They shown Fig 12 x y cid3 The structure orbits gives insight nature dipole calculus The fact subcase 1 corresponds orbit means angles ratios angles measured dipole calculus By way contrast presence inﬁnitely orbits subcase 5 means ratios distances speciﬁc direction R Moratz et al Artiﬁcial Intelligence 175 2011 20992127 2117 Fig 12 The 17 qualitatively different conﬁgurations triples oriented lines wrt orientation preserving aﬃne bijections distances measured dipole calculus Indeed DRAfp possible replicate given distance arbitrarily times indicated Fig 13 That DRAfp generate onedimensional coordinate Note lack welldeﬁned angles twodimensional coordinate constructed The ability count DRAfp calculus stems existence relations able capture feature parallelism Consider sequence parallelograms described DRAfp Ai llrrP Ci Ai slsr D Ai lere E B llrrP D B lsel E Ai ells B B lere Ci Ci rser D Ci srsl E D errs E Such sequence depicted Fig 13 The counting established replicating parallelograms adding rela tions B sese D i1 claim B D i1 consecutive parallelograms coincide Such parallelograms constructed relations describing parallelism The construction antiparallelism little involved case sequences parallelograms replicated 2118 R Moratz et al Artiﬁcial Intelligence 175 2011 20992127 Fig 13 Example replication given distance DRAfp 32 Computing composition table condensed semantics Fig 14 The 17 canonical conﬁgurations The purpose condensed semantics provide way computing composition tables ﬁnite way Therefore need reduce inﬁnite space possible dipole conﬁgurations ﬁnite For 17 oriented orbits Fig 12 introduce canonical conﬁguration Euclidean plane depicted Fig 14 conﬁguration suitable number positions start end points dipoles line suﬃce compute composition R Moratz et al Artiﬁcial Intelligence 175 2011 20992127 2119 table The number points needed function unoriented orbits points displayed Fig 14 prototypical points We conﬁguration Fig 14 assigned dipoles prototypical conﬁguration The computation composition table needs orientation order exhaustive Algorithm 1 Composition table Computation composition table DRA 1 Conf set prototypical conﬁgurations Fig 14 2 R 3 conﬁgurations c Conf 4 dipoles d A s A e A different prototypical points A c dipoles dB sB eB different prototypical points B c dipoles dC sC eC different prototypical points C c 5 6 7 8 9 compute relations d A R1 dB dB R2 dC d A R3 dC formula p 2106 add triple R1 R2 R3 R end end end 10 11 end 12 collect triples R way exactly entry R1 R2 having union R3 component The algorithm computing composition table given Algorithm 1 We place conﬁgurations Fig 14 arbitrary orthogonal coordinate Each conﬁguration provides ﬁnite number prototypical points speciﬁc coordinates serve start end points prototypical dipoles For triple prototypical dipoles compute DRArelations atan2method described Section 23 Each triple obtained way corresponds entry composition table A program implemented Java uses Algorithm 1 notebook Intel Core 2 T7200 15 Gbyte RAM computation composition tables DRA f DRAfp takes approximately 14 s 33 Soundness completeness composition By soundness Algorithm 1 mean computed composition table contains entries overapproximate geometric reality false conclusions drawn qualitative reasoning Conversely complete ness means entries necessary composition table lead overly weak conclusions However note case completeness case algebraic closure leads overly weak conclusions inconsistencies detected Section 27 More speciﬁcally completeness means Algorithm 1 outputs triples dipole relations geometrically realizable soundness means outputs triples20 Soundness completeness imply pro totypical dipole triples representative dipole triples concerns dipole relations Proposition 5 Algorithm 1 complete Proof Easy triples dipole relations generated prototypical dipole triples provide geometric realizations cid2 Showing soundness Algorithm 1 involved We need identify lower bound points needed oriented orbits Fig 12 respect DRA semantics We identify lower bounds intersecting collinear lines separately In ﬁrst step consider collinear lines For soundness construction need dipoles line lower bound number prototypical points needed distinguish possible DRA relations line Consider conﬁguration collinear n 2 3 dipoles A B C We use order induced e A s A line B points direction A eB sB sB eB C This construction reﬂects fact dipoles nonzero length We translate 13 Allen relations opposite Allen relations componentwise order dipoles A B A b _ _ _ B cid6 s A sB e A sB A s _ _ _ B cid6 s A sB e A sB 20 Actually algorithm output triples duplicates ﬁltered 2120 R Moratz et al Artiﬁcial Intelligence 175 2011 20992127 Fig 15 Intersecting carrier lines A _ _ _ B cid6 sB s A e A sB A e _ _ _ B cid6 sB s A e A sB A f _ _ _ B cid6 sB s A sB e A likewise components relations question Example 6 Consider relation A bbff B Since dipoles point direction derive e A s A eB sB Now apply translation rules component s A sB e A sB s A eB e A eB s A eB s A sB e A sB e A eB observe overall inequalities simpliﬁed e A s A eB sB s A sB e A sB s A eB e A eB By transitivity derive e A s A eB sB Hence need points plane realize dipole relation By easy induction Lemma 7 For n collinear dipoles Euclidean plane 2 n points start end points dipoles suﬃce constitute possible DRA relations dipoles Corollary 8 Realizing relations 1 2 3 collinear dipoles planes requires 2 4 6 prototypical points plane After having considered number prototypical points needed collinear dipoles need dipoles intersecting carrier lines For purpose need consider semantics DRA relations The case point lie intersecting lines positioned point intersection This case scenario relations component b s e f relations require dipoles collinear start end point dipole So need place prototypical point point intersection On line point intersection rules collinear lines applied Fig 15 shows case collinear lines Lemma 9 Transforming scenario dipoles orientation preserving aﬃne transformation preserves DRA f DRAfp relations Proof This follows directly Proposition 4 cid2 For soundness proof need preparatory lemmas Lemma 10 Transforming scenario dipoles orientation preserving aﬃne transformation preserves betweenness points R Moratz et al Artiﬁcial Intelligence 175 2011 20992127 2121 Proof This follows proof Proposition 4 LRrelation cid2 Fig 16 Introduction carrier lines Analogously qualitative angle DRAfp deﬁne qualitative orientation dipoles Deﬁnition 11 Given nonparallel dipoles A B qualitative orientation A B angle A B positive Lemma 12 Given ﬁxed dipole B ﬁxed intersection point S A B relation A R B determined betweenness equality s A e A S A B qualitative orientation B A provided R involve parallelism antiparallelism cid18 S A B S Acid18 B betweenness equality s A e A S A B Proof Let A R B let A s Acid18 e Acid18 S A B qualitative orientations B A B A We troduce carrier rays dipoles called l A l Acid18 lB Without loss generality rays point direction dipoles reﬂect qualitative orientation The rays l A l Acid18 divided segments S A B S Acid18 B respectively For l A segments points x r S A B x r S A B S A B r x l Acid18 segmented way order rcid18 The relation R decomposed LRrelations cid18 A R1 sB A R2 eB B R3 s A B R4 e A First consider relations R3 R4 By deﬁnition LRrelations relations B s A e A change respective point moved different segment betweenness equality s A e A S A B qualitative orientations coincide s A r S A B s Acid18 r S Acid18 B cid18 segments e A e Acid18 Hence obtain R3 R 4 For R1 R2 use similar argument A B swapped cid2 roles A cid18 3 R4 R cid18 Proposition 13 Algorithm 1 sound Proof We ﬁrst proof DRAfp soundness DRA f follows soundness DRAfp uniting particular relations Given triple dipoles d A dB dC Euclidean plane inspect carrier lines A B C intersection points identify oriented orbit Fig 12 As example consider conﬁguration dipoles Fig 16 lefthand The conﬁguration righthand shows carrier lines identify different points intersection Together orientation lines conﬁguration lies orbit 1 We identify relations R A B RBC R AC scenario By S X Y denote point intersection ﬁnd carrier lines X Y We lines corresponding conﬁguration Fig 14 A respective dipoles d Acid18 dBcid18 dC cid18 based prototypical points We dipole relations d A dB dC d Acid18 dBcid18 dC cid18 C B cid18 cid18 cid18 Note collinear lines number minimally needed points section shown Corollary 8 In following cases proof need consider possible choices points 1 1 In orbit distinct points intersection exist denoted S A B S AC S BC dipole conﬁguration S Acid18 Bcid18 S Acid18C cid18 S Bcid18C cid18 prototypical conﬁguration Since triples A B C A oriented orbit orientation preserving aﬃne bijection h mapping A B C S A B S AC S BC primed variants By Lemma 10 point sets s A e A S AC s A e A S Acid18C cid18 ordered corresponding ways point sets involving start end points dipoles intersection point The points dipoles d A dB dC necessarily mapped d Acid18 dBcid18 dC cid18 order start end points points intersection By Lemma 12 order qualitative orientation inﬂuence DRAfp relations hand mapped start end points moved ones d Acid18 dBcid18 dC cid18 changing DRAfp relations B C cid18 cid18 cid18 2122 R Moratz et al Artiﬁcial Intelligence 175 2011 20992127 2 2 argument stays In case points intersection coincide This difference cases 1 1 cid18 cid18 B In case parallel lines First consider case 3a Here line A intersected parallel 3a 3b 3c cid18 lines B C Since A B C oriented orbit A orientation preserving aﬃne transformation By case 3 p 2115 choose transformation h way takes aﬃne frame xb S AC S A B xbcid18 S Acid18C cid18 S Acid18 Bcid18 The point xb chosen sb sb cid8 S A B eb xbcid18 deﬁned analogously By Lemma 10 betweenness s A e A S AC sC eC S AC preserved h The preservation betweenness respective pointtriples implies possible orders We introduce order proof Lemma 12 The points s X e X necessarily mapped s X cid18 e X cid18 order respect intersection points So points image h moved respective prototypical points affecting dipole relations On parallel lines relation preserved direction dipoles preserved order respect point intersection The preservation betweenness true triples s A e A S AC sC eC S AC s A e A S A B sB eB S A B By preservation betweenness orientation relations respect d A The argument 3b 3c analogous C 4a 4b 4c First consider case 4a We point intersection S A B S AC S BC S There orien tation preserving aﬃne transformation h takes scenario instance shown Fig 12 conﬁgurations orbit We need consider triples points line S s A e A S sB eB S s A sB S s A eB S sB e A S eB e A S sC eC By Lemma 10 betweenness triples preserved h From betweenness triples orientation construct order points Since possi bilities establish order betweenness triple need construct order proof Lemma 12 If dipoles coinciding line point different directions construct overall compatible order inverting orders induced A B invert arbitrary With mapping determine setup prototypical points conﬁguration mapped points This change involved DRAfp relations order points preserved operation Since order points line changed cases relation intersection set relation Lemma 12 The cases 4b 4c proved analogously 5a 5b 5c We points intersection case Without loss generality assume ratio distances parallel lines 1 First look case 5a We intersect lines A B C additional line orthogonal A way intersection points equal start end points dipole We points intersection S A S B S C There orientation preserving aﬃne transformation instance 5a given Fig 12 conﬁgurations orbit The order triples S X s X e X X A B C preserved Again points image h prototypical points cases relations depend order points The cases 5b 5c treated analogously 6a 6b 6c We start case 6a We intersect lines new orthogonal A intersects carrier lines way points A B C new line We points intersection S A S B S C Again orientation preserving aﬃne transformation representative orbit The respective orders start endpoints dipoles points intersection preserved And start endpoints dipoles moved respective prototypical points changing dipole relation As case 5a relations stay Cases 6b 6c treated analogously 7 We intersect lines new orthogonally representative orbit way point intersection different start end points dipoles point intersection S There orientation preserving aﬃne transformation h maps conﬁguration orbit There triples points line need consider S s A e A S sB eB S sC eC S s A sB S s A sC S s A eB S s A eC S sB sC S sB eC S eB sC S eB eC order constructed proof Lemma 12 As step 4a 4b 4c orders compatible dipoles point different directions From list infer prototypical points needed compute dipole relations collinear dipoles Again mapped points prototypical ones harm relative ordering points matters deﬁnition DRAfp relations For DRA f union reﬁned relations use mapping LLLL LLLL LLLL A cid6 LLLL LL R R LL R R LL R R P cid6 LL R R R R LL R R LL R R LL P cid6 R R LL R R R R R R R R R R R R A cid6 R R R R cid2 R Moratz et al Artiﬁcial Intelligence 175 2011 20992127 2123 34 Algebraic properties composition Fig 17 DRA f weak composition We investigate properties composition tables DRA f DRAfp For tables properties idcid4 id cid4cid4 R cid3 Rcid4 id R R R id R R1 R2cid4 Rcid4 2 R2 R3 Rcid4 Rcid4 3 1 Rcid4 1 R1 R2 hold R R1 R2 R3 base relations id identical relation These properties automatically tested GQR SparQ qualitative reasoners The properties nonassociative algebra follow trivially Further tested associativity composition For DRA f 373248 triples relations consider 71424 associative So composition 1914 possible triples relations associative21 associativity violated compositions rrrl cid12 rrrl cid12 llrl cid8 rrrl cid12 rrrl cid12 llrl For DRAfp 512000 triples base relations associative wrt composition Hence DRAfp relation algebra 35 DRA f composition weak The failure DRA f associative implies composition weak We prove directly DRA f weak composition giving example illustrative Proposition 14 The composition DRA f weak Proof Consider DRA f composition A bﬁi B cid12 B lllb C cid6 A llll C We dipoles A C dipole B reﬂects composition Consider dipoles A C shown Fig 17 We observe DRAfp relation llll dipole C pointing line l A dipole A lies Because A bﬁi B dipole B lie l A But lC carrier line C straight line lines l A lB lie C respect direction dipole endpoint B lie C cid2 DRAfp behaves differently shown section 36 Strong composition We going prove DRAfp strong composition The following lemma crucial note hold DRA f Lemma 15 For DRAfp base relations R involving parallelism antiparallelism betweenness equality s A e A S A B given dipoles A R B independent choice A B uniquely determined R 21 In masters thesis students detailed analysis speciﬁc nonassociative dipole conﬁguration presented 38 2124 R Moratz et al Artiﬁcial Intelligence 175 2011 20992127 Proof Let R r1r2r3r4r5 r5 r5 omitted standard notation Note assumption r5 implies S A B deﬁned If r3 b s e f e A cid8 s A S A B betweenness Analogously s A cid8 e A S A B r4 b s e f The remaining possibilities r3r4r5 1 ll rr cases e A s A S A B 2 ll rr cases s A e A S A B 3 rl lr cases S A B s A e A Note cases 1 2 distinguished DRA f In particular pictures xxll xxll lead DRA f relation xxll xxll e A s A S A B xxll s A e A S A B Corollary 16 Let R DRAfp base relation involving parallelism antiparallelism Let A R B A s A cid6 s Acid18 e A cid6 e Acid18 S A B cid6 S Acid18 Bcid18 preserves betweenness equality cid18 cid18 R B Then map Theorem 17 Composition DRAfp strong cid2 Proof Obviously strong composition contained weak composition cid12 To converse let rac rab cid12 rbc entry composition table rac rab rbc base relations We need rac rab rbc given dipoles A C Arac C exists dipole B Arab B Brbc C Since rac rab cid12 rbc deﬁnition weak composition know dipoles A rbc C Given dipoles X Y let S X Y denote point intersection lines carrying X Y deﬁned A respectively According results X Y parallel Consider lines carrying A Section 31 conﬁguration lines seventeen qualitatively different cases 1 1 2 2 3a 3b 3c 4a 4b 4c 5a 5b 5c 6a 6b 6c 7 A C C rab B rac C B B B cid18 cid18 cid18 cid18 cid18 cid18 cid18 cid18 cid18 cid18 cid18 cid18 cid18 cid18 rac C 1 We consider cases 1 1 simultaneously Recall line conﬁgurations orbit 1 orientation holds 1 The points intersection S Acid18 Bcid18 S Bcid18C cid18 S Acid18C cid18 exist different Since Arac C Lemma 15 point sets s A e A S AC s Acid18 e Acid18 S Acid18C cid18 ordered corresponding ways lines A Hence possible choose point S A B carrier line A way point sets s A e A S AC S A B s Acid18 e Acid18 S Acid18C cid18 S Acid18 Bcid18 ordered corresponding ways lines In similar way interchanging A C S BC chosen Since S A B S AC S BC S Acid18 Bcid18 S Acid18C cid18 S Bcid18C cid18 aﬃne frames unique aﬃne bijection h R2 R2 hS Acid18 Bcid18 S A B hS Acid18C cid18 S AC hS Bcid18C cid18 S BC Since line conﬁgurations orbit 1 R Moratz et al Artiﬁcial Intelligence 175 2011 20992127 2125 orientation holds 1 h preserves orientation Thus Proposition 4 DRAfp relations cid18 Since point sets s A e A S A B preserved h Hence choosing B hB s Acid18 e Acid18 S Acid18 Bcid18 ordered corresponding ways lines h aﬃne bijection s A e A S A B hs Acid18 Acid18 S A B ordered corresponding ways lines qualitative orientation A cid18rab B Arab B A similar B A argument shows Brbc C B Since S A B S Acid18 B Lemma 12 h A cid18rab B BrbchC cid18 h A cid18 2 We prove cases 2 2 simultaneously The intersection points S Acid18 Bcid18 S Bcid18C cid18 S Acid18C cid18 exist coincide let x A cid18 x Acid18 xC cid18 aﬃne frames cid18 S hx Acid18 x A hxC cid18 xC The rest argument S Acid18 Bcid18 S Bcid18C cid18 S Acid18C cid18 S e A x Acid18 e Acid18 xC xC cid18 chosen similar way Since S x A xC S unique aﬃne bijection h R2 R2 hS similar case 1 Let S S AC Let x A s A x Acid18 s Acid18 s A cid8 S s Acid18 cid8 S cid18 cid18 3 Two lines parallel intersect In sequel specify aﬃne frames chosen rest argument choice points unprimed way qualitative relations preserved similar previous cases Subcases 3a 3b The lines carrying A C intersect Choose x A x Acid18 case 2 chose appropriate point S BC Then use aﬃne frames x A S AC S BC x Acid18 S Acid18C cid18 S Bcid18C cid18 Subcase 3c The lines carrying A C parallel Choose appropriate points S A B S BC use aﬃne frames s A S A B S BC s Acid18 S Acid18 Bcid18 S Bcid18C cid18 4 Two lines identical intersect Subcases 4a 4b The lines carrying A C intersect Choose x A x Acid18 xC xC cid18 case 2 use aﬃne frames S AC x A xC S Acid18C cid18 x Acid18 xC cid18 Subcase 4c The lines carrying A C identical This means S Acid18 Bcid18 S Acid18C cid18 S S x A x Acid18 case 2 Moreover similar way choose xBcid18 LRrelation A xBcid18 A Choose appropriate point corresponding xB Then use aﬃne frames S x A xB S x Acid18 xBcid18 cid8 S cid18 cid18 cid18 5 All lines distinct parallel Subcases 5a 5b 5c treated way Use aﬃne frames s A e A sC s Acid18 e Acid18 sC cid18 Note distance ratios need adjusted nonaﬃne transformation preserves dipole relations 6 Two lines identical parallel Subcases 6a 6b The lines carrying A C parallel Proceed case 5 Subcase 6c The lines carrying A C identical Choose sB LRrelation A sBcid18 A Then use aﬃne frames s A e A sB s Acid18 e Acid18 sBcid18 cid18 7 All lines identical For case result follows fact Allens interval algebra strong composition refer 47 cid2 4 Summary conclusion We presented different variants qualitative spatial reasoning calculi oriented straight line segments dipoles These spatial calculi provide basis representing reasoning qualitative position information intrinsic reference systems We computed composition table dipole calculi new method based algebraic semantics dipole relations We called condensed semantics uses orbits aﬃne group GAR2 provide abstract notion qualitative conﬁguration lines This compute composition table computerassisted way relying prototypical dipole conﬁgurations located lines given qualitative conﬁguration represented orbit This ﬁrst computation composition table DRAfp So far composition tables DRAc DRA f exist contain errors 56 We analyzed algebraic features dipole calculi We proved DRAfp strong composition This interesting result case application motivated calculus extension beneﬁts algebraic features calculus extension We demonstrated prototypical application reasoning qualitative position information relative reference systems In scenario cognitive spatial agents qualitative map building coarse locally perceived street conﬁg uration information integrated constraint propagation order survey knowledge The wellknown path consistency method precise term present context algebraic closure implemented standard QSR tools use new dipole calculus composition table compute desired result polynomial time Such concrete generalizable application scenarios relative position calculi important recent result Wolter Lee 62 shows relative position calculi intractable base relations For reason necessary gain experience application contexts unavoidably approximate reasoning effective produces relevant inference results With street network example test case puts emphasis deriving implicit knowledge output qualitative spatial reasoning based observed data This prototypical application scenario future applied relative position calculi Since observed data case errorfree perception leads consistent input constraints general consistency problem avoided instead rely logical consequence Now problems intractable need ap 2126 R Moratz et al Artiﬁcial Intelligence 175 2011 20992127 proximated algebraic closure setting losses approximation harmful risk working inconsistent scenarios Our future work address question general quality approximations relative position reasoning assessed quantitative measures An important open question problem consistency constraint networks better approximated polynomial time algebraic closure algorithm Con cerning exponential time algorithms consistency condensed semantics generalized constraint networks arbitrary size suitable method determining possible line arrangements Another future QSR research apply new condensed semantics method calculi Acknowledgements The authors like thank Diedrich Wolter Jay Lee Jochen Renz Frank Dylla Christian Freksa Franz Kalhoff Stefan Wölﬂ Lutz Schröder Brandon Bennett interesting helpful discussions related topic paper Special thanks anonymous referees particular suggestions improving readability paper simpliﬁed version condensed semantics Our work supported DFG Transregional Collaborative Research Center SFBTR 8 Spatial Cognition projects I4SPIN R4LogoSpace National Science Foundation NSF Grant No CDI1028895 References 1 JF Allen Maintaining knowledge temporal intervals Comm ACM 1983 832843 2 B Bennett O Bennett A Isli AG Cohn When composition table provide complete tractable proof procedure relational constraint language Proc IJCAI97 Workshop Spatial Temporal Reasoning 1997 3 E Clementini PD Felice D Hernandez Qualitative representation positional information Artiﬁcial Intelligence 95 1997 317356 4 AG Cohn Qualitative spatial representation reasoning techniques G Brewka C Habel B Nebel Eds Proc KI97 Lecture Notes Artiﬁcial Intelligence vol 1303 SpringerVerlag 1997 pp 130 5 HSM Coxeter Selfdual conﬁgurations regular graphs Bull Amer Math Soc 56 1950 413455 6 M Cristani Reasoning qualitative relations straight lines Tech rep University Verona 2003 7 F Dylla L Frommberger JO Wallgrün D Wolter S Wölﬂ B Nebel SailAway Formalizing navigation rules Proc AISB07 Artiﬁcial Ambient Intelligence Symposium Spatial Reasoning Communication 2007 8 F Dylla R Moratz Exploiting qualitative spatial neighborhoods situation calculus C Freksa M Knauff B KriegBrückner B Nebel T Barkowsky Eds Proc Spatial Cognition 2004 2005 pp 304322 9 M Egenhofer R Franzosa Pointset topological spatial relations Int J Geogr Inform Syst 5 2 1991 161174 10 A Frank Qualitative spatial reasoning cardinal directions H Kaindl Ed Proc 7th Österreichische ArtiﬁcialIntelligenceTagung Springer 1991 pp 157167 11 C Freksa Conceptual neighborhood role temporal spatial reasoning MG Singh L TravéMassuyès Eds Proc IMACS Work shop Decision Support Systems Qualitative Reasoning 1991 pp 181187 12 C Freksa Using orientation information qualitative spatial reasoning AU Frank I Campari U Formentini Eds Theories Methods SpatialTemporal Reasoning Geographic Space Springer 1992 pp 162178 13 C Freksa Using orientation information qualitative spatial reasoning AU Frank I Campari U Formentini Eds Theories Methods SpatioTemporal Reasoning Geographic Space Lecture Notes Comput Sci vol 639 Springer 1992 pp 162178 14 JH Gallier Curves Surfaces Geometric Modeling Theory Algorithms Morgan Kaufmann 2000 15 A Galton Qualitative Spatial Change Oxford University Press 2000 16 Z Gantner M Westphal S Wölﬂ GQR fast reasoner binary qualitative constraint calculi Proc AAAI08 Workshop Spatial Temporal Reasoning 2008 17 JE Goodman R Pollack B Sturmfels Coordinate representation order types requires exponential storage STOC 89 Proceedings Twenty First Annual ACM Symposium Theory Computing ACM New York NY USA 1989 pp 405410 18 RK Goyal MJ Egenhofer Similarity cardinal directions Advances Spatial Temporal Databases 7th International Symposium SSTD 2001 2001 pp 3658 19 B Grünbaum Arrangements Spreads Regional Conference Series Mathematics vol 10 American Mathematical Society Providence RI 1972 20 J Harrison HOL light An overview S Berghofer T Nipkow C Urban M Wenzel Eds Proc TPHOLs09 Lecture Notes Comput Sci vol 5674 Springer 2009 pp 6066 21 EG Hoel H Samet Eﬃcient processing spatial queries line segment databases O Günter HJ Schek Eds Proc 2nd Symp Large Spatial Databases SSD91 Zürich 1991 pp 237255 22 A Isli AG Cohn A new approach cyclic ordering 2D orientations ternary relation algebras Artiﬁcial Intelligence 122 12 2000 137187 23 A Isli R Moratz Qualitative spatial representation reasoning algebraic models relative position Tech rep Universität Hamburg FB Informatik Hamburg 1999 24 P Ladkin R Maddux On binary constraint problems J ACM 41 3 1994 435469 25 SC Levinson Frames reference Molyneuxs question Crosslinguistic evidence P Bloom M Peterson L Nadel M Garrett Eds Language Space MIT Press 1996 pp 109169 26 S Li M Ying Region connection calculus Its models composition table Artiﬁcial Intelligence 145 12 2003 121146 27 G Ligozat Qualitative triangulation spatial reasoning AU Frank I Campari Eds Proc International Conference Spatial Information Theory Lecture Notes Comput Sci vol 716 Springer 1993 pp 5468 28 G Ligozat Reasoning cardinal directions J Vis Lang Comput 9 1 1998 2344 29 G Ligozat J Renz What qualitative calculus A general framework C Zhang HW Guesgen WK Yeap Eds Proc PRICAI04 2004 pp 5364 30 D Lücke T Mossakowski D Wolter Qualitative reasoning convex relations C Freksa NS Newcombe P Gaerdenfors Eds Spatial Cognition VI 2008 Lecture Notes Computer Science vol 5248 Springer 2008 pp 426440 31 AK Mackworth Consistency networks relations Artiﬁcial Intelligence 8 1977 99118 32 R Maddux Relation Algebras Stud Logic Found Math Elsevier Science 2006 R Moratz et al Artiﬁcial Intelligence 175 2011 20992127 2127 33 U Montanari Networks constraints Fundamental properties applications picture processing Inform Sci 7 1974 95132 34 R Moratz Representing relative direction binary relation oriented points G Brewka S Coradeschi A Perini P Traverso Eds Proc ECAI06 Frontiers Artiﬁcial Intelligence Applications vol 141 IOS Press 2006 pp 407411 35 R Moratz M Ragni Qualitative spatial reasoning relative point position J Vis Lang Comput 19 1 2008 7598 36 R Moratz J Renz D Wolter Qualitative spatial reasoning line segments Proc ECAI 2000 2000 pp 234238 37 R Moratz T Tenbrink Spatial reference linguistic humanrobot interaction Iterative empirically supported development model projective relations Spatial Cogn Comput 6 1 2006 63107 38 F Mossakowski Algebraische Eigenschaften qualitativer ConstraintKalküle Masters thesis Universität Bremen 2007 39 T Mossakowski S Wölﬂ An algebraic charaterisation qualitative spatial temporal calculi unpublished results 40 A Musto K Stein A Eisenkolb T Röfer Qualitative quantitative representations locomotion application robot navigation Proc IJCAI99 1999 pp 10671072 41 B Nebel HJ Bürckert Reasoning temporal relations A maximal tractable subclass Allens interval algebra J ACM 42 1995 4366 42 B Nebel S Wölﬂ Eds AAAI Spring Symposium Benchmarking Qualitative Spatial Temporal Reasoning Systems AAAI Technical Report SS0902 2009 43 T Nipkow LCM Paulson M Wenzel IsabelleHOL A Proof Assistant HigherOrder Logic Springer 2002 44 DA Randell AG Cohn Modelling topological metrical properties physical processes RJ Brachman HJ Levesque R Reiter Eds Proc KR89 Morgan Kaufmann 1989 pp 357368 45 DA Randell Z Cui AG Cohn A spatial logic based regions connection B Nebel C Rich W Swartout Eds Proc KR92 Morgan Kaufmann 1992 pp 165176 46 J Renz Qualitative Spatial Reasoning Topological Information Springer 2002 47 J Renz G Ligozat Weak composition qualitative spatial temporal reasoning P van Beek Ed Proc CP05 Lecture Notes Comput Sci vol 3709 Springer 2005 pp 534548 48 J Renz D Mitra Qualitative Direction Calculi Arbitrary Granularity C Zhang HW Guesgen WK Yeap Eds Proc PRICAI04 Lecture Notes Comput Sci vol 3157 Springer 2004 pp 6574 49 J Renz B Nebel On complexity qualitative spatial reasoning A maximal tractable fragment region connection calculus Artiﬁcial Intelli gence 108 12 1999 69123 50 J Renz B Nebel Qualitative spatial reasoning constraint calculi M Aiello I PrattHartmann J van Benthem Eds Handbook Spatial Logics Springer 2007 pp 161215 51 J Renz F Schmid Customizing qualitative spatial temporal calculi MA Orgun J Thornton Eds Proc Australian Conference Artiﬁcial Intelligence Lecture Notes Comput Sci vol 4830 Springer 2007 pp 293304 52 R Röhrig Representation processing qualitative orientation knowledge G Brewka C Habel B Nebel Eds Proc KI97 Lecture Notes Artiﬁcial Intelligence vol 1303 Springer 1997 pp 219230 53 C Schlieder Reasoning ordering A Frank W Kuhn Eds Spatial Information Theory A Theoretical Basis GIS Lecture Notes Comput Sci vol 988 Springer Berlin 1995 pp 341349 54 A Scivos B Nebel The ﬁnest class The natural pointbased ternary calculus qualitative spatial reasoning C Freksa M Knauff BK Brückner B Nebel T Barkowski Eds Spatial Cognition Lecture Notes Comput Sci vol 3343 Springer 2004 pp 283303 55 S Skiadopoulos M Koubarakis Composing cardinal direction relations Artiﬁcial Intelligence 152 2004 143171 56 T Soller Speziﬁkation und Integration von qualitativem Orientierungswissen Masters thesis Universität Bremen 2005 57 P van Beek DW Manchak The design experimental analysis algorithms temporal reasoning J Artiﬁcial Intelligence Res 4 1996 118 58 JO Wallgrün L Frommberger F Dylla D Wolter SparQ User Manual v07 University Bremen January 2009 59 JO Wallgrün L Frommberger D Wolter F Dylla C Freksa Qualitative spatial representation reasoning SparQToolbox T Barkowsky M Knauff G Ligozat DR Montello Eds Spatial Cognition Lecture Notes Comput Sci vol 4387 Springer 2006 pp 3958 60 M Westphal S Wölﬂ Qualitative CSP ﬁnite CSP SAT Comparing methods qualitative constraintbased reasoning C Boutilier Ed IJCAI 2009 pp 628633 61 D Wolter LJ Latecki Shape matching robot mapping C Zhang HW Guesgen WK Yeap Eds Proc 8th Paciﬁc Rim International Conference Artiﬁcial Intelligence 2004 pp 693702 62 D Wolter JH Lee On qualitative reasoning relative point position Artiﬁcial Intelligence 174 2010 14981507 63 D Wolter L Moshagen Algebraic methods analyzing qualitative spatiotemporal calculi Proc ECAIWorkshop Spatial Temporal Reasoning 2008 64 MF Worboys E Clementini Integration imperfect spatial information J Vis Lang Comput 12 2001 6180 65 K Zimmermann C Freksa Qualitative spatial reasoning orientation distance path knowledge Appl Intelligence 6 1996 4958