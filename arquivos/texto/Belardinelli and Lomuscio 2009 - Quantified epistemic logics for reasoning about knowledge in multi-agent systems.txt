Artiﬁcial Intelligence 173 2009 9821013 Contents lists available ScienceDirect Artiﬁcial Intelligence wwwelseviercomlocateartint Quantiﬁed epistemic logics reasoning knowledge multiagent systems F Belardinelli A Lomuscio b Scuola Normale Superiore Pisa Italy b Department Computing Imperial College London UK r t c l e n f o b s t r c t Article history Received 23 April 2008 Received revised form 17 December 2008 Accepted 17 February 2009 Available online 24 February 2009 Keywords Knowledge representation Logic knowledge representation distributed knowledge Mathematical Logic ﬁrstorder modal logic epistemic logic Multiagent systems distributed systems message passing systems We introduce quantiﬁed interpreted systems semantics reason knowledge multiagent systems ﬁrstorder setting Quantiﬁed interpreted systems interpret variety ﬁrstorder modal epistemic languages global local terms quantiﬁers individual distributed knowledge operators agents We deﬁne ﬁrstorder modal axiomatisations different settings sound complete respect corresponding semantical classes The expressibility potential formalism explored analysing MAS scenarios inﬁnite version muddy children problem typical epistemic puzzle version battleﬁeld game Furthermore apply theoretical results presented analysis message passing systems R Fagin J Halpern Y Moses M Vardi Reasoning Knowledge MIT Press 1995 L Lamport Time clocks ordering events distributed Communication ACM 21 7 1978 558565 compare results obtained propositional counterparts By ﬁnd key known metatheorems propositional case expressed validities corresponding class quantiﬁed interpreted systems 2009 Elsevier BV All rights reserved 1 Introduction Modal logics reasoning knowledge modal epistemic logics widely studied artiﬁcial intel ligence community years The area directed fundamental theoretical research covering topics axiomatisability completeness decidability complexity formalisms 35 application modal epistemic languages speciﬁcation veriﬁcation multiagent systems 205364 The typical epistemic language extends propositional logic adding n modalities K representing knowledge agent group A 1 n agents The use formalisms speciﬁcation languages nowadays main stream require little justiﬁcation expressive languages wellunderstood theoretical point view 1449 For expressiveness purposes epistemic logic extended directions In line research modalities distributed common knowledge added basic formalism 1415 In epistemic language enriched temporal operators assumption given model time linear branching discrete continuous 294870 In direction epistemic logic studied predicate level 364351 allowing richer speciﬁcations Corresponding author Email addresses fbelardinellisnsit F Belardinelli ALomuscioimperialacuk A Lomuscio 00043702 matter 2009 Elsevier BV All rights reserved doi101016jartint200902003 F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 983 This paper takes inspiration line research intended contribute subject ﬁrstorder epistemic logic speciﬁcation multiagent systems MAS Speciﬁcally provide ﬁrstorder epistemic languages computationally grounded semantics 65 given terms quantiﬁed interpreted systems QIS We believe QIS natural extension ﬁrstorder interpreted systems typical semantical framework epistemic logics MAS 1453 Further analyse epistemic perspective theoretical implications different ﬁrstorder extensions quantiﬁcation domains indexed agents computational states domains intensional objects One main results paper consists showing semantical classes introduced ﬁnitely axiomatisable This ob tained adapting standard techniques quantiﬁed modal logic 1161930 epistemic frameworks analysed We techniques 15 proving completeness epistemic languages distributed knowledge extended ﬁrstorder Finally formalisms presented allow study ﬁrstorder setting message passing sys tems typical framework distributed systems 3852 revealing metatheorems message passing systems expressed validities corresponding class quantiﬁed interpreted systems 11 Firstorder epistemic logic knowledge representation Although quantiﬁed modal logic QML reputation source incompleteness 101957 quantiﬁcation expressive feature considered literature knowledge representation AI For instance specifying behaviour MAS quantiﬁcation natural convenient feels compelled bring explicitly syntax As maintained 39 power FOL ﬁrstorder logic deal inﬁnities deal incomplete knowledge 39 p 81 Moreover knowledge representation power ﬁrstorder logic welcome time agents reason relational statements agent knows message μ sent agent agent b formally K iSenta b μ functional dependencies identity agent knows message μ encryption message μcid3 key k formally K iμ enck μcid3 inﬁnite domains individuals ﬁnite domains cardinality bounded advance agent read email deleting μDeletei μ Readi μ quantiﬁcation agents child process knows launched KchildiLaunchedi childi Furthermore context logics knowledge known epistemic modalities combined quantiﬁers formalise rede dicto knowledge 1630 expressing concepts expressible propositional level For instance agent know computation produces output having dicto knowledge expressed following speciﬁcation comp K y Outputcomp y know actual output computation Therefore following speciﬁcation satisﬁed comp y K Outputcomp y However use ﬁrstorder modal logic MAS speciﬁcations frowned use undecidable language decidable job reasonably Is price quantiﬁcation brings justiﬁed While objections certainly sensible believe strength increasingly weakened recent progress MAS veriﬁcation model checking 13184454 advances theory QML In model checking approach 63147 decision problem tackled checking validity simply sidering model satisfaction In words check formula representing speciﬁcation satisﬁable model true model representing possible evolutions given While problem undecidable QML decidable interesting fragments investigations required In addition recent contributions axiomatisability 5863 decidability 252762 quantiﬁed modal logic includ ing positive 11232456 negative results 12265961 shown useful QML fragments axiomatisable decidable raising hopes quantiﬁed MAS logic axiomatisable decidable 984 F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 Our motivation present contribution comes reasoning multiagent systems high level properties usefully modelled epistemic formalisms suitably extended predicate logic Before turning formal machinery review main approaches ﬁrstorder epistemic formalisms knowledge representation artiﬁcial intelligence 12 State art The study epistemic logic ﬁrstorder setting long established tradition AI Among early tributions highlight 1722 semantical philosophical issues identity epistemic contexts explored More recent works focus computational planning abilities agents 3950 ﬁrstorder epis temic logic FOEL speciﬁcation language agents In 51 theory action presented takes account knowledge prerequisites action effects action knowledge Firstorder logic extensively applied deductive machinery knowledge bases In 3637 logic belief decidable form ﬁrstorder entailment presented 4142 investigations pursued considering restricted forms ﬁrstorder doxastic logic FOEL brieﬂy discussed classic textbooks 1449 Kripke semantics signiﬁcant validities attempt extend interpreted systems ﬁrstorder completeness issues tackled Also 3233 introduces applications FOEL game theory 27 discusses epistemic formalisms context security protocol In orthogonal dimension 21 presents analysis common knowledge multiagent systems inﬁnitely agents Firstorder epistemic logics MAS speciﬁcation 6769 studied relation MAPLE programming language agents In 67 quantiﬁed epistemic temporal logic QUETL presented order develop veriﬁcation methodology multiagent systems Firstorder logic appears base number agent theories BDI logics 55 KQML framework 8 LORA framework 66 modalities mental attitudes knowledge belief intention desire temporal dynamic operators However current literature agent theories far fallen short systematic analysis formal machinery underlying frameworks Often theoretical properties axiomatisability decidability complexity MAS formalisms main focus investigations Indeed certain frameworks rich extremely unlikely devise ﬁnite axiomatisation Still references relevant present investigations explicitly addressed subject ﬁrstorder modal languages MAS setting From purely theoretical perspective quantiﬁed modal logic received attention wealth contributions axiomatisability 115863 decidability 122562 complexity 2427 fragments QML In 62 monodic fragment quantiﬁed modal logic free variable appears scope modal operators introduced decidability subfragments proved In 2325 similar results obtained monodic fragments ﬁrst order temporal logic complexity formalisms analysed 2427 Further 63 provides complete axiomatisation monodic ﬁrstorder validities natural numbers Also monodic fragment FOEL explored In 61 monodic ﬁstorder epistemic logic common knowledge proved decidable 5859 fragment axiomatised The lines work constitute theoretical applied background research set 13 The present contribution This paper extends current state art ﬁrstorder epistemic logic introducing family provably complete ﬁrstorder epistemic logics global local terms While denotation rigid computational state latters depends state expressions interpreted The quantiﬁed epistemic languages introduced nontrivial extensions propositional modal languages 1630 The use ﬂexible terms inspired 19 presents completeness proof languages The relevance distinction global local terms long recognised 1646 From semantical viewpoint key contribution paper extension interpreted systems ﬁrstorder obtained endowing structures quantiﬁcation domains In quantiﬁed interpreted systems allow agent reason possibly different set objects This choice motivated fact agents autonomous aware subset existing individuals possibly different agents We aim provide theory awareness agents knowledge simply observe universally quantiﬁed statements referring agent boxes red universal assumed consider proper subset domain possible individuals set boxes considered Interpreted systems typical formalism epistemic logic MAS 2053 knowledge attempt extend structures ﬁrstorder references 14 FOEL interpreted systems explicitly considered We deem extension potentially note structures represent computationally grounded semantics sense 65 suitable deﬁnition protocols programs agents development model checking techniques Furthermore provably sound complete axiomatisations presented classes QIS considered The com pleteness proofs use standard techniques QML 960 suitably extended deal semantical framework quantiﬁed interpreted systems richer language local terms indexed quantiﬁers distributed knowledge F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 985 The completeness proof FOEL distributed knowledge extends ﬁrstorder techniques 15 Note independent completeness proof propositional languages appeared 28 Finally apply formal machinery analysis MAS scenarios The muddy children puzzle message passing systems belong folklore AI distributed systems 1438 ﬁrstorder formalisations provided original Scheme paper In Section 2 present classes ﬁrstorder structures systems global states Kripke frames subclasses In Section 3 introduce group ﬁrstorder modal languages interpreted quantiﬁed interpreted systems valued version systems global states In Section 4 introduce class ﬁrstorder modal axiomatisations prove soundness completeness respect structures Section 2 In Section 5 exemplify use syntax semantics describing formal models multiagent systems discuss speciﬁcation patterns Section 6 devoted analysis message passing systems Finally Section 7 presents related work draws conclusions 2 Systems global states Kripke frames In section introduce systems global states Kripke frames ﬁrstorder setting While ﬁrst ones science model behaviour MAS 14204953 Kripke frames typically employed acquire deeper understanding formal properties systems 35 Technically extend corresponding propositional structures ﬁrstorder considering distinct domain quan tiﬁcation agent This choice motivated fact agents autonomous consider distinct domains individuals Then deﬁne maps classes structures prove composition maps isomorphism These results translating completeness results Kripke semantics systems global states In follows assume set agents A 1 n 21 Systems global states This paper primarily concerned representation knowledge MAS temporal evolution Given adopt static perspective systems global states 45 dynamic version 14 So assume states result evolution given protocols transitions consider cid3 agent A set Le containing explicitly More formally consider set Li local states li l local states environment le l cid3 e We deﬁne global states follows Deﬁnition 1 Systems global states A global states SGS tuple S cid8S D D ii A F F ii Acid9 S Le L1 Ln nonempty set global states D nonempty set individuals A D subset D F f f S D nonempty set functions S D A F subset F We denote class systems global states SGS Intuitively S set possible conﬁgurations corresponding set reachable states obtained considering temporal evolution Given consider temporal dimension simply S subset set possible states cid3 cid3 cid3 The domain D contains individuals interpreting global terms F interpretation domain local terms We assign ﬁxed meaning global terms like π including corresponding real number domain D individuals On contrary expressions value stored register identiﬁes possibly different values respectively modelled function f F called intensional object f s f s different global states s s cid3 In systems global states possibly different quantiﬁcation domains D F agent A This feature motivated fact agent autonomous partial view surrounding environment access subsets D F domains D F individuals possibly different domains D j F j agent j Note general D F independent global states s s cid3 S domains D F agent s domains D F s This means individuals appear disappear evolution We deem assumption consistent external account knowledge usually adopted framework epistemic logic In line research knowledge ascribed agents external observer case speciﬁer explicitly possessed This means formula like K ii yφ express agent explicitly knows y φ yφ case Instead suﬃces y knows φ case y K iφ In words agent needs aware individuals domain quantiﬁcation In respect individuals D F thought persisting global states viewpoint external observer cid3 In section consider classes systems global states 986 F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 22 Further systems global states We remarked systems global states individuals appear disappear A different scenario wish consider consists quantiﬁcation domains changing runtime For purpose introduce varying systems global states Deﬁnition 2 Varying SGS A varying global states varying SGS tuple S cid8S D D ii A F F ii Acid9 cid3 S D F deﬁned Deﬁnition 1 A D function S power set D D D cid3 D F function S power set F F We denote class varying systems global states SGS var cid3 F cid3 F cid3 In varying SGS domains quantiﬁcation depend agent computational state cid3 s cid11 s Therefore varying SGS useful model systems individuals appear disappear runs quantiﬁcation domain D respectively F possibly different D cid3 respectively F Observe domains D F contribute deﬁnition local state agent state s This cid3 The quantiﬁcation implies states s s domains depend local states agents While instructive look general setting consider case quantiﬁcation domain available agent local state Thus introduce regular systems global states cid3 D cid11 D lis lis cid3 F cid11 F cid3 Deﬁnition 3 Regular SGS A regular global states regular SGS varying SGS s s cid3 S lis lis F F We denote class regular systems global states SGS reg implies D D cid3 cid3 cid3 1 In words regular SGS quantiﬁcation domains agent local state Further note global states individuals D seen constant functions S D D consider function S D returning s S Hence D domain F intensional objects obtaining peculiar class systems global states Deﬁnition 4 Objectual SGS An objectual global states objectual SGS SGS S cid8S D D ii A F F ii Acid9 D F A D F We denote class objectual SGS SGSobj Objectual SGS seen triples S cid8S D D ii Acid9 particular instances SGS easier handle suitable modelling useful applications Section 5 In fact objectual SGS suﬃcient interpreting ﬁrstorder epistemic languages global terms typical formalism quantiﬁed modal logic 161930 Thus present semantical framework encompasses formal accounts available literature QML For present investigations particular explore relationship individuals D F A In general global states domain F set function S D ﬁnd convenient deﬁne constraints functions F In rest paper consider following constraints s s cid3 cid3 S lis lis cid3 S f F lis lis f s D implies f s D f s D implies f s cid3 cid3 cid3 D s s s S f F f s D s s s s cid3 S f F lis lis cid3 S f F lis lis cid3 cid3 implies f s f s implies f s f s cid3 cid3 D 2 3 4 5 6 Intuitively formula 2 expresses fact intensional object f chooses existing individual global state s agent knows fact Formula 3 restricts formula 2 intensional objects domain F formula 4 strengthening 3 urging F set functions domain S codomain D D Further formula 5 functions F domain set Li agent local state formula 6 conjunction 4 5 implies functions F domain Li codomain D Given introduce ﬁve classes systems global states Deﬁnition 5 For k 2 cid2 k cid2 6 SGSk SGS class global states satisfying formula k F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 987 In Section 4 prove results available systems global states SGS notably soundness completeness theorems apply classes SGS minor changes The following table summarises classes SGS analyse rest paper 2 cid2 k cid2 6 Systems global states SGS SGS var SGS obj SGS reg SGSk varying objectual regular SGS SGS satisfying formula k Finally note allow possibility A D This implies agents reason prop erties relationships examples expressiveness possibilities present formalism given Section 32 23 Kripke frames While Kripke frames intuitive interpreted systems model MAS convenient pur pose formal analysis notably completeness investigations As customarily epistemic logic work frames equivalence relations nonempty set W w W w w w w W cid3cid3 w cid3 cid3 w w w w W w w cid3 cid3 implies w w cid3 w cid3 w cid3cid3 implies w w reﬂexivity symmetry transitivity cid3cid3 following deﬁnition Deﬁnition 6 Frames A Kripke frame frame tuple F cid8W ii A D D ii A F F ii Acid9 W non set A equivalence relation W D nonempty set individuals A D subset D F f f W D nonempty set functions W D A F subset F The class Kripke frames denoted K In model theory modal logic W usually referred set possible worlds accessi bility relation worlds 34 The intuitive meaning elements D F Kripke frame similar global states represent domains interpretation global local terms respectively In contrast interpreted systems Kripke frames static structures obvious relation temporal evo lution However given approach QIS static focus purely epistemic languages present deﬁnition Kripke frames adequate purposes theoretical investigations In section consider specialisations notion frame 24 Further Kripke frames In order investigate varying regular objectual SGS introduce varying regular objectual Kripke frames follows Deﬁnition 7 Varying frames A varying frame tuple F cid8W ii A D D ii A F F ii Acid9 W D F deﬁned Deﬁnition 6 A D function W power set D F function W power set F We denote class varying Kripke frames Kvar In analogy regular SGS regular Kripke frames Deﬁnition 8 Regular frames A regular frame varying frame w w cid3 W w w cid3 implies D iw D iw cid3 F iw F iw cid3 We denote class regular frames Kreg We introduce objectual frames 7 Deﬁnition 9 Objectual frames An objectual frame frame F cid8W ii A D D ii A F F ii Acid9 D F A D F We denote class objectual frames Kobj 988 F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 Objectual frames seen tuples F cid8W ii A D D ii Acid9 Finally 2 cid2 k cid2 6 introduce class Kk Kripke frames corresponding SGSk sense precise following section First consider following constraints Kripke frames cid3 w w cid3 W w w cid3 W f F w w w w w W f F f w D f w D implies f w D f w D implies f w cid3 cid3 cid3 D w w w w cid3 W f F w w cid3 W f F w w cid3 cid3 implies f w f w implies f w f w cid3 cid3 D 8 9 10 11 12 The meaning formulas 812 similar formulas 26 We introduce 5 classes Kripke frames Deﬁnition 10 For k 2 cid2 k cid2 6 Kk K class global states satisfying formula k 6 All classes Kripke frames introduced far summarised following table 2 cid2 k cid2 6 Kripke frames K Kvar Kobj Kreg Kk varying objectual regular frames K satisfying formula k 6 We use SGS model concrete systems protocols rely Kripke frames technical results notably completeness proofs 25 Maps systems global states Kripke frames We explore relationship systems global states Kripke frames means maps f SGS K g K SGS By Lemma 14 Theorem 41 axiomatisation Kripke frames Section 4 sound complete class SGS Speciﬁcally Lemma 14 states frame F cid8W ii A D D ii A F F ii Acid9 isomorphic f gF cid8W Acid9 bijec cid3 cid3 tions W W In addition cid3 As consequence sound complete axiomatisation w w Kripke frames axiomatisation systems global states cid3 cid3 F A D cid3 corresponding F F cid3 F F iff f gw cid3 cid3 f gw corresponding D D D D A F cid3 cid3 cid3 D cid3 cid3 In order prove result start introducing map f SGS K Deﬁnition 11 Let S cid8S D D ii A F F ii Acid9 global states deﬁne f S tuple cid8S ii A D D ii A F F ii Acid9 A relation S deﬁned cid8le l1 lncid9 cid8l cid9 iff li l cid3 e l cid3 cid3 1 l n cid3 It easy check equivalence relation f S frame To deﬁne converse map g K SGS let F cid8W ii A D D ii A F F ii Acid9 frame For equivalence cid3 local state agent w w cid3 w w relation w W deﬁne equivalence class wi local state environment Deﬁnition 12 Given frame F cid8W ii A D D ii A F F ii Acid9 let gF tuple cid8S D D ii A F cid9 F S contains n 1tuples cid8w w1 wn cid3cid8w w1 wn f w f F A F f cid9 f w f F set functions f f cid3 f cid3 cid3 cid3 F cid3cid8w w1 wn Acid9 cid9 cid3 By construction structure gF global states We prove compositions f g g f isomorphisms respective structures Only Lemma 14 actually needed prove completeness respect SGS Section 4 present Lemma 13 state precisely correspondence systems global states Kripke frames In follows πicid8a1 amcid9 ai cid2 m Lemma 13 Every global states S isomorphic g f S Proof If S cid8S D D ii A F F ii Acid9 SGS g f S cid8S cid3 S set n 1tuples cid8s s1 sn cid9 s S The function hs cid8s s1 sn Acid9 SGS cid9 bijection cid3 D D ii A F cid3 F cid3 F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 989 cid3 onetoone s s cid3 S S S hπ1s s Identity trivially bijection D f F cid2 f s f cid9 s S bijection F F cid3cid8s s1 sn s s particular π1s π1s cid3 F f cid3 cid3 cid3 cid3 cid3 It s S cid3 function h h cid3 π1s S cid3 f f iff cid3 Lemma 14 Every Kripke frame F isomorphic f gF cid3 set n 1tuples cid8w w1 wn Proof If F cid8W ii A D D ii A F F ii Acid9 Kripke frame f gF cid8W W bijection W W cid3 w W cid3 F cid3 function h f cid3 cid3 Moreover w w F Acid9 cid9 cid3 It π1w W hπ1w w Also case identity D bijection f F cid3cid8w w1 wn cid9 w W bijection F cid9 cid3 cid3 cid3 cid9 w W The function hw cid8w w1 wn iff f w f cid3i iff cid8w w1 wn particular π1w π1w onetoone w w h iff wi A D D ii A F cid31 w w w cid3 f f cid3 W cid9 cid2 w cid3 w cid3n cid3 F cid8w cid3 cid3 cid3 cid3 cid3 cid3 By Lemma 14 Theorem 41 axiomatisation Kripke frames presented Section 4 adequate systems global states 26 Further maps It straightforward extend maps f g deal classes SGS Kripke frames As regards varying SGS frames deﬁne map f var SGS var Kvar f deﬁne map gvar Kvar SGS var g cid3 s cid8w w1 wn cid3 π1s f F iw w cid3 deﬁned D iw F cid3 s deﬁned f cid9 gvarF D cid3 f w cid3 f cid3 cid3s We state following isomorphism result proof follows Lemmas 13 14 little modiﬁcations Corollary 15 Every varying SGS S isomorphic gvar f varS Every varying frame F isomorphic f vargvarF Further shown f varS regular frame S regular SGS Also gvarF regular SGS F regular frame Therefore following Corollary 16 Every regular SGS S isomorphic gvar f varS Every regular frame F isomorphic f vargvarF The map f obj SGS obj Kobj objectual systems global states Kripke frames deﬁned restric similarly deﬁned restrictions g cid8W tion ii A D D ii Acid9 By considerations similar Lemmas 13 14 easy following cid8S D D ii Acid9 map gobj Kobj SGS obj f Corollary 17 Every objectual SGS S isomorphic gobj f objS Every objectual frame F isomorphic f objgobjF Finally 2 cid2 k cid2 6 frame f S satisﬁes formula k 6 S satisﬁes k Also SGS gF satisﬁes formula k F satisﬁes k 6 Therefore following holds Corollary 18 Let 2 cid2 k cid2 6 Every SGS S SGSk isomorphic g f S Every frame F Kk isomorphic f gF In following table summarise correspondences systems global states Kripke frames 2 cid2 k cid2 6 Systems global states Kripke frames SGS SGS var SGS obj SGS reg SGSk K Kvar Kobj Kreg Kk In Section 4 Corollaries 1518 proving completeness respect classes systems global states obtained completeness corresponding class Kripke frames 990 F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 3 Syntax semantics In section introduce family ﬁrstorder epistemic languages containing local global terms quantiﬁers epistemic operators identity symbol These languages interpreted models based Kripke frames Finally present quantiﬁed interpreted systems valued version systems global states 31 Syntax The ﬁrstorder epistemic language Ln contains global variables x1 x2 local variables z1 z2 global constants nary pred 2 n N identity symbol boolean connectives A c1 c2 local constants d1 d2 Moreover n 1ary function symbols f n1 icative constants P n indexed quantiﬁer epistemic operator K unary predicative constant Admi f n1 1 P n 2 1 Deﬁnition 19 Ln Terms formulas Ln deﬁned follows t x z c d f kt1 tk φ P kt1 tk t t cid3 Admit φ φ φ cid3 K iφ xφ zφ The operator K A standard epistemic modality 14 The formula K iφ intuitively means agent knows φ case The formula xφ respectively zφ states φ case individuals D respectively F Admit means individual denoted term t admissible individuals considered agent individuals D F The symbols deﬁned logical constants standard metavariables y y cid3 refer local global variables Ln A global term s deﬁned s x c f ks1 sk A term complying said local The metavariables s s terms respectively v v s represent state global term context disambiguate cid3 refer global local cid3 refer closed global local terms variable appears The symbol cid3 u u cid3 r r Moreover tcid18y resp φcid18y means cid18y y1 yn local global free variables t resp φ tcid18ycid18t resp φcid18ycid18t denotes term resp formula obtained substituting simultaneously possibly free occurrences y1 yn t resp φ t1 tn renaming bounded variables necessary We assume local variables substituted local terms holds global variables terms We write GVar LVar GCon LCon denote sets global local variables sets global local constants Ln respectively In paper consider languages Lobj n LD n describing objectual structures introduced Section 2 Deﬁnition 20 Lobj follows n The language Lobj n restriction Ln global terms Terms formulas Lobj n deﬁned t x c f kt1 tk φ P kt1 tk t t cid3 Admit φ φ φ cid3 K iφ xφ Deﬁnition 21 LD subset G A Terms formulas LD n The language LD n extends Lobj n deﬁned follows n adding distributed knowledge operator D G nonempty t x c f kt1 tk φ P kt1 tk t t cid3 Admit φ φ φ cid3 K iφ D G φ xφ The formula D G φ intuitively means φ distributed knowledge agents subset G A 15 details We language Lobj n n useful application distributed systems Section 5 The notions deﬁned subsection language Ln extended LD expressive speciﬁcation objectual SGS LD n obvious changes In paper consider extensions common knowledge n Lobj F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 991 32 Expressiveness This section provides examples expressiveness ﬁrstorder epistemic languages introduced Sec tion 31 First Ln express agents knowledge properties relationships individuals For instance consider following speciﬁcations 1 Agent knows process x agent j knows exists precondition x cid3 considered fulﬁlled order x executed 2 Agent knows inputs considered agent j exists x agent j know cid3 computation x input x fails 3 Every successful transmission x returns code z agent know code maybe return code encrypted These statements intuitively formalised follows cid3 Executedx Fulﬁlx 1 K ii xProcessx K ji x cid3 2 K j xInputx K j j x 3 xi zz returncodex K iz returncodex cid3Precondx cid3Compx cid3 Failsx x cid3 We note rich expressiveness language obtained combining epistemic modalities quantiﬁers interplay local global terms speciﬁcation Section 51 Also observe framework model knowledge agents pointed introduction In addition discussed obviously retain expressive power propositional epistemic logic Further framework ﬁrstorder epistemic logic express rede dicto distinction difference knowing soandso knowing soandso For instance use informal speciﬁcation far security controller concerned user authorised access site interpret implement dicto descriptively 1 security controller knows user authorised access site prescriptively 2 user security controller knows authorised access site These readings express different concepts While easily separated means propositional language Ln promptly follows 1 KSecConSecConxAuthorisedx Accessx 2 SecConxAuthorisedx KSecConAccessx The difference meaning speciﬁcations clear For instance security controller granting access authorised user violation 2 1 regard authorised user 33 Kripke models quantiﬁed interpreted systems We proceed interpret ﬁrstorder epistemic languages classes Kripke frames deﬁned Section 2 Then introduce quantiﬁed interpreted systems valued version systems global states Deﬁnition 22 Kripke model A Kripke model based frame F model pair M cid8F Icid9 interpretation I c global constant Ic D d local constant Id F I f kcid18gw I f kg1w gkw f k kary function symbol I f k kary function F k F cid18g F k w W IP k w kary relation D IAdmi w D F I w equality relation D 992 F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 In Kripke model global constants interpreted rigidly local constants case Idw cid3 D This case models different Idw scenario agent know denotation term d individuals domain quantiﬁcation Shortly deal situation In particular case Idw D Idw cid3 w cid11 w cid3 Each I f k function F k F arguments constant functions elements D I f k function Dk D The condition I f k guarantees identical terms substituted denotations terms t identical denotation substituted term t yt cid3 identical t yt t cid3cid3 cid3cid3 cid3 Finally remark Admi intensional predicate interpretation D F subset D consider domains intensional objects domains individuals We consider varying regular objectual models based varying regular objectual frames Now let σ assignment function GVar D LVar F Deﬁnition 23 Valuation The valuation Iσ t w D term t world w inductively deﬁned follows Iσ x w Iσ x σ x Iσ z w Iσ zw σ zw Iσ c w Iσ c Ic Iσ d w Iσ dw Idw Iσ f kt1 tk w I f kIσ t1 w Iσ tk w I f kIσ t1 Iσ tkw constraint I f k The deﬁnition Iσ t D F derived Deﬁnition 23 Note t global term Iσ t Iσ t w w W On hand t local term Iσ t intensional object belonging F The valuation terms Lobj n The variant σ cid2 z f assignment σ assigns D x GVar coincides σ variables f F z LVar similarly deﬁned restricted global terms cid2 variant σ x cid3 cid3 Deﬁnition 24 Satisfaction The satisfaction relation cid20 φ Ln w W assignment σ inductively deﬁned follows cid3 Mσ w cid20 P kt1 tk Mσ w cid20 t t Mσ w cid20 Admit Mσ w cid20 ψ Mσ w cid20 ψ ψ cid3 Mσ w cid20 K iψ Mσ w cid20 xψ Mσ w cid20 zψ iff iff iff iff iff iff iff iff cid8Iσ t1 w Iσ tk wcid9 IP k w cid3 w Iσ t w Iσ t Iσ t D F Mσ w cid11cid20 ψ Mσ w cid11cid20 ψ Mσ w cid20 ψ cid3 cid3 W w w w D Mσ x f F Mσ z w cid20 ψ f w cid20 ψ cid3 implies Mσ w cid3 cid20 ψ The truth conditions formulas containing deﬁned The formula Admit means individual Iσ t D F admissible agent In particular t global term Iσ t Iσ t w D On hand t local term Iσ t intensional object F If consider varying models deﬁnition satisfaction following clauses Deﬁnition 25 The satisfaction relation cid20 φ Ln w W assignment σ inductively deﬁned follows Mσ w cid20 Admit Mσ w cid20 xψ Mσ w cid20 zψ iff iff iff Iσ t D iw F iw D iw Mσ x f F iw Mσ z w cid20 ψ f w cid20 ψ The meaning formula φ Lobj n Further truth conditions D G φ LD objectual model M deﬁned restricting Deﬁnition 24 global terms n objectual models speciﬁed follows Mσ w cid20 D G ψ iff w cid3 W w w cid3 implies Mσ w cid3 cid20 ψ cid4 iG F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 993 As customary formula φ true world w iff satisﬁed w assignment σ φ valid model M iff true world M φ valid frame F iff valid model based F φ valid class C frames iff valid frame C Let cid7 set formulas M model cid7 M cid20 cid7 iff formula cid7 valid M F frame cid7 F cid20 cid7 iff model based F model cid7 A frame F cid7 called cid7frame cid7K denote class cid7frames We formal machinery introduce quantiﬁed interpreted systems follows Deﬁnition 26 Quantiﬁed interpreted systems Given SGS S quantiﬁed interpreted systems QIS pair P cid8S Icid9 I interpretation Ln f S The notions satisfaction truth validity QIS deﬁned Let P f cid8 f S Icid9 Kripke model associated quantiﬁed interpreted P cid8S Icid9 P σ s cid20 φ iff P σ f s cid20 φ In particular truth conditions epistemic modalities interpreted systems preserved deﬁnition Kripke models boils usual truth conditions interpreted systems P σ s cid20 K iψ iff P σ s cid20 D G ψ iff s s cid3 S lis lis cid3 implies P σ s cid3 S G lis lis cid3 cid20 ψ cid3 P σ s cid3 cid20 ψ We formula φ Ln valid quantiﬁed interpreted systems P iff φ valid P f Deﬁnition 26 applies classes SGS Deﬁnition 27 varying QIS Given varying SGS S varying QIS pair P cid8S Icid9 I interpretation Ln f varS regular QIS Given regular SGS S regular QIS pair P cid8S Icid9 I interpretation Ln f varS objectual QIS Given objectual SGS S objectual QIS pair P cid8S Icid9 I interpretation Lobj n f objS QISk Let 2 cid2 k cid2 6 Given SGS S SGSk QISk pair P cid8S Icid9 I interpretation Ln f S Quantiﬁed interpreted systems Sections 5 6 model instances multiagent systems But ﬁrst discuss important validities structures 34 Validities In Section 2 remarked systems global states domains quantiﬁcation D F independent global states Therefore Barcan formula converse 16 valid indexed form class SGS SGS cid20 y K jφ K ji yφ SGS cid20 K ji yφ y K jφ BFi j CBFi j These validities state agent knows individuals agents reason By BFi j agent js epistemic alternatives individuals agent domains j presently considers agent j generalise knowledge Similarly CBFi j agent js epistemic alternatives fewer individuals agent domains agent j particularise knowledge When agent generalise particularise knowledge domain objects knowledge domain implicitly For reasons SGS cid20 Adm jt K iAdm jt SGS cid20 Adm jt K iAdm jt NecAdm NecAdm By validities agent knows individual belongs domain admissible individuals agent In language LD n Barcan formulas hold distributed knowledge operator D G 994 F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 SGS cid20 y D G φ D G yφ SGS cid20 D G yφ y D G φ SGS cid20 Adm jt D G Adm jt SGS cid20 Adm jt D G Adm jt These principles strong external account knowledge knowledge explicitly possessed agents attributed external observer After introduced different domains quantiﬁcation expressing agent limited access totality individuals If know agents domains theirs construction questionable Given turn varying SGS formulas valid quantiﬁcation domains change according global states But undermine agents knowledge domains equally unwelcomed Our solution consists admitting BFi j CBFi j j In fact formulas hold class regular SGS BFii SGS reg cid20 y K iφ K ii yφ SGS reg cid20 K ii yφ y K iφ CBFii In way solve problem having quantiﬁcation domains D F A depending local states agents regular SGS quantiﬁcation domains considered agents local state By restricting attention regular SGS satisfying restricted versions BFii CBFii Barcan formulas model scenario agents know respective domains quantiﬁcation necessarily agents Finally remark present semantical framework admit possibilia objects D F appear quantiﬁcation domains D F agent A Moreover agents knowledge possible entities models K P t true world w Iσ t w belonging D Iσ t w D The existence like possible objects debated topic philosophy modal logic 40 35 review classic possibilist actualist accounts However AI introduction possibilia useful model speciﬁc scenarios For instance agent know horse ﬂies xK iHorsex Flyx studied Greek classics knows Pegasus ﬂying horse K iHorsePegasus FlyPegasus A solution puzzle consists considering Pegasus possible object D D 35 Individual terms identity As regards identity observe following formulas hold global terms global states SGS cid20 s s SGS cid20 s s SGS cid20 s cid11 s cid3 cid3 cid3 φxs φxs K s K cid11 s cid3 cid3 cid3 Subst K iId K iDif local terms SGS cid11cid20 u u SGS cid11cid20 u u SGS cid11cid20 u cid11 u cid3 cid3 cid3 φzu φzu K iu u K iu cid11 u cid3 cid3 cid3 These invalidities motivate names ﬂexible rigid terms given 46 Identical global terms substituted formula particular epistemic contexts local terms cid3 φzu φzu SGS cid20 u u atomic φ cid3 φ different Admiu cid3 SGS cid11cid20 u u Admiu Admiu cid3 Admi intensional predicate individuals Iσ u w Iσ u object Iσ u belongs F Iσ u cid3 F cid3 w D identical intensional The relationship local global terms particularly relevant present investigations We remarked Iσ D case agent distinguish states s s cid3 D local term u This means state s agent aware object denoted u Iσ know This feature semantics considered unsatisfactory note agents explicitly know domains quantiﬁcation case varying QIS However possible cid3 D address point assuming formula 2 A f F lis lis We capture constraint means following formula cid3 f s D f s cid3 xd x K ii xd x 13 F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 995 We easily check following correspondence holds S cid20 xd x K ii xd x iff S satisﬁes formula 2 Further restrict principle intensional objects contained F According formula 3 agent knows denotation intensional objects domain quantiﬁcation Similarly formula captured means formula Ln zi xz x K ii xz x 14 The following correspondence promptly proved S cid20 zi xz x K ii xz x iff S satisﬁes formula 3 Finally strengthen formula 14 requiring denotation local term domain agent conditionally individual belonging agent domain individuals formula 4 holds Also case provide formal counterpart formula Ln zK ii xz x noting following correspondence holds S cid20 zK ii xz x iff S satisﬁes formula 4 15 Moreover require agent knows denotation local terms domain quantiﬁ cation This tantamount formula 5 captured following formula Ln zz u K iz u 16 similarly prove following correspondence holds S cid20 zz u K iz u iff S satisﬁes formula 5 We combine formulas 16 15 order express formula 6 fact agent knows denotation local terms individual domain quantiﬁcation We express formula 6 means following formula Ln zi xK iz x respective correspondence holds S cid20 zi xK iz x iff S satisﬁes formula 6 17 Note formula 17 version 15 According 17 local term u exactly individual known agent denotation u In section consider formulas 1317 prove completeness semantical classes intro duced respect relevant axiomatisations As summary lemma list formulas corresponding classes systems global states Kripke frames Lemma 28 In table row formula ﬁrst column valid SGS second column valid frames column Formulas SGS Frames y K φ K yφ 13 xd x K xd x 14 zi xz x K xz x 15 zK xz x 16 zz u K z u 17 zi xK z x SGS reg SGS 2 SGS 3 SGS 4 SGS 5 SGS 6 Kreg K2 K3 K4 K5 K6 Proof We provide details proof note validity formulas corresponding classes SGS follows remarks earlier section validity Kripke frames follows corollaries 1518 cid2 We remark classes SGS 6 systems global states K6 Kripke frames tantamount intersections SGS 4 SGS 5 K4 K5 respectively 996 F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 4 Axiomatisations In section introduce sound complete axiomatisations classes SGS presented Sections 2 3 We start considering ﬁrstorder epistemic Q S5n tune calculus cover varying objectual regular SGS structures satisfying formulas 212 While resolution natural deduction calculi suitable dealing automated reasoning purpose completeness proof Hilbertstyle systems easier handle 41 System Q S5n The Q S5n language Ln ﬁrstorder multimodal version propositional S5 Hereafter list axioms inference rules We use denote inference relation formulas Deﬁnition 29 Q S5n The Q S5n Ln contains following schemes axioms inference rules Taut K T 4 5 MP Nec Ex Gen BFi j CBFi j Id Func Subst K Id K Dif instance classic propositional tautologies K φ ψ K φ K ψ K φ φ K φ K K φ K φ K K φ φ ψ φ ψ φ K φ yφ Admi t φ yt φ Admi t ψ yt φ yψ y free φ y K j φ K j yφ K j yφ y K j φ t t t t t t s s s cid11 s cid3 t cid3cid3 yt cid3cid3 yt t cid3 φ yt φ yt cid3 K s s cid3 K s cid11 s cid3 cid3 atomic φ cid3 cid3 The ﬁrst group postulates axiomatises multimodal S5n Following free logic postulates quantiﬁcation global local terms The Barcan formulas guarantee domains admissible individuals independent global states shown Finally axioms Id Func Subst terms K iId K iDif hold global terms We note proof axioms Subst K iId suﬃcient deriving substitution identical global terms ﬁrstorder modal formula φ We deﬁne proofs theorems standard cid23Q S5n φ means φ Ln theorem Q S5n Moreover φ Ln derivable Q S5n set cid7 formulas Ln write cid7 cid23Q S5n φ iff φ1 φm cid7 cid23Q S5n φ1 φm φ Lemma 30 Among theorems Q S5n NecAdm NecAdm cid23Q S5n Admi t K j Admi t cid23Q S5n Admi t K j Admi t Knowledge Admissibility Knowledge Inadmissibility Proof The proof NecAdm goes follows cid23Q S5n Admit Admit b cid23Q S5n yAdmi y c cid23Q S5n K ji yAdmi y d cid23Q S5n e cid23Q S5n K ji yAdmi y Admit K jAdmit f cid23Q S5n Admit K jAdmit y K jAdmi y Admit K jAdmit axiom Ex d CBFi j c e MP propositional tautology Gen b Nec The proof NecAdm obtained similarly cid2 42 Further systems By suitably tuning systems Q S5n obtain provably sound complete axiomatisations classes SGS Sections 2 3 For instance dropping BFi j CBFi j restricting postulates j axiomatise varying regular SGS respectively Further axiomatise objectual SGS restricting Q S5n formulas F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 997 global terms appear Finally add axioms distributed knowledge Q S5n order axiomatise set validities language LD n Hereafter list relevant systems Deﬁnition 31 QS5var n The Q S5var n language Ln obtained Q S5n eliminating axioms BFi j CBFi j QS5 QS5 reg n The systems Q S5reg n language Ln obtained Q S5n restricting BFi j CBFi j j obj n The Q S5obj n obtained restricting Q S5n language Lobj n n The Q S5D QS5D distributed knowledge n language LD n obtained extending Q S5obj n following postulates K T 4 5 D1 D2 Nec D G φ ψ D G φ D G ψ D G φ φ D G φ D G D G φ D G φ D G D G φ Diφ K φ D G φ D Gcid3 G G φ D G φ cid3 QS5k n For 2 cid2 k cid2 6 Q S5k n obtained adding formula k 11 Q S5n Note formulas NecAdm NecAdm provable Q S5var n Q S5reg n restricted versions NecAdm NecAdm j 43 Correspondence theory In section deﬁne correspondence theory properties frames validity formulas ﬁrstorder In follows systems S identiﬁed set theorems Lemma 32 Let 2 cid2 k cid2 6 In following table row F Sframe F cid20 S iff F belongs class frames second column QML systems Kripke frames Q S5n Q S5var n Q S5reg n Q S5obj n Q S5D n Q S5k n K Kvar Kreg Kobj Kobj Kk Proof We provide outline proof showing right left implications systems We cid23S φ implies F cid20 φ F belongs relevant class frames The proof induction length proof φ S axioms base case inference rules inductive step QS5n We easily check axioms Q S5n hold Kripke model inference rules preserve validity We provide detailed proofs axioms BFi j K iId As regards BFi j assume Mσ w cid20 zK jφ f F This means implies Mσ z w j w cid3 cid20 φ Therefore w implies Mσ z cid3 W w j w cid3 W f w cid3 cid3 f F w f w As K iId suppose Mσ w cid20 s s cid3 s s cid3 cid3 w n Proving axioms Q S5var QS5var validity similarly previous case cid3 cid20 φ Mσ w cid20 K ji zφ cid3 global terms Therefore Mσ w w j w Iσ s cid3 By ﬁrst hypothesis Iσ s w Iσ s cid3 Mσ w cid20 K s cid3 cid20 s s cid3 cid3 w Iσ s w cid3 n hold varying Kripke model inference rules preserve QS5 reg n We axiom CBFii holds regular Kripke model rest similarly case cid3 Q S5n Assume Mσ w cid20 K ii xφ This means w Mσ x implies Mσ x QS5 cid3 So Mσ w cid20 K xφ w cid3 obj n We axiom D2 holds objectual Kripke model Assume Mσ w cid20 D G φ G G cid5 iGcid3 implies cid3 cid3 cid20 φ Dw cid3 cid20 φ But D iw D iw cid3 W w w w implies D iw cid3 w w cid5 implies Mσ w cid3 cid20 φ But G G w w cid3 cid3 iG cid3 cid3 This means w w Mσ w cid3 W w w cid3 cid20 φ Therefore Mσ w cid20 D Gcid3 φ 998 F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 QS56 n We formula 17 holds SGS 6 SGS 4 SGS 5 Assume f F constraint SGS 4 cid3 D constraint SGS 5 Thus cid3 f s f s know exists f s D Further lis lis zi xK iz x holds As regards left right implication consider cases Q S51 QS51 n Assume F cid20 xd x K ii xd x w w cid3 n Q S53 n Id f This means M w cid20 xd x M w cid20 K ii xd x Hence M w tantamount f w cid3 D f w D Deﬁne model M based F cid3 cid20 xd x QS53 n Assume F cid20 zK ii xz x w W f F Let M model based F M w cid20 zK ii xz x particular Mσ w cid20 xz x σ z f Thus exists D f w D cid2 We note result similar Lemma 32 obtained systems global states means maps Section 25 We P QIS S iff theorem S valid P S SGS S SSGS iff model based S model S We write SSGS denoting class SSGS Lemma 33 Let 2 cid2 k cid2 6 The following identities classes SGS hold Q S5nSGS SGS Q S5var Q S5reg Q S5obj n SGS SGS var n SGS SGS reg n SGS SGS obj n SGS SGS obj nSGS SGSk Q S5D Q S5k Proof The identities follow Lemma 32 maps Section 25 cid2 44 Soundness In showing QML systems sound complete axiomatisations corresponding classes global states ﬁrst prove soundness Lemma 34 Soundness Every QML S sound respect class frames S S sound respect class SGS S Proof We observe right left implication Lemma 32 cid23S φ F cid20 φ F belongs class Sframes By deﬁnition validity systems global states obtain cid23S φ implies S cid20 φ S belongs class SSGS cid2 We summarise soundness results following table Let 2 cid2 k cid2 6 row QML ﬁrst column sound respect corresponding class frames second column sound corresponding class SGS column QML systems Kripke frames Systems global states Q S5n Q S5var n Q S5reg n Q S5obj n Q S5D n Q S5k n K Kvar Kreg Kobj Kobj Kk SGS SGS var SGS reg SGS obj SGS obj SGSk 45 Completeness Q S5n This section devoted showing completeness QML systems introduced respect correspond ing classes Kripke frames The completeness Q S5n proved means standard techniques quantiﬁed modal logic 161930 suitably extended ﬁt present framework indexed quantiﬁers modalities local terms identity Speciﬁcally adopt particular version canonical models given Thomason 60 languages existence predicate As standard cid2Q S5n φ exists Kripke model M M cid11cid20 φ In particular canonical model MQ S5n Q S5n deﬁned model according Deﬁnition 22 based frame Q S5n MQ S5n cid11cid20 φ Therefore following suﬃcient condition prove completeness F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 999 Proposition 35 If Q S5n prove formula φ Ln canonical model MQ S5n Q S5n validate φ This result relies lemmas saturation lemma truth lemma Their proofs need following deﬁnitions Liφ deﬁned K iφ Λ set formulas Ln Λ consistent Λ maximal Λ maxcons Λ rich Λ L jrich Λ saturated φ Ln φ Λ φ Λ iff Λ cid2Q S5n iff iff Λ consistent maximal iff yφ Λ implies term t Ln Admit φ yt Λ iff φ0 L jφ1 L jφk L ji yφk1 Λ y free φ0 φk implies t Ln φ0 L jφ1 L jφk L jAdmit φk1 yt Λ iff Λ maxcons rich L jrich j A The constraint L j richness Thomason 60 needed order guarantee canonical model Q S5n single outer domain D We brieﬂy sketch proof saturation lemma refer 30 details extension multimodal case straightforward Lemma 36 Saturation lemma If cid7 consistent set formulas Ln extended saturated set Π expansion L n obtained adding Ln inﬁnite set new local constants inﬁnite set new global constants Proof Let θ0 θ1 enumeration formulas L constants m0 m1 We deﬁne recursion chain sets formulas L n follows n let enumerations new global local Γ0 cid7 Γ2n1 Γ2n2 cid6 Γ2n Admim2n θn ym2n Γ2n yθn consistent m2n Γ2n θn ﬁrst new constant Γ2n Γ2n1 φ0 L jφ1 L jφk L jAdmim2n1 φk1 ym2n1 Γ2n1 φ0 L jφ1 L jφk L ji yφk1 consistent m2n1 ﬁrst variable Γ2n1 φ1 φk1 Γ2n1 By induction prove Γn consistent Thus chain lemma Γ nN Γn consistent rich n j A By Lindenbaums lemma Γ extended saturated set Π cid7 L j rich set formulas L L n cid2 cid11 As result cid2Q S5n φ set φ consistent saturation lemma obtain saturated set Π φ In order introduce canonical model MQ S5n Q S5n need deﬁnitions For closed global terms cid3 equivalence cid3 deﬁne v w v cid3 w This equivalence relation vw v cid3 v w v iff v v cid3 v v class v w The accessibility relation MQ S5n deﬁned w R w cid3 iff φ K iφ w w cid3 axioms T 4 5 R equivalence relation Further axioms K Id K iDif deﬁnition vw provably independent choice w v implies vw vwcid3 simply write v We deﬁne D iw set v Admiv w By NecAdm w R w NecAdm deﬁnition independent choice w simply write D cid3 Moreover closed local term r introduce function fr cid12 frw v r cid3 r v r v w cid3 r w Each F iw set fr Admir w NecAdm NecAdm deﬁnition provably independent choice w simply write F Given deﬁnitions present canonical model Q S5n follows Deﬁnition 37 The canonical model Q S5n language Ln expansion L n cid8W R ii A D D ii A F F ii A Icid9 tuple MQ S5n W set saturated sets formulas L n cid3 A w w iff φ K iφ w w cid3 W w R w cid3 1000 F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 domain D individuals set v v L n frw r L n w W A D v Admiv w domain F intensional objects set fr r L I interpretation L Ic c Id fd a1 ak D F I f kcid18a function n n cid12 I f kcid18aw f kcid18v f f kcid18ew ai v ei v ai v ei ri ai fri A F fr Admir w a1 ak D cid8cid18acid9 IP k w iff P kcid18e w ei v ai v ei ri ai fri w Note interpretation functions predicates deﬁned axioms F unc Subst The following propo sition holds remarks Proposition 38 The canonical model MQ S5n Q S5n satisﬁes constraints Deﬁnition 22 MQ S5n Kripke model Proof Assume cid2Q S5n φ set φ consistent Lemma 36 extended saturated set formulas L n Therefore set W possible worlds nonempty We remarked axioms T 4 5 relation R reﬂexive transitive euclidean equivalence relation Further domains D F non deﬁnition L n D respectively F trivially subset D respectively F Finally interpretation I welldeﬁned satisﬁes constraints Kripke models remarks cid2 Now let σ assignment local global variables D F respectively following Lemma 39 For w M t L n σ yi Iei Iσ tcid18y w Itcid18ycid18ew Proof This shown induction length t We proof t f t1 tk y z e d Iσ tz w Iσ f t1z tkz w I f Iσ t1z w Iσ tkz w I f It1zdw Itkzdw I f It1zd Itkzdw I f t1zd tkzdw I f t1 tkzdw Itzdw cid2 By Lemma 39 base case truth lemma follows In rest section simply write M MQ S5n Lemma 40 Truth lemma For w M φ L n σ yi Iei Mσ w cid20 φcid18y iff φcid18ycid18e w Proof The proof induction structure φ L n φ P kt1 tk By deﬁnition satisfaction Lemma 39 Mσ w cid20 P kt1 tkcid18y iff iff iff cid8Iσ t1cid18y w Iσ tkcid18y wcid9 IP k w cid8It1cid18ycid18ew Itkcid18ycid18ewcid9 IP k w P kt1cid18ycid18e tkcid18ycid18e w Similar previous case cid3 φ t t φ ψ ψ ψ cid3 canonical model The cases propositional connectives follow maximality consistency worlds φ zψ Assume zψz cid18ycid18e w f Admir ψr cid18ycid18e w Ex By induction hypothesis Mσ w cid20 ψr cid18y Mσ z arbitrariness variant σ obtain Mσ w cid20 zψz cid18y cid3 cid2 individual F This means f fr r fr w cid20 ψz cid18y By z fr F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 1001 Assume zψz cid18ycid18e w Since w maxcons zψz cid18ycid18e w But w rich exists d LCon Admid ψd cid18ycid18e w This means fd F induction hypothesis Mσ w cid11cid20 ψd cid18y Thus fd F Mσ z w cid11cid20 ψz cid18y Mσ w cid11cid20 zψz cid18y fd φ xψ The proof goes previous case φ K iψ Assume K iψcid18ycid18e w w R w Mσ w cid3 cid20 ψcid18y Thus Mσ w cid20 K iψcid18y cid13 Assume K iψcid18ycid18e w Note set φ K iφ w ψcid18ycid18e consistent K iφ w φ1 φm φ K iφ w cid23 K iψcid18ycid18e w hypothesis Since φ K iφ w ψcid18ycid18e consistent extend saturated set cid3 cid20 ψcid18y induction hypothesis Hence cid3 w Mσ w cid11cid20 K iψcid18y cid2 60 details w R w φ ψcid18ycid18e By axiom K cid23 K iφ K iψcid18ycid18e Mσ w L n cid13 cid13 cid3 cid3 By deﬁnition R ψcid18ycid18e w cid3 induction hypothesis By truth lemma conclude canonical model M model Q S5n based Kripke frame falsifying unprovable formula φ Thus state following completeness result Theorem 41 Completeness The Q S5n complete respect class K Kripke frames K cid20 φ implies cid23Q S5n φ Further completeness respect systems global states In fact cid2Q S5n φ Theorem 41 exists model M cid8F Icid9 based frame F falsiﬁes φ Deﬁne quantiﬁed interpreted P cid8gF Icid9 deﬁnition P cid20 φ iff P f cid8 f gF Icid9 models φ Lemma 14 frame f gF isomorphic F Hence P cid11cid20 φ As consequence following implications hold SGS cid20 φ K cid20 φ cid23Q S5n φ completeness result Corollary 42 Completeness The Q S5n complete respect class SGS systems global states SGS cid20 φ implies cid23Q S5n φ By combining soundness completeness theorems obtain main result section Corollary 43 Soundness completeness For φ Ln SGS cid20 φ iff cid23Q S5n φ We conclude Q S5n sound complete axiomatisation validities general class systems global states 46 Completeness axiomatisations We modify techniques applied previous subsection obtain completeness classes Kripke frames systems global states considered We start varying regular frames Theorem 44 Completeness The Q S5var n complete respect class Kvar varying frames Proof If formula φ Ln provable Q S5var Deﬁnition 37 Note NecAdm NecAdm theorems Q S5var n D iw v Admiv w F iw fr Admir w independent choice w However prove canonical model based varying Kripke frame Also Proposition 38 Lemmas 39 40 hold MQ S5var n proofs require Barcan formulas Therefore canonical model MQ S5var satisﬁes φ completeness varying frames cid2 n deﬁne canonical model MQ S5var Q S5var n n n Theorem 45 Completeness The Q S5reg n complete respect class Kreg regular frames Proof As regards Q S5reg regular frames n canonical model MQ S5 reg n deﬁned Deﬁnition 37 satisﬁes constraint 7 w w cid3 W w R w cid3 implies D iw D iw cid3 F iw F iw cid3 1002 F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 cid3 Assume w R w Admiv K iAdmiv w deﬁnition R Admiv w inclusion follows symmetry R The proof F iw F iw hold MQ S5 Admiv w By restricted version CBFii converse Barcan formula cid3 The direction cid3 similar Further Proposition 38 Lemmas 39 40 n completeness regular frames cid2 Thus D iw D iw reg cid3 By axiomatising class regular SGS showed restricted versions Barcan formulas considered powerful characterise idea quantiﬁcation domains agents local state We consider completeness results systems Q S5obj n Q S5D formula provable Q S5obj terms n deﬁne canonical model Q S5obj n n respect objectual frames Let φ Lobj restriction MQ S5n constant n Deﬁnition 46 The canonical model Q S5obj n cid8W R ii A D D ii A Icid9 language Lobj n expansion Lobj n tuple MQ S5 obj n W set saturated sets formulas Lobj n A R D deﬁned Deﬁnition 37 D v v Lobj I interpretation Lobj n n Ic c a1 ak D I f kcid18a f kcid18v ai v a1 ak D cid8cid18acid9 IP k w iff P kcid18v w ai v Proposition 38 Lemmas 39 40 hold MQ S5 obj n proof similar presented earlier It follows canonical model MQ S5 obj n satisﬁes φ completeness objectual frames Theorem 47 Completeness The Q S5obj n complete respect class Kobj objectual frames As regards Q S5D n extend ﬁrstorder completeness proof 15 proposional systems distributed knowledge consisting unravelling canonical model obtain model tree Note inde pendent completeness proof systems appeared 28 First consider following deﬁnition canonical model A set nonempty subsets A Deﬁnition 48 The canonical model Q S5D cid8W Rl l A A D D ii A Icid9 n language LD n expansion LD n tuple MQ S5D n W set saturated sets formulas LD A R D D I deﬁned Deﬁnition 46 G A w R G w iff φ D G φ w w n cid3 cid3 Lemma 36 holds Q S5D n Therefore cid11cid23 φ exists saturated set w φ set W Q S5D n possible worlds MQ S5D relations Moreover axioms D1 D2 follows Ri equal R R G cid5 n nonempty By axioms T 4 5 R G equivalence iG R However general R G cid11 iG R 15 This remark gives rationale introducing pseudosatisfaction relation cid20p deﬁned cid20 cid5 distributed knowledge operator D G follows simply write M MQ S5D n Mσ w cid20p D G ψ iff w cid3 W w R G w cid3 implies Mσ w cid3 cid20p ψ We state truth lemma pseudosatisfaction relation cid20p The proof follows Lemma 40 distributed knowledge operator D G treated epistemic operator K Lemma 49 Truth lemma For w M ψ LD n σ xi v Mσ w cid20p ψcid18x iff ψcid18xcid18v w Mcid3 We techniques 15 extended ﬁrstorder M unwound structure satisfying formulas In order introduce Mcid3 need deﬁnitions Let w w worlds W path w w sequence cid3 cid3 cid8w 1 l1 w 2 l2 lk1 wkcid9 F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 1003 cid3 wk 1 w w 1 w 2 w 1 wk W 3 l j agent set agents 4 cid8w j w j1cid9 Rl j The reduction path cid8w 1 i1 w 2 i2 ik1 wkcid9 obtained replacing maximal consecutive subsequence cid8wq iq wq1 iq1 ir1 wrcid9 iq iq1 ir1 cid8wq iq wrcid9 A path said reduced equal reduction l A A D D ii A Icid9 deﬁne structure M cid8W tree w w cid3 iii w R cid3 G w implies hwR G hw cid3 W l R l A A D cid3 iv cid8a1 akcid9 cid3 I Given canonical model M cid8W Rl A I W M cid9 surjective function h W implies hwR ihw ii w R w D reduced path w w P k w iff cid8a1 akcid9 IP k hw The set possible worlds W cid3 W l agent group agents Let W w W k w hw w w W w W 1 hv wlwcid3 w cid3 v wlwcid3cid3 w relation deﬁned w w refer 15 proof M deﬁned induction Let W k Further R cid3 W l cid3 cid3 1 W deﬁne W cid11 k1 set worlds v wlwcid3 W letting k deﬁne h W reﬂexive symmetric transitive closure P k w IP k hw We cid3 Finally I kN W w h satisfy iiv In particular follows cid3cid3 W hwRlhw Lemma 50 For w W ψ LD n Mσ w cid20p ψ iff Mσ hw cid20p ψ Finally use structure M deﬁne Kripke model Mcid3 falsiﬁes unprovable formula φ Deﬁnition 51 The model Mcid3 cid8W cid3 R cid3 A D cid3 D cid3 A I cid3cid9 deﬁned follows cid3 D cid3 W W cid3 R transitive closure R I D D D cid3 cid3 I cid11 iG R G Since R result Mcid3 refer 15 details R G reﬂexive transitive symmetric R cid3 equivalence relation We state following Lemma 52 For w W cid3 ψ LD n following holds Mcid3σ w cid20 ψ iff Mσ w cid20p ψ In conclusion φ LD By Lemma 50 M completeness result n provable Q S5D pseudosatisﬁes φ result Mcid3 n canonical model MQ S5D n pseudosatisﬁes φ Lemma 49 validate φ Hence following Theorem 53 Completeness The Q S5D n complete respect class objectual frames Finally formulas 1317 suﬃcient guarantee canonical models systems Q S5k n 2 cid2 k cid2 6 deﬁned Deﬁnition 37 satisfy corresponding constraints Theorem 54 Completeness For 2 cid2 k cid2 6 Q S5k n complete respect class Kk Kripke frames Proof We canonical models systems Q S5k classes Kk Kripke frames n 2 cid2 k cid2 6 satisfy respective constraint cid3 cid3 cid3 QS51 exists v f w D If n Assume w w frw v v Admiv w This means r v w xir x w cid3 w richness w QS52 QS53 n This shown time f fr closed local term r belongs F n Assume f fr F closed local term r K ii xr x w formula 15 particular xr x w By richness w exists v Admiv w r v w Therefore exists v D frw v f F f fr closed local term r hypothesis formula 13 By Admiv n Assume f fr closed local term r belongs F By hypothesis cid3 exists closed term t It D r t w By formula 16 implies K ir t w r t w Thus frw frw frw D w w Thus frw r v cid3 D cid3 w QS54 cid3 cid3 cid3 cid3 cid3 1004 F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 n Since formula 17 equivalent conjunction formulas 15 16 prove f F QS55 cid3 implies f w f w w w cid3 D As result completeness respect relevant classes frames cid2 As Q S5n QML S completeness respect Kripke frames derive com pleteness systems global state In fact cid2S φ Kripke completeness exists model M cid8F Icid9 based Sframe F falsiﬁes φ Deﬁne quantiﬁed interpreted P cid8γ F Icid9 γ relevant map Sframes SGS S By deﬁnition P cid20 φ iff Pϕ cid8ϕγ F Icid9 models φ ϕ relevant map SGS S Sframes By results Section 26 frame ϕγ F isomorphic F Hence P cid11cid20 φ Thus following implications hold SSGS cid20 φ SK cid20 φ cid23S φ completeness result Corollary 55 Completeness Every QML S complete respect class SSGS systems global states S SSGS cid20 φ implies cid23S φ By combining soundness completeness theorems obtain main result section Corollary 56 Soundness Completeness For formula φ language S SSGS cid20 φ iff cid23S φ We conclude QML systems sound complete axiomatisations validities corresponding classes systems global states The corollary summarises main formal results paper Corollary 57 Let 2 cid2 k cid2 6 row QML ﬁrst column following table sound complete axioma tisation respect corresponding class Kripke frames systems global states QML systems Kripke frames Systems global states Q S5n Q S5var n Q S5reg n Q S5obj n Q S5D n Q S5k n K Kvar Kreg Kobj Kobj Kk SGS SGS var SGS reg SGS obj SGS obj SGSk 5 Applications multiagent systems In section simple MAS scenarios modelled means quantiﬁed interpreted systems Specif ically Section 51 analyse scenario battleﬁeld Section 52 consider inﬁnite version muddy children puzzle Section 6 deals complex application formal analysis message passing systems We main tain investigations advantages ﬁrstorder formalisms 51 Battleﬁeld In subsection model popular game battleﬁeld quantiﬁed interpreted means language Ln n 4 We start considering set agents A 1 2 3 4 assume agent assigned quadrant region Z Z domain quantiﬁcation D4 x y x Z y Z D3 x y x y Z D1 x y x y Z D2 x y x Z y Z Intuitively set D represents country agent Note battleﬁeld game ﬁnite subset Z Z considered scenarios able want bound advance size game board Thus useful introduce potentially inﬁnite playing board step ﬁnite portion considered We assume agent 5 military units positions recorded local state Further consider couples x y D triples k x y 1 cid2 k cid2 5 express military unit x y kth military unit x y respectively The local state li agent deﬁned 4tuple cid8α1 α2 α3 α4cid9 F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 1005 αi 5tuple cid81 x1 y1 5 x5 y5cid9 recording positions agent units j cid11 α j possibly sequence triples k x y couples x y recording positions identities agent enemies units Also le local state environment recording positions identities units similar fashion The set S contains global states s cid8le l1 l2 l3 l4cid9 x y α jli k x y α jli k x y αili So agent know position identity enemy unit wrong Each domain F intensional objects contains military units muik 1 cid2 k cid2 5 muiks x y iff triple k x y belongs component αi local state lis Moreover assume language global local constants denoting individuals D F We use notation syntactic semantic elements mirror context disambiguate Finally let D contain real numbers D R The quantiﬁed interpreted P contains global states consistent deﬁnitions In particular suppose initial state s cid8le l1 l2 l3 l4cid9 describing position military units beginning deﬁned follows l1s cid8cid81 2 2 2 6 5 3 2 7 4 4 12 5 7 9cid9 cid8cid9 cid8cid9 cid8cid9cid9 l2s cid8cid8cid9 cid81 3 3 2 7 2 3 6 5 4 3 6 5 8 9cid9 cid8cid9 cid8cid9cid9 l3s cid8cid8cid9 cid8cid9 cid81 3 3 2 3 6 3 6 3 4 6 8 5 8 5cid9 cid8cid9cid9 l4s cid8cid8cid9 cid8cid9 cid8cid9 cid81 4 4 2 3 9 3 7 7 4 5 12 5 8 11cid9cid9 The QIS P containing s describes situation ﬁrst military unit agent 1 positioned 2 2 In particular agent 1 knows fact P s cid20 K11zz 2 2 P s cid20 1zK1z 2 2 agent 3 know P s cid20 1zK3z 2 2 P s cid20 K31zz 2 2 Thus agent 1 dicto knowledge military units 2 2 knowledge ﬁrst units 2 2 Consider function dist returning distance points Z Z real number cid14 cid3 Idistx y x y cid3 x xcid32 y ycid32 We check agent 2 starts military units distance 8 Further knows fact agent 4 To express introduce relation symbol obvious interpretation P s cid20 2z z cid3 K2distz z cid3 8 P s cid11cid20 2z z cid3 K4distz z cid3 8 The formula fails agent 4s local state consistent different state s units distance greater 8 l4s cid3cid3cid3 l4s instance cid3cid3cid3 l2s cid3cid3cid3 contains military cid3cid3cid3 l2s Note s cid8cid8cid9 cid81 30 30 2 7 2 3 6 5 4 3 6 5 8 9cid9 cid8cid9 cid8cid9cid9 cid3cid3cid3 P deﬁnition P Further consider global constant ﬁredist representing maximum range ﬁre military units set 8 Iﬁredist 8 We express fact units z z cid3 ﬁre range following formula FDistz z cid3 distz z cid3 ﬁredist The following expression speciﬁes present QIS agent unit ﬁre range enemy unit P σ s cid20 z j z cid3FDistz z j cid11 cid3 Now suppose hostilities break scenario agent 3 acquires knowledge agent 1s military units 2 2 The resulting state s differs s local state agent 3 cid3 cid3 l3s cid8cid82 2cid9 cid8cid9 cid81 3 3 2 3 6 3 6 3 4 6 8 5 8 5cid9 cid8cid9cid9 As consequence agent 3 acquires dicto knowledge ﬁrst units range enemy ﬁre know fact know agent 1s units actually threatens agent 3s ﬁrst unit cid3 P s cid20 3zK31z cid3 FDistz z cid3 cid3 P s cid11cid20 3z1z cid3 K3FDistz z cid3 1006 F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 This following local states agent 1 consistent agent 3s local state s l3s cid3cid3cid3cid3 l3s cid3 cid3 state s cid3cid3cid3cid3 cid3cid3cid3cid3 l1s cid8cid82 2 2 1 6 5 3 2 7 4 4 12 5 7 9cid9 cid8cid9 cid8cid9 cid8cid9cid9 Now suppose agent 1 discovers unit mu31s position The change local state recorded global state s differing s cid3 l1 cid3cid3 cid3cid3 l1s cid8cid81 2 2 2 6 5 3 2 7 4 4 12 5 7 9cid9 cid8cid9 cid81 3 3cid9 cid8cid9cid9 Then agent 1 knows units range enemy ﬁre In particular knowledge fact knows identity agent 3s unit cid3cid3 P s cid20 1zK13z cid3 FDistz z cid3 P s cid3cid3 cid20 1z3z cid3 K1FDistz z cid3 Given agent units range enemy ﬁre agent dangerous situation For expressing introduce predicate Danger meaning left underspeciﬁed caeteris paribus clause θ We assume QIS validates following dicto speciﬁcation Danger zK j z cid3 FDistz z cid3 θ Dangerz j cid11 The speciﬁcation weaker following formula specifying Danger cid3 predicate danger z j z cid3 K iFDistz z cid3 cid3 θ Danger cid3 z j cid11 In fact notion Danger implies Danger agent 1 knows Danger Danger cid3 agent 3 knows Danger cid3cid3 cid3cid3 P s P s cid20 1zK1Dangerz P s cid3cid3 P s cid20 3zK3Dangerz cid3cid3 cid3 cid20 1zK1Danger cid3 cid11cid20 3zK3Danger z z Agents try ﬁnd way situation attacking withdrawing In order analyse alterna cid3 tives introduce knowledge based protocol 14 First deﬁne predicate Access Accessx yx cid3 contains points reachable p single cid3 Accessp p iff x x Moreover consider actions ATTACK MOVE The protocol agent cid11 j written pseudocode follows cid3 cid2 1 Intuitively set p cid3 cid2 1 y y cid3 y K iDangerz xAccessz x j z MOVEz x j z cid3 K iFDistz z cid3 cid3 K iFDistx z cid3 ATTACKz This protocol says agent knows unit z danger area known enemy ﬁre range If possible attack enemy unit threatening unit Note protocol extremely strict requires knowledge safety conditions moving In present case cid3cid3 P s cid20 1zK1Dangerz 1xAccessz x K13z cid3 FDistx z cid3 3z cid3 K1FDistz z cid3 Therefore agent 1 following knowledgebased protocol attack ﬁrst unit agent 3 By suitably extending language express interesting topological relationships D like presence obstacles Moreover introduce intensional predicates characteristics military units The simply example deem persuading let conclude QIS suﬃciently expressive represent number concrete MAS scenarios 52 Inﬁnitely muddy children In subsection use language Lobj n present inﬁnite version muddy children puzzle 14 known scenario epistemic logic We observe solution puzzle depends number k muddy children total number m cid3 k children In words end kth round child knows forehead muddy independently total number m children This remark suggests need ﬁx advance size set D children muddy children puzzle Given D containing inﬁnite number children introduce inﬁnite version puzzle F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 1007 However language Lobj n Section 31 contains ﬁnite number n epistemic operators present formalism reason knowledge ﬁnite subset D This limitation present setting overcome introducing language inﬁnite denumerable epistemic operators Such extension paper leave work We local state li child cid2 n 1 0 depending forehead muddy local state environment remains unspeciﬁed inﬂuence present analysis So sequence We deﬁne muddy children quantiﬁed interpreted follows Deﬁnition 58 A muddy children QIS MCQIS pair cid8S Dcid9 S Le L1 Ln D inﬁnite set children Note single quantiﬁcation domain D children implies omit subscript quantiﬁers consider Lobj n unique quantiﬁers agents Instead propositional case propositions pi 1 cid2 cid2 n representing fact child forehead muddy use unary predicative constant M inﬁnitely constants Mai intuitively means child forehead muddy Hereafter present analysis inﬁnite version muddy children puzzle After fathers announcement child muddy forehead children common knowledge fact The language Lobj xMx holds step 1 i1 j cid2 n This formula hold muddy children QIS valid MCQIS S contain global state 0s n common knowledge operator approximate assuming K i1 K j Further child knows child muddy expressed Lobj n following speciﬁcation xx cid11 jk K j1 K jk Mx K j1 K jk Mx know muddy following speciﬁcation holds beginning K j Ma j K jMa j 18 19 By induction number k muddy children provable kth round answers child knows forehead muddy Moreover result independent actual number children holds inﬁnite number children In follows refer principles rules inference Q S5obj n Section 4 provide details proofs interested reader nonetheless able ﬁll gaps For k 1 assume child j knows 20 child muddy forehead 21 child muddy forehead K jxMx K j y y cid11 j M y 20 21 These formulas hold muddy children QIS child muddy forehead In ﬁrstorder modal Q S5obj n child j deduces forehead muddy follows K jxMx y y cid11 j M y b K jxMx x cid11 j Mx c K jxMx x j 20 21 modal calculus predicate calculus b propositional calculus So child j acquires knowledge forehead muddy K j Ma j holds answer positively ﬁrst round asked For k 2 ﬁrst round negatively answered questions child knows children muddy foreheads We represent situation means following dicto formula K ix yx cid11 y Mx M y 22 Note child muddy forehead trivial check 22 holds child children muddy foreheads On hand child muddy children derive 22 Q S5obj n principles 20 21 c In order assume j muddy child negatively answered ﬁrst question This means c K j Ma j fails 20 21 hold But case 20 K jxMx K j y y cid11 j M y 21 valid Further child j know muddy child child known muddy j K j y y cid11 j M y y y cid11 j K j M y 23 1008 F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 In fact formula 23 proved Q S5obj n follows1 K j y y cid11 j M y assumption b y y cid11 j K jM y c y y cid11 j K jM y d y y cid11 j K j M y c 18 footnote b predicate calculus As result 23 holds muddy children QIS Therefore 23 negation 21 derive y y cid11 j K j M y Finally axioms T Nec muddy child acquires knowledge muddy child different j K y y cid11 j M y We assumed knows j muddy forehead K Ma j easily derive 22 Q S5obj n ﬁrstorder calculus Up showed ﬁrst round questions child muddy knows muddy children Now suppose child j child z muddy forehead This situation validates following speciﬁcation child j knows child z clean zK jkk cid11 j k cid11 z Mk 24 We dicto knowledge existence muddy children expressed 22 formula 24 Q S5obj n child j deduces knowledge muddy child follows K jx y x cid11 y Mx M y zK jk k cid11 j k cid11 z Mk b zK jx y x cid11 y Mx M y kk cid11 j k cid11 z Mk c zK jx y x cid11 y Mx M y x j x z y j y z d zK jx y x cid11 y Mx M y 22 24 predicate calculus b Ex x j y z y j x z e zK j j cid11 z Ma j Mz c distributivity d predicate calculus As result child j acquires knowledge muddy child replies positively second round questions It easy induction step k muddy children formal proofs Q S5obj know kth round foreheads muddy Since reasoning n inﬁnite set D children formulas translated propositional language 14 example Given inﬁnite version muddy children puzzle natural intelligible formal proof ﬁrstorder epistemic logic 6 Messagepassing QIS This section devoted modelling messagepassing systems MPS 1452 framework objectual QIS An MPS multiagent agents communicate exchanging messages relevant actions performed agents sending receiving messages The formalism message passing systems useful model wide range multiagent systems For instance network computers Internet seen MPS In general multiagent MPS message transmission delay negligible In MPS local state agent contains information initial state messages sent received internal actions taken One ﬁrst references dealing MPS 38 extensively investigated synchronous asynchronous formulations 1452 In follows MPS deﬁned particular class objectual SGS satisfying ﬁnite number speciﬁcations ﬁrstorder modal language LD n n number agents MPS Our main result consists showing Proposition 443 14 concerning knowledge ordering events MPS restated validity class QIS modelling MPS Thus formalism objectual QIS powerful deal theory message passing systems Throughout section refer 14 par 4456 details MPS More formally introduce set Act actions α1 α2 set Msg messages μ1 μ2 For agent A consider set Σi initial events initi α set Inti internal events inti α We deﬁne local state li agent history Σi Inti Msg sequence events ﬁrst element Σi following elements belong Inti events form sendi j μ reci j μ j A μ Msg Intuitively initi α 1 Note t cid11 t cid3 K j φ K j t cid11 t cid3 φ validity muddy children QIS interpretation terms F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 1009 represents event agent performs initial action α sendi j μ represents event agent sends message μ j intended meaning reci j μ agent receives message μ j Finally inti α means agent performs internal action α A global state s tuple cid8le l1 lncid9 l1 ln local states le contains events l1 ln cid3 We deﬁne reﬂexive transitive antisymmetric relation cid2 set local states agent li cid2 l iff li preﬁx l cid3 This order extends global states s cid2 s cid3 iff li cid2 l cid3 A We deﬁne message passing QIS MPQIS objectual quantiﬁed interpreted systems P cid8S D Icid9 S non set global states domain D individuals includes agents A messages Msg actions Act events e1 e2 I interpretation language LD n Intuitively MPQIS models temporal evolution message passing represented sequence s0 s1 global states s0 cid8inite αe init1 α1 initn αncid9 n N sn1 identical sn A lisn cid2 lisn1 lisn cid11 lisn1 Note single MPQIS model temporal evolutions MPS We assume language terms predicative letters representing objects domain D relations In particular e1 e2 metaterms ranging events instance introduce eφe shorthand j μ α φsendi j μ φreci j μ φiniti α φinti α In fact event send event receive event initial action internal action We use notation objects model syntactic elements distinction clear context We observe express event speciﬁcations formulas LD n provably valid MPQIS existence unique individual deﬁned means For example state ei j μ α cid11 j e sendi j μ e reci j μ e initi α e inti α j μ α e1 e2 e3 e4sendi j μ e1 reci j μ e2 initi α e3 inti α e4 e1 cid11 e2 e1 cid11 e3 e1 cid11 e4 e2 cid11 e3 e2 cid11 e4 e3 cid11 e4 The ﬁrst speciﬁcation expresses fact event send event receive event sender different receiver initial action internal action Thus case e sendi j μ cid3 μcid3 distinct agents messages The second speciﬁcation states send receive event initial sendi cid3 μcid3 It easy check action internal action distinct events Thus sendi j μ e reci deﬁnition MPQIS validates speciﬁcations cid3 j cid3 j In 14 p 132 authors list key constraints MPS involves notion run SGS temporal evolution global states Nonetheless restate ﬁrst introducing runs MP1 local state li agent history Σi Inti Msg MP2 event reci j μ lis exists event send j μ l js Further following simplifying assumption considered events given agents local state distinct agent perform action twice We formalise speciﬁcations present formalism First introduce predicate H happened P σ s cid20 He iff e event local state lis agent The formula He shorthand He By deﬁnition MPS P σ s cid20 He iff e event s Further deﬁne order Prec events follows P σ s cid20 Prece e cid3 iff P σ s cid20 He He s cid3 cid2 s P σ s cid3 cid3 cid20 He cid3 He cid3 obtained disregarding component The deﬁnition Prece e cid3 P σ s cid20 Prece e iff P σ s cid20 He He s cid3 cid2 s P σ s cid3 cid3 cid20 He cid3 He We insist events global state s partially ordered specifying Prece e transitive relation set past events cid3 reﬂexive He Prece e cid3 Prece Prece e cid3cid3 cid3 e Prece e cid3cid3 25 26 Moreover Prece e cid3 deﬁned linear order events li antisymmetric total 1010 F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 Prece e cid3 cid3 Prece cid3 e e e cid3 cid3 He He Prece e Prece cid3 e We deﬁne LinearPrece e linear Also deﬁne ﬁrst event minimal respect Prece e cid3 conjunction 2528 expressing fact relation Prece e cid3 27 28 cid3 Fste e cid3 cid3 He Prece e cid3 Finally formulas Senti j μ Recdi j μ Initi α Inti α shorthands Hsendi j μ Hreci j μ Hiniti α Hinti α respectively We formalise speciﬁcations MP12 follows MP1 LinearPrece e cid3 eF ste αe initi α eF ste j α μe inti α e sendi j μ e reci j μ MP2 cid3 j μRecdi j μ Sent j μ The validity MP1 MPQIS forces local state agent satisfy speciﬁcations MP1 MP2 speciﬁcation MP2 satisﬁed cid3 Formulas MP1 MP2 basic speciﬁcations MPQIS consider key constraints message passing A property required framework MPS channel reliability Modiﬁed 14 MPS reliable sent message eventually received formally cid3 MP4 sendi j μ lis exists global state s cid3 rec j μ l js cid3 In language LD n formalise speciﬁcation follows MP4 cid3 j μSenti j μ K iRecd j μ In fact sendi j μ lis M4 P σ s cid20 K iRecd j μ means exists global state s cid3 cid20 Recd j μ rec j μ l js P σ s requires local states agent s s cid3 Thus MP4 holds Note MP4 actually stronger MP4 identical cid3 cid3 cid3 Further relevant property MPS concerns authentication agent receives message μ agent j knows μ actually sent j This speciﬁcation expressed j μRecdi j μ K iSent j μ Finally require agents perfect recall know happened eHe K He It easy MPQIS satisfy authentication perfect recall channel reliability Of course add formula speciﬁcation channel reliability required We remark speciﬁcations introduced far deﬁned means predicative constants He Prece e cid3 We prove main result section Proposition 443 14 restated validity class MPQIS satisfying MP1 MP2 We provide statement note metatheoretical result cast formula ﬁrstorder epistemic language LD n First introduce relation cid26G potential causality events discussed 3852 This relation intended capture intuition event e caused appear event e s Fix nonempty subset G A relation cid26G holds events e e state s iff e e cid3 cid3 cid3 1 j G e 2 G events e e 3 event e cid3cid3 cid3 cid3 receive event e corresponding send event e cid26G e lis e e e cid3cid3 cid26G e cid3cid3 cid3 hold s cid3 e comes earlier e cid3 lis Note cid26G partial order events We P σ s cid20 e cid26G e syntax semantics cid3 e cid26G e cid3 hold s use notation Now prove potential causality relation cid26G respects order Prec events showing following distributed knowledge validity holds class MPQIS This means event e cause event e cid3 agents e happened e Note right left implication Proposition 443 14 cid3 Proposition 59 MPQIS cid20 e e cid3e cid26G e cid3 D G Prece e cid3 F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 1011 cid3 cid3 Proof Assume P σ s cid20 e cid26G e cid3 cid20 He He G implies P σ s cid3 D G Prece e cid3 lis e e If e e cid3 s cid3cid3 cid20 He cid3 He He cid3 P σ s cid20 D G Prece e Finally exists event e P σ s cid3cid3 cid2 s cid3cid3 cid3 If e cid3 s receive event e corresponding send event lis lis cid3cid3 cid2 s cid3 P σ s cid3cid3 cid20 Recdi j μ Sent j μ MP2 cid3 cid3 Thus P σ s cid20 e comes earlier e cid3 He It follows P σ s cid20 K iPrece e lis lis lis cid3 cid20 cid3 implies P σ s cid3 axioms D1 D2 cid3 ﬁrst second case In cases P σ s cid20 D G Prece e s By transitivity P σ s cid3 He Thus P σ s cid20 D G Prece e cid3 G implies P σ s cid3 s cid3 cid2 cid3 cid20 He He lis lis cid3cid3 cid20 He cid3cid3 cid2 s cid3 e cid26G e cid3cid3 e cid3cid3 cid26G e cid3 assume loss generality cid3 Therefore cid3cid3 cid3 He cid3cid3 e cid3cid3 He He cid3cid3 D G Prece cid3cid3 cid20 He P σ s cid3 The analysis messagepassing systems carried section shows advantages terms expressivity ﬁrstorder epistemic formalisms comparison propositional ones By means language LD n able formalise constraints MPS validating suitability approach Most importantly encoding right left implication Proposition 443 14 shown validity class QIS modelling MPS 7 Conclusions Firstorder epistemic logic allows greater expressiveness comparison propositional formalisms In speciﬁc ap plications advantage critical modelling agent systems intuitive effective way Because FOEL successfully applied reasoning knowledge artiﬁcial intelligence 394251 However litera ture subject MAS area far fallen short deep systematic analysis formal machinery axiomatisability decidability completeness case static epistemic logic In paper showed semantics interpreted systems naturally extended ﬁrstorder provided complete axiomatisations classes structures noteworthy given known diﬃculties formalisms 1957 Speciﬁcally considered different assumptions quantiﬁcation domains relationship agents local states impact assumptions terms axiomatisations We exempliﬁed use formalisms investigating examples The puzzle muddy children Section 5 folklore multi agent systems AI 14 formalisation battleﬁeld game quantiﬁed interpreted original example expressive features present semantical framework As regards message passing systems topic Section 6 extensively investigated science synchronous asynchronous version In 38 relation cid26G events introduced 52 deﬁned notion common knowledge attainable asynchronous message passing systems In Section 6 followed 14 presentation MPS proved Proposition 443 cast validity class MPQIS This reassures analysis adequate We paper ﬁrst contribution development computationally grounded semantics quantiﬁed epistemic logics Indeed extensions present framework worth pursuing It explore completeness issues resulting termindexing epistemic operators 43 This greatly increase expressive power formalism limitation index quantiﬁcation introduced retain reasonable computa tional complexity Another signiﬁcant extension add temporal operators language This open way axiomatisations ﬁrstorder temporal epistemic logics MAS However work area likely affected technical problems especially respect axiomatisation decidability 2562 Acknowledgements The research described paper partly supported EC Framework 6 funded project CONTRACT IST Project Number 034418 research project Logica Modale e Conoscenza funded Scuola Normale Superiore Pisa Royal Society International Joint Project award authors The authors like thank reviewers useful comments earlier version paper The ﬁrst author like thank PhD supervisor Prof Massimo Mugnai Prof Giovanna Corsi Prof Silvio Ghilardi Prof Achille Varzi support advice The second author grateful Prof Marco Colombetti Politecnico di Milano having introduced Quantiﬁed Modal Logic 1994 References 1 F Belardinelli Quantiﬁed modal logic ontology physical objects PhD thesis Scuola Normale Superiore Pisa 2006 2 P Bieber A logic communication hostile environments Proceedings 3rd IEEE Computer Security Foundations Workshop CSFW90 IEEE Computer Society 1990 pp 1422 3 P Blackburn M Rijke Y Venema Modal Logic Cambridge University Press 2001 4 P Blackburn J van Benthem F Wolter Eds Handbook Modal Logic Elsevier 2006 5 A Chagrov M Zakharyaschev Modal Logic Oxford University Press 1997 6 E Clarke O Grumberg D Peled Model Checking MIT Press 1999 1012 F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 7 M Cohen M Dams A complete axiomatization knowledge cryptography Logic Computer Science LICS IEEE Computer Society 2007 pp 7788 8 P Cohen H Levesque Communicative actions artiﬁcial agents Proceedings First International Conference MultiAgent Systems IC MAS95 AAAI Press 1995 pp 6572 9 G Corsi A uniﬁed completeness theorem quantiﬁed modal logics Journal Symbolic Logic 67 2002 14831510 10 G Corsi BF CBF Lewis semantics Logique et Analyse 2005 103122 11 A Degtyarev M Fisher B Konev Monodic temporal resolution ACM Transactions Computational Logic TOCL 7 1 2006 108150 12 A Degtyarev M Fisher A Lisitsa Equality monodic ﬁrstorder temporal logic Studia Logica 72 2002 147156 13 P Dembi nski et al Verics A tool verifying timed automata Estelle speciﬁcations Proceedings 9th International Conference Tools Algorithms Construction Analysis Systems TACAS03 SpringerVerlag 2003 pp 278283 14 R Fagin J Halpern Y Moses M Vardi Reasoning Knowledge MIT Press 1995 15 R Fagin J Halpern M Vardi What machines know On properties knowledge distributed systems Journal ACM 39 2 1992 328376 16 M Fitting R Mendelsohn FirstOrder Modal Logic Kluwer Dordrecht 1998 17 D Follesdal Knowledge identity existence Theoria 23 1 1967 127 18 M Gammie R van der Meyden MCK Model checking logic knowledge Proceedings 16th International Conference Computer Aided Veriﬁcation CAV04 SpringerVerlag 2004 pp 479483 19 J Garson Quantiﬁcation modal logic D Gabbay F Guenthner Eds Handbook Philosophical Logic vol 3 Reidel 2001 pp 267323 20 J Halpern R Fagin Modelling knowledge action distributed systems Distributed Computing 3 4 1989 159179 21 J Halpern R Shore Reasoning common knowledge inﬁnitely agents Information Computation 191 1 2004 140 22 Y Hintikka Knowledge identity existence Nous 1 1 1962 3362 23 I Hodkinson Monodic packed fragment equality decidable Studia Logica 72 2002 185197 24 I Hodkinson Complexity monodic guarded fragments linear real time Annals Pure Applied Logic 138 2006 94125 25 I Hodkinson F Wolter M Zakharyaschev Decidable fragment ﬁrstorder temporal logics Annals Pure Applied Logic 106 13 2000 85134 26 I Hodkinson F Wolter M Zakharyaschev Decidable undecidable fragments ﬁrstorder branching temporal logics Logic Computer Sci enceLICS IEEE Computer Society 2002 pp 393402 27 I Hodkinson R Kontchakov A Kurucz F Wolter M Zakharyaschev On computational complexity decidable fragments ﬁrstorder linear temporal logics Proceedings International Symposium Temporal Representation Reasoning TIME IEEE Press 2003 pp 9198 28 W van der Hoek JJCh Meyer Making issues implicit knowledge explicit International Journal Foundations Computer Science 3 2 1992 193223 29 W van der Hoek JJCh Meyer J Treur Formal semantics temporal epistemic reﬂection logic Proceedings 4th International Workshops MetaProgramming Logic META94 SpringerVerlag 1994 pp 332352 30 G Hughes M Cresswell A New Introduction Modal Logic Routledge 1996 31 M Huth M Ryan Logic Computer Science Modelling Reasoning Systems Cambridge University Press 2004 32 M Kaneko T Nagashima Game logic applications 1 Studia Logica 57 1996 325354 33 M Kaneko T Nagashima Game logic applications 2 Studia Logica 58 1997 273303 34 S Kripke A completeness theorem modal logic Journal Symbolic Logic 24 1959 114 35 T Jager An actualist semantics quantiﬁed modal logic Notre Dame Journal Formal Logic 23 1982 335349 36 G Lakemeyer Limited reasoning ﬁrstorder knowledge bases Artiﬁcial Intelligence 71 2 1994 213255 37 G Lakemeyer Limited reasoning ﬁrstorder knowledge bases introspection Artiﬁcial Intelligence 84 12 1996 209255 38 L Lamport Time clocks ordering events distributed Communication ACM 21 7 1978 558565 39 H Levesque Knowledge representation reasoning Annual Reviews Computer Science 30 1 1986 81108 40 D Lewis On Plurality Worlds Blackwell 1986 41 Y Liu G Lakemeyer H Levesque A logic limited belief reasoning disjunctive information Proceedings 9th International Confer ence Principles Knowledge Representation Reasoning KR04 AAAI Press 2004 pp 587597 42 Y Liu H Levesque Tractable reasoning ﬁrstorder knowledge bases disjunctive information Proceedings 20th National Conference Artiﬁcial Intelligence AAAI05 AAAI Press 2005 pp 639644 43 A Lomuscio M Colombetti QLB A quantiﬁed logic belief Proceedings 3rd International Workshop Agent Theories Architectures Languages ATAL96 SpringerVerlag 1996 44 A Lomuscio F Raimondi MCMAS tool verifying multiagent systems Proceedings 12th International Conference Tools Algo rithms Construction Analysis Systems TACAS06 Springer pp 450454 45 A Lomuscio M Ryan On relation interpreted systems Kripke models Proceedings AI97 Workshop Theoretical Practical Foundation Intelligent Agents AgentOriented Systems Springer 1997 46 Z Manna A Pnueli The Temporal Logic Reactive Concurrent Systems vol 1 SpringerVerlag 1992 47 K McMillan Symbolic Model Checking An Approach State Explosion Problem Kluwer Academic Publishers 1993 48 R Meyden Axioms knowledge time distributed systems perfect recall Logic Computer Science LICS IEEE Computer Society 1994 pp 448457 49 JJCh Meyer W van der Hoek Epistemic Logic AI Computer Science Cambridge University Press 1995 50 RC Moore The role logic knowledge representation commonsense reasoning Proceedings 2nd National Conference American Association Artiﬁcial Intelligence AAAI Press 1982 pp 428433 51 RC Moore A formal theory knowledge action Formal Theories Commonsense World Ablex Publishing Corp 1984 52 P Panangaden K Taylor Concurrent common knowledge Deﬁning agreement asynchronous systems Distributed Computing 6 2 1992 7393 53 R Parikh R Ramanujam Distributed processes logic knowledge Proceedings Conference Logic Programs SpringerVerlag 1985 pp 256268 54 F Raimondi A Lomuscio Automatic veriﬁcation multiagent systems model checking OBDDs Journal Applied Logic 5 2 2007 235251 55 A Rao M Georgeff Modeling rational agents BDIarchitectures Proceedings 2nd International Conference Principles Knowl edge Representation Reasoning KR91 Morgan Kaufmann Publishers 1991 pp 473484 56 M Reynolds Axiomatising ﬁrstorder temporal logic Until linear time Studia Logica 57 23 1996 279302 57 V Shehtman Completeness incompleteness ﬁrstorder modal logic An overview Advances Modal Logic College Publications 2006 pp 2730 58 H Sturm F Wolter M Zakharyaschev Monodic epistemic predicate logic Proceedings European Workshop Logics Artiﬁcial Intelligence SpringerVerlag 2000 pp 329344 59 H Sturm F Wolter M Zakharyaschev Common knowledge quantiﬁcation Economic Theory 19 2002 157186 F Belardinelli A Lomuscio Artiﬁcial Intelligence 173 2009 9821013 1013 60 R Thomason Some completeness results modal predicate calculi Philosophical Problems Logic Reidel 1980 pp 5676 61 F Wolter First order common knowledge logics Studia Logica 65 2000 249271 62 F Wolter M Zakharyaschev Decidable fragments ﬁrstorder modal logics Journal Symbolic Logic 66 3 2001 14151438 63 F Wolter M Zakharyaschev Axiomatizing monodic fragment ﬁrstorder temporal logic Annals Pure Applied Logic 118 12 2002 133145 64 M Wooldridge An Introduction MultiAgent Systems John Wiley 2002 65 M Wooldridge Computationally grounded theories agency Proceedings International Conference MultiAgent Systems ICMAS IEEE Press 2000 pp 1322 66 M Wooldridge Reasoning Rational Agents MIT Press 2000 67 M Wooldridge Verifying agents implement communication language Proceedings 16th National Conference Artiﬁcial Intelligence AAAI99 AAAI Press 1999 pp 5257 68 M Wooldridge M Fisher M Huget S Parsons Model checking multiagent systems The Mable language applications International Journal Artiﬁcial Intelligence Tools 15 2 2006 195226 69 M Wooldridge M Fisher M Huget S Parsons Model checking multiagent systems MABLE Proceedings First International Conference Autonomous Agents Multiagent Systems AAMAS02 IFAAMAS 2002 pp 952959 70 B Wozna A Lomuscio A temporal epistemic logic reset operation Proceeding 6th International Conference Autonomous Agents Multiagent Systems AAMAS07 ACM 2007 pp 574581