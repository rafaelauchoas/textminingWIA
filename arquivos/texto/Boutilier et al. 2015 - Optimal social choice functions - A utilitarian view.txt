Artiﬁcial Intelligence 227 2015 190213 Contents lists available ScienceDirect Artiﬁcial Intelligence wwwelseviercomlocateartint Optimal social choice functions A utilitarian view Craig Boutilier a1 Ioannis Caragiannis b Simi Haber c Tyler Lu a2 Ariel D Procaccia d Or Sheffet e Dept Computer Science University Toronto Canada b Computer Technology Institute Diophantus Dept Computer Engineering Informatics University Patras Greece c Dept Mathematics BarIlan University Israel d Computer Science Dept Carnegie Mellon University United States e Center Research Computation Society Harvard SEAS United States r t c l e n f o b s t r c t Article history Received 12 April 2014 Received revised form 11 June 2015 Accepted 14 June 2015 Available online 25 June 2015 Keywords Computational social choice We adopt utilitarian perspective social choice assuming agents possibly latent utility functions space alternatives For reasons consider mechanisms social choice functions access ordinal rankings alternatives individual agents utility functions In context possible objective social choice function maximization expected social welfare relative information contained rankings We study optimal social choice functions different models underscore important role played scoring functions In worstcase model assumptions underlying distribution analyze worstcase distortionor degree selected alternative maximize social welfareof optimal randomized social choice functions In averagecase model derive optimal functions neutral impartial culture probabilistic models Finally general learningtheoretic model allows computation optimal social choice functions ones maximize expected social welfare arbitrary sampleable distributions In case provide algorithms sample complexity results class scoring functions validate approach empirically 2015 Elsevier BV All rights reserved 1 Introduction Classic models social choice theory assume preferences set agents set alternatives represented linear orders social choice function given preferences input outputs single socially desirable alternative A host clever social choice functions designed satisfy normative criteria Most work computational social choice studies computational aspects models addressing questions complexity computing social choice functions 517 manipulating survey Faliszewski Procaccia 13 Email addresses ceblycstorontoedu C Boutilier caragianceidupatrasgr I Caragiannis simimathbiuacil S Haber tlcstorontoedu T Lu A preliminary version paper appeared proceedings EC12 Corresponding author arielprocscmuedu AD Procaccia osheffetseasharvardedu O Sheffet 1 Currently leave Google Inc Mountain View CA 2 Currently Google Inc Mountain View CA httpdxdoiorg101016jartint201506003 00043702 2015 Elsevier BV All rights reserved C Boutilier et al Artiﬁcial Intelligence 227 2015 190213 191 Under ordinal preferences axiomatic approach obtaining socially desirable outcome seemson face necessary absent concrete measures quality alternative In contrast work economics assumes cardinal preferences takes utilitarian approach This viewpoint dates work Bentham end 18th century argued greatest happiness greatest number measure right wrong This axiom suggests happiness quantiﬁed having coined term utility Bentham proposed goal government maximize sum individual utilitiesthe social welfare defying contemporary wisdom goal government enrich coffers ruler The utilitarian approach prevalent example mechanism design algorithmic mechanism design 25 In paper view social choice problem utilitarian lens Our premise agents possibly implicit utility functions goal social choice function maximize utilitarian social welfare3ie possibly weighted sum agent utilitiesof selected alternative The utilitarian perspective appropriate social choice problems point discuss However methods social choiceespecially voting systemsare ﬁnding increasing application recommender systems web search product design practical domains primary aim mechanism design aggregate preferences utility eﬃciency maximized Indeed motivation work development group recommendation systems variety domains including lowstakes consumer applications higher proﬁle public policy corporate decisions Our work viewed step supporting groups users making decisions social choice functions automatically optimized needs In settings utilitarian perspective called If directly access utilities agents socially desirable alternative easily identiﬁed However access feasible variety reasons As result use agent preference orders proxy utility functions social choice function taking preference orders input perform respect underlying utilities From point view social choice function optimal maximizes social welfare given available information Using preference order proxy utility fashion serves purposes First behavioral economists argued people ﬁnd diﬃcult construct utilities alternatives Second cognitive commu nication burden articulating precise utilities long recognized decision analysis behavioral economics psychology By contrast simply comparing ordering alternatives considerably easier people makes soliciting preference orders practical eliciting utilities Furthermore choice behavior alternatives interpreted revealing ordinal cardinal preference information providing ready access incomplete orders domains described Hence content orders inputs 11 Our results Our study optimal social choice functions incorporates distinct related models assump tions available information notion optimality One common thread family scoring functionssocial choice functions score alternatives based position agents preference orderplays key role optimizing social welfare In Section 3 study model information agents utility functions available constructing cial choice function A worstcase analysis called We believe study model theoretical certainly practical models Speciﬁcally given collection agents preferencesa preference proﬁlethere consistent collections utility functionsutility proﬁlesthat induce preference proﬁle natural way ranking alternatives higher utility closer The distortion social choice function preference proﬁle worstcase ratio feasible utility proﬁles social welfare best alternative social welfare alternative selected function A worstcase optimal social choice function minimizes distortion preference proﬁle We ﬁrst derive upper lower bounds distortion hope focusing randomized social choice functions We exists preference proﬁle randomized social choice function m m number alternatives We complement result randomized social distortion cid2 choice function distortion preference proﬁle O m A slightly weaker upper bound obtained randomized variation natural scoring function harmonic scoring function new canonical scoring function independent Finally establish worstcase optimal social choice function achieves minimum distortion proﬁle polynomialtime computable The proof based linear programming roughly speaking relies embedding dual subproblem carefully constructed larger LP order avoid quadratic constraints m log In Section 4 study averagecase model assuming known distribution D utility functions We assume utility function agent drawn independently D Given reported agent preferences compute expected utility agent alternative respect D An averagecase optimal social choice function selects alternative maximizes expected social welfare given reported proﬁle We D neutral symmetric respect alternatives averagecase optimal social choice function scoring function The 3 Hereinafter simply write social welfare refer utilitarian social welfare 192 C Boutilier et al Artiﬁcial Intelligence 227 2015 190213 proof leverages Youngs 36 characterization family scoring functions As corollary D uniform interval averagecase optimal social choice function famous scoring function known Borda count In Section 5 develop analyze learningtheoretic model Rather assuming known distribution D utility proﬁles access sampled utility proﬁles D We use proﬁles compute sampleoptimal social choice functions The quality sampleoptimal function measured comparing expected social welfare truly optimal social choice function D We address natural questions First derive sample complexity results classes social choice functions kapproval functions general scoring functions speciﬁcally derive necessary suﬃcient bounds number samples sampleoptimal function class social welfare small tolerance optimal choice function high probability Second computing sampleoptimal scoring function APX hard mixed integer programming formulation problem solves practice Empirical results random utility model real data set suggest sampleoptimal scoring functions stylized functions including Borda count low expected distortion 12 Perspective related work While utilitarian perspective social choiceespecially goal optimizing possibly weighted sum indi vidual utilitieshas overshadowed axiomatic perspective great extent foundations nonetheless ﬁrm 15 advocates Our work adopts utilitarian perspective assumes social welfare measured sum individual agent utilities classic Benthamite fashion Naturally position requires making number assumptions problem domain including existence agent cardinal utility functions validity interpersonal comparison utilities having ones goal maximization sum individual utilities None assumptions valid social choice settings The foundations von Neumann Morgenstern 32 expected utility theory treat strength preference alternatives expressed utility function representing individuals ordinal preferences lotteries gambles involving alternatives While theory operational ized roughly determine individuals utility function standard gamble queries common decision analysis provides little foundation satisfactory account interpersonal utility comparison Furthermore accepts interpersonal comparisons meaningful social choice functions voting schemes studied social choice literature sense interpreted maximizing sum individual utilities assuming individual utilities exist Despite key assumptions hold approximately settings including computational economics algorithmic mechanism design ecommerce Most work mechanism design assumes agents possess realvalued utility valuation functions alternatives arbitrary social choice functions considered common social welfare maximization example social choice function implemented celebrated VCG mechanism 25 requires monetary transfers order achieve truthfulness Other papers assume cardinal utilities deal truthfulness social welfare maximization settings money For example recent paper Azrieli Kim 4 characterize social choice functions maximize social welfare subject truthfulness alternativesthey weighted majority rules appropriate weights In light work viewed providing means approximately maximize social welfare reducing elicitation burden classic mechanisms having agents rank alternatives specify valuations While results optimality scoring rules worstcase averagecase models depend sum utilities social choice function learningtheoretic model corresponding empirical optimization framework principle adapted measures social welfare including Rawlsian maximin measures input utility functions collection agents In sense framework require commitment maximizing sum individual utilities Some researchers argue agents express preferences explicitly reporting utilities While common decision analysis perspective adopted social choice For example utilitarian voting 18 range voting allows voters express utilities alternatives predeﬁned range 1 10 1 0 1 0 1 coincides approval voting 8 While utilitarian approach work differs prevalent view human voters far comfortable expressing ordinal preferenceswe seek optimize choice alternative respect implicit utility functions The worstcase model Section 3 closely related work Procaccia Rosenschein 27 Their work shares premise ordinal utilities proxy underlying cardinal utilities They argue social choice function maximize social welfare introduce notion distortion quantify gap optimum social welfare total utility social choice based induced preference orders The main difference approach consider deterministic social choice functions focus randomized functions Deterministic functions inevitably trivially high distortion Procaccia Rosenschein mitigate focusing attention highly structured utility functions In contrast study provides rich theoretical results mild assumption utility functions C Boutilier et al Artiﬁcial Intelligence 227 2015 190213 193 Fig 1 A comparison worstcase model Section 3 Caragiannis Procaccia 10 The text resp arrows describes resp work SCF stands social choice function A recent paper Caragiannis Procaccia 10 builds 27 closely related worstcase results Al aim optimize social welfare work fundamentally different conceptual level consider settings agents software agents easily compute exact utilities alternatives need voting arises communication restrictions Hence focus simple ﬁxed social choice functions low commu nication requirements optimize embedding agents translate utility functions reported votes For example agent map utility function plurality votewhich designates single favorite alternative requires log2 m bitsby voting alternative probability proportional alternatives utility While embeddings wellmotivated cooperative multiagent systems setting agents people utility functions translated preference orders natural way optimize social choice function Fig 1 illustrates different optimization processes Several papers study models similar averagecase model Section 4 For example Pivato 26 shows cardinal utilities drawn distribution satisfying certain assumptions Condorcet winner exists maximizes social welfare high probability And early empirical work Bordley 7 Merrill 24 shows plurality achieves lower social welfare social choice functions The unpublished work Weber 34 closely related His motivation similar model results differ important ways First optimizes measure different Second restricts attention slight generalization family scoring functions identify optimal social choice functions happen scoring functions Third assumes utility agent alternative independently uniformly distributed interval assumptions restrictive Webers main result Borda count asymptotically optimal wrt measure scoring functions Interestingly restrictive assumptions Borda count averagecase exactly optimal wrt measure expected social welfare winner social choice functions Section 4 closely related independent4 work Apesteguia et al 3 prove result similar Theorem 42 Our result somewhat stronger assume utility function agent drawn iid neutral distribution D assume agents utility alternative drawn iid Moreover proofwhich builds result Young 36is completely different The learningtheoretic model Section 5 related study learnability social choice functions Procaccia et al 28 They consider reconstruction scoring function based examples example preference proﬁle winning alternative proﬁle In contrast learningtheoretic setting optimize expected social welfare examples utility proﬁles On conceptual level motivation fundamentally different technical level require new tools leverage results derive novel results setting Finally seeing increasingly work computational social choice views social choice problem optimization problem 2112 One approach views social choice functions maximum likelihood estimators 11 This line work dating 18th century revived Young 37 studied optimal voting rules notion optimality different Speciﬁcally maximum likelihood perspective assumes agents order alterna tives reﬂecting personal assessment relative likelihood particular alternatives objectively best Voting intended determine alternative ranking maximum likelihood best given assessments assuming agent likely rank pair alternatives correctly incorrectly Youngs view optimal ity MLE perspective broadly purely statistical address issues social welfare utility maximization5 2 Preliminaries Let N 1 n set agents A a1 set alternatives Each agent preference order A strict total order Letting k 1 k equivalently view preference order bijection σ A m mapping alternative rank Let Sm set bijections The alternative ranked position k ranking σ given σ 1k For N let σi preference order agent The vector agent preferences cid6σ σ1 σn Smn preference proﬁle A social choice function f Smn A maps preference proﬁles alternatives We draw special attention class social choice functions known scoring functions A scoring function deﬁned vector cid6s s1 sm 4 The conference version paper published 2012 shortly publication paper Apesteguia et al 3 5 Even discussion compromise preference orderings Kemenys rule Young appeals statistical justiﬁcation median relative Kemenys distance metric 194 C Boutilier et al Artiﬁcial Intelligence 227 2015 190213 Given preference proﬁle cid6σ score A iN sσi awarded sk points agent ranks position k The scoring function fcid6s induced cid6s selects A maximum score ties broken fashion revisit tie breaking relevant The wellknown Borda scoring function count induced vector m 1 m 2 0 cid2 Unlike classical social choice models assume agents utility functions alternatives As discussed reported social choice function Let u A R utility function We cid7 alternatives higher utility ranked ranking σ consistent u ua ua higher lower utility cid7 implies σ σ Let pu set rankings consistent induced u pu set account ties utility We occasionally presume agents use randomized method selecting speciﬁc ranking σ pu possess utility function u case use σ u denote corresponding random variable domain pu Abusing 1σ set utility functions u σ pu set utility functions consistent notation slightly let p σ The vector cid6u u1 agent utility functions utility proﬁle Let pcid6u pu1 pun set preference proﬁles consistent cid6u Similarly let cid6σ cid6u denote random variable pcid6u representing joint 1 cid6σ denote set utility proﬁles consistent preference proﬁle cid6σ choice rankings p Positing utility model allows quantify social welfare alternative For utility proﬁle cid6u let swa cid6u cid2 iN uia utilitarian social welfare 3 The worstcase model We begin study optimal social choice functions worstcase model A social choice function access preference proﬁle preference proﬁle induced unknown utility proﬁle To quantify quality social choice function use notion distortion 2710 reﬂects degree social choice distorted cardinal preferences mapped ordinal preferences More precisely distortion social choice function f preference proﬁle cid6σ given dist f cid6σ sup cid6up1 cid6σ maxa A swa cid6u sw f cid6σ cid6u In words distortion worstcase ratio consistent utility proﬁles social welfare optimal alter native alternative selected f As observed Procaccia Rosenschein 27 deterministic social choice functions high distortion For example consider preference proﬁle n2 agents rank ﬁrst n2 agents rank b ﬁrst Assume wlog social choice function selects Suppose agents rank b ﬁrst utility 1 b 0 alternatives agents rank ﬁrst utility 1m alternatives The ratio social welfare b cid2m To reduce potential distortion Procaccia Rosenschein 27 adopt extremely restrictive assumption utility functions speciﬁcally utilities Borda scores We instead turn randomization We consider randomized social choice functions f Smn cid4 A f cid6σ distribution random variable A We extend deﬁnition distortion randomized functions natural way dist f cid6σ sup cid6up1 cid6σ maxa A swa cid6u Esw f cid6σ cid6u In general randomized social choice functions achieve distortion lower cid2m Consider preference proﬁle A ranked ﬁrst Given randomized social choice function alternative A selected probability 1m given preference proﬁle However proﬁle induced utilities arbitrarily low The ratio utility proﬁle agent gives arbitrarily high utility social welfare functions expected social welfare cid2m To avoid following assumption section Assumption 31 Only Section 3 For agent N cid2 A uia 1 This ensures agents equal weights equal pools utility points distribute alternatives Otherwise agent 1 utility 1 0 rest agent 2 utility 12 b 0 rest agent 1 twice inﬂuence agent 2 determining socially optimal alternative The assumption Caragiannis Procaccia 10 Our ﬁrst result establishes lower bound distortion randomized social choice functions Assumption 31 tight Theorem 32 Assume n cid2 m m Then exists cid6σ Smn randomized social choice function f dist f cid6σ C Boutilier et al Artiﬁcial Intelligence 227 2015 190213 195 Proof For ease exposition assume preference proﬁle cid6σ σiak 1 Nk remaining alternatives ranked arbitrarily 1 For randomized f k m divides n Partition agents m Pr f cid6σ ak 1 m equal subsets N1 N Nk v iak 1 uia 0 A ak For Nk A v ia 1m It holds m Let cid6u utility proﬁle m Consider n m swak cid6u 2n m A ak swa cid6u nm Therefore dist f cid6σ n 1 m 2n m m m1 m n m m 3 cid2 We establish existence randomized social choice function nearly achieves lower bound m iterated logarithm m preference proﬁle leaving tiny gap log Theorem 33 There exists randomized social choice function f cid6σ Smn dist f cid6σ O m log m The intricate proof theorem provided Appendix A Here present simpler proof weaker m log m This proof uses novel harmonic scoring function given score vector h1 hm cid3 upper bound O hk 1k cid2 m log m Let sca cid6σ score cid6σ harmonic scoring function Proof weaker upper bound O It holds uia 1σia N A N ranks A position k gives utility uia k 1 alternatives ranked utility uia sum utilities Therefore cid6u p 1 cid6σ swa cid6u sca cid6σ In addition note cid6σ cid4 A sca cid6σ n mcid4 k1 1 k nln m 1 1 2 Consider randomized f chooses following schemes probability 12 select cid7 cid6σ proportional alternative uniformly random ii select alternative probability sca cid6σ sca cid6σ Let cid6σ Smn cid6u p 1 cid6σ A It suﬃcient acid7 A sca cid2 swa cid6u Esw f cid6σ cid6u 2 cid3 mln m 1 We consider cases First assume sca cid6σ n cid3 ln m 1m With probability 12 winner selected propor tionally score Using Eq 2 probability selected cid5 ln m1 m n nln m 1 1 2 2 It follows 1 mln m 1 Esw f cid6σ cid6u Pr f cid6σ swa cid6u swa cid6u 1 2 mln m 1 cid3 Second assume sca cid6σ n ln m 1m From Eq 1 follows swa cid6u n bility 12 winner selected uniformly random We Esw f cid6σ cid6u uniform selection iN cid2 cid2 A uia m n m cid3 ln m 1m With proba Esw f cid6σ cid6u n2m We conclude cid5 swa cid6u Esw f cid6σ cid6u n ln m1 m n 2m 2 cid3 mln m 1 cid2 196 C Boutilier et al Artiﬁcial Intelligence 227 2015 190213 An interesting aspect proof use harmonic scoring function Despite large body especially com putational work scoring functions 163528 scoring functions considered canonical Borda count plurality deﬁned vector 1 0 0 veto antiplurality deﬁned vector 1 1 0 We hope harmonic function natural parameters attractive theoretical properties time accepted exclusive club While Theorem 33 offers attractive theoretical guarantees randomized social choice function need optimal While preference proﬁles distortion cid2 m proﬁles low distortion achievable function yields relatively high distortion We interested worstcase optimal randomized social choice functions By simply mean cid6σ Smn function f minimum possible distortion cid6σ We social choice function polynomialtime computable linear programming duality Theorem 34 The worstcase optimal randomized social choice function polynomialtime computable Proof For alternative cid6 A cid6σ Smn let cid7 U cid6σ cid6u p 1 cid6σ argmax A swa cid6u Given preference proﬁle cid6σ Smn alternative deﬁne set inequalities INEQpaa A β cid6σ follows A vector nonnegative values paa A nonnegative β cid4 jN β y j cid4 A 0 xa 0 j N A σ ja 1 pa xa j N A 2 σ ja m 1 pa xa j N A σ ja m pa xa A xa j N y j k m 1 j N zk j xa 0 0 y j zσ ja j 0 y j zσ ja j zσ ja 1 j y j zσ ja 1 j 0 3 0 The connection set inequalities randomized social choice functions revealed following statement Lemma 35 A randomized social choice function f distortion β1 β 0 1 respect utility proﬁles U cid6σ INEQpa cid6σ A β cid6σ uses probability distribution pa Pr f cid6σ aa A proﬁle cid6σ set inequalities satisﬁed Proof The fact distortion β1 equivalent following linear program having nonnegative objective value cid4 cid4 pau ja βq minimize subject jN cid4 A u ja q cid2 jN u ja q A u ja 1 jN A cid2 j N j N k m 1 u jσ 1 j N A u ja 0 q 0 j k u jσ 1 j k 1 In LP variable u ja denotes utility agent j N alternative A variable q maximum social welfare alternatives The constraints guarantee cid6u U cid6σ Next consider dual linear program variable xa second set constraints variables y j fourth set constraints This program maximizes Equation 3 By LP duality maximum objective value dual LP nonnegative Observe exactly requirement INEQpa cid6σ A β cid6σ set constraints variables zk j cid2 subject constraints INEQpaa A β cid6σ ﬁrst constraint variables xa satisﬁed cid2 jN y j C Boutilier et al Artiﬁcial Intelligence 227 2015 190213 197 We ready deﬁne worstcase optimal randomized social choice function f achieves optimal distortion β cid6σ 1 respect proﬁle cid6σ Smn To consider probability distribution cid6σ aa A set variables β cid6σ objective maximized We employ LP pa cid6σ Pr f deﬁned follows maximize β cid6σ subject cid4 A INEQpa cid6σ A β cid6σ cid6σ pa cid6σ 1 satisﬁed A A pa cid6σ 0 Using Lemma 35 ﬁnd probability distribution obtained solution LP induces lowest possible distortion β cid6σ 1 respect cid6σ We conclude order compute worstcase optimal social choice function f respect preference proﬁle suﬃces solve linear program Onm2 variables Onm2 constraints We observe leveraging LP duality crucial proof naïvely embedding primal LP presented Lemma 35 LP result quadratic program cid2 Interestingly concisely optimal function know distortion m Of course Theorem 33 know distortion proﬁle proﬁle O slightly larger O m log m 4 The averagecase model We consider model agent utility functions drawn probability distribution D As discussed Section 1 model closely related independent work Apesteguia et al 3 We assume utilities malized Section 3 assume section agents utility function drawn independently distribution Assumption 41 Only Section 4 Agent utility functions u1 drawn iid D This assumption admittedly restrictive enables prove strong results general learningtheoretic model Section 5 This model gives rise product distribution Dn utility proﬁles As utility proﬁles induce preference proﬁles natural way need reason induced distribution preference proﬁles speciﬁc mild assumption ties utility broken uniformly random ua ub Prσ ua σ ub Prσ ub σ ua 12 This assumption essentially loss generality nonatomic distributions ties occur probability zero The notion optimality takes slightly different meaning setting instead maximizing ratio optimal social welfare social choice function perform possible average We social choice function f averagecase optimal preference proﬁle cid6σ maximizes expected social welfare Esw f cid6σ cid6u cid6u cid6σ cid6u Note expectation conditional reported preference proﬁle cid6σ cid6u In section consider distributions D possess special structure Distribution D neutral6 measur permutation π Sm DU DU π U π u π u U u π denotes able U Rm permutation utility function u Informally neutral distribution symmetric respect alternatives A neutral dis tribution induces distribution preference proﬁles agent draws ranking σ independently uniformly random exactly impartial culture assumption model plays important role social choice theory 31 30 We scoring functions play crucial role averagecase model underscoring deeply importance family study optimal social choice functions Theorem 42 Assume neutral distribution D utility functions Then averagecase optimal social choice function scoring function Apesteguia et al 3 independently prove similar theorem stronger assumption agents utility alternative drawn iid Importantly use direct proof provide completely different potentially broadly useful proof exploiting machinery developed Young 36 To end deﬁne social choice correspondence function preference proﬁles nonempty subsets A A scoring correspondence deﬁned vector cid6s selects alternatives maximum score An anonymous 6 Neutrality known exchangeability context 198 C Boutilier et al Artiﬁcial Intelligence 227 2015 190213 social choice correspondence operates anonymous preference proﬁles vectors cid6x Nm count number agents holding m possible rankings A preference proﬁle regard agent holds preference Let xσ denote number agents holding ranking σ cid6x An anonymous social choice correspondence f consistent f cid6x cid6y f cid6x f cid6y f cid6x f cid6y cid15 continuous f cid6x anonymous proﬁle cid6y T N f cid6y tcid6x t T neutral f σ σ f σ Sm Denote p cid6u set anonymous preference proﬁles consistent cid6u Lemma 43 See Young 36 An anonymous social choice correspondence scoring correspondence neutral consistent continuous Proof Theorem 42 An optimal social choice function clearly anonymous neutral agent utilities iid D neutral Thus restrict attention functions receive anonymous preference proﬁles input social choice correspondence given anonymous preference proﬁle cid6x returns A maximize Let f Eswa cid6u cid6x p cid6u f cid6x argmaxa AEswa cid6u cid6x p cid6u It suﬃcient f f exactly set optimal choice functions choice f scoring correspondence Indeed f cid6σ preference proﬁle cid6σ scoring function Moreover set choices f scoring correspondence choice To f consistent let cid6x cid6y anonymous proﬁles f tinuous To f cid6y cid6x f f scoring correspondence suﬃces Lemma 43 demonstrate f cid6x f cid6y Then cid6x f cid7 f cid6y cid15 let consistent cid7 A Eswa cid6u cid6x p cid6u Eswa cid7 cid6u cid6x p cid6u Eswa cid6u cid6y p cid6u Eswa cid7 cid6u cid6y p cid6u inequalities strict Moreover b A Eswb cid6u cid6x cid6y p cid6u cid4 xσ yσ Eub σ pu σ Sm cid4 σ Sm xσ Eub σ pu cid4 σ Sm yσ Eub σ pu Eswb cid6u cid6x p cid6u E swb cid6u cid6y p cid6u This equality simply says overall expected social welfare alternative respect separate electorateswhose preferences represented cid6x cid6y right hand sideis equal expected social wel fare alternative electorates We conclude Eswa cid6u cid6x cid6y p This shows f cid6x cid6y To prove continuity assume f cid7 cid6u Eswa cid7 f cid6u cid6x cid6y p cid6u cid6x cid6y proving f cid6x cid6y f cid6x f cid6y cid6x Then exists cid7 0 Eswa cid6u cid6x p cid6u cid6x p cid6u Eswa cid7 A Let cid6y let T Eswa cid7 cid7 A cid6u cid7 cid7 cid6u cid6y p cid6ucid7 cid7 A Then t T Eswa cid6u cid6y t cid6x p Eswa cid6u cid6y p cid6u Eswa cid7 cid6u Eswa t Eswa cid6u cid6x p T cid7 Eswa cid7 cid6u cid6y p cid6u Eswa cid6u 0 cid6u cid7 cid6u cid6y t cid6x p cid6u cid6y p cid7 cid6u cid6u cid6x p cid6u It follows f cid6y tcid6x t T continuity satisﬁed cid2 The proof implies optimal social choice function scores alternatives based position agents preference order This observation allows construct optimal scoring function given distribution D C Boutilier et al Artiﬁcial Intelligence 227 2015 190213 199 Corollary 44 Assume neutral distribution D utility functions For k 1 m let s arbitrary A Then averagecase optimal social choice function scoring function parameters s Eua σ ua k m 1 s k The optimal scoring function especially natural form score s k position k simply expected utility alternative agent conditional ranked kth agent Notice arbitrary choice justiﬁed neutrality D We consider special case agent utilities alternative drawn uniformly interval wlog 0 1 Corollary 45 Let D uniform distribution 0 1m utility alternative drawn independently uniformly 0 1 Then averagecase optimal social choice function Borda count k k 1 m A folk theorem expectation korder statistics immedi Proof It suﬃces compute s m 1 1 provide informal proof completeness Consider random vari ately implies s k ables X1 Xm Xk utility alternative ranked position k The lengths m 1 intervals 0 Xm Xm Xm1 X1 1 identically distributed choose m 1 points circle uniformly random distances identically distributedand cut circle ﬁrst point 0 1 sum lengths 1 Thus expected length interval 1m 1 Now clearly scoring functions deﬁned vectors cid6s c cid6s cid6s cid6s c c identical tie breaking The optimal scoring function deﬁned vector mm 1 1m 1 equivalent Borda count cid2 5 The learningtheoretic model We consider learningtheoretic model computing optimal social choice functions likely greatest practical impact models Similarly average case model previous section assume possibly unknown distribution D utility proﬁles utility functions Section 4 However strong analytical results possible average case model accepting strong assumptions distribution essentially equivalent impartial culture assumption This model unrealistic variety reasons critiques Regenwetter et al 29 Instead devise techniques compute approximately optimal social choice functionsspeciﬁcally optimal scoring functionsfor arbitrary distributions D utility proﬁles assuming speciﬁc parameterized stylized form independence agent preferences Most realistic distributions likely analytically intractable develop samplebased optimization framework purpose We assume access set sampled proﬁles Dor ability generate samples known distribution With suﬃciently samples optimal scoring function respect samples approximately optimal D Because rely samples D model interpreted learning optimal social choice function We ﬁrst address question sample complexity deriving bounds number samples needed compute approximately optimal scoring functions restricted class kapproval functions We consider problem computing optimal scoring function given sample set We problem computing scores optimize social welfare APX hard develop mixed integer program MIP optimization While discuss model learningtheoretic terms emphasize approach equally valid D known samplebased optimization offers viable general computational model case7 51 Requisite concepts To quantify sample complexity rely wellknown measures complexity class functions Let F class functions form f X A set A We sample x1 xd X shattered F exist f g F f xi cid15 gxi d boolean vector b1 bd 0 1 h F hxi f xi bi 1 hxi gxi bi 0 The generalized dimension D G F F maximum d sample x1 xd X shattered F 8 The pseudodimension variation concept deﬁned realvalued functions If F class functions form f X R pseudodimension D P F F maximum d x1 xd X thresholds t1 td R b1 bd 0 1d exists h F hxi ti bi 1 hxi ti bi 0 We use bounds pseudodimension derive bounds sample complexity We ﬁrst observe Observation 51 For ﬁnite function class F generalized pseudo dimension greater log2 F 7 Our sample complexity results distributional assumptions If sampling known distribution D computational reasons tighter distributiondependent sample size results possible 8 The generalized dimension generalization VC dimension notion deﬁned Booleanvalued functions 200 C Boutilier et al Artiﬁcial Intelligence 227 2015 190213 Let F nm class randomized social choice functions n agents m alternatives For f F nm adopt usual perspective f Smn cid4 A maps preference proﬁles distributions alternativesin case focus generalized dimension F nm refer generalized dimension correspondence deﬁned mapping cid6u support f cid6u We different perspective transforming f follows deﬁne ˆf cid6u Esw f cid6σ cid6u cid6u ˆf maps utility proﬁle cid6u expected social welfare realized applying f preference proﬁle cid6σ cid6u induced cid6u Deﬁne ˆF nm ˆf f F nm With view focus pseudodimension ˆF nm These unrelated Lemma 52 For set randomized social choice functions F nm D G F nm D P ˆF nm Proof Assume D G F nm d Let cid6σ 1 cid6σ d d preference proﬁles shattered F nm let f g F nm social choice functions differ proﬁles Deﬁne utility proﬁles cid6u1 cid6ud induce cid6σ 1 cid6σ d Esw f cid6σ cid6ui cid15 Eswg cid6σ cid6ui possible small perturbation utility relevant candidate For d let ti Esw f cid6σ cid6ui Eswg cid6σ cid6ui2 1 ˆhcid6ui ti d 0 1 need ˆh ˆF nm ˆhcid6ui ti b Given b cid7 0 Let b1 bd binary vector set follows Esw f cid6σ cid6ui ti Eswg cid6σ cid6ui ti set b cid7 cid7 Esw f cid6σ cid6ui ti Eswg cid6σ cid6ui ti set bi 1 b Since F nm shatters cid6σ 1 cid6σ d bi b h F nm serves witness cid6σ 1 cid6σ d wrt b1 bd By construction corresponding ˆh ˆF nm serves witness relative ˆf ˆg shattering d proﬁles given b d Hence D P ˆF nm d cid2 cid7 1 b cid7 1 b cid7 cid7 cid7 52 Samplebased optimization Let F nm class social choice functions select optimal function f relative possibly unknown distribution D utility proﬁles We assume access t sampled proﬁles cid6u1 cid6ut These samples population drawn randomly generative model known distribution For cid6ui sample generate compute corresponding possibly random ties preference proﬁle cid6σ We treat collectively sample T cid6u1 cid6σ 1 cid6ut cid6σ t A sampleoptimal social choice function sample T ˆf argmax f F nm tcid4 i1 E f cid6σ sw f cid6σ cid6ui In learningtheoretic sense ˆf samplebased optimization problem empirical risk minimizer optimization standpoint ˆf solution In samplebased model content approximate optimality Let f optimal social choice function wrt distribution D We social choice function f εoptimal ε 0 utility proﬁle cid6u Esw f cid6σ cid6u cid6u Esw f cid6σ cid6u cid6u ε This deﬁnition relative restricted classes functions F nm 53 Sample complexity kapproval We ﬁrst consider class social choice functions known kapproval functions For 1 k m 1 kapproval function scoring function denoted fk score vector cid6sk 1 1 0 0 exactly k ones m k zeros We assume ties highestscoring alternatives broken uniformly random Given distribution D optimal kapproval functionwhere choice value kmaximizes expected social welfare wrt D We denote function f D k With collection t sample proﬁles best attain approximate optimality sampleoptimal function ˆf We determine required sample complexity t number samples needed ensure ˆf approximately optimal desired degree ε high probability 1 δ δ 0 Our class social choice functions limited let F nm app fk 1 k m 1 class kapproval functions n agents m alternatives Deﬁne ˆF nm app Let sck cid6σ kapproval score A preference proﬁle cid6σ Sample complexity depends pseudodimension kapproval functions m 1 functions provide immediate upper bound Observation 51 app ˆfk fk F nm Observation 53 D P ˆF nm app log2m 1 This bound asymptotically tight C Boutilier et al Artiﬁcial Intelligence 227 2015 190213 201 Theorem 54 For m 6 n 2m 3 D P ˆF nm app cid2log m Proof Let d 1 integer We generalized dimension D G F nm app kapproval functions pref erence proﬁles m 2d1 2 alternatives n 2d2 1 agents d We ﬁrst construct d preference proﬁles cid6σ 1 cid6σ 2 cid6σ d exactly 2d1 2 alternatives including special ones b exactly 2d2 1 agents following property For integers k 2 3 2d 1 t 1 2 d kapproval returns sole winner proﬁle cid6σ t alternative tth bit binary representation k 2 1 alternative b Then easily extend construction m 2d1 2 alternatives n 2d2 1 agents As corollary obtained particular sample d proﬁles shattered class kapproval functions The theorem follow Lemma 52 relation d m n Our construction preference proﬁle cid6σ t follows The set alternatives contains special alternatives b disjoint sets alternatives A1 A2 size 2d Each proﬁle 2d2 1 agents partitioned ﬁve disjoint sets set 2d agents Nq q 1 2 3 4 extra agent For q 1 2 agents Nq rank alternatives b ﬁrst positions arbitrary order alternatives Aq arbitrary order alternatives A3q arbitrary order All agents N3 rank alternative For j 0 1 2dt 1 2t agents N3 rank alternative b position 2 j2t The remaining 2d 1 positions ranking agent N3 occupied alternatives A1 arbitrary order 2d positions occupied alternatives A2 arbitrary order All agents N4 rank alternative b For j 0 1 2dt 1 2t agents N4 rank alternative position 2 2t1 j2t The remaining 2d 1 positions ranking agent N4 occupied alternatives A2 arbitrary order 2d positions occupied alternatives A1 arbitrary order Finally extra agent ranks alternative ﬁrst alternative b alternatives A1 A2 arbitrary order Now note alternative Aq ranked ﬁrst 2d 1 positions 2d1 1 agents agents Nq N2q possibly extra agent Hence kapproval score alternative A1 A2 2d1 1 k 2 2d 1 Also observe alternative b ranked positions 2d1 2 agents agents N1 N2 2t agents N3 Hence alternative A1 A2 winner proﬁle cid6σ t kapproval t 1 d k 2 2d 1 It remains compute kapproval score alternatives b Consider proﬁle cid6σ t Observe k 2 2d 1 number agents N3 rank alternative b k positions cid10 cid8cid9 cid11 cid9 cid10 2t k 2 2t 1 2t k 2 2t 2t similarly number agents N4 rank alternative k positions 2t cid18 k22t1 cid19 Hence kapproval scores b 2d1 1 2tcid18 k22t1 cid19 respectively Let bt tth signiﬁcant bit binary representation k 2 let λ ν unique integers 0 λ 2t1 1 0 ν 2dt 1 k 2 λ bt 2t1 ν2t Then cid19 2d1 2tcid18 k22t 2t 2t 2t cid9 k 2 2t1 2t cid10 cid9 2t cid10 k 2 2t 2t cid10 scka cid6σ t sckb cid6σ t 1 2t cid9 cid9 cid9 1 2t 1 2t 1 2t λ bt 2t1 ν2t 2t1 2t λ bt 2t1 ν2t 2t1 2t cid10 λ bt 2t1 2t1 2t cid9 λ bt 2t1 ν2t 2t 2t cid10 2t cid10 2tν 1 1 2tbt 1 ﬁfth equalities hold 0 λ 2t1 1 bt 0 1 Using fact t 1 observe scka cid6σ t sckb cid6σ t strictly positive bt 1 strictly negative bt 0 Hence sole winner kapproval alternative bk 1 alternative b To complete proof suﬃces modify construction capture general case m 2d1 2 alternatives n 2d2 1 agents follows Each 2d2 1 agents construction ranks m 2d1 2 additional alternatives positions ranking In addition agents n 2d2 1 agents rank alternatives b ﬁrst positions arbitrary order remaining alternatives arbitrary 202 C Boutilier et al Artiﬁcial Intelligence 227 2015 190213 order These modiﬁcations change winner proﬁle cid6σ t kapproval k 2 3 2d 1 This facts alternative b strictly higher kapproval score alternative different alternative b ranked alternatives additional agents clearly ranked additional alternatives agents difference kapproval scores b affected additional agents k 2 cid2 Observation 53 Theorem 54 D P ˆF nm app cid12log m provided n 2m 3 Standard learningtheoretic results 2 allow bound sample complexity optimizing kapproval constant factor Theorem 55 For ε δ 0 exists C 0 t C logmδε2 distribution D utility proﬁles probability 1 δ t iid utility proﬁles sampleoptimal kapproval function ˆfk εoptimal D Furthermore cid7 0 algorithm construct εoptimal kapproval function probability n 2m 3 C cid7 1 δ t C logmδε2 54 Sample complexity scoring functions The class kapproval functions restrictive consider construction approximately optimal scoring function restricting score vector structure Limiting attention scoring functions ensure optimality class arbitrary functions However natural restriction ﬁrst prominence scoring functions illustrated second natural interpretation appeal social choice functions9 cid6s Rm class scoring functions n agents m alternatives We assume ties highestscoring alternatives broken uniformly random Deﬁne ˆF nm We derive sample complexity scoring functions number sampled utility proﬁles needed ensure sampleoptimal ˆfcid6s εoptimal desired ε probability 1 δ Let fcid6s denote scoring social choice function induced score vector cid6s let F nm F nm s ˆfcid6s fcid6s fcid6s s s We ﬁrst bound pseudodimension ˆF nm Procaccia et al 28 prove lower bound m 3 D G F nm s s n 4 m 4 By Lemma 52 obtain following statement Corollary 56 For n 4 m 4 D P ˆF nm s m 3 In paper Procaccia et al 28 prove number distinct scoring functions 2 Om2 log n Even original result assumes deterministic tiebreaking rule proof adapted randomized tiebreaking Using bound Observation 51 immediately obtain D P ˆF nm Om2 log n We derive signiﬁcantly better upper bound depends m s Theorem 57 D P ˆF nm s Om log m We require following result Warren 33 use extension Alon 1 signum function takes values 1 0 1 Lemma 58 See 331 Let P set K polynomials degree τ cid14 real variables Then number different sign patterns P cid12 cid13 cid14 8eτ K cid14 In context lemma sign pattern vector values 1 0 1 obtained applying polynomial P input Proof Theorem 57 Let A set m 3 alternatives Consider sample d preference proﬁles cid6σ 1 cid6σ 2 cid6σ d Smn corresponding utility proﬁles cid6u1 cid6ud real thresholds t1 t2 td binary vector b bi 1 d entries exists scoring function fcid6sb Esw fcid6sb cid6σ cid6ui ti Denote F F nm set scoring functions We d 6m log2 m A swa cid6ui ti A A nonempty In addition 1 d For 1 d partition set alternatives A sets A score vector cid6sb Esw fcid6sb cid6σ cid6ui ti swa cid6ui ti By deﬁnition scoring functions F pair alternatives sets A deﬁne function A A A s 9 Optimization class arbitrary social choice functions results communicated enumerating possible proﬁles C Boutilier et al Artiﬁcial Intelligence 227 2015 190213 203 aa cid6s sccid6sa Li cid6σ sccid6sa cid6σ This linear function m variables entries score vector cid6s Let sgn R 1 0 1 denote signum function fcid6s proﬁle cid6σ lower equal higher The sign Li score alternative respectively Let L denote collection functions observe dm24 functions aa cid6s denotes score alternative We score vectors functions F deﬁne 2d different sign patterns L Consider 0 For k 0 1 let 1 b0 A1 bk cid6σ Observe sets A binary vectors b1 b0 differ ith coordinate Wlog assume b1 Ak argmaxa A A bk cid6σ set alternatives highest score fcid6s b0 cid6σ cid6ui ti A0 nonempty Esw fcid6s sccid6s b1 cid6σ cid6ui ti Esw fcid6s A1 a0 A We claim alternatives a1 A A0 a0 A1 a1 A0 Assume A0 A1 Hence A0 A1 case follows A holds A swa cid6ui ti Using observations fact fcid6sb1 cid6σ fcid6sb0 cid6σ select winning alternative uniformly random A1 A0 respectively Esw fcid6sb1 cid6σ cid6ui ti Esw fcid6sb0 cid6σ cid6ui obtain swa cid6ui ti Similarly alternative A1 A0 holds A A1 A0 A cid4 cid4 cid4 swa cid6ui swa cid6ui swa cid6ui A1 ti A0 A1 ti A1 A0 A1 A0 A1 A0 ti A1 A0 ti cid4 A1 A0 swa cid6ui cid4 A0 swa cid6ui cid4 A1 A0 swa cid6ui contradiction If a1 A1 A0 means sccid6s b1 a1 cid6σ sccid6s b1 a0 cid6σ sccid6s b0 a1 cid6σ sccid6s b0 a0 cid6σ Li a1a0 Li a1a0 0 Li cid6sb0 0 Similarly a0 A0 A1 sccid6sb1 a1 cid6σ sccid6sb1 a0 cid6σ sccid6sb0 a1 cid6σ sccid6sb0 a0 cid6σ Li cid6sb0 0 Both cases imply sign patterns L corresponding cid6sb1 cid6sb0 different a1a0 cid6sb1 0 cid6sb1 a1a0 Hence obtained lower bound 2d number different sign patterns L By applying Lemma 58 K dm24 τ 1 cid14 m obtain upper bound 2edmm number different sign patterns L Hence 2d 2edmm equivalently 2ddm 2emm For sake contradiction assume d 6m log2 m observe 2ddm increases d range Then cid12 inequality yields m4 12e log2 m contradiction m 3 cid2 2ddm m6 6m log2 m cid13 m Again standard results allow bound sample complexity Theorem 59 For ε δ 0 exists C 0 t Cm log2 m log1δε2 distribution D utility proﬁles probability 1 δ t iid utility proﬁles sampleoptimal scoring function ˆfcid6s εoptimal D cid7 0 algorithm construct εoptimal scoring function probability 1 δ Furthermore C cid7m log1δcid72 t C 55 Computing optimal scoring functions We turn attention question computing approximately optimal scoring functions Speciﬁcally given sample T cid6u1 cid6σ 1 cid6ut cid6σ t compute scoring vector cid6s corresponding sampleoptimal scoring function ˆfcid6s ˆfcid6s argmax fcid6s tcid4 i1 E fcid6s cid6σ sw fcid6s cid6σ cid6ui This problem turns computationally hard Theorem 510 Computing sampleoptimal scoring function APX hard The theorem proof appears Appendix B implies P cid15 N P problem admit polyno mial time approximation scheme 204 C Boutilier et al Artiﬁcial Intelligence 227 2015 190213 On positive formulate problem computing sampleoptimal scoring functions MIP Its primary variables scores si We key variables constraints MIP turn10 Any scoring vector cid6s s1 sm normalized impacting choice function constrain cid6s follows s1 sm 1 si si1 m 1 sm 0 4 Ties broken uniformly random Function fcid6s selects alternative cid6σ To encode ﬁrst abbreviate score given cid6σ linear expression sca cid6σ mcid4 j1 J ajis j A t 5 J aji number agents cid6σ rank position j Note J aji constant sca cid6σ 0 n continuous function cid6σ Let Iabi alternatives cid15 b t binary variable indicating score b given cid6σ We encode follows n γ Iabi γ sca cid6σ scb cid6σ t cid15 b nIabi n sca cid6σ scb cid6σ t cid15 b 6 7 γ ﬁxed parameter handles optimizationdependent ﬂoating point accuracy corresponding level discretization scores If score difference nonnegative constraint 6 forces Iabi 1 7 satisﬁed If difference negative 7 forces Iabi 0 6 satisﬁed Let binary variable Iai indicate selected possibly tied given cid6s cid6σ We require cid4 cid4 m 2 Iai m 1Iai Iabi t Iabi bbcid15a bbcid15a 8 Our objective choose cid6s maximize average social welfare samples account random tiebreaking leading following objective tcid4 i1 max cid6sI cid2 cid2 swa cid6ui Iai Iai We linearize objective indicator variables Ski k m t Ski 1 iff k mcid4 k1 kSki cid4 Iai mcid4 k1 Ski 1 t Our objective tcid4 mcid4 i1 k1 max cid6sIS cid2 swa cid6ui Iai k Ski Finally let Z aki indicate Iai Ski 1 encoded 1 Z aki Iai Ski 2 Z aki Iai Ski A k m t Pulling MIP tcid4 mcid4 cid4 1 max cid6sIS Z i1 subject 4 6 7 8 9 10 k1 swa cid6ui Z aki k cid2 Iai requiring 9 10 11 2m2 m 1t variables 4m2t 2t m 1 constraints 10 With suitable constraints scores MIP compute optimal kapproval functions direct evaluation small number restricted functions feasible m small C Boutilier et al Artiﬁcial Intelligence 227 2015 190213 205 Fig 2 Histograms distortion ratios uniform jester experiments average distortions shown 56 Experiments We empirically investigate performance averagecase optimal social choice functions sampleoptimal scoring functions measuring distortion In case consider random utility proﬁles use real data set userprovided ratings alternatives surrogate utilities Our ﬁrst experiment uniform investigates uniform utility distribution described Section 4 While Borda op timizes expected social welfare model Corollary 45 minimize distortion We empirically measure expected distortion randomly generating t 1000 proﬁles uniform model values m n computing distortion Borda count visàvis socially optimal alternative Results shown leftmost histograms Fig 2 Each histogram shows distortions 1000 utility proﬁles ﬁxed m n note log arithmic scaling yaxis Clearly overall distortion small average distortion 101 case exceeds 11 random proﬁle We average distortion decreases m n increases Our second experiment uses jester dataset 14 consists 41M user ratings 100 different jokes 60000 users Ratings continuous scale 10 10 rescale range 0 20 We deﬁne set alternatives mostrated jokes draw agents set 50699 users rated We create sample 100 training proﬁles data set 100 voters use sample learn approximately 025 015 014 013 012 011 01 00 Note signif optimal scoring function11 The score vector results cid6s icant dip s1 s2 gradual drop s7 signiﬁcant drop s8 unBordalike We divide remaining users 406 test proﬁles 100 users evaluate distortion learned function fcid6s For comparison evaluate Borda harmonic 3approval functions proﬁles Results shown rightmost histograms Fig 2 We clearly distortion negligible fcid6s Borda harmonic functions average distortion 1009 worst roughly 11 By contrast 3approval somewhat worse average distortion 10113 worst case 115 The sampleoptimal function fcid6s performs slightly worse Borda mild overﬁtting training proﬁles note theoretical sample complexity problem greater 100 samples These results course limited merely suggestive indicate scoring functions empirically optimized relying stylized scoring vectors like Borda harmonic score closely approximate optimal social choice functions practice 6 Discussion Our work offers different related perspectives utilitarian social choice Each model makes fundamentally dif ferent assumptions mechanisms knowledge agents utility information In worstcase model study distortion randomized social choice functions assuming information underlying utilities In average case model derive optimal social choice function respect distributions iid neutral Finally learningtheoretic model develop method approximately optimizing scoringbased social choice functions arbitrary utility distributions establish sample complexity bounds provide encouraging empirical results Our work raises number important questions directions future research Access sampled utility proﬁles assumed learningtheoretic model diﬃcult obtain practice However techniques decision analysis 11 CPLEX 122 modern workstation took 236 hrs solve resulting MIP accuracy gap 152 206 C Boutilier et al Artiﬁcial Intelligence 227 2015 190213 preference elicitation lotteries readily comprehensible queries involving simple comparisons assess utility functions speciﬁc agents 9 econometric techniques use revealed preference stated choice data develop probabilistic models utilities 20 Applying methods design optimal rankingbased social choice functions important direction future work One motivations reduce cognitive communication burden associated utilities valuations allowing agents specify rankings This burden reduced intelligent elicitation partial ranking information 1922 Our utilitarian model offers novel perspective vote elicitation raises possibility designing schemes perform respect utilitarian social welfare The utilitarian perspective suggests new ways assessing potential manipulation social choice functions By assuming agents utility functions probabilistic information utilities counterparts quantify gains potential misreports terms expected utility providing Bayesian view manipulation 23 The design scoring functions appropriate tradeoffs degree optimality degree manipulability important problem methods adapted Acknowledgements We thank Yury Makarychev Hervé Moulin Tasos Sidiropoulos helpful discussions anonymous referees valuable comments Boutilier Lu supported NSERC Procaccia supported NSF grants IIS1350598 CCF1215883 Sloan Research Fellowship Sheffet supported NSF grants CCF1101215 CCF1116892 MSRCMU Center Computational Thinking Appendix A Proof Theorem 33 We begin deﬁning randomized social choice function f For nonnegative integer deﬁne sets alterna tives B cid6σ follows Set B0 cid6σ consists alternatives A For 1 alternative B i1 cid6σ belongs B cid6σ exists utility proﬁle cid6ua p 1 cid6σ maximum social welfare furthermore Bcid14 cid6σ m 3 swa cid6ua cid4 acid7Bcid14 cid6σ swa cid7 cid6ua 12 cid14 0 1 Given preference proﬁle cid6σ Smn randomized social choice function f ﬁrst computes sets B 0 cid6σ m Bk1 cid6σ Deciding B1 cid6σ Bk cid6σ k smallest integer Bk cid6σ 3 alternative B i1 cid6σ included B cid6σ polynomial time checking feasibility straightforward linear program Then function f picks integer 0 k uniformly random selects equiprobably alternatives B cid6σ m log m Speciﬁcally establish distortion 3 In remainder proof cid6σ Smn dist f cid6σ O mlog Given preference proﬁle cid6σ consider utility proﬁle cid6u consistent cid6σ let m 1 m 9 social welfare Let t largest integer 0 1 k Bk cid6σ 3 m f picks alternative probability higher alternative highest Bt cid6σ First consider special case t k m belong set Bt1 cid6σ This means cid6u utility proﬁle 1 3k1 p In case alternative 1 cid6σ cid4 1 Bcid14 cid6σ swa acid7Bcid14 cid6σ cid7 cid6u 1 3 m swa cid6u highest social welfare satisﬁes cid14 0 t With probability 1 welfare k1 algorithm picks random alternative Bcid14 cid6σ Therefore expected social 1 k 1Bcid14 cid6σ cid4 acid7Bcid14 cid6σ swa cid7 cid6u 1 3k 1 m swa cid6u The theorem follow proving k log 1 B i1 cid6σ 3 m holds m To assume m 9 integer 2B cid6σ m 3 log2 2B i1 cid6σ m 3 13 This implies Blog cid14 2 m3 cid15 cid6σ 3 m k log cid14 cid15 2 m3 log m C Boutilier et al Artiﬁcial Intelligence 227 2015 190213 207 The remainder proof devoted establishing Equation 13 In following inequality 13 true 1 assuming B i1 cid6σ 3 m For alternative B cid6σ let cid6ua utility proﬁle satisfying inequality 12 For alternative denote N1a set agents rank Bi1 cid6σ cid4 alternatives B i1 cid6σ Let N2a N N1a Also s 1 2 let cid4 m U s ua ja aB cid6σ jNsa First observe agent j N2a Bi1 cid6σ alternatives cid7 B i1 cid6σ ua ja cid7 ua ja m Hence cid4 cid4 aB cid6σ acid7B i1 cid6σ swa cid7 cid6ua cid4 cid4 cid4 aB cid6σ cid4 acid7B i1 cid6σ cid4 jN cid4 ua ja cid7 ua ja cid7 jN2a acid7B i1 cid6σ cid4 cid4 aB cid6σ B i1 cid6σ m aB cid6σ jN2a ja ua B i1 cid6σ m U 2 In addition alternative B cid6σ satisﬁes inequality 12 cid14 1 B i1 cid6σ m B i1 cid6σ swa cid6ua U 1 U 2 cid6ua swa cid4 cid4 cid4 m 3 3 cid7 aB cid6σ acid7B i1 cid6σ aB cid6σ It follows 14 15 U 1 2U 2 Now inequality 12 cid14 0 3U 1 2U 1 U 2 2 ja 2 ua swa cid6ua cid4 cid4 cid4 6 m B0 cid6σ jN aB cid6σ cid4 cid4 swa aB cid6σ acid7B0 cid6σ aB cid6σ cid7 cid6ua 6n m B cid6σ equality follows Assumption 31 fact B0 cid6σ m Also observe U 1 upperbounded total harmonic score alternatives ﬁrst cid20B i1 cid6σ mcid21 positions agents preference 3U 1 3nHcid20B i1 cid6σ mcid21 9n log2 2B i1 cid6σ m 3 Hk kth harmonic number The second inequality follows fact B i1 cid6σ 3 2t 3 log2 complete cid2 m Hcid20tcid21 3 t 3 By 16 17 obtain inequality 13 desired The proof Theorem 33 Appendix B Proof Theorem 510 We use reduction Independent Set 3regular graphs explicit inapproximability result Berman Karpinski 6 Theorem 61 See Berman Karpinski 6 Given 3regular graph G 284T nodes 426T edges integer T 2 constant cid7 0 12 N P hard distinguish following cases G independent set size 140 cid7T Any independent set G size 139 cid7T The proof Theorem 61 6 thought polynomialtime reduction transforms instance φ generic N P hard problem Satisﬁability instance Independent set 284T node 3regular graph The reduction G independent set size 140 cid7T φ satisﬁable independent set G size 139 cid7T Our reduction use particular instances proof 6 Given instance integer parameter T 2 constant cid7 0 12 reduction constructs polynomial time 14 15 16 17 208 C Boutilier et al Artiﬁcial Intelligence 227 2015 190213 Rank 1 2 v v 1 v 2 V 1 V 2 V 3 2V 2V 1 3V 1 N1 2T 2 a1 a2 N2 140T a1 a2 N3 2T 2 b1 b2 N4 140T b1 b2 av av1 av2 b1 c2 c3 cV b2 bV av b1 av1 aV c2 c3 cV b2 bV bv bv1 bv2 a1 a2 a3 aV c2 cV a1 bv bv1 bV a2 a3 aV c2 cV N5 1 b1 c2 c v c v1 c v2 a1 b2 b3 bV a2 aV Fig 3 The preference proﬁle corresponding node v The corresponding utility proﬁle cid6u v swa1 cid6u v 70T swb1 cid6u v T swa cid6u v T alternative different a1 b1 uniquely induces cid6σ v family 710T utility proﬁles uniquely deﬁnes family R corresponding preference proﬁles integer T 2 If input graph independent set size 140 cid7T scoring vector cid6s total expected social welfare winning alternatives fcid6s proﬁles R 39764 69cid7T 2 If independent set G size 139 cid7T scoring vector cid6s total expected social welfare winning alternatives fcid6s proﬁles R 39695 69cid7T 2 In way conclude distinguishing cases proﬁles returned reduction N P hard problem In words problem hard approximate factor better 3976439695 100174 The reduction Let G V E 3regular graph 284T nodes 426T edges We assume nodes V identiﬁed integers 1 2 V We construct V preference proﬁles corresponding nodes V E preference proﬁles corresponding edges E 710T proﬁles total Denote R family prefer ence proﬁles All proﬁles 284T 3 agents 3V 1 852T 1 alternatives Among special alternatives a1 b1 alternatives ai bi ci 2 V The corresponding utility proﬁles total utility agent alternatives exactly 1 furthermore utilities different corresponding preference proﬁle uniquely deﬁned Speciﬁcally node v preference proﬁle cid6σ v deﬁned follows The agents partitioned 5 sets N1 N5 Set N1 consists 2T 2 agents rank alternative ai position 1 V alternative b1 position V 1 alternatives ci bi positions V 2V 1 respectively 2 V Set N2 consists 140T agents rank alternative ai position 1 v alternative b1 position v 1 alternative ai position 1 v 1 V alternatives ci bi positions V 2V 1 respectively 2 V Set N3 consists 2T 2 agents rank alternative bi position 1 V alternative ai position V 1 V alternative ci position 2V 1 2 V Set N4 consists 140T agents rank alternative a1 position v alternative bi position 1 v 1 alternative bi position 1 v 1 V 1 alternatives ai c2 positions V 2V 1 respectively 2 V Set N5 consists agent ranks alternative b1 ﬁrst alternative ci position 2 V alternative a1 position V 1 alternatives bi ci positions V 2V 1 respectively 2 V See Fig 3 example The corresponding utility proﬁle cid6u v swa1 cid6u v 70T swb1 cid6u v T swa cid6u v T alternative A a1 b1 uniquely induces cid6σ v Observe 142T 2 agents N1 N2 rank alternative a1 ﬁrst 2T 1 T agents N3 N5 rank alternative b1 ﬁrst deﬁnition cid6u v clearly feasible construction implemented polynomial time C Boutilier et al Artiﬁcial Intelligence 227 2015 190213 209 Rank 1 2 v v 1 v 2 w w 1 w 2 V 1 V 2 V 3 2V 2V 1 3V 1 N1 71T 1 a1 a2 N2 71T 1 a1 a2 b1 av av1 aw1 aw aw1 aV b2 b3 bV c2 cV av av1 av2 b1 aw aw1 aV b2 b3 bV c2 cV N3 1 a1 c2 c v c v1 c v2 c w c w1 c w2 b1 a2 a3 bV b2 bV N4 71T 1 b1 b2 N5 71T 1 b1 b2 bv a1 bv1 b w1 b w b w1 bV c2 c3 cV a2 aV bv bv1 bv2 b w a1 b w1 bV c2 c3 cV a2 aV Fig 4 The preference proﬁle cid6σ e corresponding edge e v w v w The corresponding utility proﬁle cid6ue swa1 cid6ue 70T swb1 cid6ue T swa cid6ue T alternative different a1 b1 uniquely induces cid6σ e For edge e v w v w preference proﬁle cid6σ e deﬁned follows The agents partitioned 5 sets N1 N5 Set N1 consists 71T 1 agents rank alternative b1 position v alternative ai position 1 v 1 alternative ai position 1 v V alternatives bi ci positions V 2V 1 respectively 2 V Set N2 consists 71T 1 agents rank alternative ai position 1 w 1 alternative b1 position w alternative ai position 1 w 1 V alternatives bi ci positions V 2V 1 respectively 2 V Set N3 consists agent ranks alternative a1 ﬁrst alternative ci position 2 V alternative b1 position V 1 alternatives ai bi positions V 2V 1 respectively 2 V Set N4 consists 71T 1 agents rank alternative bi position 1 v alternative a1 position v 1 alternative bi position 1 v 1 V alternatives ci ai positions V 2V 1 respectively 2 V Set N5 consists 71T 1 agents rank alternative bi position 1 w alternative a1 position w 1 alternative bi position 1 w 1 V alternatives ci ai positions V 2V 1 respectively 2 V See Fig 4 example The corresponding utility proﬁle cid6ue swa1 cid6ue 70T swb1 cid6ue T swa cid6ue T A a1 b1 uniquely induces cid6σ e Observe 71T agents N1 N3 rank alternative a1 ﬁrst 142T 2 agents N4 N5 rank alternative b1 ﬁrst deﬁnition cid6ue clearly feasible construction implemented polynomial time Proof correctness We proceed deﬁnitions For preference proﬁle cid6σ R use notation cid6u cid6σ denote corresponding utility proﬁle Also deﬁne SWcid6s cid4 cid6σ R Esw fcid6s cid6σ cid6u cid6σ total expected social welfare winning alternative score cid6s We remark order simplify proof avoid reasoning monotonicity score vector entries consider scoring rule computing linear combination kapproval scores k 1 3V 1 The nonnegative entries score vector multipliers corresponding approval score linear combination In particular denote appka cid6σ number agents rank alternative ﬁrst k positions preference proﬁle cid6σ kapproval score alternative Then score score vector cid6s deﬁned sccid6sa cid6σ appka cid6σ sk Clearly deﬁnition equivalent standard scoring rules adjusting score vector entries appropriately 3V 1 k1 cid2 210 C Boutilier et al Artiﬁcial Intelligence 227 2015 190213 The claims provide information winning alternatives proﬁle depending entries score vector cid6s Claim B2 Let cid6s score vector In proﬁle R alternatives a1 b1 highest score cid6s If alternative a1 b1 highest score cid6s proﬁle R sk 0 k 1 V alternatives a1 b1 highest score Proof Observe proﬁle 284T 3 agents alternatives a1 b1 position Furthermore agents rank alternatives a1 b1 ﬁrst V 1 positions Hence sum scores alternatives 284T 3 V cid4 k1 sk 2284T 3 3V 1cid4 kV 1 sk For alternative number agents rank ﬁrst V positions 142T 2 Hence score alternative 142T 2 V cid4 k1 sk 284T 3 3V 1cid4 kV 1 sk Clearly sk 0 k 1 V alternatives a1 b1 score strictly higher Otherwise alternatives a1 b1 highest score possibly alternative a1 b1 cid2 Claim B3 Let v V node G Given score vector cid6s deﬁne Witv cid6s 140T 1sv cid4 sk kV v Then Alternative a1 sole winner cid6s proﬁle cid6σ v Witv cid6s 0 Alternative b1 sole winner cid6s proﬁle cid6σ v Witv cid6s 0 Alternatives a1 b1 tied highestscoring alternatives cid6s proﬁle cid6σ v Witv cid6s 0 Proof Consider node v V corresponding preference proﬁle cid6σ v By deﬁnition cid6σ v difference appka1 cid6σ v appkb1 cid6σ v kapproval scores alternatives a1 b1 1 k 1 v 1 v 1 V 140T 1 k v 0 k V 1 3V 1 Therefore sccid6sa1 cid6σ v sccid6sb1 cid6σ v 3V 1cid4 k1 appka1 cid6σ v appkb1 cid6σ v sk cid4 sk kV v 140T 1sv Witv cid6s Now claim follows Claim B2 Witv cid6s cid15 0 implies sk 0 k 1 V alternative a1 b1 maximum score cid2 Claim B4 Let e v w E edge G Given score vector cid6s deﬁne Witecid6s 71T 2sv 71T 2sw cid4 sk kV vw Then Alternative a1 sole winner cid6s proﬁle cid6σ e Witecid6s 0 Alternative b1 sole winner cid6s proﬁle cid6σ e Witecid6s 0 Alternatives a1 b1 tied highestscoring alternatives cid6s proﬁle cid6σ e Witecid6s 0 C Boutilier et al Artiﬁcial Intelligence 227 2015 190213 211 Proof Consider edge e v w E corresponding preference proﬁle cid6σ e By deﬁnition cid6σ e difference appka1 cid6σ e appkb1 cid6σ e kapproval scores alternatives a1 b1 1 k 1 v 1 v 1 w 1 w 1 V 71T 2 k v k w 0 k V 1 3V 1 We sccid6sa1 cid6σ e sccid6sb1 cid6σ e 3V 1cid4 k1 appka1 cid6σ e appkb1 cid6σ esk cid4 71T 2sv 71T 2sw sk kV vw As claim follows directly Claim B2 cid2 Witecid6s The correctness reduction follow lemmas Lemma B5 For independent set I size K 71T 140T G scoring protocol cid6s SWcid6s 30104T 2 69TK Proof For node v G set sv 1K v I sv 0 We set sv 0 v V 1 3V 1 First consider preference proﬁle cid6σ v node v G We Witv cid6s 140T 1sv sk 140T sv sk 140T sv 1 cid4 cid4 kV v kV Now observe righthand equality strictly positive v I sk 1K K 140T strictly negative v I sv 0 Hence Claims B2 B3 conclude alternative a1 respectively b1 sole winner proﬁle cid6σ v v I respectively v I Now consider preference proﬁle cid6σ e edge e v w G We cid4 sk kV vw Witecid6s 71T 2sv 71T 2sw 71T 1sv sw cid4 kV sk 71T 1sv sw 1 71T 1 K 1 0 The ﬁrst inequality holds adjacent nodes v w belongs independent set I second K 71T By Claims B2 B4 conclude alternative a1 sole winner cid6s proﬁle cid6σ e edge e E Summing expected social welfare winner cid6s proﬁles cid4 cid4 cid4 SWcid6s swa1 cid6u v swb1 cid6u v swa1 cid6ue vI vV I eE 70TK T V K 70T E 30104T 2 69TK desired cid2 Lemma B6 Let cid6s score vector SWcid6s 30104T 2 69TK Then G independent set size K Proof First prove sk 0 k 1 V Indeed case Claims B3 B4 a1 b1 highestscoring alternatives possibly alternative Then expected social welfare winner cid6s proﬁle cid6σ R 1 2 swa1 cid6u cid6σ swb1 cid6u cid6σ 71T 2 In total SWcid6s E V 71T 2 25205T 2 contradicting assumption lemma Furthermore assume Witv cid6s cid15 0 node v V Witecid6s cid15 0 edge e E If case transform score vector order satisﬁes conditions assumption lemma This follows Let η minimum nonzero value quantities Witv cid6s Witecid6s 212 C Boutilier et al Artiﬁcial Intelligence 227 2015 190213 cid7 v follows set s nodes v V edges e E Now let v V node sv 0 argument node certainly cid7cid7 cid7cid7 cid7 200T scores cid6s exists Deﬁne score vectors cid6s cid6s cid6s cid7cid7 nonzero cid6s Observe nonzero Witv cid6s Witv cid6s cid7cid7 nonzero sign Witecid6s sign Witv cid6s Similarly nonzero Witecid6s Witecid6s cid7cid7 cid7 This means proﬁle cid6σ v cid6σ e sole winner scores cid6s cid6s cid6s For node v cid7cid7 0 nonzero different signs Similarly edge e Witv cid6s 0 Witv cid6s cid7cid7 Witecid6s 0 Witecid6s cid6s cid7cid7 2SWcid6s implies highest score cid6s Clearly SWcid6s cid7 score vectors cid6s desired properties cid7 cid7cid7 0 Hence alternatives a1 b1 winners proﬁles cid6σ v cid6σ e cid6s cid7 v cid7 Witv cid6s cid7 Witecid6s 200T s sv η sv η cid7 SWcid6s So following assume Witv cid6s cid15 0 Witecid6s cid15 0 node v V edge e E Deﬁne H e E Witecid6s 0 I v V Witv cid6s 0 Hence sole winner cid6s proﬁle cid6σ e alternative a1 e H alternative b1 Similarly sole winner proﬁle cid6σ v alternative a1 v I alternative b1 It follows cid7Witv cid6s cid7Witecid6s cid7cid7 cid6s cid7 cid4 cid4 cid4 cid4 SWcid6s swa1 cid6u v swb1 cid6u v swa1 cid6ue swb1 cid6ue vI vV I eH eEH 70T I T V I 70T H T E H T V 69T I T E 69T H Also observe assumption lemma implies SWcid6s 30104T 2 69TK 70T E T V 69T K By equations obtain I K E H Now consider subgraph G I let EG cid7 set edges Since edge e v w EG cid7 nodes v w belong I holds G induced nodes cid7 Witecid6s 71T 2sv 71T 2sw cid4 sk kV vw cid14 cid15 Witv cid6s Witw cid6s T 1sv sw 1 2 0 cid7 E H Since I EG EG consequently graph G independent set size I EG cid7 I E H K cid2 cid7 lower bound number connected components G cid7 graph G cid7 The properties reduction follow lemmas If G independent set size 140 cid7T Lemma B5 obtain score vector cid6s SWcid6s 39764 69cid7T 2 On hand independent set G size 139 cid7T SWcid6s 39695 69cid7T 2 Assuming obtain contradiction Lemma B6 cid2 References 1 N Alon Tools higher algebra RL Graham M Grötschel L Lovász Eds Handbook Combinatorics vol 2 MIT Press 1996 pp 287324 2 M Anthony PL Bartlett Neural Network Learning Theoretical Foundations Cambridge University Press 1999 3 J Apesteguia MA Ballester R Ferrer On justice decision rules Rev Econ Stud 78 2011 116 4 Y Azrieli S Kim Pareto eﬃciency weighted majority rules Int Econ Rev 55 2014 10671088 5 J Bartholdi CA Tovey MA Trick Voting schemes diﬃcult tell won election Soc Choice Welf 6 1989 157165 6 P Berman M Karpinski On tighter inapproximability results Proceedings 26th International Colloquium Automata Languages Programming ICALP 1999 pp 200209 7 RF Bordley A pragmatic method evaluating election schemes simulation Am Polit Sci Rev 77 1983 123141 8 SJ Brams PC Fishburn Approval Voting 2nd edition Springer 2007 9 D Braziunas C Boutilier Assessing regretbased preference elicitation UTPREF recommendation Proceedings 11th ACM Conference Economics Computation EC 2010 pp 219228 10 I Caragiannis AD Procaccia Voting maximizes social welfare despite limited communication Artif Intell 175 910 2011 16551671 11 V Conitzer M Rognlie L Xia Preference functions score rankings maximum likelihood estimation Proceedings 21st International 12 E Elkind P Faliszewski A Slinko On distance rationalizability voting rules Proceedings 12th Conference Theoretical Aspects Joint Conference Artiﬁcial Intelligence IJCAI 2009 pp 109115 Rationality Knowledge TARK 2009 pp 108117 13 P Faliszewski AD Procaccia AIs war manipulation winning AI Mag 31 4 2010 5364 14 K Goldberg T Roeder D Gupta C Perkins Eigentaste constant time collaborative ﬁltering algorithm Inf Retr 4 2 2001 133151 15 J Harsanyi Cardinal welfare individualistic ethics interpersonal comparisons utility J Polit Econ 63 4 1955 309321 16 E Hemaspaandra LA Hemaspaandra Dichotomy voting systems J Comput Syst Sci 73 1 2007 7383 17 E Hemaspaandra LA Hemaspaandra J Rothe Exact analysis Dodgson elections Lewis Carrolls 1876 voting complete parallel access NP J ACM 44 6 1997 806825 C Boutilier et al Artiﬁcial Intelligence 227 2015 190213 213 18 C Hillinger The case utilitarian voting Discussion papers econ No 653 U Munich 2005 19 M Kalech S Kraus GA Kaminka CV Goldman Practical voting rules partial information Auton Agents MultiAgent Syst 22 1 2011 151182 20 JJ Louviere DA Hensher JD Swait Stated Choice Methods Analysis Application Cambridge University Press 2000 21 T Lu C Boutilier The unavailable candidate model decisiontheoretic view social choice Proceedings 11th ACM Conference Eco nomics Computation EC 2010 pp 263274 Artiﬁcial Intelligence IJCAI 2011 pp 287293 22 T Lu C Boutilier Robust approximation incremental elicitation voting protocols Proceedings 22nd International Joint Conference 23 D Majumdar A Sen Bayesian incentive compatible voting rules Econometrica 72 2 2004 523540 24 S Merrill A comparison eﬃciency multicandidate electoral systems Am J Polit Sci 28 1984 2348 25 N Nisan Introduction mechanism design scientists N Nisan T Rougarden É Tardos V Vazirani Eds Algorithmic Game Theory Cambridge University Press 2007 chapter 9 26 M Pivato Condorcet meets Bentham Thema working paper No 201417 2014 27 AD Procaccia JS Rosenschein The distortion cardinal preferences voting Proceedings 10th International Workshop Cooperative Information Agents CIA Lecture Notes Computer Science LNCS vol 4149 Springer 2006 pp 317331 28 AD Procaccia A Zohar Y Peleg JS Rosenschein The learnability voting rules Artif Intell 173 1213 2009 11331149 29 M Regenwetter B Grofman AAJ Marley I Tsetlin Behavioral Social Choice Probabilistic Models Statistical Inference Applications Cambridge University Press 2006 30 A Slinko How large coalition manipulate election Math Soc Sci 47 3 2004 289293 31 I Tsetlin M Regenwetter B Grofman The impartial culture maximizes probability majority cycles Soc Choice Welf 21 2003 387398 32 J von Neumann O Morgenstern Theory Games Economic Behavior Princeton University Press 1944 33 EH Warren Lower bounds approximation nonlinear manifolds Trans Am Math Soc 133 1 1968 167178 34 RJ Weber Reproducing voting systems Cowles Foundation discussion paper No 498 1978 35 L Xia V Conitzer Generalized scoring rules frequency coalitional manipulability Proceedings 9th ACM Conference Economics Computation EC 2008 pp 109118 36 HP Young Social choice scoring functions SIAM J Appl Math 28 4 1975 824838 37 HP Young Condorcets theory voting Am Polit Sci Rev 82 4 1988 12311244