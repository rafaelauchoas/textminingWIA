Artiﬁcial Intelligence 174 2010 749766 Contents lists available ScienceDirect Artiﬁcial Intelligence wwwelseviercomlocateartint Designing competitions teams individuals Pingzhong Tang Yoav Shoham bc Fangzhen Lin Department Computer Science Hong Kong University Science Technology Clear Water Bay Hong Kong b Computer Science Department Stanford University CA 94305 United States c Microsoft Israel RD Center Herzliya Israel r t c l e n f o b s t r c t Article history Received 15 June 2009 Received revised form 26 April 2010 Accepted 26 April 2010 Available online 29 April 2010 Keywords Team competition Mechanism design Truthfulness Moral hazard Dominant strategy implementation 1 Introduction We consider setting teams number players There ordering players determines outcome matches players opposing teams Neither teams competition designer know ordering team knows derived ordering strengths players Each team announces ordering players competition designer schedules matches according announced orderings This setting general allows types manipulations team Misreporting strength ordering lack truthfulness deliberately losing match moral hazard We prove necessary suﬃcient conditions set competition rules properties truthful reporting dominant strategies maximum effort matches Nash equilibrium strategies certain fairness conditions met Extensions original setting discussed 2010 Elsevier BV All rights reserved Once time ancient China emperor Qi threw gauntlet minister Tian horse race The rule announce ranking horses time horses rankings race As story goes Tian learnt best horse good emperors best better second best second best good emperors second best better emperors worst Knowing emperor conﬁdent announce true ordering clever minister forward worst horse ﬁrst best horse second followed second best As result Tians worst horse lost badly emperors best horse ﬁrst match won second matches taking advantage mismatches Tian explained strategy emperor potential application military matters result promoted general chief Similar examples abound1 A somewhat recent example international team competition table tennis The schedule modiﬁcation horse racing adding matches ﬁrst player second player team Smart coaches beneﬁt strategically reporting orderings We return examples later formally deﬁne problem henceforth called team competition problem Competition teams consisting players presents types challenge The ﬁrst regards desirable outcomes Typically basic information relative strength pairs players team An earlier version entitled Team Competition appeared Proceedings AAMAS09 Corresponding author Email addresses kenshincseusthk P Tang shohamstanfordedu Y Shoham ﬂincseusthk F Lin 1 For related example game theory Colonel Blotto game cf Section 7 00043702 matter 2010 Elsevier BV All rights reserved doi101016jartint201004025 750 P Tang et al Artiﬁcial Intelligence 174 2010 749766 But information aggregated decide relative merit teams For example team strong player rest weak players beat team consisting entirely mediocre players This amounts deﬁning appropriate socialchoice functions domain One contribution paper establish criteria functions speciﬁcally adapted notions player anonymity team anonymity monotonicity Pareto eﬃciency setting The second challenge relative strengths players typically common knowledge Each team private information players objective way getting information play match observe outcome Playing pairwise matches usually feasible typically competition teams proceeds follows The teams announce ranking players organizer schedules individual matches based rankings according formula announced advance The matches place match adds certain score team winner The team highest aggregate score wins competition But opens door ways teams manipulate outcome It misreport true ordering players throw match deliberately lose This problem implementing socialchoice function mechanism design 1014 introductions Another contribution paper identiﬁcation necessary suﬃcient conditions implementing dom inant strategies social choice functions satisfy speciﬁed axioms That identifying conditions best given team truthfully reveal ordering players matter team conditions best given team play best match knowing team plays best These results extended general setting outcome match players probabilistic decided according winning probability matrix 6 The remainder paper organized follows We formulate team competition problem mechanism design problem identify basic forms mechanisms state desirable properties domain In Sections 4 5 characterize conditions mechanisms satisfy properties We generalize results directions Section 6 discuss related work Section 7 Finally Section 8 brieﬂy discuss future research topics related team competition 2 Basic models We mathematic models analyzing team competition 21 Team competition environments Team competition environment setting designer operates Deﬁnition 21 A team competition environment C tuple A B Θ O R A a1 set players team A B b1 bn set players team B Θ set possible states Each state θ Θ uniquely deﬁnes linear order θ A B If θ b beats b state θ We denote θ A θB orderings A B derived θ respectively θ A θB seen private information A B We denote Θ A ΘB sets possible θ A θB O s A sB s A sB R set outcomes competition s A sB scores teams A B respectively R preference relation O We consider R team A weakly prefers s A sB s cid5 A s cid5 B iff s A cid2 s cid5 A sB cid3 s cid5 B team A strictly prefers s A sB s cid2 s A s cid5 A sB cid3 s cid5 B cid3 cid2 s A cid2 s cid5 B iff cid5 A s cid5 A sB s cid3 cid5 B Team B opposite preference We note s A s deﬁned2 cid5 A sB s cid5 B preference s A sB s cid5 A s cid5 B An easy way complete preference deﬁned restrict mechanism certain set outcomes satisfying state θ s A sB c constant c Such mechanism called constantsum mechanism 2 We type preference team sensitive scores cares winning losing In case 2 3 desirable 3 4 P Tang et al Artiﬁcial Intelligence 174 2010 749766 751 22 Strategies Typically team communicates mechanism sending message In team competition context message conﬁned form ordering players team A strategy team speciﬁes choose orderings players given true ordering strengths Deﬁnition 22 S A Θ A L A set As pure strategies map As private information linear order A L A set linear orders A Similarly S B When restriction Θ Θ A L A denote set permutations A We use different notations clarify Θ A set private information types based A chooses ordering L A report Similarly deﬁne set As mixed strategies σ A Θ A ΩL A ΩL A set probability distributions L A We assume teams risk neural As result play mixed strategy outcome equivalent expected score proﬁle 23 Generalized roundrobin mechanisms Deﬁnition 23 Given team competition environment message proﬁle L A L B reported A B generalized roundrobin mechanism speciﬁes outcome matrix C Each entry ci j C denotes score assigned match ai b j ai ith player L A b j jth player L B The winner match gets ci j loser gets 0 The total score team A state θ s A Such pair s A sB creates outcome O cid4 ai θ b j AB ci j Similar sB In comparison standard mechanism deﬁnition 11 Chapter 10 matrix C plays role outcome function state matrix maps reports A B outcome s A sB O Note s A sB c cid4 c 1cid2i jcid2n ci j implies generalized roundrobin mechanism constantsum preference relation P O complete Note potentially n2 matches n2 entries matrix However ci j 0 match ai b j necessary Note ci j cid7 0 necessarily mean match ai b j It means sum scores matches ai b j ci j Both examples mentioned beginning paper categorized generalized roundrobin mechanisms following score matrices Example 21 Horse race cid5 cid6 1 0 0 0 1 0 0 0 1 Example 22 Table tennis cid5 cid6 1 1 0 1 1 0 0 0 1 24 Sequential mechanisms Consider generalized roundrobin mechanism 4 matches a1 vs b1 b1 vs a2 a2 vs b2 a1 vs b2 Suppose matches place sequentially ﬁrst player beats second We predict ﬁrst matches a1 θ b2 observing outcome fourth The intuition realized designing compact mechanisms called sequential mechanisms matches place sequentially current match jointly scheduled reported orderings results previous matches Deﬁnition 24 Given team competition environment message proﬁle L A L B reported A B sequential mechanism tuple H fn R s 752 P Tang et al Artiﬁcial Intelligence 174 2010 749766 H H T H N set histories H T denotes set terminal histories H N set nonterminal ones They deﬁned inductively follows H N If h H N h ai b j H h b j ai H It says h nonterminal history concatenating match ai beats b j b j beats ai new history generated The new history terminal nonterminal fn H N L A L B A B function maps nonterminal history reported messages pair players compete match R s H T O scoring rule maps terminal history outcome score proﬁle Sequential mechanism generalizes roundrobin mechanism trivial sense roundrobin mechanism represented sequential schedules list independent matches sequentially Quite interesting focus certain speciﬁc classes sequential mechanisms For instance following knockout competition popular Go community Example 23 Knockout competition Upon receiving reported lists a1 b1 bn a1 vs b1 initiated ﬁrst match In following rounds current match ai vs b j function assigns ai1 vs b j b j beats ai ai vs b j1 The set terminal histories player team lost The scoring rule assign winning team n points losing team number matches wins There 2n 1 matches knockout competition match eliminates player This property perfectly ﬁts context Go competitions match normally takes hours 3 Desirable properties There desirable properties designer wishes implement In horse race story hope mechanism forces teams report truth Assuming truth hope outcome match fairly reﬂect true strengths fair anticipate emperor win One hope total number matches small possible We present standards socialchoice function ask mechanisms truthfully implement social choice function 31 Socialchoice functions As mentioned socialchoice function describes outcome occur given state Deﬁnition 31 A social choice function f Θ O maps state outcome 311 Axioms The ﬁrst axiom choice function f socalled player anonymity says players indistinguishable inside team Deﬁnition 32 Player anonymity If p A A permutation function f θ o f θ cid5 o θ cid5 θ replacing A pa Similar team B obtained For example state θ1 b θ1 b cid5 θ1 cid5 lead outcome state cid5 θ2 b θ2 b cid5 θ2 state cid5 θ3 b θ3 b θ3 cid5 The second axiom team anonymity says choice function f discriminate particular team P Tang et al Artiﬁcial Intelligence 174 2010 749766 753 Deﬁnition 33 Team anonymity If p A B bijection A B f θ s A sB f θ cid5 sB s A θ cid5 obtained θ swapping A pa B For example f θ1 s A sB θ1 follows θ1 b θ1 b cid5 θ1 cid5 f θ4 sB s A θ4 follows b θ4 θ4 cid5 θ4 b cid5 The axiom socalled monotonicity says worse outcome brought team players falls overall ranking Deﬁnition 34 Monotonicity For states θ θ cid5 good o A A state θ cid5 o state θ cid5 cid5 improved stays state θ Similar team B θ cid5 improvement θ team A improvement state θ team A A ranking f θ o f θ cid5 o cid5 Finally axiom called Pareto eﬃciency says team better ith best player lower score ﬁnal outcome Deﬁnition 35 Pareto eﬃciency If state θ satisfying 0 cid3 cid3 n ith ranked player team A better ranked team B f θ s A sB satisﬁes s A cid2 sB For example θ5 b θ5 cid5 θ5 b cid5 s A cid2 sB Pareto eﬃciency independent team anonymity monotonicity prove properties imply Pareto eﬃciency Proposition 31 A social choice function f satisﬁes Pareto eﬃciency anonymous monotonic Proof Suppose exists state θ 0 cid3 cid3 n ith ranked player ai team A better ranked bi team B s A sB Now swap role ai bi θ new state θ cid5 By team anonymity f θ cid5 f sB s A worse outcome f θ B However θ cid5 improvement θ team B new outcome worse team B monotonicity This leads contradiction cid2 312 Examples socialchoice functions It diﬃcult following socialchoice functions satisfy axioms mentioned Borda Count Suppose θ A B A B 2n assign topranked player 2n 1 points secondranked 2n 2 points lastranked 0 point Let s A sum points players A sB deﬁned symmetrically f BCθ s A sB cid5 1 Horse Race Suppose θ cid5 n Deﬁne s A sB n s A cid5 2 b cid5 2 cid5 n b cid5 1 b cid5 θ b cid5 cid5 b cid5 f HRθ s A sB Max Suppose best players A B θ b respectively f Maxθ 1 0 θ b f Maxθ 0 1 Min Suppose worst players A B θ b respectively f Minθ 1 0 θ b f Minθ 0 1 In words f BC sums rankings players team f HR winnings pairwise comparisons f BC players rank In addition natural extension seminal rankorder aka Borda count voting rule context voters objectives select cabinet n candidates f HR captures class barter auctions bidder places n nonmonetary indivisible bids compete n equally valuable objects One fair allocation auction f HR f Max widely employed Olympic competitions Long Jump athlete thought team jump attempt thought individual player gold medal athlete longest jump attempt choice f Max f Min hand embodies preservative attitude maxmin according set players evaluated worst player f Max f Min compare best worst players respectively 754 P Tang et al Artiﬁcial Intelligence 174 2010 749766 32 Truthfulness truthful implementation Deﬁnition 36 A mechanism dominantstrategy truthful state team reporting truthful order yields worse outcome order matter team An outcome o1 worse o2 team A A strictly prefers o2 o1 Aware private information team mechanism choose report truthful ordering best Deﬁnition 37 A mechanism M truthfully implements socialchoice function f strategy truthful teams report truthfully resulting outcome coincides prescribed f dominant strategies M dominant If mechanism truthfully implements choice function dominant strategies teams prefer report truthfully f HR f Min thought Moreover truthful reports lead desirable outcome prescribed f For example mechanisms truthful f Max truthful mechanism 33 Frugality As shall canonical generalized roundrobin mechanism score matrix consisted 1s truthful wasteful terms number matches It reasonable pursue frugality implementing social choice function select mechanism smallest number matches 4 The results This section presents answer question asked earlier mechanisms truthful implement desirable social choice functions 41 Implementation generalized roundrobin mechanisms We matrix Cnn doubledecreasing ci1 j1 cid2 ci2 j2 i1 cid3 i2 j1 cid3 j2 hold simultaneously Theorem 1 1 A generalized roundrobin mechanism M dominant strategy truthful iff score matrix Cnn doubledecreasing 2 If generalized roundrobin mechanism M truthfully implements social choice function f dominant strategies f player anonymous f team anonymous iff score matrix satisﬁes C C T C T transposition C f monotonic iff score matrix M negative entry Proof 1 If M dominant strategy truthful loss generality suppose exist j ci j ci1 j Now consider state θ b1 b2 bn1 a1 ai bn In words θ state team A win matches worst player bn B Now B reports bn jth player A reports honestly c1 j ci j A swaps ai ai1 A better score a1 j ci1 j ci1 j contradicts dominant strategy truthfulness M If Cnn doubledecreasing state θ b B reported jth player suppose according θ a1 ai b ai1 If A reports honestly c1 j ci j b cm1 j cmi j Since C doubledecreasing c1 j ci j greatest entries column j C c1 j ci j cid2 cm1 j cmi j Since j θ arbitrarily chosen A dominant strategy truthful 2 This follows deﬁnitions cid2 Note score matrix horse racing example table tennis example doubledecreasing According Theorem 1 dominant strategy truthful In table tennis example state follows a1 b1 b2 a2 b3 a3 Note A B report truthfully B lose competition 3 2 However B misreport order b1 cid5 b2 A reports truthfully B win competition 2 3 b3 cid5 We remark Theorem 1 holds change solution concept ex post equilibrium3 For proof need adjust state θ proof Theorem 1 state θ cid5 b1 b2 b j1 a1 ai b j b j1 bn 3 Ex post truthfulness says regardless state teams best report truthfully long team reports truthfully Theorem 2 P Tang et al Artiﬁcial Intelligence 174 2010 749766 755 1 The generalized roundrobin mechanism truthfully implements f BC dominant strategies score matrix Cnn 1nn 2 The generalized roundrobin mechanism truthfully implements f Max dominant strategies score matrix satisﬁes c11 1 1nn matrix entry 14 ci j 0 3 There generalized roundrobin mechanism truthfully implements f HR f Min dominant strategies Proof 1 It hard 1nn mechanism simply counts sum number opponents weaker player Moreover nondecreasing So truthfully implements f BC minus constant nn1 dominant strategies The constant stands sum additional scores allowed play team mates 2 2 This follows directly deﬁnition 3 Suppose M score matrix C truthfully implements f HR Now consider θ a1 b1 f HRθ s A sB swapping a1 b1 θ obtain θ cid5 b1 a1 f HRθ cid5 s A 1 sB 1 This possible cid5 c11 1 Similarly consider θ cid5cid5 B Again swapping bn obtain θ cid5cid5cid5 1 This possible cnn 1 Since M dominant truthful C nonincreasing implies C 1nn However 1nn obviously implement f HR A contradiction bn f PCθ cid5cid5 s bn f PCθ cid5cid5cid5 s 1 s cid5 A s cid5 A cid5 B Suppose M score matrix C truthfully implements f Min Now consider θ a1 b1 f HRθ s A sB b1 a1 f HRθ cid5 s A sB long n cid2 2 This cid5 cid5 B Again swapping A s 1 This possible cnn 1 We swapping a1 b1 θ obtain θ cid5 possible c11 0 Similarly consider θ cid5cid5 bn obtain θ cid5cid5cid5 1 s cnn 1 c11 contradicting truthfulness condition cid2 bn f PCθ cid5cid5 s cid5 B bn f PCθ cid5cid5cid5 s cid5 A We remark current international team competition tennis aka Davis Cup uses generalized roundrobin mechanism score matrix 122 implements Borda Count 42 Implementation sequential mechanisms Unlike generalized roundrobin mechanism preference P total order relation constantsum set outcomes cases P complete nonconstantsum sequential mechanisms Thus makes sense focus certain speciﬁc mechanisms We introduce particular class sequential mechanisms called knock competition contrast knockout mentioned Example 23 In knockin competition loser previous match stays compete winners successive team mate Deﬁnition 41 Knockin competition Upon receiving reported lists players a1 b1 bn a1 vs b1 initiated ﬁrst match In following rounds let current match ai vs b j function assigns ai1 vs b j ai beats b j ai vs b j1 The set terminal histories player won team winning team The team called losing team Note losing team necessarily lose competition terms score The observation follows immediately deﬁnition Observation 1 Every knockin competition number 2n 1 matches 2 By assigning 1 winning team 0 losing team terminal history knockin mechanism yields outcome coincides prescribed f Min truthfully implements f Min dominant strategies We remark similarly knockout competition truthfully implements f Max assigning 1 winning team f Max essentially However unlike knockin competition implement socialchoice functions 4 In fact implements Borda Count minus constant nn1 2 756 P Tang et al Artiﬁcial Intelligence 174 2010 749766 desirable choice function knockout truthfully implement team best player player beat team turn The ﬂexibility designing knockin competition lies choice scoring rules The scoring rule designed way hand preference set terminal histories deﬁned hand scores align incentives truth reporting There possible classes scoring rules 421 Score play order With type scoring rule assign constant score c1 winner ﬁrst match c2 second match Score outcome deﬁned usual Note number matches knockin competition ranges n 2n 1 In order preserve constantsum property assign 2n constants follows Deﬁnition 42 In scorebyplayorder rule list 2n constants c1 c2 c2n assign c1 winner ﬁrst match c2 winner second match When reaching terminal history n0 matches n cid3 n0 cid3 2n 1 assign remaining constants cn01 c2n remaining players order matter In end player receives score In way s A sB cid4 1cid2icid22n ci constant The following theorem characterizes dominant strategy truthfulness knockin competitions type scoring rules Theorem 3 For knockin competition M scorebyplayorder rule 1 M dominant strategy truthful iff c1 c2 c2n nonincreasing 2 If M truthfully implements social choice function f dominant strategies f player anonymous team anonymous monotonic 3 M truthfully implements f BC 2n 1 2n 2 1 0 f Max 1 0 0 dominant strategies Proof 1 If M dominant strategy truthful suppose c1 c2 c2n nonincreasing Without loss generality let cm cm1 Suppose mth match ai b j Now consider state θ ai b j ai1 b j1 If A reports truthfully competition goes follows ai beats b j team A gets cm b ai1 loses b j team B gets cm1 c ai1 beats b j1 team A gets cm2 If A swaps ai ai1 competitions goes follows ai1 loses b j team B gets cm b ai1 beats b j1 team A gets cm1 c ai beats b j1 team A gets cm2 Thus lying team A gets better outcome A contradiction We ﬁrst introduce notations Note given nonincreasing score sequence knockin mech anism fully characterized stage tuple A current lists players stay competition c current winning score We denote U A A B c remaining score team A Similar team B To dominant strategy truthfulness suﬃces U A A T B c1 cid2 U A AU B c1 AU A T AU truthful untruthful lists team A respec tively We prove induction size A B Base case It trivial U A A T B c1 cid2 U A AU B c1 A 1 B 1 Inductive case Assume claim holds A B k Now consider case A B k Suppose B reports b1 b2 bt play list truthful list A a1 a2 Compare truthful untruthful reports ﬁrst player A5 There cases Case 1 a1 b1 cid5 c A B cid5 B cid5 cid5 If A reported truthfully b1 beats a1 A score U A A T b2 c2 5 In principle compare case A truthfully reports a1 ﬁrst player misreports players case covered inductive assumption P Tang et al Artiﬁcial Intelligence 174 2010 749766 757 b If A misreported player ai b1 beats ai A score U A AU b2 c2 denotes misreported list We know U A AU b2 c2 cid3 U A A T b2 c2 inductive cid5 A assumption We conclude Case 1 truthful reporting worse misreporting Case 2 a1 b1 If A reported truthfully a1 beats b1 A total score c1 U Aa2 b1 b2 c2 b If A misreported player ai subcases Subcase 1 ai b1 ai beats b1 A total score c1 U A AU ai b1 b2 c2 By inductive assumption score c1 U A A T ai b1 b2 c2 In knowing ai b1 know j b1 j Thus c1 U A A T ai b1 b2 c2 c1 ci U Aai1 b1 b2 ci1 This exact score A reported truthfully win ﬁrst matches row Subcase 2 ai b1 b1 beats ai A score U A AU b2 c2 U A A b2 c2 inductive assumption We later section U A A b2 c2 cid3 c1 U a2 b1 b2 c2 deﬁnition moral hazard freeness We conclude Case 2 truthful reporting worse misreporting 2 Suppose M truthfully implements social choice function f player anony f yields mous means exists state swapping players rankings team different outcome new state However impossible ﬂows knockin competition exactly states dominant strategies f Similarly team anonymous Now consider monotonicity suppose M truthfully implements social choice function f dominant strategies f monotonic means player improves overall ranking remain f yields worse outcome team This amounts saying giving certain games pretending weaker player lead better outcome team This contradicts fact M moral hazard free proved later 3 This follows conclusion 1 deﬁnitions f BC f Max This completes inductive proof cid2 For example truthfully implement f BC ﬁrst let a1 play b1 winner getting 2n 1 loser staying compete player team Since earlier matches higher scores player score team like win early possible truthful reporting worse misreporting Note result hold replace solution concept ex post equilibrium proof identical 422 Score position With type scoring rule assign score match similarly generalized roundrobin mechanism match asymmetric score ai gets winning ai vs b j b j gets winning match This asymmetry undermines constantsum property mechanism enables knockin competition truthfully implement f HR Further maintain team anonymity require score ai gets beating b j score bi gets beating j Therefore score matrix needed fully specify scoring rule Deﬁnition 43 In scorebyposition rule score matrix Cnn match ai vs b j ai gets ci j wins b j gets c ji As mentioned general type mechanism constantsum preference relation deﬁned However main purpose include truthfully implement f PC dominant strategies certain restrictions C Theorem 4 A knockin competition M scorebyposition rule dominant strategy truthful score matrix satisﬁes 1 cid3 j 1 j A knockin competition M scorebyposition rule truthfully implements f HR dominant strategies ci j 1 cid2 j 1 cid3 n 1 ci j cid2 ci j1 cid2 0 2 ci j cid2 ci1 j1 cid2 0 ci j 0 758 Proof P Tang et al Artiﬁcial Intelligence 174 2010 749766 Note stage competition completely characterized current lists players A B remaining score team A point denoted U A A B score matrix Cnn omitted We proof ﬁrst claim identical Theorem 3 replace proof Theorem 3 instance U A A B ci U A A B c1 c11 ci ci1 Note competition score position rule necessary consider score U B team B comparing score proﬁles However symmetric U A First mechanism score matrix C ci j 1 cid2 j ci j 0 satisﬁes 1 ci j cid2 ci j1 cid2 0 2 ci j cid2 ci1 j1 cid2 0 Thus according ﬁrst claim dominant strategy truthful The implementation f HR follows fact player 1 point iff beats higher equally ranked player cid2 In words implement f HR assign player 1 point beats higher ranked opponent assign player 0 point loses wins lower ranked opponent For example a3 beats b2 a3 gets 1 b2 gets 0 a3 b2 0 This indicates higher ranked player score competing lower ranked player win lower ranked team mates chance score Till solved horse racing problem introduced beginning paper 43 Knockin competition minimizes number matches We know general generalized roundrobin mechanism schedules O n2 matches comparison O n matches knockin competition truthfully implement socialchoice function A natural question exists mechanism better We negative answer proving knockin competition worstcase optimal Deﬁnition 44 Worstcase optimal A mechanism M worstcase optimal respect socialchoice function f truthfully implements f M schedules minimum number matches worst case M In words suppose K M minimal number matches suﬃces guarantee termination M state M worstcase optimal means K M cid3 K Mcid5 M cid5 Theorem 5 If knockin competition M truthfully implements socialchoice function f onetoone M worstcase optimal respect f If knockin competition M truthfully implements f BC M worstcase optimal respect f BC The holds f Max Proof Since f onetoone truthfully implementing f implies ﬁguring true state given teams reported truthfully This problem merging sorted lists minimum number comparisons Now consider worst case knockin competition players team appear alternatively state a1 b1 a2 b2 bn Knockin competition needs a1 b1 b1 a2 bn 2n 1 matches ﬁgure state However tell state apart matches explicit Suppose omit b1 a2 able tell original state following state a1 a2 b1 b2 bn One similarly verify matches This means knockin minimizes number matches worst case necessarily worst case mechanism prove worstcase optimality In fact view knockin competition simulation merge procedure standard mergesort algorithm known worstcase optimal merging sorted lists equal number elements Now prove knockin competition optimal f BC Note f BC onetoone f BC produces different values states constructed previous proof Thus tell states apart comparison b1 a2 explicit One verify true comparison listed Thus f BC makes difference onetoone sense proof follows For f Max knockin implements match score play order rule 1 0 0 cid2 P Tang et al Artiﬁcial Intelligence 174 2010 749766 759 Given theorem ask exists onetoone function knockin competition truthfully implements The answer aﬃrmative First note knockin mechanism truthfully implement decreasing scoring function socialchoice function player assigned score monotonic function rank state associated outcome computed sum scores team trivially assigning match score corresponding rank The following decreasing scoring function onetoone Example 41 Borda Count taxes We consider variation Borda Count imposing different tax rate rank For instance suppose team players best player gets 4 1 4 second 3 1 3 2 1 2 1 1 1 One verify onetoone socialchoice function trivially implemented knockin competition One implicit assumption need address teams equal number players Without assumption know theorem holds knockin procedure somewhat redundant identifying true state case In fact Knuth 7 Chapter 532 Exercise 8 demonstrated procedure merge sorted list length 2 length 8 6 comparisons knockin needs 9 worstcase However negate theorem procedure truthful Notice mention f HR f Min theorem As shall introduce subsection better knockin respect f HR f Min allowing randomization 44 Randomized sequential mechanisms As mentioned allowed randomize function nondeterministically select match sequential mechanism design truthful mechanisms compact knockin For instance following mechanism truthfully implements f HR n 1 matches A reports a1 B reports b1 bn mechanism schedules following n 1 matches Example 42 Implementing horse race n 1 matches 1 a1 vs b1 winner gets 1 loser gets 0 2 a2 vs b2 winner gets 1 loser gets 0 n vs bn winner gets 1 loser gets 0 n 1 ai vs b j ai b j uniformly selected A B respectively winner loser gets 0 However detect following cases 1 2 j bi beats ai ai beats b j j b j beats ai ai beats bi eject team B outcome equivalent giving team B payoff Similarly detect following cases 1 2 j ai beats b j b j beats j j j beats b j b j beats ai eject team A One team takes advantage misreporting win certain game mismatch positive probability 1n2 detected n 1th match gets severe punishment In way mechanism prevents manipulation Similarly truthfully implement f Min matches Example 43 Implementing Min 2 matches 1 vs bn winner gets 1 loser gets 0 2 vs b j ai vs bn ai b j uniformly selected A B respectively winner loser 0 The detection punishment techniques similar Example 42 We team beneﬁts misreporting deterministic sequential mechanism detected positive probability additional match players randomly chosen In words 760 P Tang et al Artiﬁcial Intelligence 174 2010 749766 additional match punishment technique assume teams report truthfully condition scoring rules However note assumption moral hazard freeness introduced section essential example team throw detecting match team punished 5 Moral hazard freeness One assumption environment state θ deﬁnes θ b beats b This case players nonstrategic individuals For instance player card card game However team level strategic behavior letting players throw certain matches leads increase score Similar phenomenon referred moral hazard principalagent model 9 For example assign suﬃciently large score second match knockin competition teams best player pretend weaker player order compete second match This happens negative entries score matrix generalized roundrobin mechanism The best way tackle ensure playing ones best dominant strategy team In words matter team worse ones best However argue achieving moralhazard freeness dominant strategy diﬃcult possible To illustrate consider generalized roundrobin mechanism strategy win match minimal score remaining ones Obviously team incentive play best current match outweigh sum remaining matches As compromise use following deﬁnition amounts moralhazard freeness Nash equilibrium Deﬁnition 51 Moralhazard freeness For generalized roundrobin mechanism C message proﬁle A B let U A A B C score A gets team compete strength We C moralhazard free U A A B C cid3 U A cid2 A B C cid3 cid5 ci j cid5 j C cid5 differs C c 0 Similar condition required U B For sequential mechanism D current history h current players ai b j message proﬁle A B denote U A A B h score A gets team compete strength We D moralhazard free cid2 cid3 A B h b j ai U A cid3 U A A B h cid3 U A cid2 cid3 A B h ai b j Similar condition required team B It follows simple backward induction deﬁnition amounts saying team plays best worse play best That playing ones best Nash equilibrium The following theorem summarizes result moral hazard freeness generalized roundrobin sequential mechanisms Theorem 6 1 A generalized roundrobin mechanism moral hazard free iff score matrix C negative entry 2 A knockin competition scorebyplayorder rule moral hazard free iff c1 c2 c2n nonincreasing 3 A knockin competition M scorebyposition rule moral hazard free score matrix satisﬁes 1 cid3 j 1 j 1 cid3 n ci j cid2 ci j1 cid2 0 b ci j cid2 ci1 j1 cid2 0 Proof The theorem special case Theorem 7 cid2 It interesting knockin competitions conditions characterize moral hazard freeness coincide dominant strategy truthfulness As result long conditions satisﬁed resulting mechanism truthful moral hazard free It hard randomized mechanisms introduced previous section moral hazard free incentive play maximal strength detecting match contrary provides incentive throw match team punished 6 Generalization results In section generalize previous results different directions P Tang et al Artiﬁcial Intelligence 174 2010 749766 761 61 Winlosetie We considered outcome pair real numbers representing scores team receive end competition One argue cases matters wins competition In twoteam competition setting assuming possible outcomes 1 team A won 0 tie 1 team A lost cf 16 An interesting question affect results far First notice instead changing set outcomes effect achieved changing preference relation P following ordering A strictly prefers s A sB s cid5 A s cid5 B iff s A sB s cid5 A cid3 s cid5 B s A sB s cid5 A s cid5 B indifferent s A sB s cid5 A s cid5 B iff s A sB s cid5 A s cid5 B s A sB s cid5 A s cid5 B s A sB s cid5 A s cid5 B It similar team Bs preference One reason condition suﬃcient dominant strategy truthfulness implementation social choice function suﬃcient weak preference persists o1 weakly preferred o2 implies o1 weakly preferred o2 However previously necessary condition hold For example verify generalized roundrobin mechanism following score matrix C22 cid7 cid8 9 10 10 0 dominant strategy truthful doubledecreasing 62 Probabilistic match outcomes One argue realistic cases case stronger player deterministically beats weaker player This true especially sports exciting thing uncertainty match outcome rankings players usually common knowledge Probabilistic play models abound Knuth 8 introduced model knockout tournament problem He assumed linear ordering x1 x2 strengths players xi beats x j j cid2 2 xi beats x j probability p j 1 Graham et al 5 introduced alternative model assuming xi beats x j probability p j j Yet popular socalled monotonic model6 613 widely adopted knockout tournament literature area concerned reasonably seeding players knockout tournament It formally deﬁned follows Deﬁnition 61 Monotonic model Suppose players linearly ordered according strengths x1 x2 xn probability matrix Pnn entry pi j speciﬁes chance xi beats x j match Further Pnn satisﬁes following constraints 1 pi j p ji 1 2 pi j cid2 p ji j 3 pi j cid2 pi j1 6 We overload notation monotonicity denote axiom socialchoice function Each appearance clear context 762 P Tang et al Artiﬁcial Intelligence 174 2010 749766 Consider model context team competition Since 2n players total 2n 2n matrix needed fully specify state We condense matrix n n eliminating entries describing matches team Thus deﬁnition translated context team competition follows Deﬁnition 62 State A state θ speciﬁes linear ordering θ A B play matrix Pnn entry pi j speciﬁes chance ai beats b j Further Pnn satisﬁes following constraints 1 pi j cid2 05 ai θ b j 2 pi j cid3 05 b j θ ai 3 pi j cid2 pik bk θ b j 4 p ji cid2 pki j θ ak The deﬁnitions parts team competition environment types mechanisms remain unchanged One able conclude linearly ordering θ necessarily unique equivalent purpose paper derived play matrix P nn Pnn satisﬁes constraints Therefore state completely characterized play matrix As long play matrix zero entry team completely beat In subsection compute expected scores mentioning truthfulness expectation sum scores individual matches For constantsum mechanisms generalized roundrobin mechanism sequential knockin competition rule scoring play order apparent expected score proﬁle constantsum Hence preference R deﬁned beginning paper complete set expected score proﬁles Furthermore deﬁne corresponding properties social choice function based new deﬁnition state player anonymity team anonymity remain unchanged The corresponding new deﬁnitions monotonicity Pareto eﬃciency follows Deﬁnition 63 Monotonicity For states θ θ cid5 o j The holds team B worse o A A state θ cid5 cid5 f θ o f θ cid5 o cid5 θ cid5 improvement state θ team A pi j cid3 p improvement θ team A cid5 j possible Monotonicity says team player weakly increases chances players team team end worse score Deﬁnition 64 Pareto eﬃciency If state θ matrix P satisﬁes pii 05 f θ s A sB implies s A cid2 sB vice versa We Pareto eﬃciency implied team anonymity monotonicity Proposition 61 A choice function f satisﬁes Pareto eﬃciency team anonymous monotonic Proof Suppose P satisﬁes pii 05 f θ S A S B satisﬁes sB s A state θ One imagine 1 p ji team B play matrix P probability bi beats j We transit cid5 state θ cid5 j ai bi j b j follows pii 05 transition improvement team B By monotonicity s However team anonymity s p cid5 j pi j Since pi j cid2 p letting p A θ cid5 cid5 B s s A sB s cid5 A contradiction cid2 cid5 j cid5 B cid5 cid5 We ready derive similar results deterministic case Theorem 7 In probabilistic settings 1 A generalized roundrobin mechanism M dominant strategy truthful iff score matrix Cnn doubledecreasing 2 If generalized roundrobin mechanism M truthfully implements social choice function f dominant strategies f player anonymous f team anonymous iff score matrix satisﬁes C C T C T transposition C f monotonic iff score matrix M negative entry 3 A generalized roundrobin mechanism moral hazard free iff score matrix C negative entry 4 A knockin competition scorebyplayorder rule moral hazard free iff c1 c2 c2n nonincreasing A knockin competition scorebyposition rule moral hazard free score matrix C satisﬁes 1 cid3 j 1 j 1 cid3 n ci j cid2 ci j1 cid2 0 b ci j cid2 ci1 j1 cid2 0 P Tang et al Artiﬁcial Intelligence 174 2010 749766 763 5 For knockin competition K scorebyplayorder rule K dominant strategy truthful c1 c2 c2n non increasing 6 For knockin competition K K truthfully implements social choice function f dominant strategies f player anonymous team anonymous monotonic Proof See Appendix A cid2 Theorem 7 states generalized roundrobin mechanisms sequential mechanisms scoring play order necessary suﬃcient conditions truthfulness moral hazard freeness remain generalized probabilistic setting 7 Related work 71 The Colonel Blotto game We related game called Colonel Blotto game classic forward century recently solved Roberson 12 assumption The game resemblance applications multiobject auctions agents budgetary limits 315 It follows Example 71 The Colonel Blotto games A twoperson constantsum game Each player ﬁxed number soldiers required partition soldiers number battleﬁelds On Battleﬁeld player allocate soldiers wins The payoff player number battleﬁelds won The game variations include multiple players incomplete information players budgets dif ferent winning prizes different battleﬁelds cf 1 For original form considered class team competitions team know teams partition know strength ordering As result strictly complex team competition sense thought twostate game ﬁrst stage team partition strength second speciﬁc team competition 72 Mechanism design sports Our work categorized gametheoretic treatment designing desirable sports rules Although original context team competition parallel work tournament design problem Vu et al 16 provided computational treatment seeding knockout tournament Their main conclusion computationally hard maximize winning probability target player seeding Thus assures designer collude player number players considerably large Altman et al 2 alternatively provided socialchoice theoretical treatment manipulations tournament Each tournament treated socialchoice function maps strength state winner They considered desirable axioms setting provided possibility impossibility results 8 Future work concluding remarks We consider topics future research We considered mechanisms require teams submit players lists Sometimes teams regret original strategies observing results ﬁrst matches To ac commodate change heart consider games extensive form teams incrementally add players lists competition For example knockin competition constraint players strengths stage competition One choose player high chance beat current opponent low chances beat remaining opponents It interesting consider complicated setting match takes multiple players Such examples include card games Bridge card considered player hand cards teams Each round considered single match takes multiple cards winner chosen awarded certain score according order cards In setting desirable mechanism necessarily need truthful encourage strategic behaviors Instead minimizing number matches consider criteria maximizing total revenue revenue match In case need deﬁne model maps strengths revenue match optimize objective accordingly subject truthfulness constraints One possible way implementing use idea automated mechanism design introduced Conitzer Sandholm 4 764 P Tang et al Artiﬁcial Intelligence 174 2010 749766 To sum motivated real world examples formulated team competition problem framework mechanism design We proposed typical forms team competition identiﬁed desirable properties competitions satisfy characterized conditions mechanisms satisfy properties We generalized results directions discussed randomization help design compact mechanisms For future work worth exploring sequential randomized mechanism It interesting deploy knockin competition real sports competitions multiagent scenarios Acknowledgements We grateful AIJ editor charge anonymous reviewers helpful comments This work sup ported HK RGC GRFs 616707 616208 NSF grant IIS0205633001 Appendix A Proof Theorem 7 Lemma A1 Rearrangement inequality If a1 cid2 cid2 b1 cid2 cid2 bn a1b1 anbn cid2 a1bσ 1 anbσ n cid2 a1bn anb1 If a1 b1 bn a1b1 anbn a1bn anb1 n cid2 2 σ permutation 1 n We prove 1 2 conditions truthfulness truthful implementation generalized roundrobin mechanism remain Proof 1 If score matrix C doubledecreasing truthful report dominant strategy team A From deﬁnition ﬁnal score team A sum scores playing players team B Suppose team B reports b j ith choice compare expected scores team A gets b j truthful report Truthful report report a1 a2 cid9 pk jcki k1n Otherwise report aσ 1 aσ n σ permutation 1 n cid9 pσ k jcki k1n 1 2 Since p1 j cid2 p2 j cid2 cid2 pn j deﬁnition P c1i cid2 c2i cid2 cid2 cni nonincreasing property C 1 cid2 2 follows Lemma A1 Since j arbitrarily chosen proved If generalized roundrobin mechanism M dominant strategy truthful suppose ci j ci1 j j compare total expected score team A gets truthful report given team B reports truthful order b1 b2 bn Truthful report cid9 cid9 k1n j1n pk jck j 3 Untruthful report b1 bi1 bi bn That obtained swapping bi1 bi truthful report cid9 cid9 cid9 cid9 pk jck j pi1 jci j pi jci1 j 4 kcid7ii1 j1n j1n j1n We construct state θ play matrix P satisfying pil pi1l l cid7 j pi j pi1 j Its easy deﬁned play matrix Now 3 4 pi jci j pi1 jci1 j pi1 jci j pi1 jci j P Tang et al Artiﬁcial Intelligence 174 2010 749766 765 Since ci j ci1 j pi j pi1 j Lemma A1 θ 3 4 0 This implies misreporting yields better expected score team A contradicts assumption earlier M dominant strategy truthful 2 This follows deﬁnition cid2 Next prove 3 4 conditions moral hazard freeness generalized roundrobin knockin competitions hold Proof For 3 condition moral hazard freeness generalized roundrobin mechanisms follows directly deﬁnition For ﬁrst claim 4 sequential mechanism rule scorebyplayorder ﬁrst introduce notation similar proving Theorem 3 After rounds remainder knockin competition completely characterized triple Am Bn ci lists remaining players teams A B Am m players Bn n players respectively current winning score ci We denote U A Am Bn ci expected score team A gets remaining matches competition If knockin competition K moral hazard free suppose ci ci1 Suppose cid5cid5 ci We construct state play probability 1 Now team A play best cid5cid5 ci2 end higher score This contradicts fact K moral current score ci rest competition cid5 matrix says ﬁrst matches end ci U ci1 U hazard free cid5cid5 ci2 throw ﬁrst match cid5cid5 b cid5cid5 b cid5cid5 b beats b beats b b cid5 b cid5 cid5cid5 cid5 cid5 cid5 cid5 We prove induction m n competition Am Bn ci More speciﬁcally prove following hold m n ci cid2 ci1 U A Am Bn ci cid3 U A Am1 Bn ci1 ci U A Am Bn ci cid2 U A Am Bn1 ci1 In fact 5 6 equivalent 7 U A Am1 Bn ci1 ci cid2 U A Am Bn1 ci1 U A Am Bn ci p cid2 U A Am1 Bn ci1 ci cid3 1 pU A Am Bn1 ci1 5 6 7 cid5 m n cid5 1 m cid5 Base case One easy verify ci cid2 ci1 inequations hold m 1 n cid5 n Inductive case Assume 7 5 6 holds m cid5 cid3 m n 1 holds m n We denote lefthand 7 LHS righthand RHS By inductive assumption m cid5 n cid5 n cid5 U A Am1 Bn1 ci2 ci cid3 LHS Similarly U A Am1 Bn1 ci2 ci1 cid2 RHS ci cid2 ci1 LHS cid2 RHS The inductive step holds As second claim 4 concerning scorebyposition rule follows inductive proof replace instance U A A B c U A A B ci cmn ci1 cmn1 cid2 Note proves Theorem 6 At prove 5 6 truthfulness conditions knockin mechanism hold Proof The counterexample proof Theorem 3 applies For able prove holds team players For general case believe condition holds proof moment cid2 766 References P Tang et al Artiﬁcial Intelligence 174 2010 749766 1 T Adamo A Matros A Blotto game incomplete information Economics Letters 105 1 2009 100102 2 A Altman AD Procaccia M Tennenholtz Nonmanipulable selections tournament C Boutilier Ed IJCAI 2009 pp 2732 3 JP Benoit V Krishna Multipleobject auctions budget constrained bidders Review Economic Study 68 2001 155179 4 V Conitzer T Sandholm Complexity mechanism design Proceedings Uncertainty Artiﬁcial Intelligence Conference UAI Edmonton Canada 2002 5 RL Graham DE Knuth O Patashnik Concrete Mathematics A Foundation Computer Science AddisonWesley Longman Publishing Co Inc Boston MA USA 1994 6 FK Hwang New concepts seeding knockout tournaments Journal American Mathematics Monthly 89 4 1982 235239 7 DE Knuth The Art Computer Programming vol 3 Sorting Searching AddisonWesley 1973 8 DE Knuth Problem 862 random knockout tournament solution Journal American Mathematics Monthly 93 1987 127129 9 JJ Laffont D Martimort The Theory Incentives The PrincipalAgent Model Princeton University Press 2001 10 E Maskin T Sjostrom Implementation Theory Handbook Social Choice Welfare vol 1 Elsevier 2002 11 MJ Osborne A Rubinstein A Course Game Theory MIT Press 1994 12 B Roberson The Colonel Blotto game Economic Theory 29 1 2006 124 13 AJ Schwenk What correct way seed knockout tournament Journal American Mathematics Monthly 107 2 2000 140150 14 Y Shoham K LeytonBrown Multiagent Systems Algorithmic Game Theoretic Logical Fundations Cambridge Univ Press 2009 15 B Szentes RW Rosenthal Threeobject twobidder simultaneous auctions chopsticks tetrahedra Games Economic Behavior 44 1 2003 114133 16 T Vu A Altman Y Shoham On complexity schedule control problems knockout tournaments AAMAS09 2009 pp 225232