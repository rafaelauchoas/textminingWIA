ELSEVI ER Artificial Intelligence 96 1997 351394 Artificial Intelligence Automated model selection simulation based relevance reasoning Alon Y Levy a1 Yumi Iwasaki bp Richard Fikes c2 ATT Bell Laboratories 600 Mountain Ave Room 2A440 Murray Hill NJ 07974 USA b Knowledge Systems Laboratory Stanford University Gates Bldg 2A Rm 256 Stanford CA 94305 USA Knowledge Systems Laboratory Stanford University Gates Bldg 2A Rm 246 Stanford CA 94305 USA Received March 1996 revised August 1997 Abstract Constructing appropriate model crucial step performing reasoning required pieces knowledge behavior physical Forbus successfully answer query modeling approach Falkenhainer composable construction problem Model construction dynamic behavior sequence states The significantly difficult select model fragments knowing exactly happen future statles provided library physical world called model fragments The model situation considered static analysis single state simulation selecting appropriate model In compositional 1991 fragments situation involves The model construction problem relevance described Levy reasoning relevance knowledge reasoning paper present model formulation procedure based framework fragments efficiently model adequate possible We define formally fact generates adequate simplest model 1997 Published Elsevier Science BV general advantageously formulated problem available general framework 1993 Levy Sagiv 1993 In selecting model useful generated time simple concepts adequacy simplicity algorithm case simulation For algorithm given query answering Keywords Model formulation Relevance reasoning Qualitative reasoning Simulation Corresponding author Email iwasakikslstanfordedu Email levyresearchartcom 2 Email filteskslstanfordedu 00043702971700 1997 Published Elsevier Science BV All rights reserved PIISOOO4370297000568 352 A E Levy et al Artificial Intelligence 96 1997 351394 1 Introduction study solving problem problem real world complex instead studying endeavor constructing products intellectual Models conceptual objects humans challenging reasons For example Models priate model constructed constructed models device designed constructed device experimenting model device real thing appro task Models simplified models real world entirety behavior actually built There possible models given subject study reasons true correct model model goodness model depends ones goal model question constructing models There necessarily question wishes For model sufficient precision Constructing answering studying answer unnecessary comprehend order understand constructing information requires deciding information included accuracy containing contain answer relevant model abstraction model useful questions Thus model formulation considered Genesereth problem reasoning Subramanian reasoning Levys efficient procedure purpose simulation useful time simple possible adequacy simplicity simplest model relevance knowledge 301 Levy relevance knowledge special case general given goal Researchers 161 proposed general frameworks In paper present application based general framework formulating physical devices For model formulation problem model formulation We propose given query concepts fact generates adequate In later sections define formally procedure model procedure answering generated model adequate 11 Motivations The ability analyze physical model behavior skill required engineers Equally appropriate model good model formulated Most computational rely user construct model understood ones purpose However important ability important formulate problem build assist analysis model behavior analyze model tools intended simulation design The ability formulate systems greatly making For example engineering involved If quickly aspect perform readily understandable formulating appropriate model enhance utility easier advantage analysis capabilities tool evaluating design alternatives useful model performing currently freely cost results interpreting particular analyzing results produce interpretation form designer easily analyze design simulation appropriate model formulate simulation AZ Levy et alArtcial Intelligence 96 1997 351394 353 Fig 1 An example circuit SAl solar array BAI rechargeable battery alternatives design process quality final design Such capability enable designers improving better informed decisions efficiency process 111 behavior modeling modeling paradigm modeling 7 represented effective automatically differential equations adequately modeled lumpedparameter sitional approach provided 3 In physical compo composable pieces fragment formu model library model fragments selecting process The model fragments knowledge aspect physical world component given physical lates model composing main advantage fragments describing compositional modeling phenomenon modularity easier model composing complete model possible query existing appropriate easier Furthermore context model fragments reused fragments systems automatically aid given domain formulating analyzing modeling model However mechanism model order appropriate promising behaviors wide variety approach compositional modeling model fragments given analysis Also savings achieved appropriate model analysis worthwhile cost selection process selection algorithm reasonable prohibitive time complexity succeed 11s imperative I 12 Model formulation compositional modeling crucial different perspectives appropriate model Selecting levels abstractions studied Suppose analyzing rich design electrical power supply consisting problem domain phenomena 3 When spatial variation speaks lumped parameter 6 354 AI Levy et al Artijicial Intelligence 96 1997 351394 account phenomena battery Furthermore Fig 1 If interested voltage model battery solar array shown takes discharging rechargeable level supplied battery course day variation solar power generation construct charging model phenomena electrical properties currents voltages charge charging capacity battery level If instead interested months consideration aging effect observable cycles details Yet possibility interested In case appropriate model consist chemical processes representations electrodes battery cause aging individual chargedischarge chemical processes phenomena variation electrolyte aging involving While library model fragments contain knowledge represented different model fragments physical phenomena irrelevant phenomenon different ways representation desired Therefore problem temporal quantitative context compositional modeling solved thing based different including accuracy precision wide variety given problem Each assumptions representing things approximations model formulation problem l Select appropriate subset model fragment library appropriate instan tiations subset given l A description problem situation l An analysis goal A formal statement problem given Section 41 The set instantiations model situation selected subset comprises As discussed selection process requires types decisions l What phenomena l How model chosen phenomena If model model includes detailed model fragment phenomenon resulting model comprehensive library However situations appropriate comprehensive model For model cover phenomena relevant desirable model produce satisfactory model fragments relevant phenomena It sure choice model appropriate solving given problem At include details selection process described fragments For example signal propagates underlying electrical assumes takes time To deciding model answer Therefore representing library knows produced problem time phenomenon strive include details internally instantaneously summarize produce consistent select model terms assumptions assumes parts circuit fragment model formulation simplest adequate model problem AE Levy et alArticial Intelligence 96 1997 351394 355 12 Our approach model formulation influence influence algorithm model simulations behavior People perform type task target model formulation work simulation variety reasons predicting values set users query The primary timedependent cases goal characterized terms change time Thus work represent primarily set terms assume goal model formulation explain values change time Intuitively predicting simulation values change time requires explaining things causally driving model formulation influences goal terms We start goal term look things causally terms influence things object decide based set modeling sections paper detailed account representational method analyze computational mechanisms work summarized model fragment consideration term Thus core high level mechanism backward chaining possible causal term including objects physical phenomena decide look phenomena terms recursively For phenomenon model determine modeled maintained The remaining assumptions inferential properties algorithm follows libraries introducing The contributions l We enrich constructs library The knowledge tions implicit knowledge usable model formulation representation enable statements relationships additional model fragments expressed statements explicit assump mind library builder goal term influence objects include algorithm l We analyze problem model formulation problem relevance analysis provides insight model formulation reasoning problem apparatus novel l Based analysis algorithm l We define concepts simplicity adequacy representational simulation model formulation sense context problem We present analysis algorithm model formulation IIt produces simplest adequate model We time complexity algorithm model fragment l Finally present limiting experimental size formulated models polynomial respect size problem library reasonable results demonstrating set assumptions effectiveness approach Several pieces work addressed model formulation positional modeling model formulation approach 72326 Our work distinctive simulation guarantees adequacy simplicity problem com combines 13 Relevance reasoning model formulation Our model formulation relevance knowledge Formulating relevance reasoning instructive based general reasoning type teasing different parts model problem model construction framework procedure 356 problem providing guidance construction explaining reasoning briefly explain connection problems model construction reasoning problem relevance treating parts Before relevance forms irrelevance Inference mechanisms irrelevant large diverse knowledge bases en given query This causes arise The facts shown systems facts process answering counter explore useless paths search severely degrade performance Broadly speaking irrelevance contribute detect irrelevance The second conceptualized granularity space needs explored inference mechanism involve level For example knowledge base identify properties individuals search level detailed query However consider solutions given query result irrelevant domain way answering form irrelevance knowledge unnecessarily base Certain facts facts large base possibly Often possible detect efficiently able answer set queries correctly additional metalevel 162130 detect knowledge facts sets facts knowledge base In 17311 control advice enabling framework model selection procedure presented query relevant rest Levy developed general 161821 relevance based framework The framework provides space definitions given Levy forms irrelevance efficiently decide parts properties provides language irrelevance query yielding significant speedups inferences An important emphasized need decide facts knowledge base relevant algorithms aspect relevance reasoning knowledge base In particular including set Horn rules set 181 consider knowledge bases facts algorithms consider ground facts determining ignore query knowledge base irrelevant abstracted cases possible facts inference mechanism reasoning paper irrelevance comparison additional metalevel knowledge provides algorithms knowledge base irrelevant performing framework actually described ground relevance facts query In paper argue considering model construction problem advantageously aspect model construction reasoning The advantage formulation formulated problem relevance In enables tease different parts model construction problem need decide particular affect given term The second aspect need decide phenomena model phenomenon Note decisions independent Finally model construction knowing exactly states encounter reasoning treatment aspects guided relevance problem Moreover problem 1 Determining phenomena goal explaining given term changes time led highlevel mechanism algorithm influences term In fact backward chaining possible causal relevant AE Levy et alArtijicial Intelligence 96 1997 351394 357 data graph causal structure developed Levy represent facts derivation query Horn rule knowledge base 181 query similar influences spirit tree 2 Second ability tools supporting need reason model phenomenon bear selecting model Such claims generalization led reasoning The tool velop representational Sections 311 32 provides state relevance claims model fragment express additional domain knowledge comes consider predicate described clear semantics user explicitly alternative models phenomenon appropriate model phenomenon selecting composed models consistent framework provided tool Section 314 enables modeling assumptions Such claims provide guidance statements The second state difSeererzce 7 Levys relevance guaranteeing 3 Third algorithm build model having complete information possible states Even given complete knowledge initial state future states known construct model simulation form simulation Thus determine relevant query performing answering simulation Our algorithm chooses model simulation based knowl enter states edge constraints possible actually generating graph causal encoded These constraints use guide model construction influences build model algorithm 14 Organization paper representation The rePt paper behavior prediction relies Section 4 defines basic knowl compositional modeling Section 3 describes formulation apparatus formulation organized follows Section 2 describes edge representation approach starting point work model additional knowledge method procedure Section 4 presents fragment model models reasoning research formally describes formulated procedure results experiments procedures characteristics relevance Section 7 concludes discussion remaining related work model formulation generates Section 6 discusses example model model formulation problem libraries Section 5 analyzes procedure presents issues 2 Compositional modeling In section representation predicting behavior based compositional modeling positional modeling described Forbus Theory method approach Com work Qualitative Process 81 basis subsequent work qualitative modeling physical knowledge QPT 358 AE Levy et al Artificial Intelligence 96 1997 351394 Chargesensitivevoltagebattery Participants X type Battery Quantities voltageX chargelevelX damagedX Conditions ldamaged 6 chargelevelX X 30 Consequences voltageX fchargelevelX Fig 2 An example model fragment approach starting point Forbus 111 The purpose section 71 Crawford Farquhar Kuipers general explain 51 Iwasaki Falkenhainer essence terms Low work compositional modeling presented model formulation We additional knowledge organization impose knowledge base facilitate model formulation Though pro terms cedures differ somewhat definitions given Here use nomenclature 21 CML designed researchers CML Compositional Modeling Language common model fragment compositional modeling representation formal 31 The description includes aspects discussion model fragments relevant parts model different systems enable sharing knowledge bases For complete actual simulation fragment 57811 underlying principles systems mentioned discussion language 21 Model fragments composing selfcontained pieces descriptions idea compositional modeling formulate model given situa aspect physical aspect component behavior physical process Each decided model entire situation These pieces called model dependence voltage process fluid flow The basic tion putting domain Each piece describes conceptually phenomenon piece separately fragments For example model fragment battery charge pipe connecting describing containers Fig 2 shows example model chargelevel battery voltage assertion applicability physical phenomena level relation given situation generate independent fragment A model fragment names set participants phenomenon described set conditions participants need satisfy order phenomenon place We instance model fragment exists state entities model fragment exist state participants conditions A E Levy et al ArtQicial Intelligence 96 1997 351394 359 satidiecL4 We assume entities domain A model specifies fragment behavior participant objects phenomenon types set consequences taking place set unary predicates denoting includes We deiscribe model fragment Participants A type objects participating instance A participant viewed unary function object class battery In Fig 2 participant domain required model fragment model fragment instance instance Quantitiles Atomic expressions denoting participants expressions colorX operutionaZ X dumaged X The time argument quantities model fragment volfuge X currentX locutionX instance Quantities continuousvalued functional booleanvalued discretevalued time dependent relational functional expressions expressions left implicit attributes associated phenomenon indicate represented model takes place specifying constraints participants model fragment include structural constraints participants Conditions Statements fragment quantities The conditions constraints ranges quantity values We use term operating modeling Section 311 5 assumptions metalevel battery damaged In example model fragments conditions 30 amperehours charge level battery 6 amperehours distinguish introduced conditions conditions conditions refer require phenomenon true Statements taking place Some consequences Consequences model fragment ena fluid flow set equations model fragment 6 The equations quantitative equations water cup Consequences state instance model fragment exists Disjunctions consequences voltage charge partial derivative respect model level battery qualitatively positive rate evaporation negatively The consequences logical assertions continuous qualitative involving fragment represented continuous phenom quantities algebraic ordinary differential affects true allowed example asserts proportional One key assumptions model fragments approach phenomenon composuble time For example compositional modeling In general quantity affected water container 4 In words modelfrngment instance binding participants conditions state objects satisfy state object particular 5 The term operating To simphfy discussion assume conditions consistent usage 7 1 contain consequences inequalities quantities This inequality rewritten qualitative equation impose limitation representation involving difference 360 AE Levy et al Artificial Intelligence 96 1997 351394 fragments independent phenomena effect phenomena fragments Their consequences combined model process The way In affected evaporation process condensation actually changes time terms representing As phenomena model water container tend increase instances quantity At simulation quantity effects combined complete effects consequences following represented separate effect quantity decrease directly affect time model fragment given state assumption The procedure language closedworld semantics combining expressing based mathematical model fragments means identified equation specify The semantics model fragments summarized follows Let fr fn participants model fragment M Let o X1 X conditions M bXt conditions exists instance model fragment Formally M First set objects satisfies X consequences tXl 9 x 0X1 Xn W 3 mMm AAfjmXj jl The existence model fragment instance implies defined Furthermore existence instance tioned consequences hold Formally quantities men implies 22 Composing simulation models Given description physical configuration particular represents state physical state In compositional modeling model composed state Fig 3 shows satisfied instances conditions approach simulation model simulation model rise compositional modeling model fragments state comprise framework fragment instances hold consequence phenomena task formulate model basic modeling model formulation phenomena occurring set model fragment schematically The set model state The consequences set equations logical formulas taking place Those equations state changing The simulation model generates set possible states Otherwise In case conditions fragments states formulate new simulation model state equations model include differential given prediction If prediction equations determine engine performed qualitatively unique state reexamined In basic modeling searched presents state problems First framework described identify model far entire model fragment fragments instantiated library This resulting model complex containing A Z Levy et al Artificial Intelligence 96 1997 351394 361 Simulation Model set model fragment I __ Fig 3 Basic modeling framework compositional modeling process expensive resulting model inconsistent library describing assumptions Therefore considered answering Selecting instantiation necessary know exactly happen To simulate needs needs know happen knows situation This simulation complex Secondly resulting prediction unnecessarily multiple model fragments phenomenon based different incompatible modeling limit set model fragments subset model fragment library sufficient query makes logically consistent set modeling assumptions subset difficult performing simulation future states The situation presents quandary formulate model But formulate appropriate model One extreme strategy dealing problem future requires simulation perform relevance reasoning strategy state That strategy requires determining relevant current state eliminating However entire perfonm model fragment produce model query need worry happen future library grows reasoning beginning That strategy require selection legal states enter simulation considered model selection difficult complex Any number strategies state The extreme inefficient model fragment unnecessarily consideration relevance library 362 AY Levy et al Artcial Intelligence 96 1997 351394 extremes devised runtime versus preprocessing versus effectiveness tradeoffs time The model formulation procedure present extremes pick strategy The procedure provides mechanism relevant varying assumptions scope phenomena appropriate infer happen hand It provides means situation relevant change considered given goal following section enables given situation future user broadly delimit consistent procedure adequate answering evaluation sufficient context simulation For model criteria model produced methods A model solving formulation method Evaluation criteria Before proceed formulation discuss given problem What worthless adequate adequacy mean given query In addition internally like model simple possible Our model formulation procedure devised goals mind We provide formal definition model Section 41 formally define adequacy formulation simplicity prove procedure simplest model We fact produce consistent simplest simplest models definition simplicity Furthermore prove given scenario according structure model fragment reasonable time complexity polynomial For turn description organization assumptions procedure model fragment In Section 5 use definitions facilitates model formulation instead simplest sufficient model problem library library 3 Knowledge representation model fragment selection additional difficulty actually The previous section described model fragments idea composing formu It discussed purpose simulation In section tools use order facilitate model formu generate model given situation lating appropriate model especially representational lation composite model fragments assumption 71 explicit modeling organization dependent knowledge structure structure enable enable classes constraints The imposing additional library expressing domain tools introduce library argue designers model fragments library Here structure underlying benefit structure relevance model fragments Though process constructing model fragment model construction model fragment explicit assumptions mind designers introduced originally algorithm 31 Model fragment library In basic compositional modeling framework described fragment library simply set model fragments additional Section 22 model structure AY Levy et alArtifcial Intelligence 96 1997 351394 363 Chargesensitivevoltagebattery Modeling Conditions RelrechargeableBatteryX Rel chargelevelX Rel voltage X A A Fig 4 Modeling conditions model fragment content model fragments examined phenomena sets model sets model fragments different operating regions model fragments Model fragments grouped CMFs grouped assumption model phenomena related For example However seen closely different descriptions scribe formulation introduce organization relations frugmews causal orientation ments assumptions Causal orientation relations model groups according implied model fragment CMFs concepts introduce modeling fragments Both important contents Modeling library model fragments simply provide fragments In order facilitate model reflects composite model classes Before notion frag classifying model conditions explicit conditions underlie particular description phenomenon model fragment makes explicit model fragment knowledge possible causal In addition 31 I Modeling conditions operating called modeling conditions tinguish alternative ways modeling different metalevel We identify opposed classes modeling operating conditions conditions conditions attach conditions Modeling model conditions phenomenon Modeling fragments order type dis conditions representation conditions conditions domain state conditions The class consists relevance Section 13 relevance claims express abstraction For example description battery ignores claims As explained sumptions underlying thermal aspects based relevance claim predicate irrelevant predicate Rel query In modeling conditions state relevance claims temperature task These include assumptions consists assumptions The second class modeling constraints model For example model solving temporal granularity behavior battery seconds look different describing days The treat voltage charge level essentially constant The functional problem desired accuracy answer quantities relation fragment describing exists need independent include Fig 4 shows modeling conditions Chargesensitivevoltagebattery fragment level vohage rechargeability shown Fig 2 In example model fragment battery considered requires relevant properties model charge 364 A I Levy et al Articial Intelligence 96 1997 351394 Formally Rel defined follows A simulator said produce simulation model simulated predicate Rel ground ground atomic sentence Relr simulation model M produced M term given model initial state state The argument term M constant functional said hold model M r occurs model Note consequence negative occurrence Rel meaning predicate Rel modeling assump model statement 8 For example assum temperature tion positive occurrence Rel statement included assumption excluded ing TRel Temperuturebattery simplifies attribute battery ignored assuming Rel Temperature battery attribute battery considered We requires specify properties convention sulting model For example simplified simplifying assumption representation timeale states representation metalevel predicates temperature literal rge term effects battery spirit Consider longer The predicate Rel similar ignore provide clear semantics Rel based relevance relevance different elements predicate 71 The main reasoning terms ground difference framework distinguish atoms In general difficult assign semantics 9151 However ground Rel p V terms ground atomic sentences Hence avoid controversial implies ReZ p paper limited situations relevance predicates relevance claims apply 4 312 Causal orientation model fragments When building model analyzing determined model For example quantities values quantities voltage orientation equations causally determined model determined model determines want know exactly causal dependencies model containing Ohms law current resistance The causal set quantities involved Equations equation functional relations model fragments modeled phenomenon specifying continuous causal Ohms law V iR states relationship voltage resistance specifying values quantities direction For example cause values The direction causality emerges equation embedded quantities dering externally determined 121 provides operational definition causality equations represents independent mechanism specified The theory causal equations current particular In order deal second order sentences use KIFs quoting mechanism lo argument ground atomic sentence 8 Though finite model fragment terms appearing explicit detailed model fragment describing implicitly makes potentially model fragment intinite number irrelevance assumptions useful alternative irrelevance assumptions appear terms appear phenomenon AZ Levy et al Artificial hrelligence 96 1997 351394 365 relations causal dependency causal ordering procedure selfcontained By applying determine The result causal ordering essentially equation represents equation quantities tity Since onetoone model determined establishes onetoone mapping Qe q equation The equation causal predecessors quan associated equation called exogenous They ones quantity q appears determines equations equations e mechanism external modeled unspecified mechanisms e2 9 The quantities value quantity el e2 el quantities appearing Given causal ordering quantity q1 causally affects quantity q2 equation e e q2 case l The quantity q1 appears q1 cirectZy causally affects q2 l There exists quantity q3 q1 causally affects q3 q3 causally affects q2 In compositional modeling set quantities model priori specify equations assembled causal orientation equations determined simulation theory causal ordering quantities values In gen model model fragments instantiated model Since equation acausal according fragment caused model fragment What priori model fragment possible eral set contain quantities mentioned fragment subset represented model allows limit tions lthe equations We set quantities model fragment determined model fragment simulation model Furthermore knowledge particular phenomenon interpreta turns causally determined model fragment member set lo output quantities The quantity determined model fragment actually equation possible causal consequences actually fragment determine priori member set output quantities set quantities quantity causally depends model fragment These quantities determined model fragment model Given model set quantities q determine model exogenous model fragment fragments m output quantities directly causally affects q m follows l The set includes quantities mentioned l If q continuous equations q consequences quantity set includes quantities operating conditions m appearing m We set quantities input quantities m respect couched equations consequences discussion far section fragments model q Even terms quantities consisted numerical y We consider equations equivalent contain quantities true vectors values quantities lo We allow specification mation algorithm empirical evaluation algorithm presented formulation output variables necessary model fragment definition However additional infor work correctly Also information Section 45 366 AE Levy et alArticial Intelligence 96 1997 351394 equations quantities numerical quantities timedependent equations attributes concepts apply equally numerical non I Thus input output quantities include Given set M model fragments draw directed graph causal influences follows node represents quantity arrow represents potential causal influence quantity tail quantity head 1 Draw arrow qi q qi input quantity member M respect q 2 Repeat procedure recursively Each path graph leading M q quantity qi new arrows drawn influence q represents path potential causal 313 Composite model fragments Some model fragments phenomenon value ranges assumed differ oper model behavior relation voltage battery charge level changes depending value ating regions quantities fragment This happens group model fragments device charge level When 30 amperehours tends increase charge level given range 6 amperehours constant On sides range voltage voltage decreases charge level increases regions For example different operating continuous functional decrease We group model fragments single composite model fragment CMF A phenomenon Consequently CMF set model fragments describing participating set participants conditions model fragments fragment singleton instead individual model fragments included CMF entire operating range quantities members CMF conditions The operating model simulation model Clearly CMF selects CMFs procedure CMF guarantee set As later model formulation set modeling l2 314 Assumption classes Composite model sumption class set CMFs contradictory modeling grouped assumption classes l3 An based different phenomenon conditions As stated Section 311 modeling conditions fragments discretevalued concept causal ordering applies definition quantities continuousvalued including Section 21 includes atomic expressions denoting functional Recall attributes relational expressions Likewise I2 CMFs sense artifact particular arc If model fragment definition need CMFs In case model formulation procedure work model fragments CMFs achieve I3 We giving Forbus language allowed disjunctions slightly different meaning term assumptionclass logical expressions effect restriction model fragment definition expressions language consequences timedependent booleanvalued 291 given Falkenhainer A X Levy et al Artificial Intelligence 96 1997 351394 367 Temperahmsensitive CL J Fig 5 Battery voltage assumption class abstractions assumptions express underlying Fig 5 shows assumption battery One way model way ta assume takes consideration voltage produced Since mutually CMF frolm single Since CMFs instantiated assumption exclusive consistent approximations representation They express assumed model class consisting different ways describing fragment voltage constant Another steadily degrades time Yet way modeling battery actual class set modeling assumptions include effects charge modeling level temperature assumption assume voltage conditions CMFs phenomenon CMF ci written class represent ame set participants Within assumption class CMFs partially ordered relation denote predicate A CMF ci said simplerthan simpler assumptions cj We denote c In Fig 5 simplerthan class single arc frlom ci cj ci cj We assume complicated CMF single simplest CMF The complicated CMF makes fewest simplifying simplifying assumptions Finally assume ci makes superset simplifying transitive closure predicate denoted directed arcs There simplest CMF makes assumption ci cj assumptions ci cj relation assumption class 1 The output quantities cj superset output quantities ci 2 If fi causal ordering quantities ci exists causal ordering f cj causal relations quantities ci given fi subset causal relations quantities cj given fj All properties follow approximation fragment relations causal approximation entailed assume ci cj ci 241 A model set causal fragment subset entailed Nayak model cj type Nayak calls causaZ approximations AZ Levy et alArticial Intelligence 96 1997 351394 causal approximations cover approximation relations encountered 368 argued practice We assume modeling conditions CMFs assumption class assumption formalized conjoined model fragments Then annotate ci making link ci cj assumptions set literals lpn 71 pn addition meaning simplifying simplifying assumptions cj formally As As PI pn U PI Coherence library The library coherence assumption instances modeling set model fragment operating satisfied model equations quantities equations conditions state overconstrained assumption Formally state essentially assumptions requires consistent set resulting defined follows Definition 1 A model fragment holds Let M set instances model state library said coherent following condition library s fragments aM model fragment instances M conditions 1 The modeling consistent If 44 b Relr model fragment 2 3 The conjunction M satisfied s set equations Then r appears instance M operating conditions consequences operating conditions model fragment instances given union consequences M overconstrained Note set equations overconstrained complete assuming quantities exogenous Completeness library No library complete knowledge world There things sense covering library matter large A E Levy et al Artcial Intelligence 96 1997 351394 369 define completeness respect library The library completeness limitations knowledge possible contained detailed explain However known assumption causally affect quantity explicitly known quantity zset loL contained quantities appear contain model fragments phenomena quantity quantities states library contains knowledge phenomena appearing boundary librarys knowledge We boundary knowledge model fragment library known library L globally exogenous quantities EL model fragments set library directly causally affect said complete following condition conditions M set model fragment conditions aM model fragments 2 A model fragment Defhitbn holds Let A set consistent modeling instances 1 s state modeling library The conjunction Af consistent For assumption assumptions aM aM quences model fragment The conjunction true s consistent A k Relr implies 2 3 4 5 Then class As contains CMF modeling consistent A M contains instance CMF As r appears operating conditions conse operating conditions instances M instance M model fragment l quantities Egba L assumed exogenous set Eq equations given union consequences M underconstrained l4 l u u appears assumption conditions true s EqM u Eglobal L M contains CMF influence u phenomena classes representing library consistent Under definition completeness library L rise set equations variables appearing notion completeness Newtonian physics objects moving close speed light state s complete determine values Eglobal L We note library For example states correctness library complete accurate results sufficient orthogonal 32 Other modeling constraints In addlition modeling conditions attached model fragment assume background possible models The constraints constraints theory modeling constraints C We use C express additional constraints general domain claims domain specific constraints The following entailed relevance independent I4 Note library coherence assumption set selfcontained 370 A Z Levy et al Artcial Intelligence 96 1997 351394 states constraint object 0 query l5 For example property Subpart relevant object refinement objects property r relevant relevant query r0 X holds Battery1 relevant Chassis1 relevant refinement subpart Battery 1 Chassis1 X relevant Battery1 RelObjectRejinement0 k A r 0 X A RelObject0 RelObjectX The following examples Forbus covering Falkenhainer minimal components mentioned Falkenhainer model given constraints 71 Their heuristic defined specify variation heuristic include model components ancestor query partof hierarchy modeled assure certain objects included lowest common Forbus use heuristic initial set objects structuralHierarchySlotp A RelObjectX A RelObjectRenement X p A pX Y F RelObject Y structuralHierarchySlotp A pX Y A RelObjectX A RelObjectY RelObjectRejinementX p The relevance axioms state objects st s2 relevant query t common ancestor hierarchy object considered relevant t st query structural hierarchy object t SZ child expressed arbitrary Essentially constraints reasons assume efficiency rules Even constraints Horn rules expressive far encountered Forbus Falkenhainer constraints order formulas For C expressed Horn state modeling allow arbitrary clauses modeling constraints 4 The model formulation method In section explain model formulation problem formulated present actual algorithm reasoning formulating problem relevance scenario model We present detailed example models algorithm As basis discussion formally define model formulation previous sections given representational simulation apparatus formulated problem introduced I5 Note clarity use predicate names relevance specialized kind entity deemed relevant AI Levy et al Artijcial Intelligence 96 1997 351394 371 41 The problem dejinition Infonnally model problem formulation answer query given initial states argued choose set instantiated model state However Section 22 costly selection process state Therefore problem selecting small set potentiuE instances repeat formulation scenario model The scenario model property modeling state simulation model easily composed consistent fragments simulation want pose model CMFs called conditions Formally define potential instance CMF use definition define scenario model Definition 3 A potential plist list element participant c I6 o object instance CMF pair cplist c CMF potential binding form p o p satisfies type specification p Note objects bindings potential Conditions model fragments instance CMF CMF Those checked simulation model created specific state satisfy statements conditions Definition 4 A scenario model set potential conditions consistent instances CMFs modeling Formally model formulation problem theory domain description model fragment query defined follows choose scenario model given library background modeling constraints physical typically set individuals Scenario description A set statements state These statements individuals QLlCiJV A quantity q list quantities value want predict simulating initial structure initial values quantities components related physical A list Eiyut exogenous quantities The elements given outside scope simulation scenario model EQ assumed constructing A list Cinp atomic ground sentences scenario model circumscribe These conditions creating construct scenario model states battery constraints ldaaagedBattery1 want A list Znit modeling enforce hold simulated states set states Cur damaged Implicitly Znit includes Rel q I6 Recall model fragments CMF participants 372 AZ Levy et alArtifcial Intelligence 96 1997 351394 At state simulation operating checks scenario model The operating conditions instance instances CMF model fragment fragment scenario model S simulation model created state s S resulting CMF satisfied In Section 22 argued simulation model state We denote instances comprise conditions state model logicalmodel refer standard notion model problem defined meaning adequacy simplicity scenario model adequate In discussion logic model distinguish simple Now formally define context model use phrase interpretation physical device formulation The condition generated answering scenario model follows query We define adequacy satisfies set formulas scenario model simulation model adequate l7 Definition 5 Given set exogenous quantities E simulation model M state s adequate determining CMF quantity q following conditions assumption Cl M contains class satisfied instance influence q s path potential causal influence variable q include variable E C2 The set equations EqM M determines value q uniquely C21 EqM contains q C22 Either C221 Eq contains selfcontained overconstrained constrained subset includes q C222 Eq selfcontained adding exogenous quantities E We define scenario model adequate coherent sufficient follows constraints C scenario model S adequate query q Einput Ct hit Definition 6 Given set background answering There Dl l The modeling D12 logicalmodel Dl If Rel ql satisfied CMF S L C A hit conditions CMFs S satisfied L L quantity 41 q1 occurs D2 For state s simulation model S s results quantities Einp Eglobal exogenous contradict Cinput simulation S adequate determine q assuming Condition Dl ensures scenario model coherent D1l considers modeling conditions D12 considers relevance conditions Condition D2 ensures I7 See Section 312 AE Levy et alArticial Intelligence 96 1997 351394 313 scenario model q determining adequate state resulting model adequate In order scenario model useful simple possible Definition 7 A scenario model St simpler LT2 mapping 4 CMFs Sr CMFs S2 1 For CMF c E St 4c instantiated assumption class c 2 EGther c 4c c 4c 18 The mapping 4 definition guarantees Sr CMFs S2 CMF c Sr CMF c S2 complicated The model selection problem adequate scenario model simpler adequate scenario model 42 Model formulation relevance reasoning The approach intuition relevance model formulation problem advocated based aspects problem better viewed problems document reasoning We explain view import section Intuitively argue model formulation nation oF subproblems The determine phenomena quantities query quantity The second problem level independent greater Ilevel require modeling reasoning problems problem viewed combi determine kind relevant phenomena These problems additional phenomena However model certain phenomenon decision relevant different model 421 Selecting relevant phenomena The model formulation problem decide quantities rele decide phenomena modeled possible 1 vant query quantity Intuitively quantity u relevant q fects q 2 u cause change quantity value q Consequently possible causal traces underlying query work model models possible algorithm causally finding tree described 252733 similar causal query quantity q u causally injluence af state affects state state resulting u indirectly u causally affects q relevant quantities following query quantity The intuition influences influences quantities The algorithm 211 represents intuition underlying construction possible derivations query build order follows causal chains formulation I8 Recall predicate transitive closure simplerthan predicate CMFs 374 AY Levy et alArticial Intelligence 96 1997 351394 422 Selecting level The second model selection problem determining level approximations knowledge underlying understood stated bear choosing l We articulate constraints ences model fragment model phenomenon This entails deciding abstractions modeling 16171 demonstrates decisions stated relevance claims better form In algorithm bring relevance knowledge Levy level ways diflerence CMFs assumption expressed partially relevance claims Articulating class modeling precise differ determine switch CMFs enables algorithm l Engineers good general heuristics selecting physical declaratively systems We use modeling constraints C express form relevance claims reason relevant modeling heuristics Our modeling algorithm uses kinds knowledge select simplest scenario model 423 Partial knowledge simulation states given reasoning Our algorithm possible assumed set possible selects scenario model 8 want process Therefore algorithm states reach beginning states This knowledge exogenous The problem face analogous Envisioning state expensive operation model formulation partial knowledge possible set Et quantities facts description relevance Horn rule knowledge ground ground ground l9 Analogously consistent partial knowledge As 20 additional reachable partial knowledge relevance states initial perform selects scenario model based implicitly time invariant context problem decide given query actually knowing stated reach state knowledge states enable select simpler scenario model Assuming key aspect making formulas knowledge base In problem discussed Levy Sagiv knowledge base actually knowledge base formulas irrelevant bases database reasoning practical assume world systems There explicitly assumed formulas 20 43 Model formulation algorithm Based discussion lation algorithm order quantities Informally previous sections model formu influences query affect query For quantity follows possible algorithm I9 Note fact certain formula knowledge base affect relevance formula AL Levy et al Artijicial Intelligence 96 1997 351394 315 To quantities selects simplest CMF describes set selected CMFs algorithm consistent modeling assumptions The details algorithm shown Fig 6 affect query q algorithm begins consid classes quantity q output quantity The class union output quantities ering assumption set output quantities assumption model fragments contained assumption class From assumption class select CMF recursively consider q The recursion bottoms input quantities CMF respect reach exogenous quantities given E EglOba To select CMF assumption assumptions given Init particular simplest CMF contradict assumptions far class maintain model The list initially list Rel modeling assumptions includes relevance query q At step choose Rel Adding new CMF scenario model imply add assumptions need revise previous choices CMFs We perform adjustment whileloop In follows illustrate execution algorithm example selectscenariomodel Rel steps choices CMFs consistent 44 Example The example simple circuit containing solar array SAI rechargeable shown battery IBAl model fragments CMFs behavior equations operating conditions The query quantities mentioned modeling VoltageBAl constraints Fig 1 Fig 7 shows scenario description domain theory library For CMF domain consequences list quantities appearing Fig 8 shows theory classes shown Fig 9 DamagedBA1 The set quantities includes shown The annotated assumption list exogenous scenario description identifies BatteryvoltageacBA1 The query quantity VoltageBA1 class start simplest choice select CMF This choice results addition following algorithm affect O To select CMF assumption ConstantvoltageCMF consistent modeling earlier modeling assumptions item queue initially class assumption assumption list Rel Since RelBatteryBA1 RelDamagedBA1 quantity VoltageBA1 CMF ConstantvoltageCMFBA1 Since tity DamagedBAI assumption class Batterydamageduetooverchargeac influenced quantity DamagedBA1 quan new current goal We affect placed queue BatterydamageCMF exogenous selected DamagedBAl member This selection causes literals 2o In implementation algorithm use data StrucUCture enables efficiently assumption affect given quantity searching model fragment library classes 376 AZ Levy et alArtcial Intelligence 96 1997 351394 list conditions hold simulation states given query procedure selectscenariomodeI q Einpu Cinpu Init C I q query quantity I Einput list exogenous quantities given query Citpr hit list modeling constraints given query C background theory modeling constraints Q queue quantities terms Rel current list modeling constraints Model scenario model constructed It list pairs c n c potential instance CMF As modeling assumptions CMF c begin x quantity term c causally affect Q 41 Rel Init Model nil repeat q1 dequeueQ As assumption classes q1 cm output quantity operating conditions contradict CinPU E As selectfromassumptionclass pair c q E Model p E Rel E As 41 remove c q Model selectfromassumptionclass I A assumption class c chosen A q Q return set c 1 c q E Model end selectscenariomodel procedure selectfromassumptionclass A potential instance assumption class determine q begin A q c A simplest CMF A exist p E Asc A p E Rel ModelModelUcq inputs union The quantities appear equations q The quantities operating conditions c X E inputs X Q X Einpu enqueue X Q Rel DeductiveClosureC U Rel U PosAs DeductiveClosure returns set ground atomic formulas derivable argument PosAs list positive literals As Relql E ReZ q1 Einpu q1 Q enqueue q1 Q end selectfromassumptionclass Fig 6 Model selection algorithm AZ Levy et al Artificial Intelligence 96 1997 351394 377 Scenario description Legend CL ChargelevelX V VoltageproducedX TEMP TemperatureofX I CurrentPlusterminalX DOD AveragedepthofdischargeX TSLC TiesincelastconditioningX SolararraySA1 BatteryBA1 Rechargeable BAl Plusterminal BAl t4 Minus_terminalBAlt3 Plusterminal SAl t2 MinusterminalSAltl Electricallyconnectedt2t4 Electricallyconnectedtlt3 lDamagedBA1 Fig 7 The initial state CMF Behavior Quantities operating cond Battervvoltage assumution class ConstantvoltageCMF v BatteryX DamagedX BinaryvoltageCMF NormaldegradingCMF ChargesensitiveCMF v 0 ifCLco 1 CL 1 v fzime v f CL TemperaturesensitiveCMF V f TEMP CL Batterychsugelevel assumption class ConstantchargelevelCMF NormalaccumulationCMF CLq CLsIdt BatteryX lDamaged X BatteryX BatteryX RechargeableX BatteryX RechargeableX DamagedX TDamagedX DamagedX BatteryX DamagedX BatteryX DamagedX RechargeableX AccumulatlkonwithagingCMF CL j I dt f DOD TSLC BatteryX DamagedX Batterydamagedduetoovercharge assumption class BatterydamageCMF DamagedX RechargeableX BatteryX RechargeableX DamagedX CLX Fig 8 Model fragments battery example RelRechargeableBA1 RelChargelevelBA1 Rel The tree quantities added current content Rel point currently shown selected The node marked X Einput assumption classes Fig 10 The CMF bold face expanded The addition literals Rel makes assumption TRel RechargeableBA1 ConstantvoltageCMF lRelChargelevel list inconsistent BAI assumed 378 AI Levy et alArtifcial Intelligence 96 1997 351394 Bat e ch areelevelac Battenr 01 CopantchargelevelCMF ormalaccumulationCMF RelDOD RelTSLC AccumulationwithagingCMF RelRechqeableb TemperahuesensitiveCMF Fig 9 Assumption classes RelBatteryBAl RelDamagedBAl RelChargelevelBAl RelRechargeableBAl SmallGranularity RelTemperatureBAl LargeTPoG Fig 10 An intermediate goal tree Example 1 RelBatteryBAl RelDamagedBAl LargeTPCJG RWbargelevelBAl ReKRecbargeabl4BAl RelTemperatureBAl RelDOD RelTSLC SmallGranularity Fig 11 The final goal tree example AI Levy et al Articial Intelligence 96 1997 351394 379 Table 1 Reduction size models Example Max formulated model size Max possible model size SC EPS RCS BMS 7 28 252 18 31 41 418 212 To resolve inconsistency adjust select ChargesensitiveCMF contradict current modeling assumptions choice ConstantvoltageCMF simplest CMF The current goal quantity Chargelevel BAl The assumption class select current modeling Batterychargelevelac iaffect quantity CMF NormalaccumulationCMFBA1 simplest CMF consistent BAI influence exogenous quantity ChargelevelBA1 terminates placed queue The queue The final tree quantities Fig 11 The resulting scenario procedure CME However assumptions Current model contains assumption Plusterminal shown classes ChargesensitiveCMFBAl BatterydamageduetooverchargeCMFBAl NormalaccumulationCMFBA1 makes following modeling assumptions Rel BatteryBAl RelDamagedBAl RelRechargeableBAl RelChargelevelBAl LargeTPOGSmallGranularity TRelTemperatureBAl TRelDOD lRelTSLC Note procedure Plusterminal Current specified exogenous including representing quantity terminates point query Had BAI specified exogenous procedure added CMFk model example components processes affecting current 45 Experimental results We conducted experiments model formulation domain algorithm verify theories The purposes experiments test implementation effectiveness actual model fragment libraries The results experiments effectiveness formulation algorithm model sizes varied widely depending queries Table 1 shows size largest model formulated model size For example generally confirm limiting algorithm 380 A I Levy et al Artificial Intelligence 96 1997 351394 tl sl kl k2 Relays t14 Electrical s4 Signal terminals terminals Signal connection Sensor data connection Electrical connection Fig 12 Electrical Power System theories assumptions size maximum model domain adding priori exogeneity obtained assumptions Even fairly narrowly significant reduction table shows reduction 91 BMS We expect generalpurpose model fragment reduction created algorithm tried Since model sizes arbitrarily small model sizes shown libraries results queries The fragment focused certain aspects device size model achieved size formulated models ranged 32 EPS query model model sizes significant libraries broader scope We briefly example domain theories test algorithm Simple circuit SC The circuit shown Section 44 The model fragment Fig 1 illustrative example library contains 32 model fragment definitions Electrical power shown load rechargeable satellite sun solar arrays supply power load recharging battery The battery supplies power eclipse The charge current controller monitors charge level battery opens closes relays order prevent damage overcharging The model fragment satellite EPS The Electrical Power Supply Fig 12 The consists series solar arrays relays electrical connections While battery library contains 66 definitions battery charge current controller Fig 13 The consists structurally RCS The Reaction Control System Space Shuttle Reaction control shown supplying oxygen fuel Oxygen fuel separately propelled pressurized helium meet thrusters ignite generating library containing 95 definitions mainly concerned fluid dynamic behavior thrust The model fragment subsystems identical AE Levy et alArtifcial Intelligence 96 1997 351394 381 eaureterminal0 raulicterminal2 Isolation valves l2 iV 31415 I hydraulicterminal4 Manifolds lkolaticn valves Manifdds Thrusters Fig 13 Reaction Control System temperature gauge BMS The temperature gauges shown Fig 14 221 The device intended Bimetallicstrip It described Macaulay liquid The resistance thermistor changes according liquid results heat generated coil changes As bimetallic fragment mal conduction library contains 80 definitions library contains knowledge kinematics strip heated coil bends current change measure temperature temperature temperature bimetallic wire The current determines strip pointer The model ther thermodynamics strip The rotating electricity behaviors thermistor bimetallic 382 AY Levy et alArtcial Intelligence 96 1997 351394 Coil Container water Fig 14 Bimetallic strip temperature gauge Table 2 Size examples Example Library size Scenario size Max scenario model size SC EPS RCS BMS 32 66 95 80 11 54 289 33 31 41 418 212 Except simple circuit example constructed explicitly algorithm domain theories originally demonstrating model independently bimetallic strip temperature Nayak test approach bimetallic library CML experiment behavior respective devices The gauge knowledge base originally example constructed thesis extensively uses 23 We rewrote model fragment model formulation strip temperature gauge example purpose constructed terms size model fragment size scenario model fragment total number components measured number model size scenario maximum possible library The size scenario Table 2 shows size example library library The size model fragment definitions scenario21 The maximum possible CMF instances formulate model given library scenario Tables 36 quantitative created number library In words upper limit size scenario model size scenario model knowledge tables goal term formulated model size terms number CMF number goals explored formulation procedure instances In Table 5 numbers facts components determined data example For domain relevant procedure model theory 21 In domain modeled entity theories terminal junction represents connection terminals A 1 Levy et al Artijicial Intelligence 96 I 997 351394 383 Table 3 Sample results SC example Goal term Model size Goals Relevant facts Components storedchaqe BAl drainedpl3Al expectedchargelevel BAl electromotiveforceBA1 damagedpBA1 voltageatterminal t4 currentthruterminal t4 voltageatterminalu 3 4 8 7 7 7 7 1 6 7 18 16 15 16 16 4 13 14 29 26 26 26 26 7 4 4 8 8 8 8 8 3 Table 4 Sample results EPS example Goal term Model size Goals Relevant facts Components orbittime sun sunshiningp sun signalonatterminalp sl relayclosedp kl voltageatterminal tl currentthruterminalt1 voltageatterminalt7 currentthrwterminalt7 voltageatlerminaltl0 currentthruterminaltl0 voltageatlerminal t13 voltageatterminalt14 2 2 28 28 28 28 28 28 28 28 1 28 Table 5 Sample results RCS example 2 2 98 98 98 98 98 98 98 98 10 98 5 5 143 143 143 143 143 143 143 143 18 143 2 2 43 43 43 43 43 43 43 43 7 43 Goal Model size Goals Relevant facts Components sensedpressureatterminal pressureterminal 1 sensedpnssureatterminalpressureterminall pressureat terminal hydraulicterminal2 pressureat terminal hydraulicterminal4 thrustercavitatingp thruster 1 thrustercavitatingpthruster1 thrustercavitatingp thruster5 thrustercavitatingpthmster5 20 20 252 252 252 136 252 136 84 84 769 758 760 432 736 420 52 52 936 936 936 508 936 508 20 20 267 267 267 141 267 141 384 AE Levy et al Artificial Intelligence 96 1997 351394 Table 6 Sample results Goal BMS example resistanceCoil0 currentthroughterminalterminal0 temperatureof BimetallicStripO temperatureof CoilO heatflow CoilO inputelectricalpowerCoil0 position terminal3 resistance ThermistorO voltagedifference ThermistorO voltagedifferenceCoil0 voltagedifference BatteryO temperatureof ThermistorO heatflow BimetallicStripO selfinducedemf CoilO angularposition terminal4 Model Size Goals Relevant Facts Components 1 15 15 15 15 15 18 12 12 15 2 12 15 15 18 1 24 26 26 26 26 39 21 23 24 6 23 26 24 39 3 38 38 38 38 38 59 34 34 38 13 34 38 38 59 2 5 5 5 5 5 10 5 5 5 4 5 5 5 10 goals indicate variable assumptions Those assumptions essentially scope model query include exogenous variable assumptions oxygen fuel RCS In cases cases given query included set exogenous Einpur 8 broadly intended limit Our goal constructing BMS example obtain direct comparison result obtained Nayak example However different initially way goals formulated formulate query In approach model statement expected causal relation wishes formulated establish formulating model produced Nayak Nayaks program model For example formulation causes temperature thermistorl angularposition pointer2 term specified query cause angularposition pointer2 given goal In words formulation model explain problem causal behavior given query specifies expected formulation explained model case query algorithm produced Nayaks The model produced strip perfectly valid model assumptions provided algorithm produced model relevant sufficient terms explaining bimetallic included included strip modeled absence priori relevance heat flow components In contrast terms allows query causally efSect term term Thus term produced pointer bimetallic thermal equilibrium This assumptions Once strip bimetallic behaviors relevance possible causal relation smaller simpler model AE Levy et al Artificial Inrelligence 96 1997 351394 385 One notable advantage approach Nayaks fact formulation rules Nayaks order formulate model rules Component formulation As rules Nayaks rely heuristic Nayaks approach depends manually Interaction Heuristic Heuristic Coherence Constraints model apprlDach require heuristics ignored heuristic constructing original domain heuristics additionall guide relevance assumptions wishes provide domain problemspecific theories However model easy form library BMS example CML model fragment modeling constraints formulated heuristic formulation process 5 Analysis formulation model evaluation In Section 22 discussed criteria model formulation techniques procedure produce adequate simple argued model How algorithm presented fare criteria In section prove algorithm produces simplest adequate scenario model assumptions result holds answering consequences main properties algorithm query We discuss relaxing The following theorem establishes document Theorem 8 Let L library model fragments describing domain C set modeling constraints Let v Einput Cinpur Init query Let S scenario model resulting algorithm selectscenariomodel Furthermore assume Tl T2 T3 T4 L satises library coherence completeness assumptions If ci cj CMFS assumption class L ci cj ci causal approximation Cj All modeling constraints C ground atomic formulas Horn rules The complicated scenario model dejined possible instantiations CMFs complicated assumption class adequate answering query 22 T5 Al assumption classes L linear Then S adequate scenario model v Eut CiputZnit scenario model S1 SI simpler S The complete proof given Appendix It shows output algorithm simplicity given Definitions 6 7 shows algorithm satisfies terminates conditions adequacy We S built time polynomial theorem stated following size problem Note fragments time invariant complicated scenario model needs objects satisfy include type conditions valid instantiations model model fragment instantiations facts description 386 A1 Levy et al Artificial Intelligence 96 1997 351394 Theorem 9 Let d maximum number CMFs assumption class let n number instantiated assumption classes S Let 1 sum size C number ground atoms appear CMFs S The running instantiated modeling conditions n d 1 S polynomial time ofjnding Horn computing modeling assumptions constraints time polynomial selectfromassumptionclass nd This seen observing logical closure Proof Since 1 This time set modeling procedure procedure selectfrom called assumptionclass worst replace CMF complicated Since assumption class algorithm S d CMFs time nd times Consequently The number times n instantiated n d 1 0 polynomial overall running classes 51 Relaxing assumptions In section discuss effect relaxing assumptions Theorem 8 5 I I The library coherence assumption library coherence assumption The significant assumption assumption strong If set model compelling Although Specifically library rise overconstrained library coherence assumption Process Theory coherence assumption assumption assumption hold problem model fragment constraints feature It noted library Qualitative library assumption 71 In fact assume causally oriented uniquely follows causal approximations scenario model adequate implicitly 81 equations modeling undesirable calls additional knowledge acquisition set equations satisfy fragments argument We relax complicated library coherence assumption cost work state simulation Specifically scenario model created algorithm state complete model extracted equations We extract Nayak absence coherence assumption produce set equations methods described complete model efficiently removing guaranteed 241 512 Causal approximations Horn restriction The role causal approximations assumption restriction guarantee efficient performance assumption guarantees model constraints Horn algorithm The causal approximations modeling formulation select complicated CMF set simplifying modeling added Rel The Horn restriction guarantees Rel retracted Relaxing assumption assumptions decreases class number elements literals positive literal assumptions positive AX Levy et alArQicial Inrelligence 96 1997 351394 381 perform arbitrary backtracking algorithm 24 require cause shown assumption assumption model polynomial described work polynomial It possible run polynomial algorithm modify time model selection problem constraint satisfaction As intractable Finally simplest scenario classes linear guarantees time If assumption hold algorithm time produce simplest model finds simplest model 6 Related work Several researchers considered problem model addresses aspects model model construction model simplification formulation Their work problem formulation Nayak 23 addressed aspects Nayak describes algorithm constructing influences given explicitly single state case His algorithm In contrast work exploits model heuristic links It noted focusing search inserting subset links structure model fragments user error prone task putting interaction derive Nayaks scheme enable follows possible causal component burdening user intervention influences choice simplify necessary assumption In choosing model fragment model selecting uses procedure complicated gorithm builds adjusts vary significantly search introduce phasized stack Nayaks methods generated state scenario model result model simplification complexity class Nayak chooses In cases CMFs simplest CMF possible resulting model Our al class class It em larger scenario model Finally note simulation model assumption savings complicated CMFs involve quantities approach complicated models applied substantial necessary leads rep specifically Falkenhainer model modeling In framework Consider predicate aspects compositional modeling Forbus work compositional modeling addresses conditions Our use relevance claims enriches provides formulation lowest object partonomic hierarchy resentation problem corresponding language In model identifying objects mentioned They rely heuristics easily lead inclusion guarantee flexibility selection relevant properties uniform way reasoning modeling 7 describes model construction fragment set relevance conditions formal basis scope model subsumes query select relevant properties objects modeled This approach select types properties model query related causally sufficiency model produced Our algorithm provides selection physical scope scenario model affect Furthermore select select physical constraints algorithm fragments 388 AZ Levy et alArtcial Intelligence 96 1997 351394 model casually generate possible consistent properties sets modeling model simplest simplicity measured based number objects model ordering choices assumption select simplest choose included class query Finally assumptions influence While model formulation assumptions In particular Falkenhainer algorithm efficient Falken listed Section 5 approach Forbus class unique simplest unique complex difference class likely library easier practice needs model fragment assumption formally assumptions alternatives task constructing assumption respects hainer Forbus especially general require CMF They require represent modeling actual approach This point construct large library model fragments compositional modeling paradigm large model fragment experts We started effort construction explicit reliably constructed important consideration library certainly providing require collaboration library fragment representation maintained use model 131 It remains fragment Rickel Porters work model type organization proposed model seen library model fragment environment similar select relevant model makes use graphs interaction fragments Their approach provides guarantees simplicity adequacy However graph interactions influence graph created algorithm includes variables include terms predicates directly indirectly modeling assumptions underlying collaborative 2728 paths quantities goal terms causal general formulation influence domain collaborative viable option The construction variety situations environment similar representing The idea explicitly class problem selecting complete models exponentially viewed combining The model simplification number possible modeling assumptions instead fragments differences CMFs complete models Since space requirement approach assumption graph models Addanki et al 11 Their work addresses graph increases increases Our approach idea graph models compositional modeling 33 Weld problem addressed Williams model Both input Williams work innovative assume complete model situation makes use causal influence graphs 321 Williams Weld Williams makes use idea following design models simplify influences causal 341 7 Discussion This document describes method appropriate nario model general framework lem significantly relevance benefit selecting model fragments generate sce answering based given query The method reasoning argued modeling prob perspective relevance considered AE Levy et alArtifcial Intelligence 96 1997 351394 389 influences modeling articulating general considerations reasoning Specifically shown approached chaining causal tion classes Moreover shown incorporate heuristics declaratively inspect heuristics efliciently algorithm knowing precisely states reach aspects modeling problem relevance reasoning backward differences CMFs assump reasoning The ability fashion relevance express modeling heuristics important advantages Since easier experimenting different modeling algorithm selects simplest model query An important aspect chooses model modify declarative viable Our approach offers novel model simulation declarative formulation knowledge engineering knowledge DME environment The algorithm implemented 141 provides computational called Device Modeling designing Environment electromechanical devices Given topological description device DME formulates behavior model device compositional modeling approach simulates behavior Prior implementing algorithm considered select zset model significant model stam The document operating simulation model prompt scenario model bottleneck DME checks determine acquisition scenario model user creating conditions tested examples knowledge fragments including fragment Research compositional modeling crystallizing infancy The discussion main questions document approach library research The key issues came bear work decide phenomena fragments write model single model fragment assumptions described contents model fragment 2 How organize model fragments 3 What assumptions We contributed model fragments CMFs assumption questions 1 3 model requiring polynomial 1 The modelfragment library consisting possible assumption model fragment library solving problem 2 suggesting differences representation class In discussion assumptions order algorithm In particular concept composite produce simplest explicit time following assumptions complete instantiations coherent scenario model CMFs complicated class adequate answering query 2 The assumption classes linear simpler CMFs causal approxima tions complicated CMFs contributes require additional 1 How consequences clause model fragment specified Horn rules 3 There disjunctions 4 Other modeling In general tradeoff constraints irrdividual model library vice versa Finding fragments model possibilities 1 3 fewer constraints If assumptions placed optimal point spectrum systems We need requires additional research practical experience building 390 AZ Levy et al Artificial Intelligence 96 1997 351394 believe beneficial imposing structure model fragment necessary long run facilitate knowledge acquisition library reuse The problem model formulation needs reason knowledge answering setting query In choose alternative different currently 191 We believe distributed heterogeneous work form basis reasoning mechanisms tasks viewed instance problem solving abstractions Other instances problem solving reasoning contexts query evaluation techniques developed assumptions investigation problem domain representations databases Finally weakness approach apparatus classes graphs CMFs links explicit representations task construct actually detailed faithful way practical point article introduced classes Since alternative model fragments phenomenon It unarguably arduous abstracting assumptions view requires representational particular assumption underlying modeling assumption result gaining better understanding techniques able semiautomate detailed model fragment approximating task constructing phenomenon abstraction current goals With understanding hope day class nature different approximation assumption Acknowledgement The authors like thank Jeff Rickel Pandu Nayak helpful discussions formulation problem model reviewers article help shaping general We thank article detailed comments valuable anonymous improving quality final version We like thank past current members How Things Work project Stanfords Knowledge Systems Laboratory DME Pandu Nayak provided example Patrice Gautier constructed example Diane Chi constructed article This research sponsored Research Projects Agency NASA grants NAG 2581 NCC 2537 It supported National Optimization strip original knowledge base reaction control enhanced version RCS example Defense Advanced NASA Ames Research Center DARPA program cooperative agreement 70NANB6H0075 Technology Rapid Development Exploration ideas paper implementation original knowledge base bimetalic Standards DARPA RaDEO Institute Appendix A Proof Theorem 8 Proof termination First note algorithm loop selectscenariomodel terminate This adjust choice CMF complicated CMF contradict assumption T4 AE Levy et alArtcial Intelligence 96 1997 351394 391 Rel Ultimately end complicated scenario assumptions model guaranteed T4 adequate Proof adequacy Let L logical model satisfies Rel negation positive C A Init Init C_ Rel Rel U C closed deduction literals appearing positive Rel L logical model literals Proof condition Dl adequacy Condition D1l 1 For CMF c E S PosAs C Rel satisfied following holds algorithm We add Rel PosAs choice c later adjusted causal approximations assumption T2 CMF c added S c PosAsl PosAs 2 Whenever simplifying assumption CMF c satisfied Rel E As p E Rel adjust choice c c satisfied Because 1 positive literals c satisfied negative literals L L Because 2 Condition D12 satisfied L Relqr E Rel q1 quantity q1 c E l ql queue assumption quently added S class affect q1 subse cases S contain CMF includes 41 Therefore Proof condition D2 adequacy In building q The operating S Therefore S includes set equations conditions scenario model considered assumption classes affect classes state quantity q The library coherence assumption Tl guarantees CMF assumption model S denote Eqs overconstrained If Eq library completeness overconstrained Eq selfcontained exogenous selfcontained quantities quantity Therefore x E U EglObal q causally depends x set Einput U Ebal Eq Eq exogenous Let x This means Eq Suppose quantities assuming choosing assumption guarantees However contradicts fact included assumption classes fore equations library complete affect q situation assumption In proof important partial Proof simplicity knowledge possible states reach Specifically know time independent facts given description hold value binary quantities given Einpur change remember In proof assume S constructed adding tion class ai ith iteration selectfromassumptionclass cis removed subsequently assumption class We prove following induction CMFs ci assump Note choosing complicated CMF 392 AE Levy et alArtificial Intelligence 96 1997 351394 Al There CMF S assumption A2 The CMF ci simplest CMF chosen ai respect A3 For quantity q1 queue include phenomena affect q1 occur possible states class ai C Conditions Al A3 guarantee phenomena modeled phenomena modeled modeling constraints C The simplicity S necessary simplest way possible S follows A2 guarantees respect claims The base case includes assumption classes affect query quantity simplest CMFs satisfied need assumption class determine q states chosen assumption consistent possible classes linear selectfromassumption q Clearly Al ones Since class selects condition A2 satisfied Condition A3 satisfied q equation phenomenon appears operating conditions CMF determine q exogenous phenomenon contradict Rel quantity q1 appears q1 influence q If q1 exogenous model Similarly influence q1 included q1 causally assumption classes model 1 The CMF cii loop adding new ways In use outer claims prove class popping quantity We assume added assumption include phenomena Therefore adding CMF ait A3 satisfied selectfromassumptionclass satisfies queue queue By inductive assumption affect quantity queue satisfied As A2 necessary Al selects simplest CMF c assumptions far adds necessary quantities affect q1 included loop adjusting The second possibility adding cir class minimal included entailed C previous modeling previous choice assumption aii justified previous CMF added S Since Rel include uii quantities argument Moreover quantity removed approximation possible inner In case inclusion CMF cir simplest CMF satisfied23 Finally S necessary queue CMF cj causal cj set assumptions scenario model A2 queue cii cir causal CMF cir replacing possible cii modeling assumptions assumptions influence 0 References l S Addanki R Cremonini J Penberthy Reasoning assumptions graphs models Proceedings IJCAI89 Detroit MI Morgan Kaufmann Los Altos CA 1989 443446 23 Note cil S instead Cj j 1 Cj removed S AZ Levy et al Artcial Intelligence 96 1997 351394 393 121 D Bobrow B Falkenhainer A Farquhar R Fikes K Forbus T Gruber Y Iwasaki B Kuipers A Qualitative Reasoning Proceedings 10th International Workshop compositional modeling AA41 Press Menlo Park CA 1996 1221 AAAI Tech Rept WS9601 language 3 D Bobrow B Falkenhainer A Farquhar R Fikes K Forbus T Gruber Y Iwasaki B Kuipers Systems Laboratory language Tech Rept KSL9416 Cml compositional modeling Department Computer Science Stanford University Stanford CA 1994 Knowledge 4 R Carnap Logical Foundations Probability 51 J Crawford A Farquhar B Kuipers A compiler equations qualitative differential Proceedings AAAI90 Boston MA Morgan Kaufmann Los Altos CA 1990 365372 physical models University Chicago Press Chicago IL 1950 61 MM Denn Process Modeling Pitman Marshfield MA 1986 171 B Falkenhainer KD Forbus Compositional modeling finding right model job Artificial Intelligence 51 1991 95143 181 KD Forbus Qualitative process 9 P Giirdenfors On logic relevance Synrhese 37 1978 351367 101 MR Genesereth RE Fikes Knowledge interchange theory Artcial Infelligence 24 1984 178219 format version 30 reference manual Tech Rept Logic921 Logic Group Stanford University Stanford CA 1992 111 Y Iwasaki CM Low Model generation simulation device behavior continuous discrete change intelligent Systems Engineering 1 2 1993 115145 121 Y Iwasaki HA Simon Causality 131 Y Iwasaki A Farquhar R Fikes J Rice A webbased compositional modeling device behavior Artificial Intelligence 29 1986 332 sharing Morgan Kaufmann San Francisco phhysical knowledge CA 1997 Proceedings IJCAI97 Nagoya Japan 141 Y Iwasaki CM Low Device modeling environment integrated modelformulation simulation environment Engineering continuous The Institution Electrical Engineers London UK 1992 141146 discrete phenomena Proceedings Conference Intelligent Systems 151 JM Keynes A Treatise Probability Macmillan London 1921 16 j AY Levy Irrelevance reasoning knowledge base systems PhD Thesis Stanford University Stanford CA 1993 171 AY Levy Creating abstractions relevance reasoning Proceedings AAAI94 Seattle WA AA41 PressMIT Press Menlo Park CA 1994 588594 181 AY Levy RE Fikes S Sagiv Speeding inferences relevance reasoning formalism algorithms Articial Intelligence 97 1997 83136 191 AY Levy A Rajaraman JJ Ordille Query answering algorithms information agents Proceedings AAAI96 Portland OR AAAI PressMIT Press Menlo Park CA 1996 4047 20 AY Levy Y Sagiv Constraints Proceedings 11th ACM SIGACT SIGMODSIGART Symposium Principles Database Systems San Diego CA ACM New York NY 1992 6780 redundancy datalog 2 11 AY Levy Y Sagiv Exploiting IJCAI93 Chambery France irrelevance reasoning guide problem solving Proceedings Morgan Kaufmann San Mateo CA 1993 138144 1221 D Macaulay The Way Things Work Houghton Mifflin Boston MA 1988 231 PP Nayak Automated model selection PhD Thesis Stanford University Stanford CA 1992 1241 PP Nayak Causal approximations Artial Intelligence 70 1994 277334 25 PP Nayak L Joskowicz Efficient compositional modeling generating causal explanations Artiul Intelligence 83 1996 193227 26 J Rickel B Porter Automated modeling answering prediction questions Exploiting interaction Proceedings 6th International Workshop Qualitative Reasoning Physical Systems paths Edinburgh Scotland 1992 8295 27 J Rickel B Porter Automated modeling time scale Proceedings AAAI94 Seattle WA AAAI PressMIT Press Menlo Park CA answering prediction questions Selecting boundary 1994 1191l 198 1281 J Rickel B Porter Automated modeling complex systems answering prediction questions Artial Intelligence 93 1997 201260 29 HA Simon N Rescher Cause counterfactual Philos Sci 33 1966 323340 394 AI Levy et alArtcial Intelligence 96 1997 351394 301 D Subramanian MR Genesereth The relevance irrelevance Proceedings IJCAI87 Milan Italy Morgan Kaufmann Los Altos CA 1987 416422 3 1 D Subramanian A theory justified reformulations PhD Thesis Stanford University Stanford CA 1989 32 DS Weld Approximation reformulation Proceedings AAAI90 Boston MA AAAI PressMIT Press Menlo Park CA 1990 407412 331 BC Williams Capturing things work constructing critical abstractions local interactions 1990 163174 341 BC Williams Interactionbased invention designing novel devices principles Proceedings Proceedings Workshop Automatic Generation Approximations Abstractions AAAI90 Boston MA AAAI PressMIT Press Menlo Park CA 1990 349356