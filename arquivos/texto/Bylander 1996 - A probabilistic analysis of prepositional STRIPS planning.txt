Artificial Intelligence 81 1996 241271 Artificial Intelligence A probabilistic analysis propositional STRIPS planning Tom Bylander Division Computer Science The University Texas San Antonio San Antonio 7X 78249 USA Received May 1994 revised April 1995 Abstract I present probabilistic analysis propositional STRIPS planning The analysis considers assumptions One possible precondition likewise postcondition operator selected independently pre postconditions The operator fixed number preconditions likewise postconditions Under assumptions I derive bounds instance efficiently solved finding highly likely planning plan proving plan exists Roughly planning instances assumption n propositions ground atoms g goals number operators 0 n In g bound simple efficient algorithm prove plan exists instances If number operators greater n Ing bound simple efficient algorithm plan instances The bounds differ factor exponential number pre postconditions A similar result holds plan modification solving planning instance close planning instance known plan Thus appears propositional STRIPS planning PSPACEcomplete problem exhibits easyhardeasy pattern number available operators increases narrow range hard problems An empirical study demonstrates pattern particular parameter values Because propositional STRIPS planning PSPACEcomplete extends previous phase transition analyses focused NPcomplete problems Also analysis shows surprisingly simple algorithms solve large subset planning problem keywords Planning STRIPS Averagecase analysis PSPACEcomple This paper revised extended version 31 Email bylanderringercsutsaedu 00043702961500 1996 Elsevier Science BV All rights reserved SSDIOOO437029500055O 242 BylanderArtificial Intelligence 81 1996 241271 1 Introduction Lately number worstcase complexity results planning showing general problem hard restrictions needed guarantee A criticism worstcase analyses polynomial time 1245101121 apply average case 717 Recent work AI shown criticism merit Several experimental theoretical results shown specific NPcomplete problems hard narrow ranges 69181926 suggests instances ranges usually efficiently solved 2425 This paper extends results providing probabilistic analysis propositional STRIPS planning 221 In contrast work propositional STRIPS planning PSPACEcomplete problem 4 harder complexity class 131 PSPACE problems solved algorithms space requirements bounded polynomial size input PSPACEcomplete problems hardest problems class Satisfiability quantified Boolean expressions belongs class Naturally PSPACEcomplete problems harder NPcomplete problems regions hard problems See 131 introduction NP PSPACEcompleteness One way think difference PSPACEcomplete NPcomplete problems NPcomplete problems restricted polynomial number nonde terministic choice points PSPACEcomplete problems effect expo nential number choice points This nondeterministic algorithms restricted polynomial space NPSPACE algorithms reduced PSPACE algorithms nondeterministic algorithms require exponential time In propositional STRIPS planning means shortest solution plan exponential length Thus choice PSPACEcomplete problem potentially smaller component solution compared NPcomplete problem Similarly modification instance PSPACEcomplete problem small effect This explain smooth transitions easy hard instances empirical study In common previous work NPcomplete problems I strong indepen dence assumptions distribution instances I assume probability given operator planning instance independent operators instance Two variations theme explored One possible precondition likewise postcondition selected independently pre postconditions operator The operator fixed number preconditions likewise postconditions Under assumptions I derive bounds highly likely specific algorithms efficiently solve planning instance finding plan proving plan exists Musick Russell 20 analyze problem similar planning They approx imate restricted kind search operator postcondition Markov chains turn leads polynomialtime solutions average certain Actually PZ PSPACE proven I shall standard assumptions P NP NP PSPACE I BylanderArtial intelligence 81 1996 241271 243 ditions In contrast analysis provides rigorous probabilistic bounds terms parameters number propositions number operators number pre postconditions operator number goals These parameters characterize range planning problems The algorithms analyzed paper variations simple hill climbing hill climbing backtracking Clearly type search far removed sophisticated partial planning algorithms subject current study TWEAK 5 SNLP 161 UCPOP 23 impoverished compared planning algorithm proposed There reasons consider algorithms simplicity permit formal analysis efficient noted cover large portion planning problem The results algorithms provide baseline analyzing empirically comparing sophisticated algorithms random planning instances Specifically given randomlygenerated planning instances n propositions ground atoms g goals operators r preconditions s postconditions average I derive following results If number operators 2n sslng lnln lS simple efficient algorithm prove plan exists 1 S instances If number operators eeSRIn2ns llngS simple efficient algorithm plan 1 6 instances If T s S held constant n g increase bounds 0 lng IZ n In g respectively They differ factor exponential number pre postconditions A similar result holds plan modification If initial state goals different condition planning instance known plan er 2ns In l6 operators likely 1 8 single operator converts old plan solution new instance Thus appears propositional STRIPS planning easy number operators threshold somewhat higher threshold Conjecturing range problems thresholds hard propositional STRIPS planning exhibits easyhardeasy pattern similar NPcomplete problems An empirical study demonstrates pattern particular parameter values However empirical study shows smooth transitions easy hard instances normally considered phase transition Despite theoretical analysis said demonstrate asymptotic phase transition Larger random planning instances hard number operators On lng Outside asymptote larger stances easy In case future work needed narrow gap bounds analyze realistic distributional assumptions sophisticated algorithms The rest paper organized follows First definitions key inequalities presented Then results analysis derived Finally empirical results displayed 244 7 BylanderArtijicial Intelligence 81 1996 241271 2 Preliminaries This section defines propositional STRIFS planning describes distributions instances analyzed presents key inequalities 21 Propositional STRIPS planning An instance propositional STRIPS planning specified tuple P L32 G l P finite set ground atomic formula called propositions proposition called positive condition negation called negative condition state satisfiable set conditions proposition negation member l 0 finite set operators preconditions postconditions operator satisfiable sets conditions l Z initial state l goals satisfiable set conditions If preconditions operator satisfied state operator applied state resulting state determined adding postconditions deleting conditions conflict postconditions cf 121 A solution plan sequence operators transforms initial state goal state state satisfies goals For example blocksworld instance represented propositions like represent block A clear A B represent block A clearA block B The set preconditions operator A B C represented clearA clearC onAB That blocks A C clear block A block B Its postconditions clearB 4earC lonAB onAC If preconditions true operator applied operator applied block B clear block C longer clear block A longer block B block A block C 22 Distributional assumptions Let n number propositions Let o number operators Let r s respectively expected number pre postconditions operator Let g number goals For given n o r s g I assume random planning instances variable model ace distributed generating operator follows l For proposition p E P p precondition operator probability r 2n alternatively p precondition probability r 2n These probabil T ByhderArticial Intelligence 81 19 241271 245 ities independent pre postconditions For postconditions s2n relevant probability l For proposition p E P p E Z initial state likely E Z For goals g propositions selected random set positive negative goal satisfied initial state This restriction ease exposition The difference variable model fixed model l Each operator exactly r preconditions s postconditions Any legal set r preconditions s postconditions equally likely It admitted assumptions approximate certain aspects planning domains For example b clear conditions blocksworld instance b blocks compared 0b2 conditions However blocksworld operator refers clear conditions given clear condition appears set ground operators given condition Also correlations conditions clearA likely appear A B onC D Similar violations standard toy domains Ultimately usefulness assumptions depend threshold bounds analysis classify easiness hardness real planning domains Even worth noting fixed model provides uniform distribution set instances defined parameters Because results planning instances usually easy narrow range number operators o follows vast majority planning instances easy 23 Algorithm characteristics Each algorithm paper incomplete sound algorithm returns cor rect answers returns yes answer dont know Specifically success returned algorithm finds solution plan failure returned algorithm determines plan exists dont know returned The performance given algorithm characterized accuracy parameter 8 0 6 1 Each result shows number operators o greater formula n r s g 6 accuracy algorithm corresponding distribution Section 22 distributional assumptions 1 6 24 Inequalities I freely use following inequalities For nonnegative x y e xC1X ln forOx 1 1 xeeX XY llxy 1 xy forOxl 1 2 3 246 T BylanderArtcial Intelligence 81 1996 241271 Inequalities 1 2 easily derivable 81 Inequality 3 derivable inequalities 1 2 The logarithmic forms inequalities A particular form Bonferronis inequality shall If Ei E2 E m events probability event greater equal 1 Sm PE A E2 A A E 2 1 8 4 Finally following recurrence relation useful analyzing fixed model Its justification described proof Lemma 4 Let f s n k probability s conditions randomly generated n propositions consistent particular set k conditions Then nonnegative integers n s n k 6 n f s n k nk Yfslnlkfslnlk1 The base cases f0 n k 1 fs n 0 1 f S n n 2 f II n k 2k In appendix following inequalities demonstrated e skln 6 fsnk 3 Efficiently proving plan nonexistence If operators unlikely postconditions operators cover goals likely goal postcondition operator Recall random planning instances defined goal true initial state So goal postcondition operator instance solution plan This leads following simple algorithm POSTSCOVERGOALS goal goal postconditions operator return failure return dont know While POSTSCOVERGOALS considered trivial algorithm following theorems POSTSCOVERGOALS works substantial range planning problem Theorem 1 For random planning instances variable model O qlng lnlnlS POSTSCOVERGOALS determine plan exists 1 S instances Proof The probability exists goal postcondition operator developed follows Consider particular goal operator I BylanderArtQicial intelligence 81 1996 241271 247 s2n 1 s2n probabiiity goal postcondition operator 2 probability goal postcondition operator 1 s2nO probability goal postcondition 1 1 s2n 1 1 s2ng operator probability goal postcondition operator probability goal postcondition operator The inequality theorem implies probability equal 8 Suppose inequality theorem true oQ vlnglnlnlS This equivalent OS ln 2n s g In lS In OS z ln l6 g ln 1 s2n 2 s2n s inequality l implies oln1 s2n 2 ln In lS g This equivalent 1 s2n 3 In lS g l s2n Y In 1 1 s2nO Q 1 s2nO inequality 2 implies 14 1 1 s2n y This equivalent g ln 1 1 s2n 6 In 6 For arithmetic expressions paper multiplication highest precedence followed division logarithm subtraction addition Eg I s2n equivalent 1 s2n 248 7 BylanderArticial Intelligence 81 1996 241271 finally lls2nW6 desired inequality Thus inequality theorem satisfied probability goal postcondition operator 1 S 0 Theorem 2 For random planning instances fixed model o vlnglnlnl POSTSCOVERGOALS determine plan exists 1 6 instances Proof The derivation previous proof holds fixed model point 1 1 s2nO probability particular goal postcondition operator However goal postcondition operator reduces probability goals postconditions operator number available postconditions reduced s s 1 Although 1 1 s2nOs probability goal postcondition operator expression remain upper bound Thus inequality holds fixed model 0 For fixed 6 increasing n g bound approaches 2n s In g s If s fixed bound 0 n In g In general planning instances number operators linear n linear n times logarithmic g times small constant plans Fortunately usually easy cases prove plan exist Naturally complex properties efficient evaluate imply plan nonexistence algorithm look preconditions consider postconditions conflict goals Nevertheless analysis POSTSCOVERGOALS provides strong bound easy prove plan nonexistence 4 Efficiently finding plans With sufficient number operators likely operator progress goal In section I consider algorithms One simple forward search initial state goal state state searching operator decreases number goals achieved The second backward search goals initial state The backward search goals tries finds plan reach goals initial state The fourth simple algorithm initial state goals differ condition To illustrate algorithms following instance I BylanderAmjkial Intelligence 81 1996 241271 249 P O ala2a3a4 al Au2 la3 Aa4 a2 Aa4 s 13 la1 Au2 a3 A a4 a2 A Ta4 lal Ta2 P a3 A a4 a2 al a2la3 4 a3a4 Z G The notation pre post operators preconditions represented conjunction conditions arrow postconditions arrow This instance possible variable model II 4 o 6 g 2 r s set positive number 1 3 inclusive especially unlikely instance r 3 s 3 41 Forward search Consider following algorithm PLANFORWARD S 6 satisfied S return success operator applied S satisfies goals let S result applying operator S return PLANFORWARDS return dont know end end If PLANFORWARDZ called searches operator increases number satisfied goals If operator current state S updated PLANFORWARD succeeds reaches goal state noncommittal For example instance plan operators generated The operator achieves goal LQ initial state leaving propositions unchanged The second operator achieves remaining goal a3 PLANFORWARD performs simple hill climbing I claim practical algorithm planning general analysis greatly simplified avoiding backtracking partial plans The probability algorithm succeed bound considering probability additional goal satisfied operator Certainly systematic search algorithm efficiently includes PLANFORWARD exceed probability success 3 One algorithm A search initial state heuristic equal number unsatisfied goals times constant greater 1 The constraint constant ensures number goals achieved considered valuable number operators applied However heuristic lead optimal plans 250 I BylanderArticial Intelligence 81 1996 241271 Despite handicaps PLANFORWARD surprisingly robust certain condi tions First I demonstrate lemmas number operators need considered increase number satisfied goals One lemma variable model fixed model Lemma 3 Consider random planning instances variable model d g goals satisfied If 0 5w 2 1 1 1 f 1 6 instances applying operator increase number satisjied goals Proof The expression probability operator increase number satisfied goals developed follows 1 r2n 1 s2nsVd 1 s2nd 1 1 s2nd probability state satisfies preconditions ope rator n propositions precondition probability 1 rn alternatively proposition match ing precondition probability r2n probability postconditions operator consis tent g d goals achieved probability postconditions achieve d remaining goals goal postcondi tion probability 1 s2n probability postconditions achieve d remaining goals Thus probability p particular operator applied clobber satisfied goals achieve goal P l 1 1 1 1 p probability operator missing properties 1 p probability o operators unsatisfactory If 1 p 6 6 satisfactory operator probability 1 6 This inequality satisfied o 2 1 p In 1 case 1 pepoelsS All remains determine upper bound lp lower bound p For term p I r 2 eml2nr e 1 _ s2ne 2 ekdlns esWln T ByhnderArtQicial Intelligence 81 1996 241271 251 I 1 s2 2 sd 2n sd Inverting terms leads bound lemma Cl Lemma 4 Consider random planning instances fixed model d g goals satisjied If operators considered 1 6 instances PLANFORWARD operator increases number satisfied goals Proof Just previous lemma approach probability p particular operator applied clobber satisfied goals achieve goal satisfies p ereGwWn sd 2n The probability particular operator applied 2 e The probability postconditions operator consistent g d goals achieved described recurrence equation Let f s n k probability s conditions randomly generated n propositions consistent particular set k conditions If condition randomly generated n propositions n kn probability identical negation k conditions leaves s 1 conditions generated n 1 propositions consistent k conditions Alternatively k2n probability identical k conditions leaves s 1 conditions generated n 1 propositions consistent k 1 conditions The remaining k2n probability conflicts k conditions This leads following recurrence equation f s n k nk yfs ln 1k fs ln lk I introduced Eq 5 In base cases fOnk 1 fsnO 1 probability 1 conditions select conditions consistent f s n n 2 condition select particular sign f n n k 2k condition consistent selected For recurrence equation base cases inequality 6 holds case f s n g d 2 essdln The probability achieving d remaining goals minus probability d goals achieved 1 f s n d Inequality 6 implies fsnd follows 1 fsnd 6 2n2nsd 2 sd2nsd The probability postconditions operator consistent g d goals achieved independent probability achieving 252 T BylanderArtijkial Intelligence 81 19 241271 d remaining goals Fortunately events additive dependency relationship event increases probability event For example postconditions operator consistent goals achieved increases probability achieving remaining goals fewer conditions choose goals chosen This completes proof 0 The maximum value expression lemmas PLAN FORWARD leads following theorem Theorem 5 For random planning instances variable jT_xed model oee r dn l 2n In PLANFORWARD plan 1 6 instances Proof For g goals number satisfied goals increased g times If increase occurs probability 1 6g g increases possible occur probability 1 S follows Bonferronis inequality Thus Lemmas 3 4 applied Sg instead S Maximizing g goals leads The bound exponential expected numbers pre postconditions Natu rally operators preconditions exponentially likely applied Similarly operators postconditions exponen tially likely postconditions consistent goals achieved Note g ns e sgn e expected number postconditions s important factor number goals small For fixed 6 r s increasing n g bound Q n In g Taking account result POSTSCOVERGOALS clear sides random planning problem easy Below 0 n lng bound number operators bound usually easy prove plan exist nnlng number operators usually easy plan Remaining gap constant bounds exponential number pre postconditions It safe conjecture range instances gap hard I conclude random planning instances exhibit easyhardeasy pattern NPhard problems hard problems occupying narrow range number operators The empirical study following section displays results algorithm 7I BylanderArtcial Intelligence 81 19 241271 253 42 Backward search One perform backward search goals initial state Consider following algorithm PLANBACKWAFW G G consistent 1 return success operator R S pre postconditions G consistent S R consistent G S R 21 IG21 GS return PLANBACKWARD G S R return dont know Initially PLANBACKWARDG invoked PLANBACKWARD chooses op erator achieve goal state state fewer conflicts initial state Z The postconditions S operator consistent current set goals G preconditions R consistent goals achieved postconditions new set goals G S R fewer conditions initial state In example instance operator la1 A a2 ag A a4 achieves goals ad leaving al a2 new goals a2 consistent initial state reduces number unsatisfied goals Now fourth operator a2 A a4 Tal achieves unsatisfied goal la new set goals a2 lab consistent initial state The disadvantage PLANBACKWARD number current goals G increase steadily number propositions n new set goals G S R r 1 larger previous set goals fixed model First I present analysis general case I consider special cases performance PLANBACKWARD comparable PLAN FORWARD Lemma 6 Consider random planning instances variable jixed model d goals satisjied If 0 2 e l 2n In 6 1 S instances operator achieve goal state state faoer conflicts initial state Proof The expression probability variable model developed follows 254 T BylanderArtjkiai I intelligence 81 1996 241271 1 r2n 1 1 s2 1 s2n lower bound probability preconditions operator consistent goals minus postcon ditions preconditions goals minus postconditions consistent initial state probability postconditions achieve d remaining goals lower bound probability postconditions operator consistent goals n goals negated probability 1 s2n The probabilities independent interaction additive operator consistent remaining goals likely achieve remaining goals Thus probability p operator reduce number goals true initial state bounded p 2 1 r2nn 1 s2n 1 1 249 probability operator unsatisfactory 1 p 1 p o operators unsatisfactory If o lp In l6 satisfactory operator probability 1 6 probability For term p I r2n 3 eml2nr 2 e 1 s2n esnl2ns 2 eeS lls2nd sd 2nsd Inverting terms leads bound variable model Under fixed model let f recurrence equation 5 Then probability suitably consistent pre postconditions fr nn 2 e f S n n 2 eeS respectively The probability postconditions achieve d remaining goals 1 f S n d sd 2nsd The probability postconditions consistent goals independent probability postconditions achieve d remaining goals interaction additive Thus probability p operator reduces number goals true initial state fixed model bounded p ee sd 2nsd leads inequality theorem Cl As PLANFORWARD determine bound PLANBACKWARD maximum value expression lemma needs determined This prove following theorem Theorem 7 For random planning instances variable jixed model T BylanderArtijicial Intelligence 81 1996 241271 255 PLANBACKWARD willnd plan 1 6 instances Proof For g goals number unsatisfied goals decreased g times If decrease occurs probability 1 6g g decreases possible occur probability 1 6 Thus expression previous lemma substituting Sg instead 6 Maximizing g decreases leads The difference bound PLANBACKWARD bound PLAN FORWARD PLANBACKWARD bound es term instead es This PLANBACKWARD bound larger factor es number makes goals g small relative number propositions n expected number postconditions s large increase substantial This suggests PLANFORWARD outperform PLANBACKWARD g small relative n This performance difference pronounced larger s However r s S remain constant g n increase order PLANBACKWARD bound n In g identical order PLANFORWARD bound Also following analysis suggests difference smaller suggested Theorem 7 43 Backward search fav goals The analysis PLANBACKWARD assumes worst case size current set goals G ICI close n However number goals small specifically g nr ICI reach n fixed model unlikely reach n variable model The analysis fixed model tractable given Lemma 8 Consider random planning instances fixed model d goals satisjied gr dr d n goals If o ergrdrdln 1 S instances operator achieve goal state state fewer conjlicts initial state Proof The difference proof Lemma 6 postconditions consistent gr dr d goals n goals The probability bounded f sngr dr d 3 essrdrdl f 256 T BylanderArtifcial Intelligence 81 1996 241271 recurrence equation 5 inequality follows inequality 6 Substituting esgrdrdn proof Lemma 6 leads bound lemma Cl es Theorem 9 For random planning instances jixed model gr 6 n r 1 Q erewln I 2n sl lni PLANBACKWARD willnd plan 1 6 instances Proof For g goals number unsatisfied goals decreased g times If decrease occurs probability 1 Sg g decreases possible occur probability 1 8 Also satisfying goal results increasing total number goals r 1 Thus d goals left achieve g g d r 1 gr dr d goals Thus expression previous lemma substituting Sg instead S Maximizing g decreases leads 2 sdllni eelln Cl In case r 1 bound PLANBACKWARD PLAN FORWARD For fixed r s increasing g n sgr remains small relative n little difference bounds PLANFORWARD bound smaller r 1 noted bounds fln lng 44 Backward search independent initial state Consider following variation PLANBACKWARD PLANBACKWAKDz G ifG return success operator R S pre postconditions G consistent S IG S Rl IGI remn PLANBACKWARDz G S R return dont know Like previous algorithm PLANBACKWARD2 looks operators reduce number goals unlike PLANBACKWARD PLANBACKWARD2 depend initial state repeatedly looks operator reduces number goals goals left If PLANBACKWARD succeeds discovered sequence operators achieves goal state initial state I BylanderArtificial Intelligence 81 1996 241271 251 note operator sequence operator selected PLANBACKWARD preconditions G S RI nonzero Having operator probably unrealistic impossible fixed model r 2 1 Nevertheless analysis suggests reducing set goals smaller set goals possible course followed forward search general backward search In example instance fifth operator 72 A a4 achieves goals leaving single new goal 722 The sixth operator 112 achieves new goal preconditions I introduce lemma number operators needed operator reduces number goals Lemma 10 For random planning instances variable model r n2 s n2 0 e2redn zl sg ln 1 6 instances operator reduces number goals Proof The preconditions refer condition goal It matter negation nongoal This probability 1 rnng postconditions conditions The preconditions postconditions consistent g goals This probability However case goal equal postcondition equal precondition avoided The probability occurs given goal sum following 1 rn 1 sn r2n 1 sn r2n s2n probability goal negation pre postconditions probability goal preconditions negation postconditions probability goal pre postcon ditions Using sum probabilities probability case happening g goals _I n g Thus probability p random operator satisfy stated requirements plrng l2 258 T BylanderArtijicial Intelligence 81 1996 241271 Now recall previous proofs number operators considered exceeds 1 p In 1 probability operator satisfactory 1 6 What remains demonstrate upper bound 1 p lower bound p For term p 1 _ rnw 2 rhNr Because I 6 n2 ernglnr ew8fn Regarding second term p 6 LT sg 6_ r 1g4n2 s 3rs g I_ 2n 4n2 I 2rn2snrs 4n2 g 1 _ H 2rng 2sng rsg exp g 4n2 2m 4sn 3rs 4n2 2rn 2sn rs 1 _ 2sn 2rs t 4n2 2rn 2sn rs 2sng 2rsg 4n2 2rn 2sn rs 1 4n2 2rn 4sn rs 2sng 2rsg exp 2nsrg2nrsgrsg 2n r2n s 2sg n r nr2n2sgsn2ns The term expression simplified r n2 s n2 exp 2nsrg2nrsgrsg 2n r 2n s 1 rg 2n r exp 1 2 s 2n rg2n S 1 2sg 3n 4rsg 9n2 1 bexp _y exp TK 2sg 2sg 1 At point following lower bound p derived P e2rnslnerglnesgn 2sgn r nr2n2sgsn2ns This simplified e2rngnergn 3 e2r Finally upper bound lp In lS derived T BylanderArtijicial Intelligence 81 1996 241271 259 L ln 1 e2rewln P 6 2n2sgs 2sg 2rl1 n2n1 2sg n I 1 e2resgln 3n v cid144i proves lemma ln 1 S Similar previous theorems maximum expression needs determined This prove theorem Theorem 11 For random planning instances variable model r n2 s n2 PLANBACKWARD2 willjind plan achieves goals initial state 1 S instances Proof For g goals number remaining goals decreased g times If decrease occurs probability 1 Sg g decreases necessary occur probability 1 6 Thus Lemma 10 applied Sg instead 6 Maximizing g decreases leads edlnnsd minimum positive d d ns So As result e2r In esgin 3 tx esdin e2r ln 5 esgln j 7 1 proves theorem 0 Comparing bounds PLANFORWARD PLANBACKWARDS bound PLANBACKWARD2 worse larger constant e2r e term PLANFORWARD bound Because PLAN term opposed BACKWARD2 use initial state increase expected How PLANBACKWARD2 bound better component additive Oe ns corresponding subexpression PLANFORWARD bound 260 T BylanderArtijicial Intelligence 81 1996 241271 Oens The reason maximization PLANBACKWARD2 bound esdln maximum d maximum maximum value nsd d minimum In maximization PLANFORWARD bound esgWd attains maximum time nsd d minimum However fixed r s 8 increasing n g bounds fi n In g 45 Plan modication So far I considered problem generating plan scratch In cases current planning instance close previously solved instance 14151 Consider simplified version plan modification specifically initial state set goals current planning instance differs condition previously solved instance In case new instance solved showing new initial state reach old initial state old goal state reach new goal state Within framework random planning instances I shall analyze problem reaching state states differ condition n goals goal true initial state The worstcase complexity problem like problem planning scratch PSPACEcomplete 211 However following theorem shows efficient plan modification appear require operators efficient planning scratch Theorem 12 For random planning instances variable jixed model n goals n 1 goals true initial state 2n 0 eresln s 1 s 1 6 instances operator solves instance step Proof First I develop probability p random operator solves random instance variable model The probability preconditions consistent initial state 1 r2n The probability postconditions consistent n 1 goals achieved 1 s2n In addition probability goal achieved postcondition s2n Tus p 1 r2n 1 s2n Lower bounds p em2nresn2ns PA _s_ 2 eess 2n 2n 4 This scale case attaining g goals single operator The probability exponentially small number postconditions random operator contain g goals s2ng goals T BylanderArtificial Intelligence 81 19 241271 261 The probability o operators solves instance 1 p If o satisfies inequality stated theorem proves bound variable model For fixed model probability preconditions true initial state 2 e The probability goal achieved postcondition s2n selected probability sn right sign probability l2 The probability remaining s 1 postconditions consistent n 1 goals achieved f s 1 n 1 n 1 2 e f defined recurrence equation 5 Thus probability p random operator solves random instance fixed model lower bound eeAss2n inequality theorem follows 0 Thus fixed r s 6 nn operators suffice solve planning instances differ condition previously solved instances So distributions planning instances considered number operators needed efficient plan modification appears factor Olng lower needed efficient planning scratch As corollary consider state sequence length g 1 initial state goal state successive state sequence differs condition If gS substituted S theorem inequality satisfied particular transition sequence accomplished probability 1 Sg Consequently transitions performed probability 1 6 Thus n n g planning accomplished transitions initial state goal state chosen advance 5 Empirical study The formal analysis provides rigorous probabilistic bounds random planning instances efficiently solved proving plan exists finding solution plan However derivation bounds theorems depends crude inequalities In section I display empirical results algorithms POSTSCOVERGOALS PLANFORWARD applied randomlygenerated planning instances Note parameters choose number operators o number propositions n number pre postconditions r s number goals g choice variable model average operators I s pre postconditions fixed model operator exactly r s pre postconditions As result feasible empirically cover possibilities Any choice values arbitrary extent I chose following values study n 100 n 1000 r 2 s 2 fixed model g ranging low values n o varying algorithms performance changes The values n allow g vary 262 7 BylanderIArtificial Intelligence 81 1996 241271 1 A 10 x 50 q 90 99 o 00 0 q oooo 0 a0 10 20 Goals L 100 50 x 200 0 o 2 q 0 f o 0 Oa 5 Fig I Empirical effectiveness POSTSCOVERGOALS 100 propositions The xaxis logarithmically scaled values transitions change lower value higher value The values r s minimum values propositional STRIPS planning PSPACEcomplete 41 The fixed model ensures efficiency generating operator 5 Different values g test lng asymptote For trial assumed unbounded stream randomlygenerated operators For POSTSCOVERGOALS algorithm termined stream operators covers goals At number oper fails solve problem In ators number POSTSCOVERGOALS implementation PLANFORWARD additional goal achieved al gorithm reverts beginning stream attempting achieve remaining goals determined previously generated operators For implementation solve problem At stream PLANFORWARD number operators number b PLANFORWARD solves prob lem 1000 trials performed value n g considered This shown good indication algorithms solve 1 99 instances Ie 99 values greater 100 POSTSCOVERGOALS empirically solves 99 instances o 100 If 1 b values equal 1000 PLANFORWARD empirically solves 1 instances o 2 1000 5 It takes constant time generate random numbers For variable model generating operator time linear n condition independently considered I BylanderArtQicial Intelligence 81 1996 241271 263 r 6000 99 O 90 50 10 x 1 q o 0S ooQ 0 0 0 0 ooOQ 0 Ooo Ooo 0 oQoOQ oooQ IL 0 20 40 60 80 100 Goals Fig 2 Empirical effectiveness PLANFORWARD 100 propositions Fig 1 displays empirical results POSTSCOVERGOALS IZ 100 The xaxis number goals numbers 2 100 logarithmic scale yaxis number operators Each point graph indicates number operators POSTSCOVERGOALS solves certain percentage instances given number goals The kinds points correspond isolevels The diamond points indicate 99 effectiveness plus points 90 effectiveness square points 50 x points 10 triangle points 1 The POSTSCOVJZRGOALS algorithm higher effectiveness lower number operators For given level effectiveness logarithmic scaling makes clear number operators varies logarithmically g consistent theoretically derived bound Also theoretical bound remarkably close empirical results g 100 6 001 theoretical bound gives 305 operators empirical result 311 This closeness true n 1000 Fig 2 displays results PLANFORWARD IZ 100 The xaxis displayed linear scale graph In case PLANFORWARD higher effectiveness higher number operators In apparent contradiction analysis PLAN FORWARD effect number goals appears linear For example 99 effectiveness level appears vary linearly 2000 g 2 6000 g 100 The apparent contradiction resolved looking closer theoretical bound Theorem 5 eesgin2ns 1 lng6 data rs2andn 100 As number goals g increases 2 100 lng6 6 001 doubles note e gin increases factor 7 increase occurring g 50 This sufficient account threefold increase observed 99 effectiveness level Because egl doubles g n2 In g increment 1 matter n 264 I BylanderAritjkial Intelligence 81 3996 241271 1001 Ooo 20 0 40 60 80 1 100 Goals Fig 3 Combined empirical effectiveness POSTSCOVERGOALS PLANFORWARD 100 proposi tions The axis logarithmically scaled similar effect present higher values n In case theoretical bound 50000 g 100 6 001 exceeds empirical values pessimistic margin This true n 1000 Fig 3 shows combined performance algorithms n 100 For graph yaxis given logarithmic scaling cut 100 increase readability There 99 effectiveness graph minima middle The minimum effectiveness algorithms steadily decreases goals added indicating problem progressively harder additional goals The middle right graph contains region combined effectiveness algorithms 1 There point empirical data combined effectiveness 0 The points 100 empirical effectiveness occurs similarly spaced graph 99 points Le distance graph 100 points 99 points similar distance 99 points 90 points The 100 points high variability displayed The results n 1000 propositions displayed Figs 4 5 6 This exper iment took CPUweek Spare 5 running Lucid Common Lisp The significant differences follows l There twentyfold increase number operators high levels effectiveness For 99 effectiveness level POSTSCOVERGOALS comparing Fig 4 versus Fig l n 1000 data starts 1500 operators g 20 goes 5000 operators g 1000 n 100 data 150 operators g 20 300 operators g 100 For comparing Fig 5 versus Fig 21 99 effectiveness level PLANFORWARD I BylanderArtificial Intelligence 81 1996 241271 265 A A hA 8000 A 3 9 E 6000 8 x 4000 0 2000 0 x 0 0 x 0 o xXxXx xxx x x x xx 0 0 20 50 100 200 500 1000 Goals Fig 4 Empirical effectiveness POSTSCOVEGOALS scaled 1000 propositions The xaxis logarithmically 0 0 I 200 I 400 600 800 1000 Goals Fig 5 Empirical effectiveness PLANFORWARD 1000 propositions n 1000 data starts 30000 operators goes 80000 The n 100 data starts 2000 operators going 6000 operators This closely corresponds number propositions 50 increase tenfold Ing g 100 g 1000 combination increase 266 7 BylanderArtificial Intelligence 81 1996 241271 2000 0 1000 0 1 200 I 600 I 800 I 1000 400 Goals Fig 6 Combined empirical effectiveness POSTSCOVERGOALS PLANFORWARD 1000 proposi tions The vaxis logarithmically scaled l The effectiveness levels PLANFORWARD appears exponential explained e pn term theoretical number goals mildly goals This primarily linear large numbers analysis described l Fig 6 displays larger region hard instances II 1000 compared left pt 100 The 1 effectiveness harder g increases Roughly graph Again contour 0 empirical effectiveness spaced 1 points graph The 0 points expected highly variable displayed instances progressively region extends takes hold similarly For algorithms values number propositions appears smooth pattern This shown increase easyhardeasy tion 1 99 effectiveness operators parameter values n 1000 g 500 The xaxis number operators tiveness probability instances ators The effectiveness instances 0 M 13000 o M 19000 Finally 0 x 16000 PLANFORWARD 99 solved POSTSCOVERGOALS POSTSCOVERGOALS o M 52000 logarithmically yaxis definitive answer algorithms scaled figure corresponds empirical Initially effec 99 o M 4700 oper drops 1 o 10500 None solves 1 instances solved PLAN instances solved POSTSCOVERGOALS PLANFORWARD FORWARD A valuable addition Fig 7 display probability plan dependent number operators showing location transition solution II transi number Fig 7 b BylanderArtifcial Intelligence 81 1996 2412 71 267 08 8 2 06 9 3 8 w 04 02 00 2000 5000 10000 20000 50000 100000 Operators Fig 7 Empirical effectiveness POSTSCOVERGOALS PLANFORWARD 1000 propositions 500 goals The xaxis logarithmically scaled planning instances solution plans solution plans Unfortunately empirical data running algorithms clearly insufficient determine transition sharp determine location 50 transition point Also unknown lengths shortest solution plan instances solution plans Determining information appears infeasible n 100 slow use systematic search possibly long plan search space size 2O 6 Remarks I shown determining plan existence propositional STRIPS planning usually easy number operators satisfy certain bounds possible pre condition postcondition equally likely appear operator independently operators Assuming expected numbers pre postconditions fixed usually easy plan exists instances propositions g goals number operators O n In g bound usually easy plans instances n propositions g goals number operators Q n In g bound In addition plan modification instances usually easy solve 0 n operators The constants results exponential expected numbers pre postconditions The 0 n In g result demonstrated simple planning algorithms Searching initial state goals appears slight advantage searching backward goals However appears possible cases search backward 268 T BylanderArtifcial Intelligence 81 1996 241271 goals plan largely independent initial state Of course mentioned crude inequalities analysis derive simplified expressions The empirical behavior POSTSCOVERGOALS PLAN FORWARD algorithm corresponded theoretical terms theoretical bounds PLANFORWARD conservative This work complements extends previous averagecase analyses NPcomplete problems It complements previous work suggests random planning instances hard narrow range particular parameter case number operators It extends previous work worstcase complexity propositional STRIPS planning PSPACEcomplete suggesting PSPACE complete problems exhibit threshold phenomena similar NPcomplete problems The empirical study resulted easyhardeasy pattern characteristic random instances hard problems smooth transitions This work provides theoretical empirical support reactive behavior A main tenet reactive behavior sound complete planning inefficient unnecessary states mapped appropriate operators lookahead The analysis PLANFORWARD algorithm onestep lookahead shows tenet true large subset planning problem Further work needed narrow gap bounds derived paper analyze realistic distributions In particular assumption operators independently selected clearly wrong Nevertheless interesting empirically test bounds paper classify hardness realistic planning problems Also sophisticated algorithms analyzed empirically tested It challenge develop planning algorithms sufficiently efficient effective compare empirical results paper Acknowledgements Comments anonymous reviewers Tad Hogg led empirical study performed turn led improved theoretical results Jerry Keating pointed use Bonferronis inequality Appendix A Proofs inequalities The proof Lemma 4 depends upper lower bounds recurrence relation fs n k nk fsllkfslnlkl positive integer n nonnegative integers s k s n k n base cases f0 n k 1 fsnO 2k See proof Lemma 4 justification equation 2 fnnk 1 fsnn T BylanderArtcial Intelligence 81 19 241271 269 Lemma Al f s n k 2 evskJn Proof In base cases f0 n k 1 e fs n 0 1 e f s n n 2 2 e fn n k 2k evk Using mathematical induction assume s n k base case inequality holds tuples s n k Then fsnk nk fWnlkfslnll epr_ktepl For exponential exphllkeSkJnexpslk s lk nl 1 esknexp nksknsn Using eX 1 X e e _skln 2n3 2n2 kn2 kns knk ksk 2n2n 1 k 1 knsnk 2n2n 1 The final inequality follows n 3 s n 3 k 0 Lemma A2 fsnk 2n 2nsk Proof In base cases nk sk ns n 270 T BylanderArtcial intelligence 81 19 241271 fOnk 1 A 2nOk 2n 2nOs 1 fsnO fsnn 2SeS2 ees2 2 2s 2n fnn k 2k L 2n nk Using mathematical induction assume sn k base case inequality holds tuples sn k Then f s It k nk Tfslnlkfslnlkl nk n 2n 1 2n 1 s 1k 2n 1 2nlslk1 A lot tedious algebra leads f s n k 2n 2n sk l2knsns1k3ss11n2k2sn23snns2 2nn 12n 1 s lk2n 1 s lk 1 Considering numerator large fraction 2kns n s 1 0 s n 6 0 terms nonnegative Also k3s s 1 1 n 0 1 n 0 terms nonnegative This leaves 2k2 sn 3sn n s consider If n 2 3 sn 3sn sn3 n 0 remaining n s negativeIfn2s2andsOarebasecasesandifs1sn23snns20 n 1 n 0 base cases s 0 k 0 s n k n true Thus numerator nonpositive implies fsnk 2n2nsk cid144i References I 1 C Backstrom 1 Klein Parallel nonbinary planning polynomial time Proceedings IJCAI91 Sydney Australia 1991 268273 12 I T Bylander Complexity results planning Proceedings IJCAI91 Sydney Australia 1991 274279 13 I T Bylander An average case analysis planning Proceedings AAAI93 Washington DC 1993 480485 141 T Bylander The computational complexity propositional STRIPS planning Artij Intell 69 1994 161204 51 D Chapman Planning conjunctive goals Arti Intell 32 3 1987 333377 J Alien J Hendler A Tate eds Readings Planning Morgan Kaufmann San Mateo CA 1990 7 ByhnderArticial Intelligence 81 1996 241271 271 16 1 I Cheeseman B Kanefsky WM Taylor Where hard problems Proceedings IJCAI91 Sydney Australia 199 1 33 l337 17 1 PR Cohen A survey Eighth National Conference Artificial Intelligence pulling pulling apart AI Msg 12 1 1991 1741 8 1 TH Cormen CE Leiserson RL Rivest Introduction Algorithms MIT Press Cambridge MA 1990 9 JM Crawford LD Auton Experimental results crossover point satisfiability problems Proceedings AAAI93 Washington DC 1993 4651 1 IO K Erol DS Nau VS Subrahmanian On complexity domainindependent planning Proceedings AAAI92 San Jose CA 1992 381386 I1 I K Brol DS Nau VS Subrahmanian When planning decidable Proceedings First International Conference AI Planning Systems 1992 222227 1 12 1 RE Rkes NJ Nilsson STRIPS new approach application theorem proving problem 1971 189208 J Allen J Hendler A Tate eds Readings solving Artit Intell 2 34 Plunning Morgan Kaufmann San Mateo CA 1990 13 I MR Gamy DS Johnson Computers Intractability Freeman New York 1979 141 KJ Hammond Explaining repairing plans fail Arh Intell 45 l2 15 1 S Kambhampati JA Hendler A validationstructurebased theory plan modification reuse 1990 173228 ArtiJ Inrell 55 23 1992 193258 16 I D McAllester D Rosenblitt Systematic nonlinear planning Proceedings AAAI91 Anaheim CA 1991 634639 1 I7 I M Minsky Logical versus analogical symbolic versus connectionist neat versus scruffy AI Msg 12 2 1991 3451 18 1 S Minton MD Johnston AB Philips P Laird Minimizing conflicts heuristic repair method constraint satisfaction scheduling problems Art Intell 58 1992 161205 1 I9 I D Mitchell B Selman HJ Levesque Hard easy distributions SAT problems Proceedings AAAI92 San Jose CA 1992 459465 1201 R Musick S Russell How long Proceedings AAAI92 San Jose CA 1992 46647 1 12 I j B Nebel J Koehler Plan modification versus plan generation complexitytheoretic perspective Proceedings NCAI93 Chambery France 1993 14361441 I22 I NJ Nilsson Principles Artcial Intelligence Tioga Palo Alto CA 1980 I23 I JS Penberthy DS Weld UCPOP sound complete partial order planning ADL Proceedings Third International Conference Principles Knowledge Representation Reasoning Cambridge MA 1992 103l 14 I24 I B Selman HA Kautz An empirical study greedy local search satisfiability testing Proceedings AAAI93 Washington DC 1993 4651 I25 I B Selman H Levesque D Mitchell A new method solving hard satisfiability problems Proceedings AAAI92 San Jose CA 1992 440446 I26 I CP Williams T Hogg Using deep structure locate hard problems Proceedings AAAI92 San Jose CA 1992 412477