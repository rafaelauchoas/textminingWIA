Artiﬁcial Intelligence 244 2017 4869 Contents lists available ScienceDirect Artiﬁcial Intelligence wwwelseviercomlocateartint Skypattern mining From pattern condensed representations dynamic constraint satisfaction problems Willy Ugarte Patrice Boizumault Bruno Crémilleux Samir Loudni Marc Plantevit c Chedy Raïssi d Arnaud Soulet e GREYC CNRS UMR 6072 University Caen F14032 Caen France b CERMN UPRES EA 4258 FR CNRS 3038 INC3M University Caen F14032 Caen France c Université Lyon CNRS Université Lyon 1 LIRIS UMR5205 F69622 France d INRIA Nancy GrandEst France e LI EA 2101 Université François Rabelais Tours F41029 Blois France Alban Lepailleur b r t c l e n f o b s t r c t Article history Received revised form 7 April 2015 Accepted 14 April 2015 Available online 28 April 2015 Keywords Skypatterns Pattern mining Constraint programming Dynamic CSP User preferences Data mining study extract information data express useful knowledge One important subﬁelds pattern mining involves searching enumerating interesting patterns data Various aspects pattern mining studied theory computation statistics In decade pattern mining community witnessed sharp shift eﬃciencybased approaches methods extract meaningful patterns Recently new methods adapting results studies economic eﬃciency multicriteria decision analyses Pareto eﬃciency skylines studied Within pattern mining novel line research allows easy expression preferences according dominance relation This approach useful userpreference point view tends promote use pattern mining algorithms nonexperts We present signiﬁcant extension previous work 12 discovery skyline patterns skypatterns based theoretical relationships condensed representations patterns We relationships facilitate computation skypatterns exploit propose ﬂexible eﬃcient approach skypatterns dynamic constraint satisfaction problems CSP framework We present uniﬁed methodology different approaches goal This work supported extensive experimental study allowing illustrate strengths weaknesses approach 2015 Elsevier BV All rights reserved 1 Introduction The process extracting useful patterns data called pattern mining important subﬁeld data mining wide range applications domains bioinformatics 3 chemoinformatics 4 social network analysis 5 web mining 6 network intrusion detection 7 Since key papers Agrawal et al 8 Mannila et al 9 considerable number patterns itemsets strings sequences trees graphs studied Corresponding author Email address brunocremilleuxunicaenfr B Crémilleux httpdxdoiorg101016jartint201504003 00043702 2015 Elsevier BV All rights reserved W Ugarte et al Artiﬁcial Intelligence 244 2017 4869 49 realworld applications Nowadays pattern extraction problems like subgroup discovery 10 discriminative pattern mining 11 tiling 12 understood theoretical computational perspectives Most existing pattern mining approaches enumerate patterns respect given set constraints range simple complex For instance given transaction database wellknown pattern mining task enumerate itemsets sets items appear s transactions However output pattern mining operations extremely large moderately sized datasets For instance worst case number frequent itemsets exponential number items dataset So far community expended effort developing sophisticated algorithms push constraints deep mining process 13 But compression reduction techniques limit number output patterns depending application contexts 1416 The pattern mining community paid attention combining mining constraints In practice constraints entail choosing threshold values wellused minimal frequency This notion thresholding drawbacks Unless speciﬁc domain knowledge available choice arbitrary lead large number extracted patterns reduce success subsequent data analysis This drawback pronounced thresholds combined A second drawback stringent enumeration aspect pattern threshold But patterns respect thresholds Should discarded It diﬃcult apply subtle selection mechanisms There works 1718 propose introduce softness criterion mining process Other studies attempt integrate user preferences mining task order limit number extracted patterns topk pattern mining approaches 1920 By associating pattern rank score approach returns ordered list k patterns highest score user However combining measures single scoring function diﬃcult performance topk approaches sensitive size datasets threshold value k We present uniﬁed methodology approaches aim results pattern mining useful user preference point view To end integrate pattern discovery process idea skyline queries 21 order skyline patterns thresholdfree manner Such queries attracted considerable attention impor tance multicriteria decision making economics usually called Pareto eﬃciency optimality queries Brieﬂy multidimensional space preference deﬁned dimension point dominates point b better preferred b dimension worse b dimen sion For example user selecting set patterns prefer pattern high frequency large length high conﬁdence In case pattern dominates pattern b afrequency bfrequency alength blength aconﬁdence bconﬁdence strict inequality holds Given set patterns skyline set contains patterns dominated pattern Skyline pattern mining interesting reasons First skyline processing require threshold se lection In addition pattern mining applications diﬃcult impossible ﬁnd reasonable global ranking function Thus idea ﬁnding optimal solutions pattern space respect multiple preferences appealing Second formal property dominance satisﬁed skyline pattern deﬁnes global interestingness measure semantics easily understood user These semantics discussed length economics literature Pareto eﬃciency applied selection alternatives resource distributions However notion skylines extensively developed engineering database applications remained unused data mining purposes recently 1 Thirdly skyline pattern mining appealing eﬃciency usability point view The authors 22 established loose upperbound average number skyline tuples O ln nd1 n tuples I I represents d dimensions contrasts usual worstcase number possible itemsets O 2 cardinality set items Contributions roadmap We present signiﬁcant extensions recent papers 12 discovery skyline patterns skypatterns First static method called Aetheris based theoretical relationships condensed rep resentations patterns representations return subset patterns having expressiveness set patterns 23 Second dynamic method called CPSky involves continuous ﬁnement skyline constraints based extracted patterns This achieved dynamic CSP Constraint Satisfaction Problems framework denoted DynCSP Third key notion skylineability constitutes cor nerstone methods explained Finally present extensive empirical study includes wide range datasets comparisons techniques This enables draw lessons strengths weaknesses method better understand advantagesweaknesses CSP machinery Sections 712 713 The rest paper organized follows Section 2 surveys works related skyline pattern analysis Section 3 introduces basic deﬁnitions formal problem statement overview work The key notion sky lineability studied Section 4 Section 5 discusses computation condensed representation patterns skypattern queries Section 6 discusses skylineability DynCSP framework We report empirical study datasets case study chemoinformatics domain Section 7 Finally Section 8 discusses learnt lessons 50 W Ugarte et al Artiﬁcial Intelligence 244 2017 4869 2 Related work 21 Pattern mining Frequent itemset mining ﬁrst described 8 The problem deﬁned follows transaction subset given set items I transaction database denoted T set transactions A subset x I frequent itemset T number transactions containing x exceeds given threshold denoted σ One earliest ﬁndings data mining literature mining process usually produces large collections patterns Many researchers proposed methods reduce size output These include constraintbased pattern mining framework 24 condensed representations 23 compression dataset exploiting Minimum Description Length Principle 25 A general observation patterns represent fragmented knowledge clear view knowledge fragments interact combine produce global model Recent approaches schemes pattern teams 26 constraintbased pattern set mining 27 pattern selection strategies 28 aim minimize redundancy number patterns A common theme studies select patterns initial large set patterns basis usefulness given context This approach falls general trend produce pattern sets sets patterns satisfying properties set patterns 27 Other approaches advantage closed patterns maximize speciﬁc measure growth rate emerging patterns 29 area tiling 3012 Often methods focus optimizing global measure discovered pattern set neglect relationships patterns Moreover approaches suffer lack ﬂexibility express queries requested analyst For method user understand semantics express queries satisfying algorithmic properties constraints Another class techniques considers statistical signiﬁcance patterns The objective extract patterns given characteristic usually frequency deviates expected value null model unlikely generated The frequency pattern considered random variable distribution null hypothesis calculated approximated signiﬁcance pattern assessed statistical test compares expected frequency null model observed frequency A number works explored notions statistical signiﬁcance itemsets proposed novel eﬃcient methods extraction 3134 Pattern mining Constraint Programming Pattern mining beneﬁts recent crossfertilization data min ing Constraint Programming 353718 Constraint Programming general declarative methodology solving constraint satisfaction problems Within framework user speciﬁes declarative way problem constraints method dedicated solve problem Then general solver provides complete set solutions satisfying constraints The approach expressive allows combine wide range mining constraints 36 22 Skyline The skyline points viewed compromise points respect given set criteria Skyline computation strongly related mathematical microeconomics problems maximum vectors 38 Pareto set 39 multi objective optimization 40 Since rediscovery database community Börzsönyi et al 21 methods developed answering skyline queries handle constraints different computational environ ments 4142 Skyline queries focus extraction tuples given dataset assume elements dataset skypattern mining task consists extracting patterns elements frontier deﬁned given measures The skypattern problem clearly harder search space skypatterns larger search space skylines cf Section 32 Few studies focus skypattern mining pattern domains graphs subgroups The published approaches designed particular types patterns consider limited number measures compute skyline patterns Among proposals address graph analysis In 43 authors compute skyline subgraphs according number vertices edge connectivity Similarly 44 authors adapt framework Subdue method 45 compute patterns dominant according measures frequency number nodes density In 46 authors introduce skypattern mining problem context subgroups Their approach aims discovering subgroups maximize quality measure diversity measure The notion dominance core skyline processing In 47 notion dominance propose novel algebra extending relational algebras pattern mining It leads generic method mining sev eral kinds patterns including skypatterns according preorder associated dominance relation The solving 47 performed Constraint Programming principle similar technique CPSky method cf Section 62 The key idea use constraints dominance relation dynamically added mining process These constraints avoid producing solutions dominated solutions extracted In 47 dynamically added constraints ensure candidate solution dominated according preorder corresponding algebra ii equivalent solution This condition required Paretodominance strict partial order preorder reﬂexive relation In CPSky dynamically added constraints stem dominance relation candidate solution dominated previous solutions Finally 47 W Ugarte et al Artiﬁcial Intelligence 244 2017 4869 51 Table 1 Example toy dataset measures Tid Items t1 t2 t3 t4 t5 t6 A A A A B B B D D D C C C F F E E E A toy data set T Items A B C D E F val 10 55 70 30 15 25 Name area mean bond aconf gr1 pvalue b Some measures M 2 Deﬁnition x cid4 freqx lengthx x cid4 minxvalmaxxval x cid4 freqx freqx x cid4 freqx x cid4 T2 x cid4 binomialprodxsupp freqx T1 freqxT1 freqxT2 maxxfreq deal skylineability notion introduced work As skylineability allows reduce number measures considered mining process decreasing runtime Skylineability associated theoretical relationships establish skymining problem condensed representations patterns Another option preferencebased processing topk procedure 1920 A ranking function fr applied patterns k best patterns highest score respect fr returned As previously mentioned approach suffers limitations The choice k trivial horizon problem A low value miss useful patterns high value introduces redundancy produced patterns highly similar patterns This limita tion main motivation notion informative patterns MIP proposed 48 MIPs seen patterns locally dominate patterns according scoring function This approach shares similar spirit limits number enumerated patterns manageable level However contrast approach work MIPs includes notion dominance local speciﬁc subsets patterns 3 Problem statement overview uniﬁed methodology We introduce section basic deﬁnitions formal problem statement We overview methods Aetheris CPSky propose These methods fully exploit adequate representation patterns dedicated userpreferences 49 Our study interesting reasons By carefully selecting patterns best available given set preferences greatly reduce output limit curse pattern explosion The user guaranteed best patterns wrt criteria present ﬁnal result Last approach thresholdfree1 Only preferences dataset required input 31 Preliminary deﬁnitions Although problem formulated kind pattern sake simplicity illustrate deﬁni tions itemset pattern domain Section 8 discusses computational theoretical aspects associated problem extracting sophisticated kinds patterns Let I set distinct literals called items itemset pattern corresponds nonempty subset I These I A transactional dataset T multiset patterns L Each patterns gathered language L L 2 element T named transaction database entry Table 1a presents transactional dataset T 6 transactions denoted t1 t6 described 6 items denoted A F All measures discussed study based set primitivebased measures M deﬁned context constraintbased pattern mining 50 Table 2 presents general deﬁnitions measures Table 1b gives speciﬁc examples gr denotes growth rate 11 freq disjunctive support measures bond aconf detailed 51 Interestingly methodology suitable recent mining techniques utilizing statistical signiﬁcance patterns discussed related work For instance pvalue null model considers items independent random variables rewritable primitivebased measure deﬁnition pvalue Table 1a As claimed 50 M encompasses large set interesting measures 1 Thresholds entirely optional depending analysts needs depend algorithm 52 W Ugarte et al Artiﬁcial Intelligence 244 2017 4869 Table 2 A subset primitivebased measures Measure m M m1θm2 θs θsval Constant r cid9 Syntactic expression s S s1θ s2 θs Variable x L Constant l L Primitives θ binomial θ freq freq length θ sum max min prod Primitives θ θ f g Operands m1 m2 M2 s S s S Operands s1 s2 S 2 s S In addition classical operators cid9 L function freq denotes frequency pattern freqx T t T x t length cardinality The disjunctive support freqx t T x t More atypical primitives ﬁt primitivebased framework like binomialp Given function val I R extend pattern x denote xval multiset vali x This kind function usual SQLlike primitives sum min max For instance sumxval sum val item x Note prod slightly different aggregate function val I 0 1 support item pvalue deﬁnition Finally f intension f T I t T t g extension gx t Tid x t pk1 pnk cid2 n ki cid3 n k cid4 This large variety measures allows ﬂexibility formulate new wellknown interestingness measures match data analysts objectives Rather ranking function combining measures maximizing propose use Pareto composition Deﬁnition 1 Paretodominance Given set measures M M pattern x dominates pattern y respect M denoted x cid15M y iff measure m M mx m y exists m M mx m y Two patterns x y said indistinct respect M denoted x M y iff mx equals m y measure m M M x y Finally x cid16M y denotes x cid15M y x M y Note deﬁne Pareto dominance greater symbol assuming enduser wants maximize set measures The case minimization measure m equivalent maximizing measure m cid17 m case illustrated deﬁnition pvalue contains minus Consider running example data set T Table 1a suppose M freq area pattern ABCDEF dominates ABC freqABC freqABCDEF 2 areaABCDEF areaABC Note case ABCDEF indistinct ABC respect freq Similarly suppose M freq mean length pattern AC dominates AB freqAC freqAB 3 AB AC 2 meanAC meanAB 32 The skypattern mining problem Given set measures M pattern dominated according measures M irrelevant discarded output The notion skyline pattern skypattern short formalizes intuition Deﬁnition 2 Skypattern operator Given pattern set P L set measures M M skypattern P respect M pattern dominated pattern P respect M The skypattern operator SkyP M returns skypatterns P respect M SkyP M x P cid18 y P y cid15M x Then skypattern problem stated Problem 1 Given set measures M M skypattern mining problem evaluate query SkyL M For instance running data set cf Table 1a SkyL freq length ABCDEF AB AC A illustrated Fig 1 In general case skypattern mining problem challenging high number candidate patterns L Indeed naive enumeration L feasible For example 1000 items naive approach need compute 21000 1 M measures compare A naive approach based heuristics antimonotonicity measures results However performance closely tied underlying properties data sets For instance case frequency measure density data set plays major role performance algorithms able extract frequent patterns low thresholds Nevertheless considering following property provides new insights eﬃcient computation skypattern queries W Ugarte et al Artiﬁcial Intelligence 244 2017 4869 53 Fig 1 Example skypatterns set measures M freq length patterns dominated area Property 1 Given set measures M M SkyL M SkyP M pattern set P SkyL M P P LSkyL M P SkyL M SkyP M Proof Let P set patterns SkyL M P L First let x pattern SkyL M Then y cid18 x L y cid15M x In particular y cid18 x P y cid15M x Note x belongs P superset cid17 cid18 x L P SkyL M Thus x pattern SkyP M Suppose x SkyL M exists y P y SkyL M cid2 cid17cid17 cid18cid15M x By induction y pattern dominating y cid17cid17 P y cid17 cid15M x y cid17 cid17 As SkyL M P L P L argue evaluating SkyP M generally costly evaluating SkyL M cost Skyx M generally decreases cardinality x Consequently aim reduce cost evaluating SkyP M ﬁnding small relevant set P includes SkyL M means 1 condensed representations patterns 2 dynamic pruning Condensed representations patterns In pattern mining tasks association rule mining clustering condensed representations patterns signiﬁcantly reduce mining effort loss precision Could use principle case skypattern mining A direct approach compute concise representation measure m M generally possible measures area length condensable condensed representation equal L Therefore problem reformulated follows given set measures M identify smaller set measures M allows computation concise representation patterns pattern set P loss skypatterns In addition use set measures extract eﬃciently skypatterns redundancies We address problem sections cid17 Dynamic pruning Instead extracting condensed representation patterns applying Sky operator One consider use Sky operator locally extraction Indeed soon pattern candidate skypattern search space dominated pattern directly eliminated In words new candidate skypattern adds constraint allowing safely prune remaining search space These new constraints prevent enu meration unnecessary patterns Section 6 describes CSP update constraints extraction reduce search space 33 Uniﬁed methodology methods cid17 To clarify methodology illustrate Fig 2 different processes methods Aetheris CPSky propose These methods share overall methodology mainly differ speciﬁc step computation representative patterns skypatterns After users preferences selection common ﬁrst step Aetheris CPSky automatically identify smaller set allows computation concise representation patterns thanks use converters measures M cid17 Aetheris CPSky aims computing small possible cf Section 4 The second step respectively 2 2 superset enables retrieval skypatterns For purpose Aetheris builds static set representative patterns based notion converting initial set preference M cf Section 5 CPSky according set M builds dynamically concise set pruning unpromising patterns set representative patterns CPSky included set representative patterns Aetheris cf Section 6 The step ﬁlters set representative patterns Sky operator This step remains eﬃcient number representative patterns smaller number possible skypatterns Finally step provides concise representation skypatterns The enduser output concise representation entire list skypatterns ﬁnal step depending application cid17 54 W Ugarte et al Artiﬁcial Intelligence 244 2017 4869 Fig 2 Uniﬁed view skypattern mining Aetheris CPSky needs Our methodology revolves simple idea able eﬃciently extract analyze skypatterns needs able statically dynamically exhibit concise representation skypatterns input skyline operator 4 Skylineability The set skypatterns good property like downward closure convexity Conventional techniques prune pattern search space like antimonotone properties ineffective However Property 1 eﬃcient computa tion set representative patterns skypatterns possible To introduce notion skylineability aims computing reduced collection representative patterns skypatterns cf end previous sec tion This eﬃcient computation carried free 16 closed patterns 14 41 Skylineability set measures Intuitively skylineability refers notion local extrema search space The local extrema case maximal values preference selected enduser By deﬁnition extrema skypatterns Thus need mining account patterns necessarily dominated x Mcid17 y If y extrema Assume patterns x y x y value measure M dominates x given set measures M M M said maximally M skylineable This information extremely important allows discarding nonmaximal patterns x dominated maximal patterns y This notion skylineability seen way mapping domination different sets measures M M cid17 cid17 cid17 cid17 Fig 3 depicts beneﬁt skylineability general case possible focus subset patterns measures M formal guarantee patterns dominated set measures M We illustrate notion skylineability running example Let consider patterns T maximize frequency area measures M freq area In example cf Table 1a patterns B AB cid17 freq B Mcid17 AB AB cid15M B area AB frequency Fig 3 Thus deﬁne M greater B In fact patterns x y x freq y y cid15M x M freq area said maximally freqskylineable The mining process focus extracting patterns based frequency measure M having account area measure present M cid17 In practice local extrema necessarily longest patterns closed patterns maximal patterns equivalence classes shortest patterns free patterns minimal patterns equivalence classes Thus concept skylineability deﬁned dual manner Deﬁnition 3 Minimal skylineability Given set measures M minimally M skylineable iff patterns x y x y x Mcid17 y x cid16M y respectively x cid15M y cid17 M set measures M M said strictly cid17 W Ugarte et al Artiﬁcial Intelligence 244 2017 4869 55 Fig 3 Use skylineability general case cf Fig 3a running example cf Fig 3b AB freq B directly knows AB cid15M B considering area lengthAB lengthB Deﬁnition 4 Maximal skylineability Given set measures M maximally M skylineable iff patterns x y x y x Mcid17 y y cid16M x respectively y cid15M x cid17 M set measures M M said strictly cid17 From previous deﬁnitions given set measures M maximally M skylineable x Mcid17 y x y clear x dominated y M For instance M freq area strictly maximally freqskylineable areax strictly increases cardinality x frequency remains constant Hence Fig 3 deduce ABCDEF dominates patterns ABCDE ABCD DEF considering set measures M cid17 Notice freq weakly maximally minimally freqskylineable lengthx strictly maximally M skylineable cid17 Property 2 Given set measures M M set M cid17 M M minimally maximally M cid17 skylineable Proof Let M M set measures Let M patterns x Mcid17 y Let m M As x mcid17 y primitive m x m y We conclude x M y x cid16M y y cid16M x cid2 cid17 M set unary primitives deﬁned L Let x y m composed primitives cid17 M cid17 Property 2 important result means set measures skylineable fact M Mskylineable Obviously set measures M smaller2 M skylineability For instance freqskylineability interesting freq areaskylineability area condensable function 49 pair distinct patterns x y x freqarea y How choose automatically subset M stronger M discussed cid17 cid17 cid17 42 Minimal maximal skylineable converters One disadvantages skylineability depends set measures M effectively reduce search space We propose operators automatically build M Basically construction M choice essential given initial set measures M consists identifying primitives remain constant order minimal cid17 cid17 cid17 2 In sense cardinality 56 W Ugarte et al Artiﬁcial Intelligence 244 2017 4869 Table 3 Deﬁnition minimal maximal skylineable converters c c Expr e e1θ e2 e1θ e2 Constant dx ix de1 ie1 Primitives θ θ binomial d freq min g prod length max sum freq f d freq min g prod length max sum freq f ce ce1 ce2 ce1 ce2 ix ce1 ce1 ce ce1 ce2 ce1 ce2 dx ce1 ce1 Table 4 Applying minimal maximal converters Meas m area mean bond aconf gr1 pvalue cm lengthx maxxval freqx T2 prodxsupp cm freqx minxval freqx freqx freqx maxxval freqx T1 freqx Individual measures cfreqx areax cfreqx cfreqx lengthx cfreqx clengthx b A set measures M freqx areax cid17 cid17 cid17 skylineability m added M maximal patterns dominant patterns Intuitively primitive p measure m M hinders For instance easy frequency decreases area M frequency decreases specialization In order closed patterns maximize area frequency belong M More generally essential account monotone behavior primitives decreasing increasing For instance length increases x frequency decreases It necessary consider operations combine primitives The result multiplication increases operands increases However result division decreases second operand For purpose deﬁne operators denoted c c Table 3 Given primitivebased measure m M minimal skylineable converter returns set measures M cid17 cm guar anteeing pattern x y x Mcid17 y mx m y In words x dominates y respect m Dually maximal converter c guarantees mx m y pattern x y x cm y Let illustrate c c area measure The area deﬁned product frequency length Thus use ﬁrst deﬁnition Table 3 carea cfreqx clengthx lengthx lengthx Symmetrically carea cfreqx clengthx freqx freqx The skylineable converters enable automatically ﬁnd optimization techniques known speciﬁc measures area 3012 pvalue 32 growthrate 29 Table 4a We observe measures maximized closed itemsets according frequency explain success closed pattern mining But work generalize principle optimize primitivebased measures Note converter c returns measure bond aconf means measure decreases respect specialization Dually cm means m increases respect specialization In practice skypatterns computed set measures extend minimal maximal converters Deﬁnition 5 Minimal maximal skylineable converters The minimal maximal skylineable converters deﬁned Table 3 primitivebased measure naturally extended set primitivebased measures M M cM mM cm cM cid5 cid5 mM cm For instance cfreqx areax cfreqx careax freqx cfreqx areax cfreqx careax lengthx cfreqx areax freqx means speciﬁc patterns frequency remains unchanged maximize measures freqx areax The following property formalizes observation Property 3 A set primitivebased measures M M minimally cMskylineable maximally cMskylineable W Ugarte et al Artiﬁcial Intelligence 244 2017 4869 57 Proof The key idea relies monotonous property according variable primitive The operators ccid2 ccid2 recursively applied return set primitives constant order respectively minimize maximize measure Two cases arise sure expression ph1 hk minimized x For 1 k primitive p increases according ith variable ones remain unchanged necessary return primitives hi minimized according x For purpose minimal skylineable converter applied Otherwise primitive p decreases ith variable return primitives hi maximized applying maximal skylineable converter The dual approach maximize measure cid2 In implementation set measures M parsed syntax tree Following step minimal maximal skylineable converters recursively applied automatically compute cM cM example provided Table 4b M freqx areax This process illustrated Fig 2 edge labeled 1 From set measures M refers cM cM cid17 5 Condensed representations patterns static mining skypatterns This section presents static method called Aetheris based theoretical relationships condensed rep resentations patterns skypatterns Aetheris follows twostep process cf Section 33 ﬁrst set representative patterns extracted Sky operator applied patterns The technique said static extraction representative pattern depend patterns extracted contrary CPSky method presented section A major issue extract representative patterns group skypatterns In previous section remarked B freq AB This observation skypatterns share exactly values set measures M enables properly answer question instead directly evaluating skypattern query L compute skypatterns condensed representation L generate entire set skypatterns To end introduce distinct operator core construction condensed representation adequate M cid17 cid17 Deﬁnition 6 Distinct operator Given set measures M θ returns patterns x P generalizations specializations distinct x respect M cid17 M distinct operator P L respect M cid17 cid17 cid17 Disθ P M θ x P y θ x x cid18Mcid17 y Given set measures M cid17 set free respectively closed patterns adequate M corresponds exactly cid17 For instance running example DisL freq A B C D E F AD AE cid17 DisL M BC BD BE CD CE DE DisL freq A D E AB AC ABCDEF cid17 respectively DisL M We introduce indistinct operator enables retrieval indistinct patterns representatives Deﬁnition 7 Indistinct operator Given set measures M cid17 pattern P indistinct respect M cid17 M indistinct operator returns patterns L IndL M cid17 P x L y P x Mcid17 y For instance Table 1a set patterns exactly frequency patterns B C IndL freq AB AC B C AB AC Preserving functions express property compression core Property 4 A preserving function condensable primitive functions preserving freq freq count min max sum details 49 Property 4 Given set preserving functions M Disθ P M IndP M P cid17 cid17 cid17 following relation P L θ In words indistinct operator inverse function distinct operator For instance IndL freq DisB C AB AC freq B C AB AC These operators basis eﬃcient technique compute skypatterns The key principle confront distinct patterns instead individually comparing pattern Indeed computation skypatterns respect M freq area limited DisL freq maximal freqskylineability guarantees patterns dominant patterns For instance AB freq B freqskylineability M gives AB cid15M B cid17 M SkyL M Property 4 B skypattern More formally know SkyIndL M Theorem 1 proves skypattern operator pushed indistinct operator cid17 Disθ L M 58 W Ugarte et al Artiﬁcial Intelligence 244 2017 4869 Fig 4 Computing skypatterns respect freq area running example Theorem 1 Operational equivalence If set measures M M SkyL M IndL M SkyDisθ L M cid17 M cid17 skylineable respect θ M cid17 set measures Proof Let M set measures M cid17 skylineable θ 1 SkyL M IndL M SkyDisθ L M Let x IndL M SkyDisθ L M cid17 y cid17 Mcid17 y y Disθ L M dominated pattern Disθ L M x cid17 M x y cid17 cid16M y cid17 M cid17 M y L There exist x cid17 cid17 cid17 M x y cid17 M cid17 cid18cid15M x Thus x dominated y x skyline L respect M cid17 cid16M y M cid17 y belongs SkyDisθ L M cid17 skylineability As x cid17 SkyDisθ L M cid17 M x 2 SkyL M IndL M SkyDisθ L M cid17 M y y y y belongs IndL M SkyDisθ L M cid17 M y Furthermore pattern Disθ L M cid17 M cid2 cid17 Mcid17 y y cid17 dominates y y cid17 cid16M y As y skypattern y cid16M x cid17 cid17 M cid17 cid17 M Finally y cid17 SkyDisθ L M y The skypatterns SkyDisθ L M cid17 DisL M adequate condensed representations DisL M Thus achieved objective mentioned Section 32 cid17 M form condensed representation SkyL M It wellknown size cid17 smaller collection patterns 23 The technique eﬃcient set measures strictly M cid17 skylineable In case Ind operator skipped Theorem 1 reduced following relation SkyL M SkyDisθ L M cid17 M θ Fig 4 illustrates computation skypatterns method Aetheris Suppose M freq area ﬁrst step applies maximal skylineable converter M Then distinct operator preserves closed itemsets Step 2 The skyline operator selects dominant patterns Step 3 removing D E dominated AB areaD areaE 3 areaAB 6 Finally step computes indistinct patterns skypatterns Note step example unnecessary area strictly freqskylineable 6 Mining skypatterns dynamic CSP This section describes skypattern mining problem modeled solved DynCSP 5253 A major advantage method improves mining step process thanks constraints dynamically arising current set candidate skypatterns These constraints avoid producing new solutions dominated current skypatterns reduce search space More precisely time solution new constraint dynamically posted The process stops enlarge dominated area cf Fig 1 The set obtained representative patterns subset set representative patterns extracted Aetheris cf Section 33 The completeness CPSky method insured completeness CSP solver The implementation carried Gecode3 The rest section organized follows Section 61 recalls general background CSP DynCSP Sec tion 62 describes skypattern mining modeled DynCSP Section 63 presents pattern encoding ﬁltering achieved Sections 64 65 devoted closedness constraints freeness constraints Finally Section 66 provides example 61 CSP DynCSP Constraint Satisfaction Problem A CSP 5455 P X D C deﬁned ﬁnite set variables X x1 x2 xk set domains D maps variable xi X ﬁnite set values Dxi ﬁnite set constraints C Algorithm 1 provides general overview CSP solver Dom Store denote respectively current domains current set constraints Essentially CSP solver consists depthﬁrst search algorithm At node search tree procedure ConstraintSearch selects unassigned variable line 5 according userdeﬁned heuristics4 assigns 3 httpwwwgecodeorg 4 For implementation constrained variable order heuristics branches variable contained constraints order dynamic updated search W Ugarte et al Artiﬁcial Intelligence 244 2017 4869 59 return failure Algorithm 1 ConstraintSearchDom 1 Dom FilteringDom Store 2 exists xi X st Domxi 3 4 exists xi X st Domxi 1 Select xi X st Domxi 1 5 forall v Domxi 6 7 ConstraintSearchDom xi v 8 9 10 output solution Dom Store Store φX value line 6 After assignment procedure ConstraintSearch called recursively line 7 It backtracks constraint satisﬁed domain line 2 A solution obtained line 9 domain Domxi reduced singleton constraints satisﬁed The main concept speedup search constraint propagation Filtering method This method reduces domains variables remain locally consistent Constraint propagation operates individual constraint To maintain local consistency individual constraints propagation rules Given constraint current domains variables scope propagator removes domain values satisfy constraint Since variables usually participate constraints updated domains propagated constraints propagators turn activated This process constraint propagation repeated constraints domain values removed domain Dynamic CSP A DynCSP 5253 sequence P 1 P 2 P n CSPs resulting changes deﬁnition previous These changes affect component problem deﬁnition variables additions removals domains value additions removals constraints additions removals 62 DynCSPbased method mining skypatterns This section provides CSPbased method CPSky mining skypatterns As representative patterns searched according M skylineability principle The key idea use constraints dominance relation dynamically added mining process These constraints avoid producing solutions dominated solutions extracted reduce search space We start highlighting way handle DynCSP provide encoding cid17 For approach changes CSP P CSP P i1 performed adding new constraints removal constraints Additions handled straightforward way help ﬁltering Solving DynCSP involves solving single CSP additional constraints posted search These constraints survive backtracking state solutions verify current set constraints added ones Each time new solution new constraints φX imposed Such constraints state solutions verify current set constraints Store φX cf line 10 Algorithm 1 Variable x denote unknown skypattern looking We consider sequence P 1 P 2 P n CSP P x L qix q1x disθ x disθ x denotes representative pattern x qi1x qix φix si ﬁrst solution query qix First constraint disθ x states x closed pattern wrt M disθ x closedMcid17 x free disθ x freeMcid17 x Then constraint φix si cid18cid15M x states solution pattern wrt M searched dominated si Using short induction proof easily argue query qi1x looks pattern x dominated patterns s1 s2 si cid17 Each time ﬁrst solution si query qix output Algorithm 1 dynamically post new constraint φix cid17 line 10 leading reduction search space For skypatterns φix states si cid18cid15M x cid6 cid7 cid8 cid6 cid9 cid8 φix msi mx msi mx mM mM This process stops enlarge dominated area exists n st query qn1x solution The dominated area extended fully established But n extracted patterns s1 s2 sn necessarily skypatterns Some intermediate patterns simply enlarge dominated area A post processing step performed ﬁlter candidate 60 W Ugarte et al Artiﬁcial Intelligence 244 2017 4869 patterns si skypatterns exists s j 1 j n st s j dominates si So mining skypatterns achieved twostep approach 1 Compute set S s1 s2 sn candidates DynCSP 2 Filter patterns si S skypatterns While number candidates n large remains reasonablysized practice experiments conducted Section 7 However order candidates produced ﬁrst step inﬂuences way dominated area enlarged effectiveness CPSky One way enhance eﬃciency select beneﬁcial order candidates generated In case single measure m derive optimal order guarantees solution produced step 1 skypattern avoiding need postprocessing It suﬃces generate patterns largest values m lowest values m cf Deﬁnition 1 But general case measures involved ﬁnding optimal order impossible postprocessing required 63 Pattern encoding ﬁltering We introduce modeling pattern provided constraint programming Let dbe 01 matrix transaction t item dti 1 iff t Pattern variables set variables represented characteristic function Boolean variables 35 36 model unknown pattern x associated dataset T introducing sets Boolean variables item variables Xi I Xi 1 iff x transaction variables Tt t T Tt 1 iff x t Each set Boolean variables aims represent characteristic function unknown pattern The relationship x T modeled posting reiﬁed constraints stating transaction t Tt 1 iff x subset t t T Tt 1 cid10 iI Xi 1 dti 0 1 A reiﬁed constraint associates 01 variable constraint reﬂecting constraint satisﬁed value 1 value 0 Such constraints useful expressing propositional formulas constraints expressing certain number constraints hold Reiﬁed constraints enjoy level propagation simple constraints solver deduces Tt 1 resp Tt 0 sum equal 0 resp different 0 The propagation performed way sum constraint equality constraint For example item variable Xi set following propagation applied reiﬁed constraints described Eq 1 35 details t t cid2 cid2 iI min D Xi 1 dti 0 remove 1 DTt iI min D Xi 1 dti 0 remove 0 DTt cid2 Finally Boolean encoding worth noting measures easy encode freqx lengthx cid2 tT Tt iI Xi So minimal frequency constraint freqx θ θ threshold encoded constraint tT Tt θ In way maximal size constraint lengthx α α threshold encoded cid2 cid2 constraint iI Xi α 64 Closedness constraints This section describes encode closedMcid17 x As illustration provide examples M cid17 freq Recalling thanks skylineability measures allow handle measures mean area growthrate In practice examples running experiments given Section 7 cid17 min M cid17 min val j function associates attribute value item j If item belongs x value greater equal min Conversely value greater equal min belong x x maximal inclusion Item belongs x encoded Xi 1 So x closed pattern measure min iff Let M I Xi 1 vali minval j 2 cid17 freq closedness constraint ensures pattern superset frequency If item belongs x obvious freqx freqx Conversely freqx freqx belong x x j x Let M W Ugarte et al Artiﬁcial Intelligence 244 2017 4869 61 maximal inclusion freqx encoded constraint closedMcid17 x encoded Eqs 1 3 I Xi 1 cid10 tT Tt 1 dti 0 65 Freeness constraints cid2 tT Tt freqx encoded cid2 tT Tt dti Finally 3 Similar closedness constraint examples encoding freeness constraint Following cid17 max principle dealing measures experiments examples M applying minimal converter c mean gives max cf Table 4 cid17 freq M cid17 max val j function associates attribute value item j If item belong x value greater equal min Conversely value greater equal min belong x belongs x x minimal inclusion Item belong x encoded Xi 0 So x free pattern measure max iff Let M I Xi 0 vali maxval j j x 4 Let M cid17 freq freeness constraint ensures pattern subset frequency If item belong x obvious freqx freqx Conversely freqx freqx belong x belongs x x minimal inclusion In order encode freqx introduce Boolean variables T cid17 ti relationship x T modeled posting reiﬁed constraints stating transaction t T 1 iff x subset t cid17 ti t T T cid17 ti 1 cid10 jIi X j 1 dt j 0 freqx encoded cid2 tT Tt freqx encoded cid10 I Xi 0 Tt T cid17 ti 0 cid2 tT T cid17 ti So freeMcid17 x modeled Eqs 1 6 5 6 tT 66 Solving running example DynCSP We illustrate CPSky running example Table 1a M freq area We use maximal converter c closedness constraint As carea freq M cid17 freq Fig 5 depicts steps resolution Let P 1 associated DynCSP Section 62 P 1 x L q1x query q1x closedMcid17 x Its ﬁrst solution pattern s1 ABCDEF freqs1 2 areas1 12 cf Fig 5a So consider query q2x closedMcid17 x s1 cid18cid15M x stating looking closed pattern x dominated s1 ABCDEF Its ﬁrst solution pattern s2 AB freqs2 3 areas2 6 cf Fig 5b Then query q3x closedMcid17 x s1 cid18cid15M x s2 cid18cid15M x stating looking closed pattern x dominated s1 s2 Its ﬁrst solution pattern s3 AC freqs3 3 areas3 6 cf Fig 5c The query q4x q3x s3 cid18cid15M x ﬁrst solution s4 A cf Fig 5d query q5x q4x s4 cid18cid15M x q5x solution dominated area enlarged process ends n 5 In example note extracted patterns skypatterns intermediate patterns The CSP generate solutions satisfy dominance relation Experiments section provide examples intermediate patterns 7 Experiments We ﬁrst report experimental study UCI benchmarks Section 71 We discuss practical use skypatterns chemoinformatics case study Section 72 All experiments conducted personal running Linux operating i3 core processor clock speed 213 GHz 4 GB RAM The imple mentation Aetheris refers 1 The implementation CPSky carried Gecode All source codes data sets publicly available httpsforgegreycfrprojectsskyminingﬁles Note shown 1 Aetheris outperforms baseline approach factor 10 In addition collection skypatterns smaller collection patterns returned optimal constraintbased approach assuming ideal enduser able perfectly set thresholds run usual constraintbased mining method Therefore empirical study focuses comparison Aetheris CPSky 62 W Ugarte et al Artiﬁcial Intelligence 244 2017 4869 Fig 5 Solving running example DynCSP 71 Experiments UCI benchmarks 711 Experimental protocol We focused 23 different terms dimensions density5 datasets left column Table 5 UCI6 repository We considered set measures M freq max area mean growthrate selected 6 subsets M1 freq area mean growthrate M2 freq max area growthrate M3 freq max area mean M4 freq max mean growthrate M5 max area mean growthrate M6 M Measures numeric values like mean max applied randomly generated attribute values range 0 1 For method report CPUtime number skypatterns query selected set measures applies Sky operator extracted Note Aetheris ﬁrst computes set closed patterns7 wrt M collection On hand CPSky closed patterns ﬁrst step instead computes small set candidates DynCSP applies Sky operator For method reported CPUtimes include different number processing steps We report dataset size condensed representation wrt M candidates respectively analyze behaviors Aetheris CPSky cid17 cid17 712 Performance analysis A general overview Table 5 provides results CPUtimes CPSky Aetheris 138 skypattern queries 23 6 We report dataset collection measures8 number skypatterns largest output 478 CPSky number candidates associated CPUtime Aetheris number closed patterns associated CPUtime Table 5 indicates CPSky Aetheris run order magnitude On 16 datasets 23 CPU times CPSky Aetheris small 30 seconds The results 7 remaining data sets analyzed highlight differences limitations proposed methods cid2 5 The density dataset 6 httpwwwicsuciedumlearnMLRepositoryhtml 7 We use absolute minimal frequency threshold 1 8 Reported values columns 69 associated M6 But reported values columns 1014 represent average values M1 M2 M3 M4 M5 tT tT I W Ugarte et al Artiﬁcial Intelligence 244 2017 4869 63 Table 5 Comparing methods 23 UCI datasets detailed summary Dataset M6 freq max area mean growth rate t e m s t r n s c t o n s abalone anneal austral breast cleve cmc crx german glass heart hepatic horse hypo iris lymph mushroom newthyroid page pima tictactoe vehicle wine zoo 28 68 55 43 43 28 59 76 34 38 45 75 47 15 59 119 21 35 26 29 58 45 43 4177 798 690 286 303 1473 690 1000 216 270 155 300 3163 150 142 8124 215 941 768 958 846 178 101 d e n s t y 0321 0195 0272 0231 0325 0357 0269 0276 0295 0368 0421 0235 0389 0333 0322 0193 0287 0314 0346 0344 0327 0311 0394 o f s k y p t t e r n s 76 187 172 38 97 62 143 308 52 154 237 63 478 7 161 176 15 92 53 82 280 43 56 CPSky Aetheris o f c n d d t e s 5255 13903 49379 2311 19370 12760 78327 347957 2633 16960 41096 28275 221032 86 26200 14599 200 4482 1400 11206 164152 7780 4654 T m e s 25 12 24 1 8 12 44 426 1 6 10 27 469 1 7 1186 1 8 3 11 172 2 1 o f c l o s e d p t t e r n s 9947 35152 243156 7721 77203 25649 349721 3662911 7165 72618 222333 191177 1604864 93 116030 1153229 288 21121 12559 43318 745353 36671 14431 Averages M1 M2 M3 M4 M5 CPSky Aetheris T m e s 1 3 20 1 8 1 55 652 1 8 31 47 893 1 26 548 1 2 1 3 138 4 1 o f s k y p t t e r n s 4320 8060 7700 2360 5180 3600 5940 12180 3180 7360 10320 3420 20480 580 6400 7540 1200 4900 3240 5120 12620 2540 3420 o f c n d d t e s 339320 674820 1962680 137420 1121580 770280 3148280 14825540 158780 911800 1615620 1260960 14535940 7240 1253240 576760 15180 257600 94380 786740 7339060 453860 264260 T m e s 6 6 18 1 5 9 19 249 1 4 4 16 303 1 4 1137 1 6 3 9 69 2 1 o f c l o s e d p t t e r n s 980880 3060600 22811520 736920 7467080 2540860 31709020 352507240 692080 7012420 20674200 18298220 156579720 9180 10526000 99580840 28500 2020780 1243940 4290220 68993780 3439700 1285120 T m e s 1 1 13 1 4 1 27 305 1 4 13 23 481 1 11 221 1 1 1 2 84 2 1 A detailed analysis Fig 6 depicts scatter plot CPUtimes CPSky Aetheris Each point represents sky pattern query 7 selected datasets xvalue logscale CPUtime obtained CPSky yvalue log scale CPUtime Aetheris A speciﬁc color associated dataset The line y x draws case Aetheris CPSky CPUtimes Most points line means longer runtime Aetheris With measures M6 speedup 19 resp 153 hypo resp german The exception mushroom dataset Another interesting result provided Table 5 number closed patterns extracted Aetheris comparison number candidates generated CPSky The number candidates remains small thousands compared number closed patterns millions Fig 7 illustrates particular result selected datasets It reports set measures Mi 1 6 7 datasets investigated Fig 6 number closed patterns number candidate patterns number skypatterns methods This ﬁgure highlights discrepancy methods distinct lower number representative patterns required CPSky comparison Aetheris method Table 6 shows indepth comparison CPUtimes steps performed CPSky Aetheris set measures M6 The second postprocessing step methods performed classical algorithm BNL approach 21 The time complexity approach On2 n number representative patterns generated ﬁrst step These results clearly CPSky takes time Aetheris generate representative patterns This explained huge number closed patterns Aetheris needs postprocess This drawback exist CPSky number candidates remains small postprocessing step negligible The exception mushroom dataset Aetheris eﬃcient 713 Summary No method constantly better datasets CPSky usually generates low number candidates compared Aetheris The numbers candidates closed patterns provide appropriate explanation performances methods However constitute simple indicators account evidence For instance results mushroom dataset surprising counterintuitive Even number candidates 14599 low compared number closed patterns extracted dataset 1153229 Aetheris eﬃcient CPSky The mushroom dataset largest UCI dataset terms transactions items lowest density 18 implies number closed patterns small wrt size The reasoning applies 64 W Ugarte et al Artiﬁcial Intelligence 244 2017 4869 Fig 6 Comparing CPU times 7 selected datasets Mi 16 Fig 7 Comparing patterns 7 selected datasets M1 M6 number candidates In case size set constraints important reiﬁed constraints transactions cf Section 63 So ﬁltering takes time generate candidates For dataset eﬃcient compute closed patterns ﬁlter numerous Following mushroom dataset analysis investigated notion density impact performances methods generating datasets varying density 015 065 kept numbers W Ugarte et al Artiﬁcial Intelligence 244 2017 4869 65 Table 6 Comparing CPU times steps 7 selected datasets M6 Dataset skypatterns candidates patterns crx german hepatic horse hypo mushroom vehicle 143 308 237 63 478 176 280 78327 347957 41096 28275 221032 14599 164152 CPUtimes seconds Step 1 44 425 10 26 468 1186 171 Step 2 0 1 0 1 1 0 1 Total 44 426 10 27 469 1186 172 closed patterns 349721 3662911 722333 191177 1604864 1153229 745353 CPUtimes seconds Step 1 40 511 23 33 812 497 111 Step 2 15 141 8 14 83 51 27 Total 55 652 31 47 893 548 138 Fig 8 Measuring impact density methods items transactions similar mushroom dataset Fig 8 shows evolution CPUtimes according density methods As items data randomly generated provide density value number closed patterns increases according density Thus running time Aetheris increases according parameter The behavior CPSky complex dynamic pruning Having candidate skypatterns beneﬁt patterns able prune signiﬁcantly search space The experimental study shows good tradeoff density close 05 note practice realworld datasets density higher 05 We performed experiments data sets UCI repository chess 75 items 3196 transac tions density 049 connect data sets 129 items 67557 transactions density 033 However able complete skypattern mining process Aetheris able complete closed pattern mining step data set For CPSky ﬁrst step candidates generation took approximatively 20 hours generated 40 mil lion candidates chess dataset The application sky operator failed quadratic complexity On2 BNL method The experiments connect dataset CPSky aborted 24 hours computation 72 Case study discovering toxicophores A major issue chemoinformatics establish relationships chemicals activity ecotoxicity Chemical fragments9 cause toxicity called toxicophores discovery core prediction models ecotoxicity 56 The aim study larger research collaboration CERMN Lab investigate use skypatterns discovering toxicophores 9 A fragment denotes connected chemical structure having chemical bond 66 W Ugarte et al Artiﬁcial Intelligence 244 2017 4869 Table 7 Skypattern mining ECB dataset Skypatterns skypatterns CPSky M1 growthrate freq M2 growthrate aromaticity M3 freq aromaticity M4 growthrate freq aromaticity 8 5 2 21 721 Experimental protocol candidates 613 140 456 869 CPUtime 18m34s 15m32s 16m45s 17m49s Aetheris closed patterns 41887 53201 157911 69827 CPUtime 19m20s 21m33s 21m16s 21m40s The dataset collected ECB web site10 For chemical chemists associated hazard statement codes HSC 3 categories H400 toxic CL50 1 mgL H401 toxic 1 mgL CL50 10 mgL H402 harmful 10 mgL CL50 100 mgL We focus H400 H402 classes The dataset T consists 567 chemicals transactions 372 H400 class 195 H402 class The chemicals encoded 1450 frequent closed subgraphs items previously extracted11 1 relative frequency threshold Therefore extracted skypatterns correspond sets chemical fragments represented frequent closed subgraphs 57 Discovering candidate toxicophores similar supervised descriptive rule discovery 11 learning classiﬁcation rules use growth rate contrast measure Indeed patterns frequency strongly increases class H402 class H400 considered potential structural alert related toxicity If compound includes fragments graph structure likely toxic Emerging patterns model idea growth rate measure On hand realworld datasets noisy patterns low frequency artefacts We use frequency measure ensure representativeness patterns higher frequency better The skypattern framework makes possible integrate measures coming background domain In ecotoxicity chemists know aromaticity measure chemical property favors toxicity metabolites lead reactive species interact biomacromolecules harmful way higher aromaticity higher toxicity hypothesis The chemical knowledge provides aromaticity chemical fragments compute aromaticity pattern mean aromaticity chemical fragments We tested combinations measures M1 growthrate freq M2 growthrate aromaticity M3 freq aromaticity M4 growthrate freq aromaticity 722 Performance analysis Table 7 reports set measures Mi 14 number skypatterns ii CPSky number candidates associated CPUtime iii Aetheris number closed patterns associated CPUtime CPSky outperforms Aetheris term CPUtimes Moreover number candidates CPSky drastically smaller number closed patterns computed Aetheris It clearly shows usefulness ﬁltering dynamically posted constraints 723 Qualitative analysis We analyze skypatterns qualitatively comparing wellknown environmental toxicophores 58 With growth rate frequency measures M1 8 skypatterns emphasized 3 wellknown toxicophores Fig 9a depicts skypatterns denoted P yaxis Two components widespread pesticides chlorosubstituted aromatic ring P 1 Clc organophosphorus moiety P 3 OP OPS The phenol ring P 2 c1ccccc1O related hydrophobocity formation free radicals 59 The interesting results follow addition background knowledge Indeed adding aromaticity measure leads skypatterns novel chemical characteristics We discuss results obtained growth rate frequency aromaticity measures M4 Once set skypatterns remains small lends straightforward analysis 21 skypatterns mined Fig 9b To simplify picture S denote sets skypat terns sharing common chemical feature The ﬁgure emphasizes environmentally hazardous chemical fragments phenol ring S4 chlorosubstituted aromatic ring S3 alkylsubstituted benzene S2 organophospho rus moiety P 1 Besides information dealing nitrogen aromatic compounds extracted S 1 The comparison list patterns jumping emerging fragments JEF extracted previous experiments 60 highlights gener alization potency skypatterns As example organophosphorus moiety skypattern generalization 90 JEFs seen kind maximum common structure consensus structure fragments The main result study concerns chemical interpretation outputs Indeed generalization capability skypatterns leads reduced list potential toxicophores easily interpretable chemists cf Fig 10 Even skypattern process complete respect user preferences dataset proposed list toxicophores 10 European Chemicals Bureau httpechaeuropaeu 11 A chemical Ch contains item A Ch supports A A frequent subgraph T W Ugarte et al Artiﬁcial Intelligence 244 2017 4869 67 Fig 9 Analyzing skypatterns Fig 10 Examples environmentally hazardous compounds related skypatterns S4 S3 S2 P1 S1 depends composition dataset measures We hope discover ecotoxicological structural alerts pass expect structural alerts present single dataset But progress discovery potential toxicophores valuable step The method suggest new compounds toxicophores toxicophores previously unknown Further vitro experiments required validate candidate toxicophores Note adding pvalue measure order provide statistical signiﬁcance skypatterns change results experiment Indeed pvalue maximized closed patterns adequate frequency set measures M5 growthrate freq aromaticity pvalue aromaticity leads closed patterns Out curiosity ran experiment M5 28 skypatterns instead 21 M4 21 skypatterns extracted M4 skypatterns M5 There signiﬁcant new insights chemical point view 8 Conclusion perspectives In paper investigate skyline pattern mining problem studying theoretical relationships condensed representations patterns skypatterns Based concept skylineability devised static method Aetheris dynamic method CPSky Aetheris exploits condensed representations patterns provide proper superset skypatterns apply Sky operator CPSky iteratively reﬁnes skyline constraints extracted patterns This leads better pruning search space Our approach generates complete set skypatterns generic manner large set measures includes statistical assessments pvalue The practical goal result pattern mining useful userpreference point view One strength approach lies fact threshold set enduser needs specify input dataset set measures interested An extensive empirical study case study chemoinformatics eﬃciency effectiveness algorithms according quantitative qualitative aspects Despite gain generality brought CSP framework fact Aetheris beneﬁts pruning strategies based antimonotonicity extract patterns CPSky competes Aetheris outperforms cases However CPSky search order patterns signiﬁcantly impact eﬃciency CSP solver Investigating beneﬁcial order patterns enumerated promising research direction maximize effectiveness strategy dynamically posting constraints 68 W Ugarte et al Artiﬁcial Intelligence 244 2017 4869 Skypattern mining generally applied wide range problems adapting language domi nance relation For instance language sequences graphs produce skypatterns The dominance relation changed extended account different criteria userpreferences We sketch issues Language Our formalization especially skylineability notion general applied large set languages sequences trees graph instance However change language impact eﬃciency extraction methods Regarding Aetheris eﬃciency approach based Theorem 1 involving distinct indistinct operators As aforementioned itemset patterns frequency measure distinct operator corresponds wellknown closed free condensed representations frequent patterns Consequently eﬃcient extraction skypatterns complex languages skyline sequential patterns skyline graph patterns strongly tied advances progress complex condensed representations patterns Evaluating distinct operator complex patterns eﬃciently sequences trees graphs implies addi tional challenges To cite case sequences convenient properties free patterns apriori property 61 implies effective search space pruning However methods extraction ded icated closed sequential patterns closed graphs Extending CPSky languages challenging task diﬃculty modeling complex patterns To best knowledge certain types pattern sequence mining successfully studied 6263 Dominance relation The dominance relation contains components measures basic preferences ex pressed frequency area combination basic preferences Pareto composition Primitivebased measures ﬂexible allow user express wide variety criteria Indeed classical interestingness mea sures pattern mining frequency growth rate utility functions measures statistical signiﬁcance like pvalue fall framework Of course Aetheris mentioned depends condensed representa tions welladapted desired measures Conversely interestingness measures easily expressible CPSky Through declarative nature CPSky offers CSP ﬂexible way change dominance relationship For instance strict dominance pattern dominated pattern better value measures M easily conﬁgurable CSP relaxation dominance relation leads mining softskypatterns 2 Exploratory skypattern mining We think skypattern mining particularly suited exploratory research In deed strength approach propose reduced collection patterns data expert quickly analyze It interesting integrate user feedbacks skypattern mining iterative exploratory An interesting avenue offer interactive way reﬁne preference criteria computing skypattern cube according possible subsets measures 64 assist user intuitive navigation We claim skypattern cube exploration provide better understanding impact measures problem hand Other kinds interactions possible discarding skypattern reveal patterns previously dominated interesting Acknowledgements This work partly supported ANR French Research National Agency funded projects FiCoLoFo ANR10BLA0214 Hybride ANR11BS002002 References 1 A Soulet C Raïssi M Plantevit B Crémilleux Mining dominant patterns sky ICDM IEEE Computer Society 2011 pp 655664 2 W Ugarte P Boizumault S Loudni B Crémilleux A Lepailleur Mining soft skypatterns dynamic CSP CPAIOR LNCS vol 8451 Springer 3 MJ Zaki K Sequeira Data mining computational biology S Aluru Ed Handbook Computational Molecular Biology Computer Information Science Series Chapman HallCRC Press 2006 pp 126 Ch 38 4 J Gasteiger T Engel Chemoinformatics A Textbook Wiley VCH Weinheim 2003 5 L Backstrom DP Huttenlocher JM Kleinberg X Lan Group formation large social networks membership growth evolution SIGKDD 6 L Backstrom JM Kleinberg R Kumar Optimizing web traﬃc media scheduling problem SIGKDD ACM 2009 pp 8998 7 W Fan M Miller SJ Stolfo W Lee PK Chan Using artiﬁcial anomalies detect unknown known network intrusions ICDM IEEE Computer 2014 pp 7187 ACM 2006 pp 4454 Society 2001 pp 123130 8 R Agrawal T Imielinski AN Swami Mining association rules sets items large databases SIGMOD ACM Press 1993 pp 207216 9 H Mannila H Toivonen Levelwise search borders theories knowledge discovery Data Min Knowl Discov 1 3 1997 241258 10 S Wrobel An algorithm multirelational discovery subgroups PKDD LNCS vol 1263 Springer 1997 pp 7887 11 PK Novak N Lavrac GI Webb Supervised descriptive rule discovery unifying survey contrast set emerging pattern subgroup mining 12 F Geerts B Goethals T Mielikäinen Tiling databases DS LNCS vol 3245 Springer 2004 pp 278289 13 F Bonchi F Giannotti C Lucchese S Orlando R Perego R Trasarti A constraintbased querying exploratory pattern discovery Inf Syst J Mach Learn Res 10 2009 377403 34 1 2009 327 14 N Pasquier Y Bastide R Taouil L Lakhal Eﬃcient mining association rules closed itemset lattices Inf Syst 24 1 1999 2546 W Ugarte et al Artiﬁcial Intelligence 244 2017 4869 69 15 T Calders B Goethals Nonderivable itemset mining Data Min Knowl Discov 14 1 2007 171206 16 J Boulicaut A Bykowski C Rigotti Freesets condensed representation boolean data approximation frequency queries Data Min Knowl Discov 7 1 2003 522 graphs J Intell Inf Syst 2013 129 17 S Bistarelli F Bonchi Soft constraint based pattern mining Data Knowl Eng 62 1 2007 118137 18 W Ugarte P Boizumault S Loudni B Crémilleux A Lepailleur Extracting summarizing frequent emerging graph patterns dataset 19 Y Ke J Cheng JX Yu Topk correlative graph mining SDM SIAM 2009 pp 10381049 20 J Wang J Han Y Lu P Tzvetkov TFP eﬃcient algorithm mining topk frequent closed itemsets IEEE Trans Knowl Data Eng 17 5 2005 652664 21 S Börzsönyi D Kossmann K Stocker The skyline operator ICDE IEEE Computer Society 2001 pp 421430 22 JL Bentley HT Kung M Schkolnick CD Thompson On average number maxima set vectors applications J ACM 25 4 1978 23 T Calders C Rigotti J Boulicaut A survey condensed representations frequent sets ConstraintBased Mining Inductive Databases 24 RT Ng LVS Lakshmanan J Han A Pang Exploratory mining pruning optimizations constrained association rules SIGMOD 1998 LNCS vol 3848 Springer 2005 pp 6480 536543 pp 1324 25 A Siebes J Vreeken M van Leeuwen Item sets compress SDM SIAM 2006 pp 395406 26 AJ Knobbe EKY Ho Pattern teams ECMLPKDD LNCS vol 4213 Springer 2006 pp 577584 27 LD Raedt A Zimmermann Constraintbased pattern set mining SDM SIAM 2007 pp 237248 28 B Bringmann A Zimmermann The chosen identifying valuable patterns ICDM IEEE Computer Society 2007 pp 6372 29 GC Garriga P Kralj N Lavrac Closed sets labeled data J Mach Learn Res 9 2008 559580 30 K Kontonasios TD Bie An informationtheoretic approach ﬁnding informative noisy tiles binary databases SDM SIAM 2010 pp 153164 31 W Hämäläinen M Nykänen Eﬃcient discovery statistically signiﬁcant association rules ICDM IEEE Computer Society 2008 pp 203212 32 A Gallo TD Bie N Cristianini MINI mining informative nonredundant itemsets PKDD LNCS vol 4702 Springer 2007 pp 438445 33 A Gionis H Mannila T Mielikäinen P Tsaparas Assessing data mining results swap randomization SIGKDD ACM 2006 pp 167176 34 M Mampaey N Tatti J Vreeken Tell I need know succinctly summarizing data itemsets SIGKDD ACM 2011 pp 573581 35 T Guns S Nijssen LD Raedt Itemset mining constraint programming perspective Artif Intell 175 1213 2011 19511983 36 LD Raedt T Guns S Nijssen Constraint programming itemset mining SIGKDD ACM 2008 pp 204212 37 M Khiari P Boizumault B Crémilleux Constraint programming mining nary patterns CP LNCS vol 6308 Springer 2010 pp 552567 38 HT Kung F Luccio FP Preparata On ﬁnding maxima set vectors J ACM 22 4 1975 469476 39 J Matousek Computing dominances eˆn Inf Process Lett 38 5 1991 277278 40 RE Steuer Multiple Criteria Optimization Theory Computation Application John Wiley 1986 546 pp 41 D Papadias Y Tao G Fu B Seeger Progressive skyline computation database systems ACM Trans Database Syst 30 1 2005 4182 42 K Tan P Eng BC Ooi Eﬃcient progressive skyline computation VLDB Morgan Kaufmann 2001 pp 301310 43 AN Papadopoulos A Lyritsis Y Manolopoulos Skygraph algorithm important subgraph discovery relational graphs Data Min Knowl Discov 17 1 2008 5776 Syst 34 1 2013 75108 44 P Shelokar A Quirin O Cordón Mosubdue Pareto dominancebased multiobjective subdue algorithm frequent subgraph mining Knowl Inf 45 DJ Cook LB Holder Graphbased data mining IEEE Intell Syst 15 2 2000 3241 46 M van Leeuwen A Ukkonen Discovering skylines subgroup sets ECMLPKDD LNCS vol 8190 Springer 2013 pp 272287 47 B Négrevergne A Dries T Guns S Nijssen Dominance programming itemset mining ICDM IEEE Computer Society 2013 pp 557566 48 F Pennerath A Napoli The model informative patterns application knowledge extraction graph databases ECMLPKDD LNCS vol 5782 Springer 2009 pp 205220 49 A Soulet B Crémilleux Adequate condensed representations patterns Data Min Knowl Discov 17 1 2008 94110 50 A Soulet B Crémilleux Mining constraintbased patterns automatic relaxation Intell Data Anal 13 1 2009 109133 51 E Omiecinski Alternative measures mining associations databases IEEE Trans Knowl Data Eng 15 1 2003 5769 52 R Dechter A Dechter Belief maintenance dynamic constraint networks AAAI AAAI PressThe MIT Press 1988 pp 3742 53 G Verfaillie N Jussien Constraint solving uncertain dynamic environments survey Constraints 10 3 2005 253281 54 C Lecoutre Constraint Networks Targeting Simplicity Techniques Algorithms WileyISTE 2009 55 F Rossi P van Beek T Walsh Eds Handbook Constraint Programming Elsevier 2006 56 A Lepailleur G Poezevara R Bureau Automated detection structural alerts chemical fragments ecotoxicology Comput Struct Biotech J 5 57 B Cuissart G Poezevara B Crémilleux A Lepailleur R Bureau Emerging patterns structural alerts computational toxicology Contrast Data Mining Concepts Algorithms Applications CRC Press 2013 pp 269282 58 I Sushko E Salmina V Potemkin G Poda IV Tetko Toxalerts web server structural alerts toxic chemicals compounds potential adverse reactions J Chem Inf Model 52 8 2012 23102316 59 C Hansch S McCarns C Smith D Dodittle Comparative QSAR evidence freeradical mechanism phenolinduced toxicity ChemBiol Interact 2013 e201302013 127 2000 6172 60 S Lozano G Poezevara M HalmLemeille E LescotFontaine A Lepailleur R BissellSiders B Crémilleux S Rault B Cuissart R Bureau Introduction jumping fragments combination QSARs assessment classiﬁcation ecotoxicology J Chem Inf Model 50 8 2010 13301339 61 D Lo S Khoo J Li Mining ranking generators sequential patterns SDM SIAM 2008 pp 553564 62 E Coquery S Jabbour L Saïs Y Salhi A SATbased approach discovering frequent closed maximal patterns sequence ECAI Frontiers Artiﬁcial Intelligence Applications vol 242 IOS Press 2012 pp 258263 63 A Kemmar W Ugarte S Loudni T Charnois Y Lebbah P Boizumault B Crémilleux Mining relevant sequence patterns CPbased framework 64 W Ugarte P Boizumault S Loudni B Crémilleux Computing skypattern cubes ECAI Frontiers Artiﬁcial Intelligence Applications ICTAI IEEE Computer Society 2014 pp 552559 vol 263 IOS Press 2014 pp 903908