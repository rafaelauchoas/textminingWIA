Artiﬁcial Intelligence 175 2011 20212060 Contents lists available ScienceDirect Artiﬁcial Intelligence wwwelseviercomlocateartint Algorithms mechanisms procuring services uncertain durations redundancy S Stein EH Gerding AC Rogers K Larson b NR Jennings Intelligence Agents Multimedia Group School Electronics Computer Science University Southampton Southampton United Kingdom b Cheriton School Computer Science University Waterloo Waterloo Canada r t c l e n f o b s t r c t Article history Received 16 September 2010 Received revised form 22 April 2011 Accepted 15 July 2011 Available online 23 July 2011 Keywords Mechanism design Multiagent systems Serviceoriented computing Uncertainty Redundancy In emerging serviceoriented systems computational clouds grids software agents able automatically procure distributed services complete computational tasks However service execution times highly uncertain service providers incentives lie strategically uncertainty win customers In paper argue techniques ﬁeld artiﬁcial intelligence instrumental addressing challenges To end ﬁrst propose new decisiontheoretic algorithm allows single service consumer agent procure services computational task strict deadline Crucially algorithm uses redundancy principled manner mitigate uncertain execution times maximise consumers expected utility We present optimal variant uses novel branchandbound formulation fast heuristic achieves nearoptimal performance Using simulations demonstrate algorithms outperform approaches employ redundancy 130 settings Next algorithms require private information providers capabilities techniques mechanism design incentivise truthfulness As existing work area deals uncertain execution times redundant invocations extend state art proposing number payment schemes settings In detailed analysis prove mechanisms fulﬁl range desirable economic properties including incentive compatibility discuss suboptimal variants scale realistic settings hundreds providers We experimentally mechanisms extract high surplus suboptimal variants typically achieve high eﬃciency 95 wide range settings 2011 Elsevier BV All rights reserved 1 Introduction Increasingly participants large distributed systems able discover automatically procure services This allows service consumers complete complex computational tasks demand need invest maintain expensive hardware Already serviceoriented approach gaining popularity large range application areas including grids peertopeer systems cloud utility computing 124821 Despite beneﬁts ﬂexible service procurement poses new challenges addressed satisfactorily current research In particular offered external providers consumers direct control Corresponding author Email addresses ss2ecssotonacuk S Stein egecssotonacuk EH Gerding acrecssotonacuk AC Rogers klarsoncsuwaterlooca K Larson nrjecssotonacuk NR Jennings 00043702 matter 2011 Elsevier BV All rights reserved doi101016jartint201107002 2022 S Stein et al Artiﬁcial Intelligence 175 2011 20212060 services display signiﬁcant uncertainty behaviour Thus execution time services highly uncertain concurrent access consumers hardware network problems providers scheduling policies This particularly problematic services long time complete common computationally intensive tasks consumers need obtain results certain deadline Furthermore large systems different providers offer functionally equivalent services heterogeneous quality costs This requires consumers appropriate decisions services procure balancing probability success overall cost In particular instead procuring single provider consumer beneﬁt redundantly procuring multiple service providers attempt task For example faced highpriority task long deadline consumer ﬁrst invoke unreliable service low cost However time approaches deadline task completed invoke costly reliable service ensure task completed time Alternatively critical task completed urgently consumer better terms costs probability success selecting multiple cheap services immediately instead single premium service This creates challenge consumer decisions wants maximise proﬁt However consumer optimal decisions services procure employ redundancy faced second highly related challenge This fact service providers inherently self interested agents choose misrepresent capabilities promises increase proﬁts For instance provider exaggerate speed order entice potential customers procure service inﬂate costs elicit higher payments In cases consumers end procuring unsuitable services unable complete task timely effective manner Put differently consumers decisions based wrong information lead suboptimal procurement strategies Clearly problems dealing uncertain execution times providers possible strategic behaviours closely interrelated More speciﬁcally order address ﬁrst challenge satisfactorily ensure providers truthfully reveal capabilities consumer However later ensuring truthfulness turn requires solve service procurement problem optimally For reason address intertwined challenges paper Now array existing techniques apply setting In particular decision theory computational search techniques design agents optimal actions uncertain environments mech anism design employed successfully incentivise truthfulness multiagent systems Unfortunately existing approaches readily applicable scenario consider Section 2 details For reason combine extend current state art multiple subﬁelds artiﬁcial intelligence demonstrate resulting techniques applied realistic largescale problem In address ﬁrst problem uncertain execution times following contributions work We ﬁrst characterise optimal solution generic service procurement problem service consumer procure multiple service providers dynamically redundantly time order complete task given deadline To ﬁnd eﬃciently combine analytical optimisation computational search techniques In present novel branchandbound algorithm exploits speciﬁc characteristics procurement scenario empirically reduce search optimal solution average 999 As algorithm relies ﬁnding optimal procurement times continuous domain derive eﬃcient closedform solutions settings independent execution durations ii perfectly correlated durations While branchandbound algorithm quickly ﬁnds solution settings dozens providers scale signiﬁcantly larger systems Hence present suboptimal heuristic algorithm service procurement problem This combines analytical results optimal algorithm greedy local search novel manner As result capable scaling settings hundreds thousands providers We evaluate algorithms extensively simulations In empirically achieve 130 improvement techniques use redundancy consistently outperform existing ad hoc techniques practice ﬁnally heuristic solution achieves nearoptimal performance We note algorithms perform particularly environments service durations independently distributed redundancy beneﬁcial settings perfect correlation resulting average improvement 27 certain scenarios As ﬁrst work relies having information providers capabilities address second interrelated problem strategic behaviour following contributions To apply algorithms settings private information extend state art mechanism design propose number novel incentive compatible mechanisms deal service procurement problem Unlike existing approaches far concentrated services deterministic runtime allocate task single provider agent mechanisms deal speciﬁcally uncertain execution durations multiple providers execute task parallel We propose mechanisms order effectively address S Stein et al Artiﬁcial Intelligence 175 2011 20212060 2023 wide range settings varying information computational requirements This needed mechanism implements optimal procurement schedule infeasible settings hundreds potential providers present range suboptimal alternatives largescale problems use arbitrary heuristics select outcome information providers known1 In ﬁrst consider settings cost private information cost service duration distribution private need elicited For case present mechanisms vary information requirements types providers A uniform pricing mechanism incentive compatible dominant strategies individually rational Further properties continue hold suboptimal heuristic ﬁnd allocation However achieve high eﬃciency 94 requires prior knowledge distributions provider types Two types discriminatory pricing mechanisms economic properties uniform pricing mech anism In contrast require speciﬁc knowledge provider types achieve good eﬃciency 8788 average For settings costs service duration distributions private information present mech anisms An ExecutionContingent VickreyClarkeGroves ECVCG mechanism conditions payments earliest comple tion time task This mechanism expost incentive compatible individually rational requires optimal solution service procurement problem An approximate ECVCG mechanism retains economic properties ECVCG uses subop timal allocation function polynomial runtime number providers We experimentally loss utility approximation typically small 10 better balanced explicitly computational effort required ﬁnd solution We stress contributions limited applications serviceoriented systems believe domain constitutes compelling timely motivation work More generally techniques applied settings project task uncertain duration outsourced As example critical product need procured dynamic supply chain application consumer able choose different producers uncertain production delivery times optimal strategy include obtaining product multiple providers In application government need urgently ﬁnd vaccine epidemic contract different laboratories work parallel Finally key application work emerging ﬁelds crowdsourcing human computation 47 work elicit uncertain completion times given task large pool workers contract workers parallel beneﬁcial The remainder paper structured follows In Section 2 start discussing related work followed Section 3 formal summary problem addressing In Section 4 generic approach ﬁnding optimal procurement strategy consumer information performance services consider models uncertainty Then extend Section 5 present mechanisms address settings private information In Section 6 evaluate strategy mechanisms empirically conclude Section 7 2 Related work The problem allocating computational tasks providers uncertain execution new researchers addressed speciﬁc aspects problem past This research carried wide range ﬁelds work looked speciﬁcally robustness serviceoriented systems highlyrelevant research conducted general areas scheduling planning uncertainty Finally literature mechanism design multiagent systems considered settings service provider agents need incentivised reveal capabilities truthfully considered settings uncertainty In following discuss strands research turn 21 Robust service procurement There considerable body work suggests use redundancy address uncertainty This based techniques reliability engineering critical components duplicated order increase reliability 548 Now analytical heuristic tools area concentrate mainly ei ther minimising cost failure probability subject constraints We believe insuﬃcient concentrate instead expected utility service consumer implicitly balances cost failure probability task Nevertheless work reliability engineering given rise similar techniques context services In vein critical task delegated unreliable service providers increases overall success probabil ity Such parallel redundancy successfully number application examples deployed peertopeer systems 1 highly dependable Web services 24 multiagent systems software engineering general 2359 1 For overview novel mechanisms speciﬁc theoretical properties Table 2 Section 51 2024 S Stein et al Artiﬁcial Intelligence 175 2011 20212060 Instead invoking service providers parallel work considered serial invocation services Here par ticular provider contacted ﬁrst fails takes long task delegated provider A proliﬁc example includes Googles MapReduce uses technique execute large collections dataprocessing tasks robustly computational clusters 9 approach suggested context peertopeer systems 13 Similarly existing service frameworks use predeﬁned timeout values determine switch alternative service providers 3810 A major shortcoming work discussed far reliance ad hoc techniques choosing appropriate number redundant services timeout values A principled approach taken work restarting Web queries examines queries timed reissued possibly different provider ensure timely completion 632 Similar work exists domain grid services 18 However research typically assumes query active time costs multiple queries explicitly balanced resulting beneﬁt This shortcoming addressed Stein et al 52 use decision theory context combine parallel serial redundancy maximise service consumers expected utility They approach allows sumer successfully complete tasks strict deadlines dealing providers failureprone display high duration uncertainty In related work apply similar techniques dynamic markets servicelevel agreements negotiated advance 51 Our approach similar theirs number key dif ferences First concentrate large workﬂows interdependent tasks necessitating use suboptimal heuristics In contrast consider optimal algorithms single tasks present analytical solution particular family distributions Second work assumes probabilistic performance information service providers avail able consumer A key contribution paper number mechanisms incentivise providers reveal information truthfully consumer 22 Stochastic scheduling planning Research stochastic scheduling bears similarities work Here goal ﬁnd optimal schedules policies completing tasks stochastic durations random failures processors 423 Most research consider redundant execution tasks multiple processors considered model objective functions typically different problem 3744 In particular work usually aims maximise total number failures tolerated scheduling algorithm Often restrictions level redundancy typically limited primary backup processor assumed scheduling mechanism complete control free access processors None considerations assumptions apply service procurement scenario Somewhat closer work research algorithm portfolios 221927 multiple instances stochastic search algorithms combined produce faster dependable results This achieved running instances independent processors interleaving restarting single processor However important differences work First typically assumed use processing resources inherently free main objective minimise runtime variance resources This unrealistic settings resources offered selfinterested agents One exception work Finkelstein et al 11 closer explicitly considers cost running resources However like work algorithm portfolios assume processes stopped restarted Such ﬁnegrained control impractical serviceoriented systems providers unwilling surrender control scheduling policies Furthermore consider parallel processors case problem diﬃcult solve optimally practice Another body work relevant problem addressed paper concerned planning uncer tainty especially explicitly considers continuoustime domains 3133 This research uses variations Markov decision problems MDPs formalisms number drawbacks First general require num ber adaptations handle scenario including concurrently running interruptible actions represent parallel serial redundancy quickly leads infeasibly large state space number providers increases This exacerbated need discretise action duration functions increases state space considerably results suboptimal policies 23 Mechanism design So far work discussed section concentrated designing agent strategies deal uncertainty When uncertainty explicitly modelled typically assumed probabilistic information providers behaviour available past interactions appropriate trust reputation 455320 However unrealistic settings interactions costly appropriate reputation place new providers routinely enter For cases existing research concentrated designing appropriate mechanisms incentivise providers reveal private information cost probabilistic performance estimates consumer In particular Porter et al 43 suggest mechanism incentivises providers report truthful estimate success probability S Stein et al Artiﬁcial Intelligence 175 2011 20212060 2025 given task This achieved conditioning payment providers successfully complete task Ramchurn et al 46 extend considering scenarios providers report perceived reliability providers While consider potential failures approaches use redundancy increase consumers success probability consider uncertain service durations Witwicki Durfee 58 investigate uncertain durations propose negotiation mechanism providers agree provide service given time certain probability But approach assumes providers cooper ative report success probabilities truthfully unrealistic open distributed systems consider employ redundancy Gerding et al 15 present mechanisms incentivising noncooperative providers invest costly resources order increase probability success task use redundancy increase utility consumer Similarly Babaioff et al 2 consider general principalagent setting multiple service providers need incentivised exert effort complete common task individual actions veriﬁed probabilistic outcomes As special case model covers setting multiple providers work task redundantly However assume success probabilities costs publicly known Further Gerding et al 15 service invocation fails succeeds consider timecritical tasks Therefore issue invoke certain provider investigated A slightly different problem investigated Papakonstantinou et al 40 use scoring rules incentivise agents provide costly estimates probabilistic parameter However setting different time ﬁnd solution considered multiple estimates merged improve overall quality Several mechanisms proposed speciﬁcally domain computational services 5 For example Garg et al 14 continuous double auction allocate resources computational grid Narahari et al 35 discuss incentivecompatible mechanisms similar application These approaches directly apply problem consider deal uncertain execution times Now mechanism closer work Stein et al 49 Here authors investigate service providers incentivised reveal costs processor speeds truthfully work considers uncertainty computational requirements task execution times provider Their model fundamentally different allow tasks suspended migrated provider In work address shortcomings First design optimal agent strategy explicitly balances beneﬁt associated cost redundancy decisiontheoretic approach allow providers invoked dynamically time Then develop number mechanisms incentivise providers reveal private performance information consumer good procurement strategy redundancy 3 Problem speciﬁcation In section begin introducing problem formal terms present utility functions preferences agents social welfare represents utility We consider scenarios execution uncertainty occurs practice generate number speciﬁc models based different assumptions nature uncertainty 31 General setting We consider single service consumer A like complete task T The consumer derives value V R task successfully completed given deadline D R 0 The problem faced agent unable execute task procure services party We assume m service providers given set M 1 m complete task consumers behalf The consumer invoke provider M time interval 0 D In particular consumer multiple services running concurrently task In case value V obtained invoked services completes required time additional value obtained multiple services complete task We assume invoked provider remains committed task completed possibly deadline Thus service interrupted As service completion times generally uncertain let Xi random variable describing execution time provider assume Prob Xi cid2 0 0 This time invocation completion includes time needed pre postprocessing queueing data transfers The random variables Xi M distributed accord ing cumulative distribution functions F F Prob Xi cid2 t probability task successfully completed t time units invocation Furthermore let f dF itdt corresponding probability density function In following refer F provider duration function We assume general consumer providers actively inﬂuence running time However necessarily assume running times different providers independently distributed In Section 33 elaborate uncertainty arise practice affects modelling assumptions While executing provider incurs cost ci cost represent running costs computational resources opportunity costs able use resources tasks In case cost uncertain opportunities arise typically depends execution time ci 2026 S Stein et al Artiﬁcial Intelligence 175 2011 20212060 interpreted expected cost For simplicity refer ci deterministic value To compensate provider cost provider M receives payment given transfer functions τi In case provider costs ci publicly known transfers simply equal costs provider invoked zero regardless task succeeded time2 While setting providers paid costs unrealistic settings investigate Section 4 This allows compute optimal procurement schedule known costs form basis private information settings Formally ci known cid2 τi ci 0 provider invoked On hand costs private transfers determined procurement mechanism discussed Sec tion 5 typically equal providers costs In section particular assumption transfer functions calculated expost depend available information including task succeeded deadline Note transfers negative case provider incurs penalty Finally assume participants expected utility maximisers At point noted described model number possible extensions First applica tions consumer face workﬂows interdependent tasks single task Furthermore assumption service costs stay constant active period task ﬁrst comes available deadline However practice varying demand capacity constraints lead dynamic costs3 uncertainty future costs Similarly assume ﬁxed deadline successful service result easily veriﬁed consumer potential future extensions work examine soft uncertain deadlines settings uncertainty task completed successfully 32 Procurement strategy agent utility functions Given setting interested ﬁnding procurement strategy ρ speciﬁes plan determines providers invoked We denote P set valid procurement strategies compactly represent element set follows Deﬁnition 1 Procurement strategy A procurement strategy vector ρ cid4s1 t1 sn tncid5 P n cid2 m element represents invocation time ti 0 D provider si M Importantly provider si invoked time ti incurs cost csi provider far completed task Without loss generality assume ti cid2 ti1 elements vector ordered invocation time si cid6 s j cid6 j We use ρ denote case provider invoked For example assume providers M 1 2 3 4 ρ cid42 0 3 0 1 25cid5 Here providers 2 3 invoked immediately Then task completed t 25 provider 1 invoked causing providers run concurrently Provider 4 invoked Given strategy ρ random variables describing duration distributions like derive probability task T completed certain time This given Deﬁnition 2 Completion probability Denote Xρ mini1nti Xsi random variable describing completion cid2 time task Then probability task T completed certain time t given recalling Prob Xsi 0 0 1 2 ProbXρ cid2 t Prob cid3 cid5 ncid4 i1 Xsi cid2 t ti We ready specify utility functions consumer providers In follows specify utility execution procurement schedule expected utility given procurement strategy prior execution Deﬁnition 3 Consumers utility The consumers utility u Aρ cid6 cid7 V cid7 iM τi iM τi Xρ cid2 D Xρ D 3 2 Note assumed task completed provider deadline To prevent service provider investing resources incurring costs payment completion 3 This partly addressed related work 49 2027 4 5 S Stein et al Artiﬁcial Intelligence 175 2011 20212060 consumers expected utility prior execution u Aρ V ProbXρ cid2 D τiρ cid8 iM Here τiρ expected transfer providers given schedule ρ prior execution The transfers depend details procurement mechanism setting costs publicly known expected transfer provider simply cost multiplied probability invoked equal probability provider completed task time provider scheduled invoked In let tρ indicate invocation time provider procurement strategy ρ deﬁne tρ provider schedule Given τi information setting calculated by4 cid11cid12 cid10 τiρ ci cid9 1 Prob Xρ cid2 tρ Furthermore service providers utility deﬁned Deﬁnition 4 Service providers utility Let Iρ si ti cid2 Xρ set providers invoked task The utility service provider τi ci τi Iρ uiρ 6 cid6 provider expected utility prior execution strategy ρ uiρ τiρ ci cid9 1 Prob cid10 Xρ cid2 tρ cid11cid12 7 In general interested choosing strategy maximises social welfare sum utilities agents derive This natural metric eﬃciently agents work achieving task explicitly balances beneﬁt successful task completion overall costs incurred Now actual completion time unknown execution need consider expected social welfare selecting strategy ρ As explicitly models uncertainty service execution times key consideration work described Section 1 In follows provide equations welfare expected welfare turn Note equations longer contain transfers simply redistribute utility agents Deﬁnition 5 Social welfare The social welfare given wρ u Aρ cid8 iM uiρ V cid7 iIρ ci iIρ ci Xρ cid2 D Xρ D cid13 cid7 The expected social welfare prior execution given wρ u Aρ cid8 iM uiρ V ProbXρ cid2 D cid10 cid11 1 ProbXρ cid2 ti csi ncid8 i1 8 9 So far detailed calculate probabilities equations order avoid making assumptions duration probabilities service durations different providers independent correlated We explore issue following section instantiate Eq 2 comple tion probability particular environments This allow analytically derive optimal invocation times providers certain conditions Section 4 33 Models uncertainty As fundamental model assume execution time service uncertain far explicit nature uncertainty In following explore issue identify possible levels correlation occur practice environments correlation probability distri butions execution time perfect correlation imperfect correlation Furthermore number example scenarios different modelling assumptions likely apply practice provide good approximation ﬁrst settings rewrite Eqs 2 9 This help derive optimal procurement strategy settings Section 4 4 Note special case ρ transfers 0 τi 0 2028 S Stein et al Artiﬁcial Intelligence 175 2011 20212060 331 Independent distributions Most research task allocation execution uncertainty assumes execution durations different providers independently distributed This reasonable assumption setting example computational requirements task known terms number computational cycles uncertainty load service providers resources time execution This occur task submitted queue computational cluster mainframe uncertainty completion time tasks Alternatively resource shared concurrently running tasks submitted users affect duration consumers task As result local providerspeciﬁc uncertainty reasonable assume service durations independently distributed correlation execution times different providers5 For setting independence assumed Eq 2 rewritten follows ProbXρ cid2 t Prob cid3 ncid4 i1 cid5 Xsi cid2 t ti 1 Prob cid5 Xsi t ti cid3 ncid14 i1 1 ncid15 cid10 i1 cid11 1 F si t ti As result given F ix 0 x cid2 0 Eq 9 expected social welfare cid3 wρ V 1 cid11 1 F si D ti ncid15 cid10 i1 cid5 ncid8 i1cid15 cid10 csi i1 j1 cid11 1 F s j ti t j 10 11 332 Perfect correlation In contrast providerspeciﬁc uncertainty settings uncertainty associated task That task diﬃculty terms number computational cycles required solve unknown priori given probability distribution For example generally unknown diﬃcult speciﬁc instances NPhard optimisation problems solve techniques estimate empirical hardness 30 obtain probability distribution diﬃculty Assuming resources immediately available inﬂuenced concurrent tasks duration service modelled deterministic function diﬃculty Generally providers use different hardware processing speeds costs providers vary considerably particular diﬃculty Given setting execution times different providers perfectly correlated We use example scenario setting formally Let Y denote continuous random variable describing task diﬃculty distributed according cumulative function G y corresponding density function g y support 0 The task diﬃculty deﬁned commonly agreed metric details important purpose model Each provider quality service function qi R 0 qit denotes maximum diﬃculty provider solve t time units We assume qi increasing differentiable qi0 0 Furthermore deﬁne F Gqit probability provider completes task t time units corresponds exactly duration function introduced beginning Section 3 R 0 Given formalisation rewrite Eqs 2 9 setting later Section 4 equations simpliﬁed optimal solution In result perfect correlation note union operator replaced maximisation provider solves highest diﬃculty allocated time given qit inﬂuences overall success probability cid3 ncid4 ProbXρ cid2 t Prob cid5 cid16 Xsi cid2 t ti Prob Y cid2 max 1cid2icid2n cid17 qsi t ti cid16 G And Eq 9 i1 max 1cid2icid2n cid17 qsi t ti max 1cid2icid2n F si t ti wρ V max 1cid2icid2n F si D ti cs1 cid18 1 max 1cid2 jcid2i1 cid19 F s j ti t j csi ncid8 i2 12 13 5 Even setting assumption valid It case example providers highly loaded busy periods opposite holds quiet periods In case conditional independence obtained based example time day S Stein et al Artiﬁcial Intelligence 175 2011 20212060 2029 333 Imperfect correlation While previous settings considered perfect correlation service durations scenarios contain correlation limited extent For example computational diﬃculty problem uncertain described different providers use different algorithms solve problem This lead imperfectly correlated execution times generally hard problem longer solve providers providers faster certain problems slower Furthermore algorithm nondeterministic factors mentioned Section 331 contribute duration uncertainty particular provider Although settings imperfect correlation common typically require domainspeciﬁc model describes nature correlation service durations As result analyse imperfectly correlated settings paper instead concentrate settings However results extended settings imperfect correlation In particular mechanisms presented Section 5 incentivise providers truthfully report costs duration functions apply imperfect correlation case However require problem solved optimally range allowable outputs described Section 5 Since imperfect correlation settings unlikely admit analytical solution time space need discretised This concludes discussion problem address paper utility functions motivate agents systems consider types execution uncertainty occur practice In section optimal procurement strategy service consumer 4 Optimal service procurement Finding optimal procurement strategy deciding providers invoke times fundamental paper First current service markets providers typically offer resources ﬁxed prices publicly listed transfers determined mechanism set providers depending balance supply demand Second allow design eﬃcient mechanisms Section 5 In context interested maximising expected social welfare represents available providers complete task explicitly balances combined costs providers value successful execution Throughout section assume providers costs ci duration functions F public information consumer simply compensates providers incurred costs invoked τi ci provider invoked τi 0 In Section 5 settings assumption hold For means social welfare consumers utility equal wρ u Aρ seeking optimal strategy ρ argmaxρP wρ maximises ﬁrst outline example scenario This highlights potential beneﬁt redundancy showing appropriate procurement multiple service providers lead signiﬁcant improvement utility compared relying single service provider Before ρ 41 Motivating example In example graphic designer needs render highresolution image advertising campaign As needs present work senior managers board meeting later day strict deadline 60 minutes D 60 values task 100 V 100 Now complete rendering task computational resources disposal As ﬁrst option submit task desktop PCs company set use idle processing cycles run background tasks These cheap department billed 060 time task submitted cPC 06 completion time highly uncertain desktop use regular owner concurrent tasks Here assume uncertainty described exponential distribution mean duration 2 hours F PCt 1 e 120 t As second option outsource task powerful mainframe maintained external company This signiﬁcantly faster powerful hardware generally lower congestion Hence assume distribution F MFt 1 e run cost higher provider charging 60 invocation cMF 60 3 mean duration 15 minutes However mainframe expensive 2t As common related work designer choose service provider promises highest expected utility Using desktop PCs result w V F PCD cPC 3875 submitting task external mainframe yield slightly higher utility w V F MFD cMF 40 Hence best choosing option virtually guarantee successful execution deadline incur large cost However instead choosing provider demonstrate exploit redundancy complete task Here assume identical desktop PCs company 1 2 3 external mainframe 4 For let assume durations independently distributed described Section 331 Given submit job PCs later mainframe ensure task completed time In 2030 S Stein et al Artiﬁcial Intelligence 175 2011 20212060 Fig 1 Success probability time ρ combined constituent services desktop PC mainframe durations uncorrelated Fig 2 Success probability time ρ combined constituent services desktop PC mainframe durations perfectly correlated fact setting optimal strategy ρ cid41 0 2 0 3 0 4 5451cid5 results expected utility w V 1 1 F PCD3 1 F MFD 5451 3cPC cMF 1 F PC54513 8227 This strategy shown Fig 1 constituent services invoked ρ plots success probability time ρ Overall ρ results 100 improvement best single provider strategy Next examine setting service durations perfectly correlated described Section 332 To end use parameters given D 60 V 100 assume uncertainty lies diﬃculty rendering task More speciﬁcally designer knows potential machines idle unsure number processing cycles needed complete task Thus assume diﬃculty task distributed y Furthermore assume local PCs external mainframe available according G y 1 e service durations given respectively functions PC y 120 y y task diﬃculty qMFt 2 3 t This results exactly distribution functions durations perfectly correlated If provider invoked setting best expected utility gained invoking expensive mainframe resulting w 40 When employing redundancy ﬁrst note setting designer gain invoking cheap desktop PCs durations identical However beneﬁt ﬁrst invoking cheap PC later mainframe This mainframe needed task completed deadline invoked increase probability success More speciﬁcally optimal strategy case ρ cid41 0 4 5201cid5 results expected utility w 6002 Fig 2 While large uncorrelated case constitutes 50 improvement single provider approach These examples highlight potential beneﬁt redundancy task procurement scenarios cases durations independent perfectly correlated In following discuss optimal procurement strategy cases More speciﬁcally split problem distinct parts start Section 42 looking problem computing optimal invocation times given know providers invoked order In Section 43 ordering providers 42 Optimal invocation times We interested ﬁnding optimal procurement strategy ρ note computationally hard problem combinatorial nature nonlinear objective function We observation speciﬁc case restless bandit problem 57 The restless bandit problem extension multiarmed bandit S Stein et al Artiﬁcial Intelligence 175 2011 20212060 2031 problem n arms time t number M arms chosen activated When arm state activated cost ci incurred transitions state j probability pi j If arm activated cost incurred transitions state j probability qi j The goal ﬁnd policy schedule activating arms maximise average rewards In Appendix A optimal procurement problem modelled restless bandit problem Classic multiarmed bandit problems special case restless bandit problem qii 1 qi j 0 cid6 j multiarmed bandit problem optimal solution Gittins priorityindex rule 17 polynomial time algorithms case restless bandit problem In particular shown case arm activated time M 1 transitions deterministic problem computing approximately optimal schedule PSPACEhard 396 Since optimal procurement problem instance restless bandit problem M 1 allowing probabilistic transitions following observation Observation 1 The optimal procurement problem modelled restless bandit problem PSPACEhard compute approximately optimal schedule To solve problem initially assume optimal subset providers ordering given That given ordered set providers ρ cid4s1 sncid5 si invoked si1 To compute optimal procurement s schedule determine ρ cid4t1 tncid5 ti invocation time si To end compute gradient t expected welfare wρ t 0 exists This results n simultaneous equations equation ti constraints 0 cid2 ti cid2 D j cid2 j ti cid2 t j Solving equations checking appropriate second order conditions identifying global maximum depend family duration distributions analytically numerically standard optimisation software available Matlab Mathematica Maple t ﬁnd root wρ In follows number assumptions duration distributions order derive closedform analytical solutions Speciﬁcally We focus exponential distribution commonly modelling uncertain service durations 557 As discussed Section 333 concentrate scenarios independent perfectly correlated dura tions We cover separately objective functions fundamentally different We stress assumptions limit generality approach mechanisms outlined Section 5 They simply allow derive simple closedform solutions optimal invocation times section To end following start looking setting independent durations 421 Independent durations We derive analytical expressions invocation times ρ t given ρ s given duration distributions λit λi 0 rate parameter Rewriting Eq 11 providers M described F 1 e distributions computing gradient yield wρ ti V λsi ncid15 λs j Dt j csi e j1 cid3 ncid8 j1cid15 cs j ji1 k1 λsi λsk e t j tk i1cid8 icid15 λsi k1 j1 cid5 λsk ti tk e To ﬁnd maximum set zero divide sides cid20 k1 eλsk 0 V λsi ncid15 λs j D e ncid15 λs j e t j csi j1 cid3 ncid8 cs j ji1 j1cid15 λsk t j e j1cid15 ji1 k1 ki1 λsi eλsk tk i1cid8 icid15 λs j k1 j1 cid5 λsk ti e tk 14 15 6 This terms number arms 7 The exponential distribution memoryless distribution leads compact solution However similar approaches applied distributions analytical solution intractable impossible time discretised solution arbitrary distributions We return Section 533 perform experiments distributions Section 612 2032 S Stein et al Artiﬁcial Intelligence 175 2011 20212060 Here note ti independent t j j invocation time provider depend invocation time running This result exponential function memoryless probability completing task time interval cid6t independent invoked Hence calculate ti backward induction starting provider n The invocation time obtained directly taking derivative respect tn Eq 15 lncsn tn D cid7 n1 j1 λs j lnV λsn cid7 n j1 λs j 16 Furthermore obtain simpler closedform solution remaining invocation times combining manip ulating partial derivatives ti ti1 resulting i1cid8 i1cid15 csi λsi λs j j1 λsk ti tk e cid3 ncid8 j1cid15 cs j λsk e t j tk cid5 k1 icid8 icid15 λs j j1 k1 ji1 λsk ti1tk e k1 ncid8 cid3 j1cid15 cs j ji2 k1 cid5 λsk e t j tk csi1 λsi1 Then algebraic manipulations isolate ti derive expression based solely ti1 ti ti1 cid7 cid21 ln csi1 λsi csi λsi1 cid22 cid7 cid7 i1 j1 λs j i1 j1 λs j 1 j1 λs j 17 18 Note Eq 18 deﬁned t1 optimal set t1 0 This cost incurred case delays reduce probability success deadline Furthermore note equations yield negative values ti indicating optimal values lie outside constraints problem task started In case ti inﬂuence procurement times later providers optimal choice set ti 0 provider invoked earliest possible time Furthermore equations yield inconsistent values ti D ti ti1 occurs ordering andor set providers nonoptimal ﬁrst place Finally note partial second derivatives negative variable uniquely time backward induction ﬁnal result optimal In section optimal invocation times ρ t service durations perfectly correlated 422 Perfectly correlated durations We consider optimal procurement strategies scenarios uncertainty stems diﬃculty task As result duration distributions perfectly correlated discussed Section 332 calculating social welfare allows replace union operator maximisation operator Eq 13 In section simplify equation case optimal procurement strategy For convenience restate equation slightly different terms wρ V G cid16 max 1cid2icid2n cid17 qsi D ti cs1 cid16 cid18 1 G ncid8 i2 csi cid17cid19 max 1cid2 jcid2i1 qs j ti t j Now following properties enable considerably simplify equation 19 Lemma 1 Any optimal procurement strategy perfectly correlated settings ρ verted equivalent terms expected social welfare strategy having properties following properties 1 The overall success probability depends provider invoked Formally argmax 1cid2icid2n qsi D ti n 2 The probability provider si invoked depends provider invoked si1 Formally 2 n argmax 1cid2 jcid2i1 qs j ti t j 1 Proof We prove properties turn Suppose ﬁrst property hold exists provider sk position k schedule argmax1cid2icid2n qsi D ti k k n In case remove providers S Stein et al Artiﬁcial Intelligence 175 2011 20212060 2033 Fig 3 Example showing probability success provider time procurement strategy 3 service providers t1 0 t2 20 t3 30 This procurement schedule satisﬁes ﬁrst property Lemma 1 second s j j k procurement strategy adversely affecting expected social welfare To note removing providers affect ﬁrst term Eq 19 value determined provider sk affect probability invoking providers including kth provider schedule As result manipulation property 1 holds provider sk provider schedule Now assuming property 1 holds prove second property inductive argument Suppose time j providers invoked si provider si cid2 n That exists property 2 holds s j provider sk k 1 argmax1cid2 jcid2i1 qs j ti t j k In case remove provider si1 procurement schedule negatively affecting Eq 19 To note provider si1 affect overall probability success determined provider sn property 1 Furthermore si1 affect invocation probability provider preceding Crucially provider si1 affect invocation probability provider si determined provider sk affect provider s j j assumption invocation probability determined provider s j1 Now starting provider sn elimination process repeated property 2 holds cid2 A graphical example clarify properties depicted Fig 3 In example s3 invoked achieve maximum overall probability success deadline Therefore example satisﬁes property 1 Lemma 1 On hand note t 30 s3 invoked highest probability success determined provider s1 instead s2 This violates property 2 Lemma 1 We better removing provider s2 schedule affect overall probability success invocation probability providers However removing provider s2 reduce expected costs strategy Fig 3 optimal Although exist multiple optimal strategies Lemma 1 restrict attention satisfy properties 1 2 This way simplify Eq 19 removing max operators results cid11 cid10 ρ w V F sn D tn cs1 cid12 cid9 1 F si1 ti ti1 csi ncid8 i2 20 In follows use simpliﬁed equation ﬁnd optimal strategy As Section 421 state number necessary conditions ﬁnding optimal invocation times given appropriate ordering We setting wρti 0 results 0 csi 0 csn f si1 ti ti1 csi1 f sn1 tn tn1 V f sn D tn f si ti1 ti 1 n 22 f si x dF si xdx As note optimal invoke ﬁrst provider earliest possible time t1 0 This gives simultaneous equations solved ti yield optimal invocation times As Section 421 use exponential distribution following demonstrate prac tice In assume F si t 1 e t This arises example problem y provider quality diﬃculty Y distributed according exponential distribution G y 1 e service function qsi t λsi t provider execution time depends linearly diﬃculty Hence F si t Gqsi t 1 e t Moreover ease notation let cid6ti ti ti1 waiting time invok ing provider si1 si cid6t1 0 allowing rewrite Eqs 21 22 follows t f si t λsi e λsi λsi λsi 0 csi λsi1 e 0 csn λsn1 e λsi1 cid6ti csi1 λie λsn1 cid6tn V λsn e λsi cid6ti1 1 n λsn Dtn 23 24 21 2034 S Stein et al Artiﬁcial Intelligence 175 2011 20212060 Rearranging following equalities hold csi λsi1 e csi λsi1 e λsi1 cid6ti cs j λs j1 e λsi1 cid6ti V λsn e λs j1 cid6t j 1 j cid2 n λsn Dtn 1 cid2 n Using Eq 25 easily calculate cid6ti given cid6t j 1 j ln csi λi1 cs j λs j1 λs j1 cid6t j cid6ti Given note tn λsi1 cid7 n i2 cid6ti use replace tn Eq 26 This allows calculate cid6tn directly8 csn λsn1 e λsn1 cid6tn V λsn e λsn D ln cid7 n1 i2 Solving cid6tn obtain λsi1 csi csn λsn1 λsn1 cid6tn λsi1 cid6tn cid6tn ln csn λsn1 V λsn λsn λsn D λsn λsn1 λsn λsn1 n1 i2 cid7 1 λsi1 n1 i2 ln csi λsi1 csn λsn1 1 λsi1 cid7 25 26 27 28 29 This allows calculate waiting time provider cid6tn use calculate waiting times Eq 27 Deriving actual invocation time ti provider trivial t1 0 ti cid7 j1 cid6t j We problem ﬁnding optimal ordering subset providers 43 Optimal provider sequence So far equations developed Sections 421 422 allow eﬃciently calculate optimal procurement times given sequence service providers ρ s However obvious ﬁnd optimal set ordering providers Related work economic search orders alternatives reservation values allocation indices 56 17 directly apply case overlap concurrently invoked providers Furthermore problem includes ﬁxed time constraint task completed Other greedy approaches order services increasing costs decreasing rate parameters ratio approaches ﬁrst select providers individually yield higher expected utility ﬁnd optimal solutions This best select cheaper slower providers ﬁrst invoke expensive faster ones later ensure task completed successfully However deadline task particularly short consumer forced immediately invoke faster expensive providers As simple example consider set providers M 1 2 The ﬁrst cheap slow c1 02 λ1 01 second expensive fast c2 5 λ2 10 For sake example durations independent If assume consumer task T deadline D 15 utility V 100 optimal procurement strategy ρ cid41 0 2 075cid5 However decrease deadline slightly D 1 optimal strategy ρ cid42 0 1 084cid5 reversing order invoked providers This observation suggests simple greedy search optimal strategy insuﬃcient However bruteforce search possible subsets orderings clearly infeasible number providers rises handful number possible orderings m providers cid7 cid7 m cid11 i0 mm cid10 m m i0 Fortunately possible quickly obtain optimal order providers certain realistic assumptions quality service functions perfectly correlated setting We assumptions Section 431 Then develop generic optimal branchandbound algorithm Section 432 describing speciﬁc adjust ments scenarios independent perfectly correlated durations As algorithm signiﬁcantly reduces space solutions searched copes larger problems service providers For situations infeasible dozens providers develop fast greedy algorithm Section 433 431 Optimal order perfectly correlated setting In perfectly correlated setting reasonable certain assumptions quality service func tions qi providers In particular note settings providers able complete diﬃcult task time period For example consider identical PCs clock speeds 2 GHz provider 1 3 GHz provider 2 safely assumed run 8 The procedure calculate arbitrary cid6t j We pick cid6tn leads simpler expression S Stein et al Artiﬁcial Intelligence 175 2011 20212060 2035 time maximum task diﬃculty provider 2 able complete higher We formalise following Assumption 1 There exists total strict ordering providers d d j implies qix q jx x R 9 We note wide range functions satisfy assumption including linear generally polynomial exponential function constants providers order It applies functions assumed Section 422 This assumption gives unambiguous ordering providers preserved optimal sequence Lemma 2 Given Assumption 1 providers j optimal sequence ρ t t j s d j invoked j Proof The proof fairly straightforward demonstrated contradiction Suppose optimal schedule j invoked j By assumption qix q jx x cid3 0 Because q j increasing Section 331 qix t t q j y 0 cid2 x cid2 y Let x t t This means point time task completed provider time t completed provider j time t j t current time qit ti q jt t cid13 t Therefore provider superﬂuous ρ s contradicts assumption cid2 j t cid3 t y t t The observation useful considerably reduces search space We prune noting beneﬁcial invoke slower expensive provider faster cheaper provider Intuitively holds simply invoke second provider immediately completely discard ﬁrst This leads higher overall success probability reduces expected cost increasing social welfare Hence remove providers dominated way resulting sequence providers ordered increasing speed d increasing costs Although gives ordering optimal sequence left problem ﬁnding optimal subset providers invoke Thus following section generic branchandbound algorithm applies settings considered far In particular works general settings independent perfectly correlated durations In addition Assumption 1 applies uses results section speed search 432 Generic branchandbound algorithm In section introduce branchandbound algorithm settings correlated independent durations order reduce space subsets orderings searched This algorithm iteratively partitions set solutions smaller subsets Each time happens algorithm computes lower upper bound solutions given subset allowing quickly prune subsets contain optimal solution upper bound lower bound far More speciﬁcally branchandbound algorithm based number general observations Some providers inherently unsuitable given problem orderings containing providers discarded For example consumer immediately invokes provider 1 c1 9 task value V 10 proﬁt 1 matter providers invoked later If knows different provider promises better utility immediately discard orderings begin provider 1 As providers added end given ordering addition increasingly diminishing returns allowing discard solutions providers For example ordering cid41 2 3cid5 promises success probability close 1 necessary consider solutions start providers cid41 2 3 4cid5 cid41 2 3 5cid5 cid41 2 3 4 5cid5 cid41 2 3 5 4cid5 This adding providers end increases cost signiﬁcantly improve success probability Some providers clearly dominate For example provider cheaper faster j j invoked i10 Hence remove orderings j In correlated case assumption described Section 431 allow ﬁnd unique ordering providers increasing cost quality hold optimal solution enable discard number dominated providers However note applies correlated case durations independent Hence following consider independent correlated settings separately applicable 9 For simplicity assume ordering strict points time requirement weakened 10 Note provider faster j x F x cid3 F jx 2036 S Stein et al Artiﬁcial Intelligence 175 2011 20212060 Algorithm 1 Branchandbound algorithm Lowerρs cid4cid5 ρs argmaxρs Q Q Q ρs cid13 P s ρs 1 ρ s 2 ulower 0 3 Q ρ s 4 Q cid6 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 end 21 return FindTimesρ s Expandρs cid13 P cid13 s cid13 ˇu Lowerρs cid13 ˆu Upperρs ˆu ulower cid13 Q Q ρs ˇu ulower ρ cid13 ρs s ulower ˇu end end end Q x Q Upperx ulower cid15 Best ordering far cid15 Best current lower bound cid15 Unexpanded orderings cid15 More unexpanded cid15 Pick best cid15 Remove ρs Q cid15 Expand ρs cid15 Find lower bound cid15 Find upper bound cid15 Suﬃcient upper bound cid15 Keep future expansion cid15 Better lower bound cid15 Keep current best cid15 Filter orderings cid15 Return best strategy Fig 4 Search tree explored branchandbound algorithm M 1 2 3 s These intuitions captured branchandbound technique Algorithm 1 In begin ordering ρ cid4cid5 line 1 repeatedly consider new ordering created appending single provider end existing ordering exploring search tree exempliﬁed Fig 4 M 1 2 3 We keeping queue unexpanded orderings Q line 3 Then iteration main loop lines 420 ﬁrst select expansion remove Q ordering lines 5 6 promises highest lower bound Here function Lowerρs simply utility ordering ρs Lowerρs wFindTimesρs FindTimes returns optimal procurement strategy equations Sections 421 422 This trivially represents strict lower bound ordering starts providers given ρs search tree corresponds ρs children Now given ordering expanded ρs use function Expandρs line 7 new set orderings cid13 s created adding single unused provider end ρs In search tree corresponds P generating children particular ordering For example Fig 4 Expandcid41cid5 cid41 2cid5 cid41 3cid5 As function immediately remove orderings clearly infeasible This depends setting follows When durations independent remove orderings provider dominated providers ordering Here provider j dominated provider faster costs j cheaper fast faster j When durations perfectly correlated ordered Assumption 1 holds remove orderings j d holds provider provider j ordering d deﬁned Assumption 1 We remove orderings j d ci c j cid2d j j d ci cid2 c j holds provider provider j ordering In words add providers faster previously invoked providers providers better uninvoked alternative exists cheaper fast faster expensive11 We safely ignore orderings removed 11 As mentioned earlier note ﬁltering eﬃciently implemented precomputing list providers ordered according d removing providers provider expensive cheaper later list When running Expandρs function simply add providers come later list provider ρs S Stein et al Artiﬁcial Intelligence 175 2011 20212060 2037 manner children search tree bound suboptimal described Section 431 When durations perfectly correlated ordered Assumption 1 hold remove orderings independent case For new candidate solutions ρcid13 bound ˇu upper bound ˆu utility ρcid13 expected utility ρcid13 achieved adding additional providers end ρcid13 scenario following s generated Expandρs function algorithm considers lower s children As discussed lower bound simply s optimal invocation times However calculating upper bound utility s immediately obvious Depending cid13 cid13 cid20 s If M s appending sρ ρcid13 miniMcid13 ci F sρ x 1 If durations independent let M remaining service providers ρcid13 s calculate upper bound wFindTimesρcid13cid13 iMcid13 1 F ix12 This based rationale providers M cid13 upper bound equal lower bound discussed Otherwise create virtual service provider sρ csρ invoked order cost bound csρ combined probability success given time interval invocation higher immediately invoking parallel With reasoning obtain new ordering ρcid13cid13 s If lower bound indicates possible achieve higher utility invoking providers set upper bound equal lower bound We note occasionally technique described Section 421 return inconsistent results virtual providers More speciﬁcally case tn ti n violates ordering prescribed ρcid13cid13 s Brieﬂy occur csρ small compared previously invoked providers causing second term Eq 18 negative Normally indicate ordering tested suboptimal clearly want invoke provider soon possible end However case sρ exist need upper bound changing initial ordering ρcid13 s Hence result inconsistent use conservative approach calculating upper bound In relax problem assume provider invoked isolation given D time units complete task Furthermore selected providers invoked series successful allocated time Given order ﬁrst invoked providers ﬁxed ρcid13 s select order remaining providers optimally framing relaxed problem simple economic search instance 56 The expected utility valid upper bound If durations perfectly correlated ordered similar approach calculating upper bound creating virtual service provider sρ guaranteed perform better combination remaining set remaining service providers set cost sρ lowest cost providers To let M set F sρ x F ix set csρ cid13 ordering sρ M yields lower utility set upper bound equal lower bound miniMcid13 ci set duration function best available M cid13 j M j d i13 As special case M cid13 If durations perfectly correlated ordered slightly conservative approach Here create virtual service provider sρ lowest cost set remaining service miniMcid13 ci Since single best duration function set select providers csρ F sρ x miniMcid13 F ix cid13 cid13 Now given lower upper bounds particular candidate solution ρcid13 s children ﬁrst compare upper bound utility best ordering far line 11 If greater improve best solution far continuing expand ρcid13 s Hence discard search pruning subset searchspace Otherwise add ρcid13 s Q expansion line 12 utility higher best ordering far update ρ s ulower lines 14 15 At end iteration unexpanded orderings upper bound higher currently highest lower bound retained line 19 This limits size Q implemented priority queue ensures necessary orderings searched When happens best ordering associated optimal times returned line 21 This ﬁnal procurement strategy optimal algorithm searches orderings known better expected utility considered Hence optimal ordering discarded search In following brieﬂy illustrate runtime behaviour Algorithm 1 example problem instance For assume task T deadline D 2 value V 1 There providers complete task shown Table 1 assume durations independent It obvious optimal strategy invoke cheap provider 1 ﬁrst immediately pick expensive faster provider To answer Fig 5 illustrates algorithm explores search space More speciﬁcally ﬁgure shows candidate solutions 12 When exponential distributions assumed equivalent creating new provider λsρ maxiMcid13 λi 13 When providers follow exponential distribution equivalent setting λsρ cid7 iMcid13 λi 2038 S Stein et al Artiﬁcial Intelligence 175 2011 20212060 Table 1 Example service providers Provider 1 2 3 Cost ci 005 07 02 Rate λi 05 21 2 Fig 5 Contents Q example run Algorithm 1 considered iteration main loop lines 420 Here search nodes bold signify orderings members Q end loop executing line 19 crossedout nodes considered iteration subsequently removed children offer improvements best solution far In algorithm starts considering ordering ρs cid4cid5 step 1 expanded appending available providers end step 2 This results new candidate solutions algorithm computes lower ˇu upper bound ˆu approaches described earlier section As ordering ρs cid42cid5 upper bound lower bound solution immediately discarded search ordering starting provider 2 subsequently ignored As orderings overlapping bounds kept Q future expansion Next ordering ρs cid43cid5 expanded promises higher lower bound ρs cid41cid5 step 3 One children ρs cid43 1cid5 best ordering ˇu 0783 children improved expansion discarded The remaining node Q ρs cid41cid5 expanded step 4 child offers possible improvement 0783 discarded As Q algorithm returns best ordering search ρ s cid43 1cid5 optimal However signiﬁcantly reducing search space realistic settings algorithm searches optimal solution consider large proportion entire search space This case example large numbers highly similar providers value task large relation service costs To address scenarios introduce fast heuristic approach following section 433 Fast heuristic algorithm Although argued beginning Section 43 greedy approach generally result optimal strat egy achieve good results practice scalable exhaustive approaches Hence present algorithm starts ordering greedily adds removes switches providers local optimum reached Algorithm 2 Intuitively algorithm beneﬁts selecting providers offer good tradeoff performance cost By allowing providers removed switched backtracking capabilities expensive reliable provider eventually replaced cheap unreliable providers individually yield high expected utility combination result better strategy Also invocation order generated greedily algorithm uses results Section 42 eﬃciently calculate optimal invocation times given ordering combining greedy heuristic approach optimal solution techniques S Stein et al Artiﬁcial Intelligence 175 2011 20212060 2039 Algorithm 2 Fast heuristic algorithm GenerateNeighboursρ cid13 s P s ρcid13 argmaxρs P s wFindTimesρcid13 ρcid13 s 1 ρ cid4cid5 s 0 2 u 3 false 4 false 5 6 7 8 9 10 11 12 13 end 14 return FindTimesρ s ρ s wFindTimesρcid13 u true end s cid13 s wFindTimesρs s u cid15 Best ordering far cid15 Best current utility cid15 Reached local optimum cid15 Generate neighbours ρ s cid15 Select best neighbour s cid15 use candidate cid15 If neighbour better ρ cid15 stop search cid15 Return best strategy In algorithm uses function GenerateNeighboursρ s line 5 given current ordering ρ s returns possible orderings obtained following actions 1 selecting provider x currently ρ s position 1 2 n 1 shifting providers necessary 2 selecting provider si ρs removing 3 selecting providers si s j ρs swapping positions Out best neighbour chosen continues algorithm ﬁnd better ordering In case current best returned s adding ρ While far assumed consumer complete information costs duration functions providers rarely available consumer practice Clearly signiﬁcant obstacle approach requires information informed procurement decisions For reason following section extended settings providers private information services 5 Using mechanism design incentivise truthfulness providers So far assumed consumer provided information requires order compute optimal procurement strategy In practice information providers duration functions cost execut ing task publicly available instead closely guarded private information When asked provider refuse reveal information lie example claiming higher cost misrepresenting duration function order manipulate ﬁnal procurement strategy favour Since costs idiosyncratic duration functions probabilistic diﬃcult consumer verify information revealed service provider reliable To address problem number procurement mechanisms introducing direct competition providers provide incentives truthfully reveal private information consumer allowing consumer conﬁdent best procurement strategy We consider mechanisms order cover range realistic scenarios including information providers private present alternative mechanisms allow consumer tradeoff computational information requirements solution quality Table 2 end Section 51 summary proposed mechanisms speciﬁc properties We start section introducing key concepts ﬁeld mechanism design clarifying notation We look designing mechanisms suitable settings duration probabilities providers public knowledge cost provider elicited We end section investigating possible duration cost information privately held consumers 51 Preliminaries Mechanism design subﬁeld game theory studies design protocols selfinterested agents ensure certain desirable properties achieved A mechanism speciﬁes aspects protocol 1 possible actions selfinterested agents 2 outcome function selects particular outcome given actions agents taken 3 transfer function determines payment agents conditional actions Ideally desirable outcome perspective mechanism designer arise agents taking actions equilibrium While general need restrictions mechanism paper restrict focus direct mechanisms A direct mechanism possible actions agents restricted allowed reveal private information instead taking arbitrary actions This restriction literature Revelation Principle states mechanism results desired outcome exists direct mechanism result outcome 34 In proposed mechanisms service providers asked reveal private information sumption information reveal true information In particular let ci F cost duration functions provider denote cost duration function revealed mechanism ˆci ˆF We 2040 S Stein et al Artiﬁcial Intelligence 175 2011 20212060 let ˆc cid4ˆc1 ˆcmcid5 reported costs service providers deﬁne ˆF cid4 ˆF 1 ˆFmcid5 analogously As standard use notation ˆci cid4ˆc1 ˆci1 ˆci1 ˆcmcid5 denote cost reports provider ˆF deﬁned similar manner Thus write ˆc cid4ˆci ˆcicid5 ˆF cid4 ˆF ˆF icid5 Given information announced service providers ˆc ˆF possible evaluate different procurement strategies For example let wρˆc ˆF denote expected social welfare procurement strategy ρ given ports providers wρc F true expected social welfare Similarly wρˆci ˆF expected social welfare procurement strategy ρ service provider existed pro curement strategy The optimal procurement strategy given ˆc ˆF ρˆc ˆF argmaxρP wρˆc ˆF use ρˆci ˆF argmaxρP wρˆci ˆF denote optimal procurement strategy presence agent When expected welfare optimal procurement strategy computed based information typically use abbreviated notation wρˆc ˆF wρˆc ˆF ˆc ˆF Similarly wρc F wρc F c F Once service providers report ˆc ˆF mechanism selects outcome In particular rest section assume mechanism selects ρˆc ˆF speciﬁes transfer functions τi service provider We currently specify τi instantiate later section depending properties wish achieve There properties desire mechanisms First service providers forced participate instead mechanisms designed service providers voluntarily participate That interested mechanisms individually rational Deﬁnition 6 Individual rationality A mechanism expost individually rational realisation costs duration distributions c F M following holds cid10 cid11 c F ρ ui cid3 0 If utility providers furthermore nonnegative realisation completion time XρcF execution procurement strategy mechanism called postexecution individually rational Second wish design mechanisms provide incentives service providers best reveal costs duration probabilities truthfully In particular possible interested designing mechanisms providers best revealing true information matter information providers reveal Deﬁnition 7 Incentive compatibility dominant strategies A mechanism incentive compatible dominant strategies provider ci F possible declarations ˆci ˆF ˆci cid6 ci ˆF cid6 F cid10 cid10 ρ ui cid4ci ˆcicid5 cid4F ˆF icid5 cid11cid11 cid10 cid10 ρ cid3 ui cid4ˆci ˆcicid5 cid4 ˆF ˆF icid5 cid11cid11 Incentive compatibility dominant strategies called strategyproofness use terms inter changeably If mechanism strategyproof service providers maximise expected utility truthfully announcing costs duration functions That ˆci ci ˆF F Since mechanism selects pro curement strategy maximises social welfare given reports service providers incentive compatible mechanism consumer ensure provided appropriate information providers selecting best procurement strategy Now prominent example mechanism incentive compatible settings wellknown Vickrey ClarkeGroves VCG mechanism 34 This mechanism selects outcome maximises social welfare pays agent marginal contribution overall This leads desirable properties Speciﬁcally private information settings utility outcome particular agent determined type VCG mechanism incentive compatible dominant strategies individually rational Furthermore certain settings VCG fact incentive compatible mechanism possible 2914 As VCG key importance mechanism design literature fulﬁlls incentive compatibility base mechanisms In rest section study different scenarios determine appropriate mechanisms settings We ﬁrst assume duration probability information publicly known study incentives exist order ensure service providers willingly reveal costs We investigate happens cost duration probabilities privately held Table 2 provides comprehensive summary results aid choose appropriate mechanism given setting The table indicates mechanism handles private information costs costs distributions properties distinguish mechanism15 14 This result directly apply assumes agents arbitrary utilities outcomes work assumes restricted domain arises service procurement scenario 15 Note concepts expost incentive compatibility polytime approximation algorithm introduced discussed later relevant sections S Stein et al Artiﬁcial Intelligence 175 2011 20212060 2041 Table 2 Summary procurement mechanisms Here IC stands incentive compatible DS means holds dominant strategies IR abbreviates individ ually rational Mechanism Marginal contribution Uniform pricing Discriminatory pricing ExecutionContingent VCG Approximate ExecutionContingent VCG Private Costs ci cid4 Dist F cid4 cid4 cid4 cid4 cid4 cid4 Properties IC DS IR expectation Optimal welfare Incentive decommit IC DS IR postexecution Suboptimal welfare Requires parameter k IC DS IR postexecution Suboptimal welfare No parameter required IC expost IR expectation Optimal welfare IC expost IR expectation Suboptimal welfare Solution algorithms Optimal Optimal greedy Optimal greedy Optimal Polytime approximation mechanism requires optimal solution algorithm scales dozens providers solved greedy heuristic approximation scales thousands 52 Known duration probabilities unknown costs We initially assume duration probability functions F publicly known cost functions service provider ci private16 While provider free report cost ˆci wishes possible design mechanisms setting provider maximises expected utility truthfully reporting costs ˆci ci 521 Marginal contribution mechanism Since assume F known provider asked report cost ˆci Given possible adapt standard VCG mechanism discussed earlier setting More formally reported costs known duration functions consumer ﬁnds optimal procurement strategy ρˆc F Then executing ρˆc F consumer computes pays service provider M transfer τi wi cid10 cid11 ˆc F ρ cid10 cid11 ˆci F ρ w 30 The second term transfer wρˆci F expected social welfare optimal procurement strategy provider exist The ﬁrst term transfer wiρˆc F expected social welfare obtained optimal procurement strategy ρˆc F excluding reported cost provider That cid10 cid11 ˆc F ρ wi V ProbXρˆcF cid2 D ncid8 cid10 ˆcs j j1 jcid6i 1 ProbXρˆcF cid11 cid2 t j 31 We emphasise computing wiρˆc F provider cost ignored removed completely social welfare In particular provider existence procurement strategy affect probability success consumers utility providers inﬂuence asked attempt task However provider candidate procurement ρˆc F existence impact social welfare wρˆci F wiρˆc F By deﬁning transfers service provider Eq 30 straightforward service provider maximises expected utility truthfully reporting ˆci ci Let uiρcid4ˆci ˆcicid5 F ci service provider expected utility service providers report ˆci provider reports ˆci actual cost ci Then 16 The duration functions obtained past shared experiences example trust reputation simply given provider cid10 1 ProbXρcid4ˆci ˆcicid5F cid11 cid2 ti 2042 S Stein et al Artiﬁcial Intelligence 175 2011 20212060 cid10 cid10 ρ ui cid4ˆci ˆcicid5 F cid11 cid11cid23 cid23ci cid10 cid10 cid10 τi ci ρ wi cid10 cid10 ρ cid4ˆci ˆcicid5 F w 1 ProbXρcid4ˆciˆci cid5F cid11cid23 cid23ˆci F cid4ˆci ˆcicid5 F w cid11cid23 cid11 cid23cid4ci ˆcicid5 F cid11 cid11 cid2 ti cid10 ρ cid10 w cid11 ˆci F ρ ci cid11 ˆci F 32 Since ρˆc F deﬁnition procurement strategy maximises w given reports ˆc provider optimise ﬁrst term perspective reporting ˆci ci As second term utility function wρˆci F provider inﬂuence term matter revealed cost based procurement strategy provider excluded Therefore service provider best revealing true cost wishes maximise expected utility That mechanism incentivecompatible dominant strategies strategyproof This surprising mechanism presented simply application VCG mechanism procure ment setting inherits desirable properties However marginal contribution mechanism strategyproof expost individually rational weaknesses First mechanism individually rational expectation postexecution individually rational Thus particular instances executing procurement strategy provider end negative utility illustrated Example 1 Example 1 Let V 10 assume providers costs c1 c2 5 For simplicity assume time steps deadline t1 0 t2 Furthermore let F 1D F 1D t2 09 F 2D F 2D t2 08 In words providers 90 80 probability succeeding respectively matter time step invoked In case optimal invoke provider 1 ﬁrst time step fails invoke provider 2 second time step The expected social welfare functions different conﬁgurations given cid11 1 1 09 1 08 cid10 cid10 c1 1 09 c2 43 cid11 1 09 c2 93 1 1 09 1 08 cid11 c1 48 1 1 09 1 08 cid10 w ρ cid10 w1 cid10 w w2 cid10 ρ ρ w cid10 cid10 V cid11 c F cid11 c F cid11 c F ρ V ρ V cid11 c1 F 1 cid11 c2 F 2 V 08 c2 3 V 09 c1 4 And transfers expected utilities providers cid10 cid10 cid10 ρ ρ cid11 τ1 w1 c F cid11 τ2 w2 c F u1 τ1 c1 13 u2 τ2 1 09 c2 03 w w ρ ρ cid10 cid11 c1 F 1 cid11 c2 F 2 63 08 Note provider 2 invoked postexecution utility 08 If provider 2 invoked postexecution utility 42 In example note procurement strategy executed provider 2 invoked incentive decommit refuse execute task forego transfers consumer This holds transfers positive exceed expected costs actual costs incurred execu tion Therefore consumer enforce schedule example use decommitment penalties marginal contribution mechanism fail practice17 The second weakness arises respect marginal contribution mechanism computational burden places consumer The consumer compute optimal procurement strategy considering providers candidates optimal procurement strategy provider removed consideration This problem exacerbated fact consumer limited computational power start procuring services providers While heuristic algorithm proposed handling settings large number providers Section 433 established mechanisms including VCG mechanisms like incentive compatible outcome selected suboptimal maximise social welfare 3618 Therefore heuristics approximation algorithms carefully designed order ensure mechanism maintains desired strategic properties To end rest section investigate alternative mechanisms address computational overhead postexecution individual rationality maintaining incentive compatibility These 17 Another approach require providers place deposit high highest cost desirable discourage providers participating 18 Intuitively agent misreport information order try manipulate approximation favour S Stein et al Artiﬁcial Intelligence 175 2011 20212060 2043 mechanisms vary information requirements applicable different settings examine Section 6 522 Uniform pricing mechanism In uniform pricing mechanism consumer ﬁrst publicly announces integer k 1 cid2 k m Then provider M reports cost ˆci Without loss generality assume ˆci cid2 ˆci1 We deﬁne K M ˆci ˆck1 set k providers k lowest reported costs This set determines candidate providers provider M K considered computing procurement strategy Let FK cid4F 1 Fkcid5 vector speciﬁes duration functions provider K ˆcK cid4ˆc1 ˆckcid5 vector speciﬁes reported K cid4ˆck1 ˆck1cid5 vector provider K replaces announced costs provider K ˆcu cost ˆci lowest cost providers K ˆck1 Given providers K reported costs publicly known duration functions consumer ﬁnds pro curement strategy maximises social welfare providers K assuming costs ˆck1 That cid10 ˆcu K F K cid11 ρ argmax ρP si K w cid10 ρˆcu K F K cid11 Once procurement strategy ρˆcu K FK consumer executes strategy records set IK K comprises providers K actually invoked procurement strategy ρˆcu K FK Deﬁnition 4 Section 32 Only procurement strategy executed transfers providers determined follows cid6 τi ˆck1 0 IK M IK 33 We emphasise transfer τi conditional outcome ρˆcu K FK That nonzero transfer provider occurs K actually invoked procurement strategy Otherwise provider receives transfer incurs cost There computational advantages uniform pricing mechanism compared marginal contribution mechanism described previous section First depending k chosen consumer set candidate providers signiﬁcantly smaller entire pool possible service providers Secondly transfers providers straightforward compute merely require consumer able sort service providers reported costs Thirdly settings duration probability distributions ordered described Section 431 problem ﬁnding optimal procurement strategy reduces selecting best provider highest probability completing task deadline Next formally uniform pricing mechanism postexecution individually rational incentive compatible dominant strategies Theorem 1 Let M set service providers M m For k 1 cid2 k m uniform pricing mechanism Incentive compatible dominant strategies Postexecution individually rational Proof We start proving mechanism incentive compatible Assume providers report ˆci provider true cost ci Assume ci cid3 ˆck1 Now provider truthfully revealed ci belong K Thus procurement strategy incur cost receive transfer That expected utility 0 If ˆci ˆck1 provider zero utility member K If ˆci ˆck1 cid2 ci K If invoked incur cost ci receive transfer ˆck1 resulting utility ˆck1 ci cid2 0 Thus provider true cost greater ˆck1 improve utility misreporting cost Now assume ci ˆck1 If invoked provider receive transfer ˆck1 incur cost ci resulting utility ˆck1 ci cid3 0 If provider reports cost ˆci ˆck1 receive utility told truth cost If provider reports ˆci ˆck1 longer candidate provider utility equal zero Thus provider improve utility misreporting cost This holds provider mechanism incentive compatible dominant strategies strategyproof We mechanism postexecution individually rational Assume provider invoked execution procurement strategy Then τi 0 incurred cost Therefore ui 0 Now assume provider true cost ci invoked The transfer receives τi ˆck1 invoked member K means ci cid2 ˆck1 deﬁnition K Therefore ui τi ci ˆck1 ci cid3 0 cid2 2044 S Stein et al Artiﬁcial Intelligence 175 2011 20212060 While uniform pricing mechanism overcomes problems highlighted respect marginal contribution mechanism key limitations First initial stage K chosen depends reported costs providers ignores duration probabilities possibly leading situation expensive fast providers excluded Second parameter k key mechanism announced provider reveals cost information To set k optimally requires priori information distribution costs diﬃcult obtain19 To address problem introduce variations mechanism 523 Discriminatory pricing mechanisms As mentioned previous section possible problem uniform pricing mechanism effectiveness relies heavily choice appropriate value k In section mechanisms longer rely consumer setting parameter appropriately discriminatory different providers receive different transfers invoked These mechanisms vary slightly way candidate providers chosen transfers determined note later selected representative examples general class mechanisms In Pairing mechanism provider M reports cost ˆci Then providers randomly paired provider M m odd single triplet formed For pair j ˆci ˆc j candidate ˆc j This procedure results set K K cid19m2cid20 set K paired cost ˆc p let ˆc K denote vector specifying paired cost provider K Given K consumer computes optimal procurement strategy ρˆc K FK restricting providers K costs ˆc set ˆc p K p p p cid10 ˆc ρ p K F K cid11 cid10 ρ w argmax ρP si K cid23 cid23ˆc cid11 p K F K After ρˆc set providers K actually invoked ρˆc p K FK executed transfers determined provider As previous section let IK K denote p K F K executed Then cid6 p ˆc 0 τi IK M IK 34 Our Halving mechanism differs Pairing mechanism way selects candidate service providers K As service providers asked report cost ˆci Then cid19m2cid20 providers randomly selected set G All providers M G paired random set K created described Pairing mechanism provider K having paired cost ˆc determined described Pairing mechanism From G service provider g ˆc g miniG ˆci selected added K Its paired cost ˆc miniGgˆci Then Paired mechanism consumer computes optimal procurement strategy providers K paired costs transfers deﬁned similarly While Halving mechanism size set candidate providers smaller Pairing mechanism K cid19m4cid20 1 opposed K cid19m2cid20 larger set G increases likelihood provider low paired cost placed K p g p Theorem 2 The Pairing Halving mechanisms incentive compatible dominant strategies postexecution individually rational Proof Since pairs G formed independently providers reports proof follows Theorem 1 cid2 We note possible variations mechanisms different ways group providers All mechanisms share key features First size K solely determined number providers rely consumer choosing appropriate value Second mechanisms require priori information costs providers transfers determined costs providers members K Finally implement discriminatory pricing different providers receive different payments information form optimal procurement strategy given K In order ascertain variations offer real beneﬁt compared uniform pricing mechanism practice experimentally evaluate Section 62 53 Unknown costs duration probabilities In section relax assumption duration distributions known consider mechanisms need elicit distributions costs To end ﬁrst marginal contribution mechanism example VCG mechanism Section 521 longer exhibits desired properties particular providers 19 Simulations example knowledge based past experience ways help determine k S Stein et al Artiﬁcial Intelligence 175 2011 20212060 2045 incentive misreport duration distributions We introduce modiﬁed mechanism refer ExecutionContingent VCG mechanism transfers contingent actual execution schedule task succeeded 531 Failure standard VCG mechanism Consider marginal contribution mechanism introduced Section 521 modiﬁcation provider asked report cost ˆci duration probability ˆF The transfers mechanism calculated follows τi wi cid10 cid11 ˆc ˆF ρ cid10 cid11 ˆci ˆF ρ w As previous section providers reported costs provider inﬂuence second term transfer function wρˆci ˆF expected social welfare achieved provider participated mechanism ﬁrst place However example provider improve transfer misreporting F way ﬁrst term transfer increased resulting higher expected utility provider cid13 Example 2 For sake simplicity suppose provider misreports duration distribution providers report truthfully Also suppose ρc F cid4i 0cid5 That given true F optimal schedule cid13 invoke provider delay Now suppose exists alternative distribution F cid13 ρc F D F iD probability success deadline higher20 Clearly increasing probability success increases consumers utility F wiρc F resulting increase transfers τi wρc F cid13 reporting F impact probability invoked allocation remains unchanged provider better F wρc F wiρc F cid13 instead F Since reporting F F ρc F cid4i 0cid5 schedule remains unchanged F cid13 cid13 In example providers incentive misreport distributions increase perceived expected utility agents increase perceived expected social welfare This turn leads increase transfers In particular case provider able increase perceived expected utility consumer agent increasing probability success However equally possible construct examples increase expected utility providers Technically marginal contribution mechanism fails expected utility agent consumer providers depends schedule private information agents case information duration distributions Such settings known settings interdependent types 28 shown general situations agents interdependent types impossible design mechanism ensures chosen outcome maximises social welfare incentive compatible dominant strategies example Jehiel Moldovanu 26 Therefore need concession properties end introduce mechanism maximises social welfare information revealed service providers depend actions taken We particular choice interested redundancy optimally complete task despite execution uncertainty turns obtain slightly weaker notion incentive compatibility truthtelling Nash equilibrium participants regardless particular types need prior distributions 532 ExecutionContingent VCG In section introduce modiﬁcation marginal contribution mechanism transfers service providers contingent outcome execution procurement strategy We modiﬁcation results mechanism able elicit costs duration distributions service providers As service provider asked report cost ˆci duration distribution ˆF Using reported costs duration functions consumer ﬁnds optimal procurement strategy ρˆc ˆF argmaxρP ρˆc ˆF This strategy executed completion execution outcome known task completed successfully deadline transfers providers determined Recall Section 3 Xρ denotes actual completion time task Iρ denotes set invoked providers Then c j wρˆci ˆF cid2 D jI cid7 Xρˆc ˆF ρˆc ˆF 35 τi V cid7 jI ρˆc ˆF c j wρˆci ˆF Now remainder section ExecutionContingent VCG mechanism number desir able properties properties hold slightly weaker solution concepts compared mechanisms described 20 As concrete example assume F D 09 F cid13 D 099 F x F cid13 x 0 x D 2046 S Stein et al Artiﬁcial Intelligence 175 2011 20212060 Section 52 known duration distributions In particular desirable provider reveal cost duration distribution truthfully truthful To illustrate simple example Example 3 As Example 1 assume V 10 providers c1 c2 5 Again time steps deadline t1 0 t2 assume provider 1 complete task time F 1D F 1D t2 0 provider 2 remains unchanged F 2D F 2D t2 08 Assume provider 1 reports cost truthfully lies duration distribution reporting ˆF 1D ˆF 1D t2 09 Given provider 2 truthfully reports cost duration distribution mechanism select ρˆc ˆF cid41 0 2 t2cid5 In case expected utility provider 2 learning allocation assuming knows true distribution F 1 follows cid10 cid10 cid11 ρ u2 cid11cid23 cid23F 1 cid4ˆc1 c2cid5 cid4 ˆF 1 F 2cid5 F 2D t2 V ˆc1 c2 w 08 10 5 5 4 6 cid10 ρ cid11 ˆc1 ˆF 1 Clearly provider 2 negative expected utility incentive change allocation longer included deriving utility zero It example reporting ˆc2 10 ˆF 2D ˆF 2D t2 0 Since mechanism incentive compatible dominant strategies illustrated example instead try achieve weaker notion incentive compatibility Deﬁnition 8 Expost incentive compatibility A mechanism expost incentive compatible provider ci F possible cost functions duration distributions providers ci F ˆci cid6 ci ˆF cid6 F cid10 cid10 ρ ui cid4ci cicid5 cid4F F icid5 cid11cid11 cid10 cid10 ρ cid3 ui cid4ˆci cicid5 cid4 ˆF F icid5 cid11cid11 In words mechanism expost incentive compatible service providers report cost dura tion distributions truthfully matter revealed information provider maximises expected utility truthfully reporting cost duration distributions This weaker notion incentive compatibility incen tive compatibility dominant strategies truthtelling provider relies providers reporting information truthfully However stronger Bayesian incentive compatibility depend prior knowledge providers private information truthtelling Nash equilibrium types revealed allocation Hence regarded realistic solution concept mechanism design literature example Bergemann Morris 4 detailed discussion Theorem 3 The ExecutionContingent VCG mechanism Expost incentive compatible Individually rational cid10 cid10 Proof Assume service providers truthfully report costs duration distributions That report ci F Then provider reports ˆci ˆF expected utility cid11cid23 cid11 cid23ci F cid4ˆci cicid5 cid4 ˆF F icid5 1 ProbXρcid4ˆci cicid5cid4 ˆF Fi cid5 cid11cid23 cid23c F cid4ˆci cicid5 cid4 ˆF F icid5 w ρ w cid11 cid2 ti cid10 ρ cid4ˆci cicid5 cid4 ˆF F icid5 cid11 ci F cid11 ci F ci cid10 ρ wi ρ cid10 w 36 ρ cid11cid11 ui cid10 cid11 cid10 cid10 cid10 First note second term RHS independent provider reported cost duration distribution Thus provider change value given reports providers Secondly ﬁrst term RHS computed execution procurement strategy ρ depends reported cost duration probabilities actual outcome execution depends true distribution durations As result note cid10 ρ deﬁnition ρ Thus providers truthfully report costs duration distributions provider best revealing information truthfully result mechanism selecting procurement strategy optimises social welfare expectation leads expected utility maximisation provider While selection ρ cid4ˆci cicid5 cid4 ˆF F icid5 cid4ci cicid5 cid4F F icid5 cid11cid23 cid23c F cid11cid23 cid23c F cid3 w ρ w cid11 cid10 cid11 cid10 cid10 S Stein et al Artiﬁcial Intelligence 175 2011 20212060 2047 The ExecutionContingent VCG mechanism individually rational cid10 cid11 c F ρ w cid10 ρ cid11 ci F cid3 w implying uiρc F cid3 0 cid2 In Section 521 identiﬁed main drawbacks marginal contribution mechanism computational quirements calculate optimal schedule fact service providers incentive decommit Interestingly longer problem ExecutionContingent VCG despite possibility post execution utility provider negative This utility calculated based actually happened increase postexecution social welfare results increase transfers Therefore need impose additional penalties deposit enforce schedule The ﬁrst issue relating computational overheard marginal contribution mechanism arises ExecutionContingent VCG To address problem investigate approximate solution optimal schedule maintaining prop erties mechanism Contrary Section 52 mechanism instead restrict set possible outcomes 533 Approximating optimal procurement strategy As mentioned Section 432 computing optimal procurement strategy intractable number avail able providers increases particular importance domain consumer limited computational resources However discussed Section 521 replacing optimal procurement strategy suboptimal obtained use heuristic approximation algorithm destroy incentive properties underlying mechanism 36 In Section 52 chose address computational problem considering alternative simpler mecha nisms required computation consumer However mechanisms directly applicable current setting computing optimal procurement strategy intrinsic mechanism For reason propose alternative approach reducing computational burden consumer Nisan Ronen showed possible mechanisms knowingly suboptimal comes 36 They proposed instead changing algorithm ﬁnding optimal outcome case optimal procurement strategy restrict set possible outcomes run optimal algorithm restricted set21 In follows apply approach procurement problem ExecutionContingent VCG mechanism incentive compatible appropriately restricted outcome spaces Furthermore approxi mation admits polynomialtime algorithm calculate optimal space allowable outcomes procurement strategy We approximation worst case arbitrarily far optimal come Nevertheless practice ﬁnd outcomes close optimal Section 6 analyse approximation empirically We start showing ECVCG mechanism incentive compatible certain approximation schemes For let η denote maximum number service providers selected procurement strategy let Pη ρ P ρ cid2 η represent reduced set strategies When η 1 reduced set strategies contains procurement strategies redundancy η m Pη procurement strategy space We propose applying ExecutionContingent VCG mechanism selecting procurement strategies set Pη We restricted version ExecutionContingent VCG mechanism incentive compatible individually rational assumption η information service providers mechanism starts Theorem 4 For 1 cid2 η cid2 m allocation given argmaxρPη wρˆc ˆF ExecutionContingent VCG mechanism reduced set procurement strategies Pη incentive compatible individually rational Proof Since η independent providers reports provider increase social welfare transfers misreporting Therefore proof follows directly Theorem 3 cid2 Given parameter η set ﬁnding optimal procurement strategy Pη polynomial number possible service providers m We illustrate considering different scenarios First consider situation optimal invocation times providers analytically given set providers ordering procurement strategy settings discussed Sections 421 422 independent correlated duration distributions respectively The problem ﬁnding optimal procurement strategy reduces problem ﬁnding optimal ordering providers sets η providers This equivalent searching possible ordered subsets set M size η size mm η Once optimal procurement schedule 21 In particular algorithm maximalinrange VCGbased mechanisms applied restricted problem incentive compatible See 36 details 2048 S Stein et al Artiﬁcial Intelligence 175 2011 20212060 transfers providers computed If provider optimal procurement strategy transfer automatically set zero need explicitly compute transfers η providers optimal procurement strategy The overall cost η m 1m η results overall complexity O mη running mechanism In case ﬁnding optimal invocation schedule allow closedform analytical solution approach discretise time Let T denote total number discrete time slots deadline D22 Now given ordered set candidate providers providers T possible invocation times ﬁrst provider invoked immediately recall Section 4 optimal invoke ﬁrst provider delay Since η candidate providers ﬁnding optimal invocation times requires searching T η1 combinations Together ﬁnding optimal set ordered candidate providers results time complexity O mη T η1 While approximations desirable computational complexity result suboptimal solutions This restrict set solutions yield outcome signiﬁcantly worse optimal especially optimal strategy ρ contains η providers In fact following theorem arbitrarily far optimal Theorem 5 For η cid3 1 exists m F c ratio expected social welfare optimal solution approximate solution b b cid3 1 That wρc F argmaxρPη wρc F cid3 b 37 Proof We prove showing choose m F c holds For simplicity assume durations different providers independent shown Eq 10 For let ci 0 F iD 1 f 1 1 f cid3 1 1 b η Clearly providers free example optimal invoke available providers time t 0 Given choose m Eq 37 holds b cid2 wρc F argmaxρPη wρˆc ˆF b cid2 1 f m V 1 f η V m cid3 ln1 b 1 f η ln f 38 Due initial constraints f satisﬁed cid2 To conclude shown limiting number possible outcomes obtain solution polynomial number service providers maintaining desired properties mechanism However demonstrated theory approximation arbitrarily far optimal Nevertheless believe realistic settings providers generally costly beneﬁt increased redundancy diminishes number providers Therefore approximate solution close optimal η chosen signiﬁcantly m To end section empirically evaluate mechanisms discussed far including approximation 6 Empirical evaluation Having described optimal procurement strategies scenarios information number mechanisms incentivise providers reveal capabilities truthfully evaluate approaches variety simulated environments The purpose evaluation twofold seen complement theoretical results previous sections First examine potential beneﬁt procuring multiple providers compare current approaches invoke single providers use simple heuristics Section 61 While example Section 41 showed redundancy beneﬁcial use experiments quantify beneﬁts wider range realistic environments Second consider mechanisms proposed Section 5 investigate extent use entails loss consumers utility overall eﬃciency Section 62 Again results proved range desirable properties mechanisms inherently suboptimal use heuristics approximations generally require additional investment consumer incentivise truthfulness In context 22 Note time slots required equally spaced However important set independent reports providers Otherwise incentive properties longer hold S Stein et al Artiﬁcial Intelligence 175 2011 20212060 2049 experiments help quantify losses utility range settings Finally Section 63 discuss theoretical empirical results combined help consumer choose right mechanism particular setting 61 Full information In section start considering information case consumer knowledge providers costs ci duration distributions F We assume providers charge true costs τi ci social welfare case equal consumerss expected utility described Section 4 Throughout section compare average expected social welfare wρ obtained optimal procurement strategy23 described Section 4 Optimal benchmark strategies designed represent current approaches Single This strategy selects single provider individually maximises consumers expected utility As represents approaches use redundancy fact optimal strategy given restriction Timeoutp t This strategy ﬁrst orders providers preference ordering given parameter p cost time balanced These choices p respectively order providers ascending cost ci mean duration 1λi combination ciλi The strategy invokes providers order leaving waiting time t successive invocations This continues task completed deadline reached The Timeout strategy represents approaches existing applications deal uncertainty Section 21 Comparing Optimal strategy benchmarks allows quantify beneﬁt redundancy optimal principled manner deal execution uncertainty Here evaluation guided following hypothesis Hypothesis 1 Compared current procurement approaches redundancy results signiﬁcant increase utility wide range environments We divide section parts corresponding models uncertainty covered paper ﬁrst test approach environments service durations independently distributed Section 611 consider environments service durations perfectly correlated Section 612 611 Independent durations To test Hypothesis 1 settings independent durations randomly generate provider drawing cost ci duration rate λi independently uniformly random 0 1 To consider range settings tasks low V low 2 high value V high 8 deadline normal Dnormal 2 urgent Durgent 05 Fur thermore evaluation repeat experiments 1000 times use ANOVA ttests ensure statistical signiﬁcance p 005 level As associated conﬁdence intervals generally small omit ﬁgures clarity The results shown Fig 6 Here vary number providers plot average expected social welfare proportion V Observing trends obvious redundancy signiﬁcantly improve consumers utility settings considered In fact averaging cases considered Optimal approach achieves 40 improvement Single approach In general gain pronounced number providers increases candidates invoke redundantly consumer selective providers procure Similarly gain achieved redundancy increases deadline shorter This redundancy allows consumer achieve high success probability Single approach limited single reliable provider available Finally note gain utility rises higher task values justiﬁes higher investment caused redundancy Hence results shown marked improvement Single strategy obtained deadline short Durgent task value high V high potential providers m 50 Here Single approach achieves 3582 V Optimal achieves 8268 130 improvement obtained procurement strategies average 1011 providers 78 typically invoked For comparison graphs representative Timeout strategies chose p balanced t 004 t 053 represent parameter choices obtain best average utility settings Durgent V high Dnormal V low respectively24 It obvious heuristic strategies consistently achieve good results The Timeoutbalanced 053 strategy perform settings long deadlines balances cost providers speed beneﬁts redundancy performs poorly settings short deadlines In fact performs worse Single approach reason probability completing task tight deadline chooses providers signiﬁcant probability 23 This branchandbound algorithm providers We use heuristic algorithm obtain lower bound optimal providers However later heuristic obtains nearoptimal results 24 We obtained discretising t 001 steps testing possible parameter combinations 2050 S Stein et al Artiﬁcial Intelligence 175 2011 20212060 Fig 6 Performance information setting success Similarly Timeoutbalanced 004 performs scenario short deadline high value leads extremely poor erratic performance settings In fact strategy invokes far providers necessary incurs large negative utility outside range graphs In summary Timeout strategy performs parameters carefully tuned particular environment outperformed Optimal strategy Overall conclude Hypothesis 1 holds settings independent service durations Additionally note solving problems branchandbound approach signiﬁcantly reduces computational time required compared bruteforce algorithm For example 12 providers consider V high Durgent brute force approach searches 13 billion provider orderings takes average 33 hours Java implementation Windowsbased Intel 22 GHz laptop 4 GB RAM By contrast branch andbound algorithm searches average 69 200 orderings 0005 total search space ﬁnding optimal seconds While ﬁnds solutions 1823 providers minutes bruteforce 2 1010 years longer age universe heuristic approach better suited larger settings hundreds thousands providers To investigate performance compares optimal applied settings described fewer providers Here statistically signiﬁcant difference optimal strategy graphs shown reasons space In following investigate environments perfectly correlated durations 612 Correlated durations To test Hypothesis 1 settings repeat experiments assume durations perfectly correlated Somewhat surprisingly Optimal approach performs identically Single approach procures service provider individually yields highest expected utility Using redundancy result higher utility consumer contradicting Hypothesis 1 environments perfectly correlated durations As explore remainder section relatively short deadline considered previous experiments More speciﬁcally result complete correlation additional providers need time catch previously invoked providers negates advantage procuring multiple providers deadline short Rather best immediately procure better provider order achieve high probability success This contrast independent case additional provider immediately contributes positively overall success probability Overall interesting result indicating simple greedy approach represented Single strategy adequate optimal durations perfectly correlated S Stein et al Artiﬁcial Intelligence 175 2011 20212060 2051 Fig 7 Performance perfectly correlated durations However note signiﬁcant exceptions highlighted Section 41 In example redundancy resulted considerable 50 improvement Single approach To investigate types environments improvements practice note following features example set apart settings considered far evaluation Long deadline The task example long deadline relative speed provider This feasible delay invocation second provider causing signiﬁcant impact success probability This contrast experiments carried fastest providers λi 1 non negligible failure probability quickly decreased delays Furthermore redundantly invoked providers typically need time catch previously invoked providers reach time t capacity redundantly invoked provider equal predecessor Again reduces potential beneﬁt redundancy settings short deadlines Correlated cost quality The providers example displayed correlation quality cost cheap slow expensive fast This required making explicit tradeoff redundant approach able beneﬁt combining providers In setting considered assumed costs qualities independent leading situation particular provider clearly dominated With mind consider variation experimental setup In particular use deadline Dnormal 2 high value V high 8 draw λi uniformly random interval 0 30 determine cost λi This means deadline long relative providers correlate ci 4 1 e quality cost linearly dependent success probability unit time step As branch andbound algorithm signiﬁcantly faster correlated setting solve problem optimally 100 providers improvement speed fact immediately select optimal ordering described Section 431 The results modiﬁed setting shown Fig 7 Not surprisingly improvement large environments independent durations overall success probability depends single best provider independent settings provider contributes increasing success probability Nevertheless Optimal strategy offers signiﬁcant advantage Single strategy In fact environments tested average improvement 612 Furthermore relative improvement increases number available providers resulting 714 improvement 100 providers We note Timeout strategy performs poorly Despite choosing best p t parameters strategy inherently ineffective correlated case invokes similar providers sequence increase success probability instead incurs additional costs These results indicate redundancy beneﬁcial perfectly correlated settings im provement pronounced independent case environments redundancy offers additional beneﬁt Single strategy However far assumed task diﬃculty follows exponential distribution We believe inherently suitable redundant procurement durations correlated constant hazard rate density quickly diminishes time Thus single reasonably fast provider best choice consumer In following consider different scenario redundancy offer substantial beneﬁt This new scenario based observation realistic computational problems exhibit phase transitions diﬃculty 7 That problem hard solve general case instances solved 2052 S Stein et al Artiﬁcial Intelligence 175 2011 20212060 Fig 8 Bimodal distribution simulate distinct levels diﬃculty Fig 9 Performance perfectly correlated durations bimodal distribution quickly polynomial time Yet problem parameters exhibit certain properties runtime exponential This typically happens abruptly diﬃcult predict priori individual instances As believe setting occurs uncertainty task diﬃculty provider durations correlated extend evaluation settings task diﬃculty multimodal distribution More speciﬁcally assume task diﬃculty falls class relatively easy problems class hard problems signiﬁcantly higher variable runtime Although diﬃculty uncertain priori consumer probability distribution based past problems conditional certain features input data To model evaluation assume task diﬃculty follows mixture normal distributions truncated 0 shown Fig 8 2 7 10 9D n005 y 1N0050 10 use bruteforce search ﬁnd optimal schedule given ordering providers More speciﬁcally setting assume V high Dnormal The problem diﬃculty Y given density n41 y function g y 5 1N410 nλσ y density function normal distribution mean λ 7 standard deviation σ Nλσ y corresponding cumulative distribution function The completion time partic drawn uniformly random 0 2 As correlate ular provider given qit λit λi λi It noted F longer follows exponential distribu quality cost setting ci 4 1 e tion assumed Section 422 For reason restrict invocation times uniformly spaced time steps 0 D 10 2D The results shown Fig 9 indicate Optimal approach offers signiﬁcant improvement Single approach problem diﬃculty follows multimodal distribution omit Timeout strategy performs poorly In fact cases tested average improvement 241 cases reaches 273 m 50 Compared exponential distribution problems conducive redundancy different providers speciﬁcally target parts distribution For example initially cheap provider procured cover problems low runtime example occurs 70 cases certain threshold reached fast provider procured task hand likely diﬃcult solve In conclusion far shown redundancy offers signiﬁcant beneﬁt procurement single providers This particularly case duration distributions independent additional provider increases probability success cheap providers combined obtain high quality service We showed general Hypothesis 1 holds environments When durations perfectly correlated improvement generally lower consumers success probability depends capacity best service provider faster providers need time catch S Stein et al Artiﬁcial Intelligence 175 2011 20212060 2053 previously invoked providers In environments especially short deadlines means redundancy offer beneﬁt Single approach However deadlines long costs service qualities correlated uncertainty follows multimodal distribution redundancy offer clear advantage Single approach While far considered settings consumer information providers capabilities costs settings information private 62 Private information Now consider mechanisms described Section 5 As mentioned mechanisms number desirable properties including incentive compatibility individual rationality result welfaremaximising outcome generally require centre pay providers costs However theo retical results quantify losses realistic settings To address shortcoming measure performance mechanisms empirically applying wide range settings To end interested loss utility terms social welfare far solutions obtained mechanisms optimal solution inherent loss utility consumer caused lack information providers costs duration distributions cost called information rent mechanism design literature 34 Ch 23 We start Section 621 considering uniform discriminatory pricing mechanisms proposed deal scenarios duration probabilities known consumer costs private information We omit speciﬁc discussion ﬁrst mechanism marginal contribution mechanism performance terms expected social welfare consumers expected utility equal ExecutionContingent VCG cover Section 622 As discussed Sections 522 523 uniform discriminatory pricing mechanisms scenarios generally suboptimal expect perform better certain settings Hence addition quantifying overall utility obtained mechanisms investigation driven following hypotheses Hypothesis 2 When suﬃcient information choose k optimally uniform pricing mechanism consistently outperforms discriminatory pricing mechanisms terms social welfare consumers utility Hypothesis 3 When insuﬃcient information available inappropriate k chosen uniform pricing mechanism perform poorly consistently outperformed discriminatory pricing mechanisms Then Section 622 turn ExecutionContingent VCG mechanism applies cases duration probabilities costs providers private information As mechanism eﬃcient obtains optimal solution concerned loss utility caused overpaying providers Since mechanism uses information providers test following hypothesis Hypothesis 4 For suﬃciently large number available providers ExecutionContingent VCG mechanism consistently matches exceeds consumers utility achieved uniform discriminatory pricing mechanisms Finally Section 622 consider approximations introduced Section 533 investigate affect consumers performance 621 Uniform discriminatory pricing mechanisms In order test performance mechanisms apply settings described Section 61125 Fig 10 shows results particular settings providers short deadline high value fewer providers longer deadline low value These serve illustrate effect varying parameter k general results range environments In strategy Fig 10 shows utility obtained consumer providers eﬃciency loss compared optimal solution It immediately obvious mechanisms suffer loss utility consumer described More speciﬁcally optimal k chosen uniform pricing mechanism consumer achieves average 860 834 optimal respectively example settings In terms social welfare corresponds 954 946 optimal Compared discriminatory pricing mechanisms achieve average consumers utility 720 optimal average social welfare 855 optimal These results highlight despite simplicity proposed mechanisms achieve good performance compared optimal Furthermore choosing k optimally clearly offers advantage discriminatory mechanisms supporting Hypothesis 2 Our second observation performance uniform pricing mechanism depends heavily choice k low 25 optimal wrong parameter chosen Furthermore best parameter depends 25 As solve problem optimally fewer providers use heuristic settings providers 2054 S Stein et al Artiﬁcial Intelligence 175 2011 20212060 Fig 10 Performance incentive compatible mechanisms Fig 11 Performance incentive compatible mechanisms environments average expected consumers utility scenario For example task V low k 3 best choice maximising consumers utility achieving 834 optimal However V high worst achieving 58 Hence results indicate consumer achieve good utility appropriate k parameters However k set incorrectly insuﬃcient information available environment obtain better results discriminatory pricing mechanisms consistently perform This supports Hypothesis 3 Finally generalise observations Fig 11 plots performance mechanisms terms average ex pected consumers utility environments considered section26 In Fig 12 plot corresponding average 26 Note discuss performance ExecutionContingent VCG mechanism labelled ECVCG Section 622 S Stein et al Artiﬁcial Intelligence 175 2011 20212060 2055 Fig 12 Performance incentive compatible mechanisms environments average expected social welfare expected social welfare For brevity replace choices k Bestk Worstk mechanism performance k chosen maximise minimise expected consumers utility respectively27 Here note discriminatory pricing mechanisms consistently perform worse Bestk supporting Hypothesis 2 simi larly outperform Worstk supporting Hypothesis 3 Neither discriminatory pricing mechanisms dominates generally observe Halving mechanism performs better low value V low environments Pairing mechanism This fact Halving mechanism usually results cheap provider expense having fewer candidate providers choose This advantageous low value case consumer prefers invoke fewer cheaper providers Furthermore Fig 12 notice mechanisms generally achieve good overall social welfare28 622 ExecutionContingent VCG In section consider ﬁnal mechanism ExecutionContingent VCG applied settings duration distributions costs private information Again apply mechanism settings previous section29 The results plotted Figs 11 average expected consumers utility 12 average expected social welfare First note ExecutionContingent VCG eﬃcient selects social welfare maximising outcome average expected social welfare equal performance optimal strategy information setting In terms consumers utility prominent trends environments Initially providers ExecutionContingent VCG achieves comparably low utility consumer This procured provider likely signiﬁcant contribution receives high payment mechanism speciﬁcally utility obtained providers presence typically considerably lower 27 We implement considering average results possible choices k We pick parameter k yielded highest lowest average utility consumer rerun experiments parameter 28 The performance plots ﬁgure smooth previous ﬁgures This mechanisms explicitly optimise expected social welfare consumers utility Thus short downwards trends observed especially performance Bestk strategy particular choice k optimal consumers utility necessarily social welfare This phenomenon evidenced ﬁrst scenario Fig 10 k 10 maximises consumers utility k 11 maximises social welfare 29 Here obtain results thirteen providers heuristic approximation In particular setting noted mechanism longer incentive compatible However argued earlier heuristic close approximation optimal case results provide intuition mechanisms performance 2056 S Stein et al Artiﬁcial Intelligence 175 2011 20212060 Table 3 Summary empirical results compared optimal social welfare information setting Mechanism Uniform pricing Bestk Discriminatory pricing pairing Discriminatory pricing halving ExecutionContingent VCG Consumers utility optimal 8584 7670 7734 8559 Social welfare optimal 9437 8658 8824 10000 Fig 13 Performance ExecutionContingent VCG approximating optimal schedule However number providers increases utility obtained ExecutionContingent VCG quickly rises cases eventually exceeding performance mechanisms tested In ﬁrst scenario D urgent V low slowly approaches performance Bestk mechanism m increased eventually dominates results shown Overall results support Hypothesis 4 To summarise overall averaged performance results mechanisms shown Figs 11 12 given Table 3 To conclude section consider effect approximations ExecutionContingent VCG mechanism As argued Section 533 approximations allow mechanism remain incentive compatible settings agents To end consider environments examined far ﬁx number total providers m 50 consider setting providers We record performance Execution Contingent VCG mechanism vary maximum number providers included allocation parameter η Section 533 Both average consumers utility social welfare obtained plotted Fig 13 These results positive indicating mechanism performs number providers ﬁnal solution restricted In scenarios providers required perform close optimal urgent high value scenario requires providers achieve 90 optimal social welfare It somewhat surprising consumers utility reaches equivalent utility optimal case quickly cases exceeds small Intuitively fewer providers increases competition selected increasing transfers receive This means consumer primarily interested maximising proﬁt ﬁnding eﬃcient outcome fewer providers required achieve good solution Also social welfare maximising outcome necessarily optimal consumer reap small beneﬁt choosing η strategically Furthermore note time ﬁnd solution fast choosing high η For example η 6 takes average seconds urgent high value S Stein et al Artiﬁcial Intelligence 175 2011 20212060 2057 scenario η 7 rises 45 seconds These trends continue hold larger numbers providers problems hundreds providers solved minutes faster 16 results 63 Choosing right mechanism To conclude section summarise main theoretical empirical results mechanisms This builds Table 2 brieﬂy describes main information requirements scalability expected performance based results section advantages disadvantages mechanism As intended help service consumer select suitable mechanism particular setting Marginal contribution Information requirements Duration distributions need known consumer previous interac tions appropriate trust reputation Scalability Few providers dozens fewer requires consumer compute optimal procurement schedule Performance Optimal social welfare high utility consumer transfers 85 optimal Advantages Incentive compatible dominant strategies Disadvantages Vulnerable decommitments mitigated imposing high penalties noncompliant providers collecting deposit prior invocation Also individually rational expectation providers incur negative utility Uniform pricing Information requirements Known duration distributions knowledge providers cost distributions The required set parameter k More speciﬁcally knowledge practice arise previous interactions providers general domain knowledge allow consumer simulate mechanism choices k prior execution Scalability Many providers hundreds thousands Performance Nearoptimal social welfare 95 optimal high consumers utility 85 optimal Advantages Incentive compatible dominant strategies postexecution individually rational providers loss Disadvantages High information requirements Discriminatory pricing Information requirements Known duration distributions Scalability Many providers hundreds thousands Performance High social welfare 8687 optimal reasonable consumers utility 77 optimal Advantages Incentive compatible dominant strategies postexecution individually rational Disadvantages Lower performance mechanisms ExecutionContingent VCG Information requirements None Scalability Few providers dozens Performance Optimal social welfare high consumers utility 85 optimal Advantages Low information requirements elicits truthful reports costs duration distributions Disadvantages Expost incentive compatible weaker dominant strategies individually rational expectation Approximate ExecutionContingent VCG Information Requirements None Scalability Many providers hundreds depending parameter η Performance Close ExecutionContingent VCG suﬃciently high η chosen Advantages Low information requirements Disadvantages Expost incentive compatible individually rational expectation Requires parameter η set consumer choice critical parameter k uniform pricing mechanism Speciﬁcally generally set highest feasible value given computational constraints consumer However relatively low values η 6 settings tested performance equivalent optimal ExecutionContingent VCG achieved 7 Conclusions In paper developed novel approach procuring services uncertain execution durations optimal manner This approach uses redundancy increase probability task completed given deadline ex plicitly balances cost redundancy beneﬁt In order deal large systems contain tens 2058 S Stein et al Artiﬁcial Intelligence 175 2011 20212060 service providers proposed optimal branchandbound algorithm signiﬁcantly reduce search space nearoptimal greedy heuristic deal hundreds thousands providers We believe technique applied variety realistic serviceoriented settings including grids cloud computing services offered potentially unreliable providers To highlight beneﬁt redundancy simulated environments showed empirically leads signiﬁcant improvement performance In cases deadline task short value high redundancy resulted 130 improvement approaches procure single provider commonly existing task allocation scenarios In work investigated different sources uncertainty showed redundancy beneﬁcial service durations independent Surprisingly redundancy offer signiﬁcant advantage settings service durations perfectly correlated 27 Now order procure services optimally consumer requires probabilistic performance information available services While existing work considered use reputation systems context systems available insuﬃcient information particular providers To address settings looked techniques mechanism design incentivise providers reveal private performance information consumer In particular developed number novel mechanisms applied different scenarios The ﬁrst uniform pricing mechanism discriminatory pricing mechanisms apply settings service costs private information These highly desirable properties incentive compatible dominant strategies postexecution individually rational retain properties suboptimal outcome chosen mechanism For settings costs duration functions private information showed standard VCG mechanism longer incentive compatible providers proﬁt inﬂating response times To address proposed novel ExecutionContingent VCG mechanism This expost incentive compatible individually rational eﬃcient However unlike mechanisms select optimal outcome intractable large environments To address developed simple approximation polynomial time demonstrated achieve high utility practice We plan extend work number ways future First like consider settings mul tiple interdependent tasks These occur practical application areas consumers need complete complex workﬂows To address settings extend branchandbound algorithm consider expressive consumer preferences utility functions depend workﬂow completion time Second deal multiple consumers compete services providers setting happens practical serviceoriented application settings For plan look application twosided markets extend existing work area redundant procurement setting In context particularly interested impact increased competition consumers use redundancy Clearly services scarce scope redundant procurement particularly urgent valuable tasks allocated multiple services Depending aims designer interesting investigate alternative social welfare functions setting Nash product egalitarian social welfare Finally intend investigate dynamic settings tasks services arrive time This common feature realistic settings providers enter leave new unexpected tasks suddenly appear In scenarios agents strategise reporting service capabilities reports As consider applying extending techniques ﬁeld online mechanism design 41 Acknowledgements We thank reviewers paper detailed comments This paper signiﬁcantly extended version previous conference publications 50 16 The research undertaken ALADDIN Autonomous Learn ing Agents Decentralised Data Information Systems project jointly funded BAE Systems EPSRC EPC5480511 EPSRC funded project MarketBased Control GRT1066401 Appendix A Optimal procurement restless bandit problem The optimal procurement problem modelled restless bandit problem Given ci F provider deadline D deﬁne state space S S jk j k cid3 0 j k cid2 D S V S A For provider deﬁne bandit B starting state S00 Deﬁne activation probability function follows If bandit currently state S 0 t t cid2 D activated probability 10 transitions state St1 If current state S jk j k D transitions state S jk1 probability 10 Otherwise bandit state S jk j k D transitions state S A absorbing state The cost time B activated ci The passive dynamics bandit activated deﬁned follows For state S0k k cid2 D transition state S0k1 occurs probability 10 k D transition state S A occurs probability 10 S A absorbing state For state S jk j 0 j k cid2 D probability transitioning state S V F ik probability transitioning S jk1 1 F ik The probability transitioning state S V state S A state S jk j k D state S A 10 Finally set passive rewards states S V zero set S Stein et al Artiﬁcial Intelligence 175 2011 20212060 2059 reward S V perishable value V obtained value state changes zero 25 This problem deﬁned bandit activated optimal schedule optimal activation schedule maximises average reward exactly optimal procurement strategy References 1 DP Anderson J Cobb E Korpela M Lebofsky D Werthimer SETIhome An experiment publicresource computing Communications ACM 45 11 November 2002 5661 2 M Babaioff M Feldman N Nisan Combinatorial agency Proceedings 7th ACM Conference Electronic Commerce EC2006 2006 pp 18 28 3 JC Beck N Wilson Proactive algorithms job shop scheduling probabilistic durations Journal Artiﬁcial Intelligence Research 28 2007 183232 4 D Bergemann S Morris Expost implementation Games Economic Behavior 63 2 2008 527566 5 R Buyya D Abramson S Venugopal The grid economy Proceedings IEEE 93 3 2005 698714 6 P Chalasani S Jha O Shehory K Sycara Query restart strategies web agents Proceedings Second International Conference Au tonomous Agents AGENTS 98 Minneapolis USA 1998 pp 124131 7 P Cheeseman B Kanefsky WM Taylor Where hard problems Proceedings Twelfth International Joint Conference IJCAI91 Sydney Australia 1991 pp 331337 8 D Coit A Smith Reliability optimization seriesparallel systems genetic algorithm IEEE Transactions Reliability 45 2 1996 254260 9 J Dean S Ghemawat MapReduce Simpliﬁed data processing large clusters Communications ACM 51 1 2008 107113 10 A Erradi P Maheshwari V Tosic Recovery policies enhancing web services reliability Proceedings IEEE Int Conf Web Services ICWS06 Chicago USA 2006 pp 189196 11 L Finkelstein S Markovitch E Rivlin Optimal schedules parallelizing anytime algorithms The case independent processes Proceedings Eighteenth Conference Artiﬁcial Intelligence AAAI02 Edmonton Canada 2002 pp 719724 12 I Foster C Kesselman S Tuecke The anatomy grid Enabling scalable virtual organizations International Journal High Performance Computing Applications 15 3 August 2001 200222 13 T Friese JP Müller B Freisleben Selfhealing execution business processes based peertopeer service architecture Proceedings Eighteenth International Conference Architecture Computing Systems ARCS 05 System Aspects Organic Pervasive Computing Innsbruck Austria LNCS vol 3432 Springer 2005 pp 108123 14 S Garg S Venugopal R Buyya A metascheduler auction based resource allocation global grids Proceedings 14th IEEE International Conference Parallel Distributed Systems ICPADS 08 Melbourne Australia 2008 pp 187194 15 EH Gerding K Larson A Rogers NR Jennings Mechanism design task procurement ﬂexible quality service Proceedings 2009 International Workshop ServiceOriented Computing Agents Semantics Engineering SOCASE 2009 Budapest Hungary LNCS vol 5907 Springer 2009 pp 1223 16 EH Gerding S Stein K Larson A Rogers NR Jennings Scalable mechanism design procurement services uncertain durations Proceedings 9th International Conference Autonomous Agents MultiAgent Systems AAMAS 10 Toronto Canada 2010 pp 649656 17 JC Gittins Bandit processes dynamic allocation indices Journal Royal Statistical Society Series B Methodological 41 2 1979 148177 18 T Glatard J Montagnat X Pennec Optimizing jobs timeouts clusters production grids Proceedings Seventh IEEE International Symposium Cluster Computing Grid CCGrid07 Rio Janeiro Brazil 2007 pp 100107 19 CP Gomes B Selman Algorithm portfolios Artiﬁcial Intelligence 126 2001 4362 20 CW Hang M Singh From quality utility Adaptive service selection framework Proceedings 8th International Conference Service Oriented Computing ICSOC San Francisco USA 2010 21 B Hayes Cloud computing Communications ACM 51 7 2008 911 22 BA Huberman RM Lukose T Hogg An economics approach hard computational problems Science 275 5296 1997 5154 23 MN Huhns VT Holderﬁeld RLZ Gutierrez Robust software agentbased redundancy Proceedings Second International Joint Conference Autonomous Agents Multiagent Systems AAMAS 03 Melbourne Australia 2003 pp 10181019 24 DB Ingham F Panzieri SK Shrivastava Advances distributed systems Advanced Distributed Computing From Algorithms Systems LNCS vol 1752 Springer Germany 1999 pp 277294 Ch Constructing dependable Web services 25 P Jacko J NiñoMora Timeconstrained restless bandits knapsack problem perishable items Electronic Notes Discrete Mathematics 28 2007 145152 26 P Jehiel B Moldovanu Eﬃcient design interdependent valuations Econometrica 69 5 2001 12371259 27 H Kautz E Horvit Y Ruan CP Gomes B Selman Dynamic restart policies Proceedings Eighteenth National Conference Artiﬁcial Intelligence AAAI 02 Edmonton Canada 2002 pp 674681 28 V Krishna Auction Theory Academic Press USA 2002 29 R Lavi A Mualem N Nisan Two simpliﬁed proofs Roberts theorem Social Choice Welfare 32 2009 407423 30 K LeytonBrown E Nudelman Y Shoham Empirical hardness models Methodology case study combinatorial auctions Journal ACM 56 4 2009 152 31 L Li ML Littman Lazy approximation solving continuous ﬁnitehorizon MDPs Proceedings Twentieth National Conference Artiﬁcial Intelligence AAAI05 Pittsburgh USA 2005 pp 11751180 32 RM Lukose BA Huberman A methodology managing risk electronic transactions Internet Netnomics 2 1 2000 2536 33 J Marecki M Tambe Towards faster planning continuous resources stochastic domains Proceedings TwentyThird Conference Artiﬁcial Intelligence AAAI08 Chicago USA 2008 pp 10491055 34 A MasColell M Whinston J Green Microeconomic Theory Oxford University Press UK 1995 35 Y Narahari R Narayanam D Garg H Prakash Mechanism design resource procurement grid computing L Jain X Wu Eds Game Theoretic Problems Network Economics Mechanism Design Solutions Advanced Information Knowledge Processing Springer Germany 2009 pp 1 28 36 N Nisan A Ronen Computationally feasible VCG mechanisms Journal Artiﬁcial Intelligence Research 29 2007 1947 37 Y Oh SH Son Scheduling realtime tasks dependability The Journal Operational Research Society 48 6 1997 629639 38 T Oinn M Greenwood M Addis MN Alpdemir J Ferris K Glover C Goble A Goderis D Hull D Marvin P Li P Lord MR Pocock M Senger R Stevens A Wipat C Wroe Taverna lessons creating workﬂow environment life sciences Concurrency Computation Practice Experience 18 10 2005 10671100 39 CH Papadimitriou JN Tsitsiklis The complexity optimal queuing network control Mathematics Operations Research 24 2 1999 293305 40 A Papakonstantinou A Rogers E Gerding N Jennings Mechanism design truthful elicitation costly probabilistic estimates distributed information systems Artiﬁcial Intelligence 175 2 February 2011 648672 httpeprintsecssotonacuk21316 2060 S Stein et al Artiﬁcial Intelligence 175 2011 20212060 41 DC Parkes Online mechanisms N Nisan T Roughgarden E Tardos V Vazirani Eds Algorithmic Game Theory Cambridge University Press UK 2007 pp 411439 Ch 16 42 M Pinedo Scheduling Theory Algorithms Systems 2nd ed Prentice Hall USA 2001 43 R Porter A Ronen Y Shoham M Tennenholtz Fault tolerant mechanism design Artiﬁcial Intelligence 172 15 2008 17831799 44 X Qin H Jiang DR Swanson An eﬃcient faulttolerant scheduling algorithm realtime tasks precedence constraints heterogeneous sys tems Proceedings International Conference Parallel Processing ICPP02 Vancouver Canada 2002 pp 360368 45 SD Ramchurn D Huynh NR Jennings Trust multiagent systems Knowledge Engineering Review 19 1 2004 125 46 SD Ramchurn C Mezzetti A Giovannucci JA RodriguezAguilar RK Dash NR Jennings Trustbased mechanisms robust eﬃcient task allocation presence execution uncertainty Journal Artiﬁcial Intelligence Research 35 2009 119159 47 D Shahaf E Horvitz Generalized task markets human machine computation Proceedings TwentyFourth AAAI Conference Artiﬁcial Intelligence AAAI10 2010 pp 986993 48 MP Singh MN Huhns ServiceOriented Computing Semantics Processes Agents John Wiley Sons Inc USA 2005 49 S Stein EH Gerding NR Jennings Optimal task migration serviceoriented systems Algorithms mechanisms Proceedings 19th European Conference Artiﬁcial Intelligence ECAI10 Lisbon Portugal 2010 pp 7378 50 S Stein EH Gerding A Rogers K Larson NR Jennings Flexible procurement services uncertain durations redundancy Proceedings TwentyFirst International Joint Conference Artiﬁcial Intelligence IJCAI09 Pasadena USA 2009 pp 292298 51 S Stein NR Jennings TR Payne Flexible service provisioning advance agreements Proceedings Seventh International Conference Autonomous Agents MultiAgent Systems AAMAS08 Estoril Portugal 2008 pp 249256 52 S Stein TR Payne NR Jennings Flexible selection heterogeneous unreliable services largescale grids Philosophical Transactions Royal Society A Mathematical Physical Engineering Sciences 367 1897 2009 24832494 53 WTL Teacy J Patel NR Jennings M Luck TRAVOS Trust reputation context inaccurate information sources Journal Autonomous Agents MultiAgent Systems 12 2 February 2006 183198 54 FA Tillman CL Hwang W Kuo Optimization techniques reliability redundancy A review IEEE Transactions Reliability R26 1977 148155 55 K Trivedi Probability Statistics Reliability Queuing Computer Science Applications 2nd ed John Wiley Sons Inc USA 2001 56 ML Weitzman Optimal search best alternative Econometrica 47 3 1979 641654 57 P Whittle Restless bandits Journal Applied Probability 25A 1988 301313 58 SJ Witwicki EH Durfee Commitmentbased service coordination International Journal AgentOriented Software Engineering 3 1 2009 5987 59 Y Zhang E Manisterski S Kraus V Subrahmanian D Peleg Computing fault tolerance multiagent deployment Artiﬁcial Intelligence 173 34 2009 437465