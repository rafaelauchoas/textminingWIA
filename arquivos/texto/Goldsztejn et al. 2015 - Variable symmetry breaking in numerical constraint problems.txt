Artiﬁcial Intelligence 229 2015 105125 Contents lists available ScienceDirect Artiﬁcial Intelligence wwwelseviercomlocateartint Variable symmetry breaking numerical constraint problems Alexandre Goldsztejn Christophe Jermann b Carme Torras c IRCCyN CNRS Nantes France b LINA Université NantesCNRS Nantes France c Institut Robòtica Informàtica Industrial CSICUPC Barcelona Spain Vicente Ruiz Angulo c r t c l e n f o b s t r c t Article history Received 10 December 2014 Received revised form 6 August 2015 Accepted 16 August 2015 Available online 20 August 2015 Keywords Constraint programming Symmetries Numerical constraints Variable symmetries Symmetry breaking hot topic research past years leading theoretical developments strong scaling strategies dealing hard applications Most research focused discrete combinatorial problems considered continuous numerical problems While theory applies contexts numerical problems speciﬁcities technical developments inadequate In paper present rlex constraints partial symmetrybreaking inequalities corresponding relaxation famous lex constraints extensively studied discrete case They allow partially breaking variable symmetry generated polynomial time Contrarily lex constraints impractical general overwhelming number inappropriate continuous context form rlex constraints eﬃciently handled natively numerical constraint solvers Moreover demonstrate pruning power continuous domains strong lex constraints subsume previous work breaking speciﬁc symmetry classes continuous problems Their experimental behavior assessed collection standard numerical problems factors inﬂuencing impact studied The results conﬁrm rlex constraints dependable counterpart lex constraints numerical problems 2015 Elsevier BV All rights reserved 1 Introduction Numerical constraint solvers nowadays beginning competitive outperform cases classical methods solving systems equations inequalities reals As consequence application raised ﬁelds diverse neurophysiology economics 2 biochemistry crystallography robotics 3 generally related global optimization 4 Symmetries naturally occur applications advisable exploit order reduce search space increase eﬃciency solvers Email addresses alexandregoldsztejnirccynecnantesfr A Goldsztejn christophejermannunivnantesfr C Jermann ruiziriupcedu This paper extended version 1 presented conference CP 2011 Corresponding author V Ruiz Angulo torrasiriupcedu C Torras httpdxdoiorg101016jartint201508006 00043702 2015 Elsevier BV All rights reserved 106 A Goldsztejn et al Artiﬁcial Intelligence 229 2015 105125 Numerical solvers follow BranchPrune scheme similarly discrete constraint solvers At iteration sub domain selected pruned according constraints split subdomains explored The main differences discrete solvers subdomains continuous boundaries contracted subdomain declared solution reaches prescribed computational precision Because resemblance solving processes tempting port symmetry breaking methods designed discrete Constraint Satisfaction Problems CSPs numerical ones Considerable work symmetry breaking discrete CSPs decades 57 Two main symmetry breaking strategies pursued 1 devise specialized search algorithms avoid symmetric portions search space 89 2 add symmetrybreaking constraints SBCs ﬁlter redundant subspaces 1011 Contrarily exists little work symmetry breaking numerical problems For cyclic variables permutations approach divides initial space boxes eliminates symmetric ones solving starts 12 SBCs pro posed speciﬁc problems 1314 speciﬁc symmetry classes 1517 partially breaking considered symmetries In paper propose ﬁrst general SBCs numerical constraint problems partially break variable symmetry These SBCs form simple binary inequalities form xi x j xi x j distinct variables problem j Thus nn1 inequalities generated deal symmetry They generated polynomial time knowing generator symmetry group classical group theory algorithms Moreover demonstrate SBCs suitable optimal numerical problems enclose tightly asymmetric search subspace better similar pruning power SBCs 2 The outline paper follows Section 2 provides necessary background numerical problems sym metries Section 3 introduces SBCs relaxation lexicographicordering based SBCs 18 widely discrete CSP community establishes good properties relaxation Section 4 introduces stateofthe art compares SBCs existing alternatives Section 5 assesses practical SBCs benchmark standard problems analyzes factors inﬂuencing impact Section 6 concludes paper future research directions 2 Principles variable symmetry breaking A CSP deﬁned triple cid4x d ccid5 x x1 xn list variables d d1 dn list domains variables c c1 cm list constraints The focus paper numerical CSPs NCSPs variables continuous domains subsets R typically represented set intervals box x To conform mathematical notations use numerical problems symbols variables valuations x denote point Rn For reason adopt functional notation evaluation constraint ci Rn true false evaluation conjunction constraints c Rn true false Hence solution NCSP point x x satisﬁes cx solution set χ x x cx A bijective function s Rn Rn symmetry NCSP maps solutions solutions1 x x cx true sx x csx true We x sx symmetric points case solutions symmetric solutions The symmetries NCSP form group composition law This symmetry group denoted cid3 following Though identity function forcibly cid3 trivial symmetry CSP considered following irrelevant break In paper consider symmetries permutations variables Let Sn set permutations 1 n The image permutation σ denoted iσ Any permutation σ completely deﬁned image integer 1 n usually described vector 1σ 2σ nσ A symmetry s variable symmetry iff permutation σ Sn point x x sx x1σ xnσ We identify symmetries associated permutations denote σ following Consequently group variable symmetries CSP isomorphic permutation subgroup Sn identiﬁed denoted cid3 following The application variable symmetry σ point x denoted xσ notation extended sets discrete continuous points X x X σ xσ x X Example 1 The 3cyclic roots problem consists ﬁnding x1 x2 x3 R3 satisfying x1 x2 x3 0 x1x2 x2x3 x3x1 0 x1x2x3 1 This problem variable symmetries including identity cid3 1 2 3 1 3 2 2 1 3 2 3 1 3 1 2 3 2 1 1 cid3 S3 Indeed variables syntactically interchangeable constraints commutativity laws product sum 1 Nothing required nonsolution points consider solution symmetries 19 A Goldsztejn et al Artiﬁcial Intelligence 229 2015 105125 107 We deﬁne symmetry class point x x set images sx symmetries s problem In case variable symmetries noted xcid3 xσ σ cid3 Provided domain satisfy symmetries x xσ σ cid3 class equivalence relation symmetry classes form partition x The symmetries NCSP broken single representative symmetry class retained To end possible add symmetrybreaking constraints SBCs exclude single representative symmetry class 5720 Crawford et al 18 proposed lexicographic ordering constraints lex address variable symmetry breaking Recall given x y Rn lexicographic order deﬁned inductively n 1 n 1 x cid10lex y x1 y1 x cid10lex y x1 y1 cid2 cid3 x1 y1 x2n cid10lex y2n given list z z1 z2 zn zi j denotes sublist zi zi1 z j Given variable symmetry σ Crawford et al deﬁne corresponding SBC lexσ x x cid10lex xσ 2 3 Intuitively constraint imposes total order symmetric points allowing retain single wrt given symmetry σ One constraint imposed symmetries problem order break yielding complete symmetrybreaking constraint cid4 lexcid3x lexσ x σ cid3 4 Example 2 The lex constraints symmetries 3cyclicroots problem x1 x2 x3 cid10lex x1 x3 x2 x1 x2 x3 cid10lex x2 x1 x3 x1 x2 x3 cid10lex x2 x3 x1 x1 x2 x3 cid10lex x3 x1 x2 x1 x2 x3 cid10lex x3 x2 x1 lex constraints eﬃciently propagated ﬁnite domains 21 However approach critical drawback number symmetries cid3 factorial number variables simple situations Sn n While general corresponding SBCs simpliﬁed polynomial number constraints line NPhardness symmetry breaking proved 18 explored 20 simplifying speciﬁc symme try groups tractable ones topic works symmetry breaking literature 181122 For instance Crawford et al noted cid3 Sn n terms lexcid3 simpliﬁed n 1 inequalities cid5 i1n1 xi xi1 3 Symmetrybreaking constraints numerical CSPs In section ﬁrst explain reason lex SBCs impractical numerical CSPs We point intuition partial SBCs introduce discuss properties rest section 31 lex intractability impracticality NCSPs The ﬁrst foremost reason lex SBCs intractable domains continuous discrete overwhelmingly numerous However symmetry group reasonable size lex SBCs reduced reasonable number remain impractical context NCSPs A geometric interpretation lex constraints highlights complexity indicates intuition relaxation propose section Let denote Lσ x resp Lcid3x solution set lex constraint breaking symmetry σ resp symmetry group cid3 domain x Lσ x x x lexσ x Lcid3x x x lexcid3x For convenience omit domain x spans set real vectors Rn 5 6 Breaking symmetries NCSP adding SBC lexcid3x constraints allows restricting search space Lcid3x retaining solution symmetric class We ﬁrst remark lexcid3x conjunction lexσ x Lcid3x intersection Lσ x Lcid3x Lσ x 7 cid6 σ cid3 108 A Goldsztejn et al Artiﬁcial Intelligence 229 2015 105125 Fig 1 The lex21 constraint components 2D blue included red excluded Fig 2 The lex231 constraint components 3D blue included red excluded Second recursive deﬁnition lexicographic relation Equation 2 indicates form lexσ x union 1 open halfspace x1 x1σ 2 portion boundary plane x1 x1σ portion recursively deﬁned similarly union 3 halfplane x2 x2σ 4 portion boundary line Hence structure Lσ x complicated number variables increases Example 3 When n 2 possible symmetry interchangeability x1 x2 permutation 2 1 It yields lex constraint x1 x2 x1 x2 x2 x1 x2 x1 8 boils x1 x2 union 1 open halfplane x1 x2 2 line x1 x2 depicted Fig 1 Things complicated n 3 Consider instance permutation 2 3 1 corresponding lex SBC x1 x2 x1 x2 x2 x3 x2 x3 x3 x1 x3 x1 simpliﬁes x1 x2 x1 x2 x2 x3 x1 x2 x3 9 10 union 1 open halfspace x1 x2 2 open halfplane x1 x2 x2 x3 3 line x1 x2 x3 depicted Fig 2 Though impossible depict geometry lex constraint n 3 easily imagine general structure complexity numerical context As consequence geometric shape Lcid3x intersection potentially factorial number complex asymmetric subspaces Lσ x resulting complex subspace having form polyhedral cone essen tial complexity lies boundaries main simple intersection open halfspaces xi x j number nn1 dimension n 2 Example 4 LC3 cyclic symmetry group 3D intersection subspaces corresponding lex231 lex312 depicted Fig 3 In conclusion complexity lex SBCs2 makes impractical NCSPs lays boundaries lution sets boundaries negligible numerical domains formalized Subsection 33 In following subsection propose relaxation lex constraints consists accepting boundaries leading partial SBCs better suited NCSPs 2 Note formulations lex constraints proposed literature continuous context equivalent considered formulation 3 deﬁne identical complex halfopen subspace equivalent Section 44 details A Goldsztejn et al Artiﬁcial Intelligence 229 2015 105125 109 Fig 3 The lex constraint components cyclic symmetry group 3D In blue inner components red excluded boundaries 32 Deﬁnition rlex partial SBCs Partial symmetrybreaking constraints PSBCs deﬁned considering tractable subset complete symmetry breaking constraints 22 The key idea approach instead simplify lex SBC considering closure geometric space deﬁnes main open halfspace boundary The main halfspace SBC lexσ corresponds inequality x ˆσ x ˆσ σ ˆσ smallest integer 1 n ˆσ cid13 ˆσ σ σ 1 2 3 5 4 ˆσ 4 Note integer welldeﬁned symmetries identity permutation broken disregarded following We deﬁne relaxed lex constraint rlexσ x x ˆσ x ˆσ σ x ˆσ x ˆσ σ x ˆσ x ˆσ σ Accordingly acceptance x set rlex constraints rlexcid3x cid4 σ cid3 rlexσ x 11 12 The following proposition shows relaxation lex PSBC Proposition 1 lexσ x rlexσ x Proof Since ˆσ implies iσ xi xiσ ˆσ Therefore lexσ x x cid10lex xσ actually equivalent logically implies x ˆσ x ˆσ σ x ˆσ x ˆσ σ cid10lex x ˆσ n x ˆσ n rlexσ x cid2 x ˆσ x ˆσ σ x ˆσ 1n σ x ˆσ x ˆσ σ cid10lex x ˆσ 1n cid8 σ cid7 Similarly lex constraints deﬁne portions domain x satisfying rlex constraints Rσ x x x rlexσ x Rcid3x x x rlexcid3x 13 14 For convenience omit domain x spans set real vectors Rn Example 5 The rlex constraint cyclic symmetry groups C2 rlex21 x1 x2 That C3 rlex231 x1 x2 rlex312 x1 x3 The corresponding domains depicted Fig 4 illustrates relation corresponding lex constraints Figs 1 3 Also rlex constraints corresponding Example 2 inequalities x1 x2 x2 x3 x1 x3 appears redundant 33 Properties rlex PSBCs The rlex PSBCs compared lex SBCs We ﬁrst Subsection 331 rlex suitable NCSPs We provide detailed analysis difference rlex PSBCs lex SBCs Subsection 332 indicating fact complete SBCs powerful cases 331 On suitability rlex constraints NCSPs We establish properties rlex PSBCs suitable breaking variable symmetries NCSPs reasonable number symmetry group natively handleable numerical constraint solvers optimal terms pruning capabilities 110 A Goldsztejn et al Artiﬁcial Intelligence 229 2015 105125 Fig 4 rlex constraints cyclic symmetry groups 2D 3D Number constraints generation There nn1 rlex constraints symmetry group form xi x j j This number reduced n 1 transitivity reduction 23 according Theorem 4 24 2 The naive way generating rlex PSBCs generate lex SBCs relax However entails generating lex SBCs intractable The indexes variables 24 SBCs form x ˆσ x ˆσ σ derived discrete CSPs including alldiff global constraint In paper polynomialtime algorithm proposed generate variables index based ShreierSims group theory algorithm 25 This method generated rlex constraints For simplicity recall generation algorithm3 Input group G acting set variable indices Output list I variable indices pairs I Gorder1 x Gsmallest_moved_point y Gorbitx I xy G Gstabilizerx function smallest_moved_point returns smallest index ˆσ permutations σ G functions orbit stabilizer compute corresponding classical group theory elements The relationship rlex PSBCs SBCs proposed 24 investigated Subsection 41 Pruning optimality numerical solvers At heart unsuitability lex constraints lies openset nature subspace delimit Numerical constraint solvers based intervals4 advantage difference subspace deﬁned problem constraints closure We prove rlex constraints deﬁne closure subspace deﬁned lex constraints implies numerical constraint solvers distinguish lex rlex constraints general5 3 Given PythonSageMath language convenience reusability easily rewritten formal computation software GAP Mathematica 4 Interval computations typically based closed intervals computations open sets complicated expensive useless outward rounding necessity Note typical numerical algorithms handle strict inequalities 5 Singular cases considered box interval dimensions degenerated single real theory difference lex rlex constraints provided solver implements lex constraints ﬁltering case numerical solver know A Goldsztejn et al Artiﬁcial Intelligence 229 2015 105125 111 Proposition 2 Rcid3 clLcid3 Proof Consider interior closure sets subspace deﬁned single lex constraint Both intLσ x Rn x ˆσ x ˆσ σ clLσ x Rn x ˆσ x ˆσ σ Rσ obviously hold permutation σ By deﬁnition Rcid3 σ cid3Rσ Lcid3 σ cid3Lσ Rcid3 clLcid3 direct consequence property closure intersection subset intersection closures For reverse inclusion note y 1 2 3 4 n intLcid3 consider arbitrary x Rcid3 For σ cid3 y ˆσ y ˆσ σ x ˆσ x ˆσ σ For λ 0 1 deﬁne zλ λx 1 λ y note ˆσ σ zλ intLσ As 0 λ 1 λx ˆσ λx ˆσ σ 1 λ y ˆσ 1 λ y ˆσ σ implies zλ holds σ cid3 conclude zλ intLcid3 As consequence x limλ1 zλ clintLcid3 clLcid3 proves reverse inclusion cid2 ˆσ zλ Finally remark rlex constraints eﬃcient propagate lex constraints Indeed binary inequalities lex constraints involve variables symmetries large combination logical operations Hence pruning rlex constraints requires speciﬁc algorithm simple nonstrict inequalities natively handled numerical solvers propagation following AC3like ﬁxpoint process use numerical constraint solvers triggers constraints depending variables instead n entailing constraints enqueued Searchspace reduction factor In context NCSPs size search space measured number elements contains inﬁnitely elements continuous set S Instead quantify hypervolume6 denoted vol S For example search space 1 1 1 1 1 1 hypervolume equal 8 half 0 1 1 1 1 1 hypervolume equal 4 The aim section study hypervolume reduction search space provided rlex constraints comparison corresponding lex constraints As rlex relaxation lex Lcid3x Rcid3x In fact accurate relationship sets Informally solution accepted rlexσ constraint rejected corresponding lexσ constraint equal components x ˆσ x ˆσ σ We deﬁne set vectors equal components H x Rn j cid13 j xi x j note vol H 0 composed hyperplanes ﬂat sets We lexcid3 rlexcid3 solution sets hypervolume proved following proposition Proposition 3 vol Lcid3x vol Rcid3x Proof Since Lcid3x Rcid3x vol Lcid3x vol Rcid3x Now note x Rcid3x x Lcid3x obviously implies x H Rcid3x Lcid3x H rule measuring unions sets vol Rcid3x vol Lcid3x vol H vol Lcid3x H Since vol H 0 vol Lcid3x H 0 obtain vol Rcid3x vol Lcid3x cid2 The following proposition quantiﬁes reduction performed lex constraints rlex constraints Proposition 3 term hypervolume Proposition 4 Provided domain x symmetric x xσ σ cid3 vol Lcid3x vol x cid3 Proof We suppose cid3 2 cid3 id statement trivial First note vol Lcid3x vol Lcid3xσ map x xσ isometry preserves measure Now note x Lcid3x σ φ cid3 σ cid13 φ obviously implies xσ cid13 xφ x H xσ xφ x xφσ 1 x H Therefore Lcid3xσ Lcid3xφ H Recalling vol H 0 obtain rule measuring unions sets Lcid3xσ cid3 vol Lcid3x 15 cid2 cid9 vol σ cid3 cid3 cid10 It remains prove representative symmetry class σ cid3 cid9 cid9 Lcid3xσ x Since symmetry classes form partition x Lcid3x contains exactly xσ x 16 xLcid3 x σ cid3 6 A generalization area 2D volume 3D called Lebesgue measure 112 A Goldsztejn et al Artiﬁcial Intelligence 229 2015 105125 The proof concluded commuting unions cid2 By Proposition 3 conclude hypervolume reduction enforced rlex constraints In words rlex lex constraints reduce search space portion identical hypervolume difference lying boundaries remaining search space The rlex PSBCs optimal regard 332 A detailed look difference rlex lex ﬁltering powers lex SBCs rlex PSBCs principle superior ﬁltering power However continuous context rlex act SBCs set points occupying domain volume Indeed explained point retained rlex retained lex belong set H Note points class lies H H Hence rlex SBCs H Since H volume set H rlex guaranteed SBCs volume domain At end section conclude rlex SBCs nonempty subset H The number symmetric points x satisfying rlex constraints Rcid3xcid3 denote xcid3 xσ σ cid3 number different elements symmetry class x Both indicators properties symmetry class point properties point The pruning power PSBC symmetry class point x optimal Rcid3xcid3 1 xcid3 cid3 Indeed case PSBC acts SBC Rcid3 xcid3 1 allows greatest cid3 By abuse language point x rlexoptimal belongs optimally possible reduction reduced symmetry class Therefore point x H rlexoptimal rlex SBCs means Rcid3 xcid3 1 x H means x equal components implying permutations different xcid3 cid3 Rcid3 xcid3 xcid3 1 With detailed analysis rlexoptimality fact rlex perform SBCs guaranteed set larger H subset H At time characterize completely rlexoptimal points From topological point view divide subspace Rcid3 x sets interior points frontier points Interior points satisfying strict inequalities rlex points satisfying constraints 24 Frontier points equality rlex holds The main result prove subsection interior points optimal points coincident For purpose rely mainly intermediate characterization Proposition 6 stating class point optimal symmetry point rejected rlex Another interesting result way Proposition 7 symmetry interior point identity rejected rlex Combined implies directly main result Proposition 8 The following statement required Proposition 6 Proposition 5 All elements xcid3 generated number symmetries cid3 σ cid3 xσ y σ cid3 xσ z y z xcid3 σ2 permutation transforms y z yφ yσ 1 Proof Let cid7 σ cid3 xσ y ϒ σ cid3 xσ z let σ1 cid7 σ2 ϒ elements sets xσ1 y xσ2 z Then φ σ 1 σ2 xσ2 z As consequence σ cid7 xσ φ yφ z Therefore permutation cid7 φ belongs ϒ The application fφσ σ φ cid3 cid3 known bijective bijective restricted cid7 domain implies cid7 φ cid7 Therefore ϒ cid7 symmetries ϒ cid7 Inverting roles y z ϒ cid7 beginning proof ϒ cid7 leading ϒ cid7 cid2 σ2 xσ1 σ 1 1 1 1 In step characterize optimal nonoptimal classes following proposition Proposition 6 The class xcid3 point x Rn optimal 1 xcid3 cid3 Rcid3xcid3 1 2 σ1 cid3 rlexcid3xσ1 true σ2 cid3 σ1 rlexcid3xσ2 false Proof We ﬁrst prove 1 2 contradiction suppose σ1 σ2 σ1 cid13 σ2 rlexcid3xσ1 rlexcid3xσ2 true There possibilities If xσ1 xσ2 symmetries different xcid3 cid3 arrived contradiction In opposite case xσ1 cid13 xσ2 symmetries accepted Rcid3 xcid3 1 contradiction Second prove 2 1 σ1 symmetry accepted rlex obviously Rcid3xcid3 1 For state ment note xcid3 cid3 equivalent xσ1 cid13 xσ2 σ1 σ2 cid3 σ1 cid13 σ2 Since σ1 permutation x accepted rlex permutation yield result σ1 Therefore σ cid3 xσ xσ1 1 By Propo sition 5 leads σ cid3 xσ xφ 1 φ cid3 implies φ cid3 yields result different permutations group xσ1 cid13 xσ2 σ1 σ2 cid3 σ1 cid13 σ2 required cid2 A Goldsztejn et al Artiﬁcial Intelligence 229 2015 105125 113 As consequence class x nonoptimal iff σ1 σ2 σ1 cid13 σ2 rlexcid3xσ1 rlexcid3xσ2 true Proposition 7 x interior σ cid3 Id rlexcid3xσ false Proof Lets deﬁne x lex y 2 equivalent n 1 x1 y1 That x lex y x cid10lex y x cid13 y y cid10lex x x lex y If point x interior x ˆσ x ˆσ σ σ cid3 Id This means x cid13 xσ σ cid3 Id time x cid10lex xσ x satisﬁes rlex Thus x interior x lex xσ σ cid3 Id Now investigate xσ satisﬁes rlex σ cid3 Id When rlex associated σ 1 applied xσ results xσ cid10lex xσ σ 1 xσ cid10lex x But x interior x lex xσ falsiﬁes rlex Therefore xσ satisfy rlex σ cid3 Id cid2 Let Icid3 denote set pairs variable indexes involved rlex constraint Icid3 j xi x j constraint rlexcid3 The proposition main result subsection point interior equivalent optimal Proposition 8 For x x rlexcid3x true x Rcid3x x interior class xcid3 optimal Proof Interior optimal Applying Proposition 7 x obtain conditions Proposition 6 applied σ1 Id Optimal interior The statement optimal class member retained rlex interior equivalent point frontier class nonoptimal We prove statement So assume x frontier point j Icid3 xi x j To prove nonoptimality xcid3 σ cid3 Id rlexcid3xσ true Let δ minxr xs xr cid13 xs2 half smallest nonnull difference components x z z1 zn zk xk k cid13 zk xk δ k Since zi z j j Icid3 z rejected rlex However element class accepted rlex Thus σ cid3 Id rlexcid3zσ true We permutation σ x accepted rlexcid3 Let Ei r xr xi We divide set rlexcid3 constraints subsets The ﬁrst corresponds k l Icid3 kσ Ei lσ Ei elements set know xkσ xlσ corresponding constraint xσ xkσ xlσ satisﬁed By construction z easy verify s r r Ei s Ei zr zs xr xs Therefore remaining second set constraints k l Icid3 kσ Ei lσ Ei fact zσ accepted rlex means zkσ zlσ turn implies xkσ xlσ The conclusion rlexcid3 constraints satisﬁed xσ x class optimal cid2 Example 6 The 4cyclic roots problem formulation similar Example 1 R4 It following symmetries cid3 1 2 3 4 4 3 2 1 2 3 4 1 1 4 3 2 3 4 1 2 2 1 4 3 4 1 2 3 3 2 1 4 One easily check nonredundant rlex set permutations x1 x2 x1 x3 x1 x4 x2 x4 An interior point constrained space Rcid3x satisfy x1 x2 x1 x3 x1 x4 x2 x4 components equal linked relaxed constraints For instance 00 15 15 20 interior point x2 x3 A consequence proposition frontier points identiﬁed nonoptimal points Thus frontier point satisfy conditions 1 It belongs class cid3 members 2 Some symmetries broken rlexcid3 All possibilities forbidden statement set frontier points Points symmetric points completely eliminated rlex having cid3 symmetries For example considering 4cyclic roots problem 00 00 15 20 point symmetries retained rlexcid3 jointly symmetric points 00 00 20 15 Points symmetries broken belonging classes cid3 members For classes rlex equivalent lex Examples 4cyclic roots problem points 00 10 00 10 20 50 50 50 members classes cardinality respectively constrained subspace Points belong classes cid3 members symmetries completely broken An example 4cyclic roots problem 50 50 20 50 point fourmembers class representatives constrained subspace point 50 50 50 20 114 A Goldsztejn et al Artiﬁcial Intelligence 229 2015 105125 In sum frontier constrained subspace Rcid3 x union nondisjoint sets points belonging classes cid3 members symmetries entirely broken Finally want remark SBC character rlex limited H interior points superset H Lets outline situation respect rlex course SBCs H volume domain rlex SBCs subsets H Interior points belonging H b Frontier points symmetries broken Moreover subsets If set rlex imposes total order variables SBCs domain including set frontier points coincides H case rlex lex equivalent set b If rlex impose total order set interior points variables related rlex constraints equal values The conclusion rlex SBCs set strictly greater H 4 Related work The related work present section concerns variable symmetry breaking It divided categories The ﬁrst Sections 41 42 43 includes simpliﬁed SBCs PSBCs general symmetries developed discrete constraint programing ﬁeld In general suited numerical problems applied numerical solvers The second group related works Sections 45 46 speciﬁcally addressing symmetries numerical problems They deal particular cases symmetries andor problems 41 Pugets SBCs In case CSP contains alldifferent constraint Puget proved 24 lex SBCs drastically simpliﬁed In fact shown Subsection 31 complexity lex SBCs lays boundaries correspond equality distinct variables presence alldifferent constraint implies solution boundaries The comparison Pugets SBCs rlex PSBCs summarized Fig 5 An arbitrary lex SBC equivalent Pugets x ˆσ x ˆσ σ SBC hypothesis alldifferent constraint enforced lex SBC implies corresponding x ˆσ x ˆσ σ rlex PSBC general Since indices involved cases polynomial algorithm Puget generate constraints based ShreierSims algorithm generating rlex PSBCs Finally natural derivation rlex PSBCs given Section 32 following proposition shows rlex PSBCs derived directly Pugets SBCs It provided clarifying relationship Pugets SBCs rlex PSBCs Proposition 9 The fact Pugets constraints SBCs conjunction alldifferent constraint implies rlex PSBCs general Proof Consider CSP n variables arbitrary variable symmetry group cid3 Let x arbitrary variable instanti ation We going prove constraints rlexcid3 retain element xcid3 PSBCs fact Pugets constraints SBCs Let δ minxi x j xi cid13 x j smallest nonnull difference components x y y1 yn yi xi iδ n Then components yi different Indeed yi y j xi x j j δ n zero cid13 j xi x j 0 second summand null j n j δ n δ xi x j implies xi x j cid13 j δ n Because y satisﬁes alldifferent constraint Pugets SBCs cid3 retain exactly element symmetric class exist σ cid3 yσ satisﬁes Pugets constraints We xσ satisﬁes rlex constraints cid3 Consider application yσ arbitrary Pugets constraint yiσ y jσ suppose corresponding rlex n x jσ jσ δ n Since supposed xiσ x jσ 0 deﬁnition δ δ xiσ x jσ constraint hold xiσ x jσ By deﬁnition y Pugets constraint yiσ y jσ equivalent xiσ iσ δ equivalent xiσ x jσ δ jσ iσ δ jσ iσ jσ iσ n contradictory cid2 n n 42 Jeffersons PSBCs PSBCs discrete context follow distinct principles 1 completely break subset symmetry group 2 partially break symmetry group7 Jefferson Petrie investigated approaches 22 following principle 1 use lex constraints completely break random subsets permutations gen erators computed Nauty 26 generators obtained modiﬁcation Nauty following 2 use rlex constraints called ArityOne work informally derived Pugets SBCs partially break symmetries Their 7 Though possible partially break subset symmetry group approach general inferior A Goldsztejn et al Artiﬁcial Intelligence 229 2015 105125 115 Fig 5 Parallel derivation Pugets SBCs rlex showing similitude difference approaches experiments context discrete CSP rlex eﬃcient best PSBCs lex constraints generators computed modiﬁcation Nauty appears eﬃcient general These conclusions transposed continuous context approaches following principle 1 suitable continuous solvers impracticality lex constraints context Section 31 43 Friedmans PSBCs Friedman et al introduce notion fundamental domains binary integer programs 27 continuous domains 28 They deﬁned subsets F initial domain D F cid3 D F contains repre sentative symmetry class point cid3 D This deﬁnition applies particular Lcid3 D Rcid3D They deﬁne minimal fundamental domains fundamental domains proper closed subset fundamental domain property applies Lcid3D Rcid3D Proposition 2 Considering domains restricted 0 1n simplicity8 propose method constructing fundamental domain F c considering ordering vector c Rn n number variables problem9 F ccid3 x 0 1n c T x c T xσ σ cid3 It easy constraint fdσ c T x c T xσ PSBC permutation σ fdcid3 symmetry group cid3 They introduce universal ordering vector ˆc 2n1 2n2 2 1 prove F ˆc minimal fundamental domain We illustrate universal fundamental domain cyclic symmetry groups C2 C3 Fig 6 As illustration clearly shows F ˆccid3 equivalent Lcid3 Rcid3 2D Figs 1 page 108 4a page 110 However contrarily situation discrete domains equivalent higher dimensions F ˆc cid3 general directly related Lcid3 Rcid3 higher dimension For instance Fig 4d page 110 shows RC3 0 13 signiﬁcantly different F ˆcC3 shown Fig 6d Still property closed minimal funda mental domain beneﬁts properties rlex constraints For instance volume F ˆcC3 3 volume RC3 0 13 computed Proposition 3 formally computed shown equal 1 Proposition 4 We consider rlex PSBCs superior fd PSBCs reasons 17 fdσ PSBC cid5 σ cid3 The number fdσ constraints essence equal number symmetries σ considered symmetry group factorial obvious simpliﬁcation intractable set constraint There known eﬃcient polytime way generating Like lex constraints individual fd constraint involves variables costly prune propagate The coeﬃcients ˆc induce numerical instability ﬂoatingpoint computations adding 2n1xn1 x0 yield cancellation n large leading inaccurate comparisons 44 Frischs SBCs Frisch et al propose 2930 alternative encodings lex constraints These encodings equivalent lex constraints discrete domains Some appropriate numerical solvers fact equivalent lex constraints continuous domains For instance arithmetic encoding fact equivalent fundamental domain F c c dn1 dn2 d 1 d size discrete variable domains taken 0 1 d 1n Transposed normalized continuous 8 Note continuous domains form intervals mapped 0 1n subtracting interval lowerbound dividing width 9 The mentioned paper fact use relation instead strictly equivalent terms symmetry breaking We change easier comparison lex rlex constraints 116 A Goldsztejn et al Artiﬁcial Intelligence 229 2015 105125 Fig 6 Universal fundamental domains cyclic symmetry group 2D 3D Fig 7 Satisfaction domain hlexδ 231 constraint blue included red excluded domain 0 1n encoding fd constraints shown different lex rlex constraints previous section These constraints PSBCs SBCs numerical context explained rlex constraints preferred Another example Harvey encoding employs reiﬁcation binary comparison hlexσ x1 cid7 cid8 x1σ cid10x2 x2σ cid10 cid10xn xnσ cid10true 18 cid10 reiﬁcation function maps true integer 1 false integer 0 In discrete context hlex constraints equivalent lex constraints case continuous context gap size 10 possible valuations variable hlex constraints adapted changing deﬁnition function cid10 making closer closer lex constraints continuous context true mapped smaller smaller values δ 0 1 Fig 7 giving birth hlexδ constraints valid PSBCs continuous context10 The space delimit strictly contains L volume strictly larger R making hlexδ weaker PSBC lex rlex Again similarly proposed lex encodings ﬁrst foremost reason encodings appro priate continuous context come factorial number respect number variables worst case eﬃcient polytime method generating involve variables implied symmetry formula complex rlex constraints These reasons consider rlex appropriate PSBCs continuous context 10 hlex0 valid PSBC makes true indistinguishable false 45 Speciﬁc PSBCs NCSPs A Goldsztejn et al Artiﬁcial Intelligence 229 2015 105125 117 The adhoc inequalities proposed 151716 partially break speciﬁc classes variable symmetries NCSPs special cases rlex constraints For instance Gasca et al 15 proposed PSBCs xi xi1 1 n 1 permutations cid3 Sn PSBCs x1 xi 2 n cyclic permutations cid3 Cn Similar PSBCs proposed Spi 16 numerical optimization problems peculiar symmetry groups cid3 C2 S n Liberti et al 1314 suggest general PSBCs MINLP Mixed Integer NonLinear Programming problems involving inequality constraints However analysis provided completeness optimality PSBCs class problems 17 cid3 cid11 2 46 Symmetric boxes singlecycle symmetries A different strategy preceding previous works relying addition SBCs 12 From fact numerical solvers process boxes authors suggest utility notion box symmetry set points symmetric belonging box In context variable permutations symmetry box understood permutation component intervals box Classes box symmetry naturally deﬁned representatives member class representing class The approach works producing set representatives symmetries cover domain The solver launched original problem representative domain solutions symmetric generated according symmetries representative This approach followed 12 context cyclic permutations Its main advantage potential burden SBCs add original problem avoided However needs small program manage launching representatives A disadvantage algorithm number representatives grows exponentially dimension unmanageable n large 5 Experimental results In section provide experimental evidence important performance gains rlex constraints bring solving symmetric NCSPs For purpose use single measure called gain following ratio time11 solve problem rlex solve problem rlex Indeed expect rlex constraints quickly eliminate symmetric portions search space isolating asymmetric search subspace volume divided cid3 wrt initial search space As result expect observe gains proportional cid3 All experiments conducted dualcore equipped machine 25 GHz 4 Gb RAM Realpaver 31 straint solver default settings AC3like ﬁxedpoint propagation loop Hullconsistency Boxconsistency contracting operators followed Interval Newton application balanced bisection splitting following roundrobin principle We consider benchmark composed standard problems picked 3235 The selected test set representative characteristics ﬁxed scalable dimension constraint types complexity satisﬁable unsatisﬁable problems discrete continuous solution sets course symmetry groups Tables 1 2 provide characteristics columns n cid3 considered problems experimentally obtained gain column time number solutions column χ summarizing 68 individual experiments problems instances columns rlex columns standard PSBCs For scalable problem obtained ratios graphically depicted Fig 8 comparison symmetry group order We compare rlex performances related work mentioned previous section explained apply continuous context subsumed rlex identical rlex classes symmetry applied 51 Global analysis results Without rlex solving time varies 08 s 3 818 828 s 44d04h47m08s12 total solving time 7 851 611 s 90d21h00m11s 68 experiments With rlex solving time varies 013 s 132 070 s 1d12h41m10s13 total solving time 228 2531 s 2d15h24m13s 68 experiments The gain varies 09814 10 166215 overall gain ratio total solving times 68 instances 344 These ﬁgures bit biased test set comprises problems solved widely different times In order allow precise comparison Table 3 partitions 11 The ratio number search nodes interesting drawbacks First measure impact additional rlex constraints propagation cost node Second contrarily discrete CSPs search tree numerical CSPs explored SBCs added subpart searchtree SBCs splitpoint location affected SBCs propagation 12 Sparse dimension n 7 13 Reimer dimension n 6 14 Eiger dimension n 100 15 ExtendedPowell dimension n 30 118 A Goldsztejn et al Artiﬁcial Intelligence 229 2015 105125 Table 1 Characteristics results selected benchmark 1 Timings ratios rounded nearest decimal large Problem Boon Brown Cpdma Cyclicrootsc Eiger Extended Freudenstein Extended Powell Feigenbaum n cid3 χ Standard 6 5 6 7 8 9 3 4 5 6 4 5 6 7 100 200 300 400 500 600 40 60 80 100 120 140 22 24 26 28 30 11 13 15 17 19 4 24 120 720 5040 40 320 6 24 120 720 8 10 12 14 100 200 300 400 500 600 243E18 265E32 816E47 304E64 832E81 118E100 878E8 115E10 162E11 244E12 392E13 11 13 15 17 19 8 3 2 3 2 3 91 105b 233 18 819 30 574 26 148b 10 24 56 2 2 2 2 2 2 1 1 1 1 1 1 2048 4096 8192 16 384 32 768 200 522 1368 3572 9350 rlex 3 3 2 3 2 3 16 489b 22 212 120 3319b 1 7 4 2 2 2 2 2 2 1 1 1 1 1 1 1 1 1 1 1 20 42 96 212 503 Ratio 27 10 10 10 10 10 55 105 887 2548 79 100 34 140 10 10 10 10 10 10 10 10 10 10 10 10 20480 40960 81920 16 3840 32 7680 100 124 142 168 185 Time seconds Standard 347 08 69 794 14194 15 9657 3867 969 28568 53 5874 588 236 33525 135 9601 223 3484 16347 49278 11 6366 22 5563 88 410 1244 2915 6383 11732 1355 3428 8543 20955 50831 172 584 2773 7126 12170 rlex 112 03 09 25 105 348 578 58 436 2188 76 28 2845 11 6077 226 2819 13750 42249 10 2850 17 7474 19 81 235 546 1185 2125 02 03 04 04 05 20 55 245 575 1057 Ratio 31 27 77 318 1352 4588 67 167 655 2449 77 84 118 117 10 14 12 12 11 13 46 51 53 53 54 55 6775 11427 21357 52387 10 1662 86 106 113 124 115 Continuous solution set n 3 discrete n 4 5 6 b Number enclosing boxes precision 0001 c No solution n 3 continuous solution set n 4 discrete solution set n 5 6 7 test set classes respect solving time rlex easy instances solved hour hard instances solved day intractable instances solved day For category provide total minimum maximum solving times gains These statistics complemented Table 4 depicts classes total number instances gains lower 10 10 100 excluded 100 1000 excluded larger 1000 A counterproductive performance occur 1 run 68 experiments instance problem Eiger dimension n 100 loss solving time 2 223 s 03 s A detailed look problem reveals cyclic symmetry group order n simple binary quadratic constraints fully frontier solutions Section 521 detailed analysis inﬂuence features Another problem benchmark similar characteristics Vrahatis As expected gains counterproductive appear small comparison symmetry group order The fact rlex constraints ineﬃcient problems easily explained original constraints problems eﬃciently ﬁltered testiﬁed large dimensions tackled fact solving require single split propagating rlex constraints numerous large considered dimensions bring useful additional reductions induces small additional cost Oppositely good performances gains greater 100 occur 33 runs 68 17 providing gains greater 1000 Such outstanding gains obtained problems Brown Cpdm ExtendedPowell Noon Wright large dimensions This easily explained problems factorialorder symmetry groups general16 exponentially growing solution set n exponentially reduced rlex 16 It case Brown Noon A Goldsztejn et al Artiﬁcial Intelligence 229 2015 105125 119 Table 2 Characteristics results selected benchmark 2 Timings ratios rounded nearest decimal large Problem n cid3 Hénon Ikeda Noon Reimer Sparse Virasoro Vrahatis Wright 20 30 40 50 6 8 10 12 14 5 6 7 8 9 4 5 6 4 5 6 7 8 100 200 300 400 500 600 7 8 9 10 10 15 20 25 3 4 5 6 7 120 720 5040 40 320 362 880 4 12 36 24 120 720 5040 8 100 200 300 400 500 600 5040 40 320 362 880 3 628 800 χ Standard 104 1082 10 808 112 452 9 17 23 53 73 13 15 9 10 11 8 24 72 0 0 0 0 2880 2 2 2 2 2 2 128 256 512 1024 rlex 14 75 567 4527 5 7 7 13 13 3 3 2 2 2 2 2 2 0 0 0 0 1822 2 2 2 2 2 2 8 9 10 11 Ratio 74 144 191 248 18 24 33 41 56 43 50 45 50 55 40 120 360 10 10 10 10 158 10 10 10 10 10 10 16 284 512 93 Time seconds Standard 156 5492 13 0703 212 4400 70 735 4710 30721 21 8064 351 615 1580 5904 16072 41 21932 329E6 10 626 61647 382E6 146 9386 491 5084 20880 59233 13 4540 25 3467 115 1178 13670 16 6231 rlex 23 504 8736 10 2919 34 249 1378 7549 44471 07 05 07 10 15 11 2420 132 0700 01 17 292 18453 17 3991 327 2492 8324 19590 38273 63248 02 05 16 37 Table 3 Timings seconds gains statistics classiﬁed easy hour hard day intractable day instances Easy Std 31 3536 077 33525 Total Min Max rlex 50628 013 13750 Gain 619 10 52387 Hard Std 216 1453 49278 53 5874 rlex 49 9762 05 17 7474 Gain 43 11 10 1662 Intractable Std 760E6 135E5 382E6 rlex 173E5 18453 132E5 Ratio 68 109 150 206 21 29 34 41 49 501 1230 2257 5904 10715 37 90 249 100 368 2111 20701 84 15 20 25 30 35 40 575 2356 8544 44927 Gain 439 84 20701 Table 4 Partition benchmark respect observed gains classiﬁed easy hour hard day intractable day instances Gains All 0 1 1 10 10 100 100 Easy 50 1 26 12 11 Hard 13 0 7 1 5 Intractable 5 0 0 4 1 To sum general statistics demonstrate rlex constraints provide important gains solving time harmless use additional propagation cost induce slightly counterproductive worst case In opinion validates practical relevance 52 Detailed analysis results A detailed look Tables 1 2 reveals rlex performance live expectations cases gain lower proportional order symmetry group considered instance Apart cases rlex constraints counterproductive explained note problems factorialorder symmetry groups gains smaller factorial apparently 120 A Goldsztejn et al Artiﬁcial Intelligence 229 2015 105125 Fig 8 Results scalable problems ratios number solutions o solving time symmetry group order plain line exponential problems polynomial Sparse constant ExtendedFreudenstein Fig 8 In fact observed gain lower order symmetry group exception Virasoro rlex constraints strangely perform better expected This leads examine closely rationale gain expectation suggest general factors affecting gain emerge ways rationale falsiﬁed benchmark Then A Goldsztejn et al Artiﬁcial Intelligence 229 2015 105125 121 exemplify dependency gain features solver Finally offer insights potential effect different variations rlex like transitive closure application lex ordering 521 Rationale gain expectation From Constrained Space CS space previously denoted Rcid3 x The argument expected gain given ratio domain volume CS volume cid3 relies following assumptions A The time processing box inside CS approximately rlex constraints The base assumption rlex constraints simpler typical nonlinear constraints For reason cost propagating rlex negligible compared cost propagating constraints problem B The time discarding boxes outside CS rlex neglected respect global solving time This assumption relies fact box outside CS violates rlex constraint considered propagation loop discard box instantly low cost Then consider rlex constraints added domain problem virtually restricted CS cost C The processing time homogeneous domain That time process ﬁxedsize volume If assumptions hold conclude time solve problem rlex respectively proportional initial domain volume CS volume yielding gain equal cid3 The ﬁrst assumptions easily trusted problems diﬃcult ones composed complex non linear constraints The cases evidently valid counterperforming ones discussed The validity assumption obvious following paragraphs reveal Solution processing prevalence Assumption C gets far away reality problems Indeed processing time concentrated areas solutions large infeasible portions domains discarded instantly For speciﬁc kind problems appropriate substitute Assumption C D A distinct box exists solution cost processing boxes symmetric solutions time process space outside boxes negligible If assume processing cost box classes assumptions A B D yield conclusion solving time gain ratio number solutions rlex rlex This ratio depends cardinality number elements satisfying rlex solution class cid12 cid12 xlexcid3 χ xcid3 Rcid3xcid3 xlexcid3 χ 19 For interior solution x xcid3 cid3 Rcid3xcid3 1 Thus problem interior solutions ratio cid3 Therefore kind problems homogeneity solution processing prevalence assumptions yield gain expectation In test set problems Cyclicroots dimensions n 5 7 Reimer kind The gains observed problems Feigenbaum Henon Ikeda clearly inﬂuenced factor follow closely 19 problems interior solutions In fact turns large majority interior solutions frontier solutions explaining observed behavior Although set frontier points zero volume practice rare symmetric problems frontier solutions The existence frontier solutions makes 19 smaller cid3 This particularly striking problems Brown ExtendedFreudenstein Eiger Vrahatis fullyfrontier solutions set solutions rlex The problems discussed present ineﬃcient gains The ones factorial order symmetry groups exponential constant gains respectively Problems continuous solution sets like Cyclicroots dimension n 4 Cpdm dimension n 3 case solution prevalence type Moreover cases gain far cid3 Although solution manifolds intersect frontier CS suﬃcient dimensionality overlap lower solution set majority boxes enclosing interior solutions Therefore gains order cid3 generally obtained signiﬁcant accuracy In order conﬁrm impact solution prevalence expected gain prepared speciﬁc problem gener ator parameterized dimension problem n number repetitions r smallest coordinate single solution class representative s problem symmetry group cid3 The generated problems single constraint form cid13 cid16 σ cid3 i1n xi siσ 2 0 20 122 A Goldsztejn et al Artiﬁcial Intelligence 229 2015 105125 Fig 9 Experimental time ratio plain number solutions ratio 19 dashed generated problems 20 dimension n 6 Cyclic symmetry order n squares 2CyclicMirror symmetry order n2 circles Full permutation symmetry order n triangles solution class representative s satisﬁes si max0 r 12 solutions symmetries s 1 4 9 When r 0 generated problems interior solutions members sym 0 0 cid19 cid20cid21 cid22 r1 times metry class In case expect gains proportional order considered symmetry group considered dimension When r increases size solution class decreases eventually reaching 1 r n 1 case solution s 0 0 The gains decrease according 19 Fig 9 displays evolution gain dimension n 6 different symmetry groups number repetitions r varies In cases clear gain decreases increase number repetitions degree frontierness solutions turn determines numbers solutions rlex having important impact gain The shapes gain evolution ratios solution numbers strikingly proportional Still identical gains worse expected ones according 19 We explain phenomenon factor frontier effect Frontier effect There problems solution prevalence solutions gains different cid3 Something homogeneous processing failing premises Subsection 521 One symptom box classiﬁcation inside outside CS frontier boxes partially inside partially outside CS neglected And turn signiﬁcant fraction predominant type boxes problems ExtFreudenstein Wright minor degree Feigenbaum The reason assumption constant time cost ﬁxed volume size falsiﬁed position shape volume boxoriented solver Suppose pave domain CS boxes If box tightest enclosing box cases coincides domain frontier box Thus difference paving despite CS cid3 times smaller If allow greater number boxes smaller volumes covered CS domain case differ progressively Asymptotically ratio volumes covered tend cid3 fraction frontier boxes CS tends zero Another facet frontier effect phenomenon considering size leaf boxes search tree rlex added It happen size leaf big completely inside CS shape leaf time smaller domain small discarded converge solution given problem It frontier box eventually scarcely overlapping CS This mean pruning power rlex exploited effectively The smaller CS size respect domain size easily occur On opposite given ﬁxed symmetry associated CS smaller leaf boxes immune problem frontier effect The frontier effect depends factors relative volumes CS initial domain precision problem solved To sum solution processing prevalence overrides importance volume time cost When solution prevalence ratio volume processing cost mainly inﬂuenced frontier effect 522 Impact rlex variants The set rlex constraints given symmetry group general unique We study impact possible sets observed gains Transitive closure The set rlex constraints given symmetry group minimized keeping inequalities transitively implied inequalities set Such minimal set comprises n inequalities problem dimension n Conversely maximized considering transitive closure inequalities yielding A Goldsztejn et al Artiﬁcial Intelligence 229 2015 105125 123 n2 inequalities problem dimension n Of course intermediate sets extremes constitute valid set PSBCs In theory maximal set preferred accelerate interval propagation For instance reduction domain x1 problem permutation symmetry propagated instantly domain xn rlex inequality x1 xn imposed require n 1 propagation loops rlex inequalities form xi xi1 considered On hand minimal set preferred comprise signiﬁcantly constraints possibly reducing importantly number applied contracting operators achieve ﬁxpoint interval propagation For example order realize reduction possible domain variable contracting operator applied n minimal set contrast n2 maximal set In practice observed considering minimal set maximal set results similar timings problems This particular case problems Brown Cyclohexane ExtendedPowell Noon Sparse Wright problems different minimal maximal sets typically n n2 inequalities respectively gain maximal PSBCs minimal PSBCs vary 0 8 favor maximal set favor minimal set The exception problem ExtendedFreudenstein solving times approximately 3 times faster maximal set minimal set This problem like ExtendedPowell problem speciﬁc structure repetition n 2 times subsystem 2 equations But unlike ExtendedPowell single solution Hence contraction domain variables subproblem 2 equations immediately propagated domains variables duplicated subproblems It appears maximal set rlex redundant inequalities exploits property best allowing faster convergence solver unique solution Except peculiar cases conclude minimal set rlex maximal set rlex impact recommend minimal nonredundant set involves lot fewer constraints general Lexicographic order The variable ordering underlying considered lexicographic order impacts set generated rlex involved variables cardinality For instance consider symmetry group generated compositions σ 2 1 4 5 6 3 It composed synchronized cyclic symmetries ﬁrst variables variables The corresponding rlex constraints obtained standard variable order x1 x2 x3 x5 If variable order chosen build rlex begins x3 instead x1 obtain rlex constraints x3 x4 x3 x5 x3 x6 set PSBCs instead Besides variables involved cardinality generated rlex variable order inﬂuence number symmetries broken solutions number symmetric solutions rlex Indeed variable order confer frontier character solution interior point However diﬃcult advantage practice requires previous knowledge solutions For problems benchmark prone impacted change variable ordering excluded permutation variables cycle variables compared runs variable orderings appears factor important impact observed gains 0 10 difference solving time We conclude variable ordering important role performance rlex constraints general 523 Interest rlex solving contexts In previous section considered problem ﬁnding solutions given precision considered problems continuous solution sets discrete solution sets solution sets Another perspective rlex eﬃciency consists searching single solution considered NCSPs solving decision problems Part answer included Tables 1 2 problems having solution Sparse single solution Extended Freudenstein identical small solution set rlex constraints Brown Eiger Vrahatis obtained gains validate settings Considering problems test set large largely varying rlex constraints solution sets ﬁgures unstable problems continuous solution sets CPDM n 3 Cyclicroots n 4 decision problem answered identically fast 005 s rlex For problems decision problem solved faster rlex CPDM n 4 5 6 Cyclicroots n 5 7 Extended Powell n 22 24 26 solved fast rlex Feigenbaum n 11 13 Ikeda considered n Noon n 5 6 7 solved faster rlex constraints 48 instances The fact predictable behavior observed easily interpreted search rlex constraints proceeds totally different way contracting boxes rlex constraints split points generally different cases yielding totally unrelated search tree unlike happens discrete case searchtree PSBCs subpart PSBCs 124 A Goldsztejn et al Artiﬁcial Intelligence 229 2015 105125 The overall statistics favor rlex constraints counterproductive solving time typically small17 gain remains 02 cases solving time vary small signiﬁcant 100 s gains grow 81618 rlex constraints The favorable gains fact observed ﬁrst solution identical rlex indicating search strategy operates similarly cases avoiding unnecessary branches pruned PSBCs 6 Conclusion future prospects lex constraints known break exactly variable symmetry retaining representative member class They valid kinds problems independently nature domains However number lex constraints potentially factorial number variables Moreover shown impractical numerical solvers To overcome drawbacks proposed rlex PSBCs set simple inequalities variables The maximum number nonredundant constraints rlex linear number variables Besides easily handled numerical solvers able quickly propagate They considered generalization PSBCs proposed particular symmetry groups previous works We shown rlex relaxation lex optimal properties In fact enclose space closure enclosed lex SBCs proved volume A detailed analysis rlex PSBCs shows ﬁltering power identical complete SBCs context numerical CSPs The experiments conducted benchmark standard problems characteristics sizes demon strate practical eﬃcacy rlex constraints counterproductive induce gains solving time factorial problems symmetry groups large orders Still presented results demonstrate gains directly proportional symmetry group order thoroughly analyzed reasons All arguments valid continuous constrained optimization rlex interesting discrete domains Jefferson Petrie 22 demonstrated exist superior PSBCs context Still discrete domains values variable frontier reside symmetry classes completely broken rlex small respect domain Hence consider MixedInteger Nonlinear Pro gramming Integer Linear Programming PSBCs generalized proposed 1736 Acknowledgements The authors ﬁnancially supported following grants research Spanish project RobCab DPI201457220C22P Robotics Group Generalitat Catalunya SGR20141102 University Nantes international exchanges program CURI2009 References 1 A Goldsztejn C Jermann V Ruiz Angulo C Torras Symmetry breaking numeric constraint problems CP 2011 LNCS vol 6876 Springer 2 XH Vu H Schichl D SamHaroud Interval propagation search directed acyclic graphs numerical constraint solving J Glob Optim 45 4 2011 pp 317324 2009 499531 3 JP Merlet Interval analysis certiﬁed numerical solution problems robotics Appl Math Comput Sci 19 3 2009 399412 4 A Goldsztejn Y Lebbah C Michel M Rueher Capabilities constraint programming safe global optimization International Symposium Nonlinear Theory Its Applications 2008 pp 601604 5 I Gent K Petrie JF Puget Symmetry constraint programming Handbook Constraint Programming Elsevier 2006 pp 329376 6 T Walsh Breaking value symmetry Proceedings TwentyThird AAAI Conference Artiﬁcial Intelligence 2008 pp 15851588 7 T Walsh Parameterized complexity results symmetry breaking Parameterized Exact Computation Proc 5th International Symposium IPEC LNCS vol 6478 Springer 2010 pp 414 8 P Meseguer C Torras Exploiting symmetries constraint satisfaction search Artif Intell 129 12 2001 133163 9 I Gent Groups constraints symmetry breaking search CP 2002 LNCS vol 2470 Springer 2002 pp 415430 10 P Flener A Frisch B Hnich Z Kiziltan I Miguel Breaking row column symmetries matrix models CP 02 Proceedings 8th Interna tional Conference Principles Practice Constraint Programming Springer 2002 pp 462476 11 JF Puget Symmetry breaking revisited Constraints 10 1 2005 2346 12 V Ruiz Angulo C Torras Exploiting singlecycle symmetries continuous constraint problems J Artif Intell Res 34 2009 499520 13 L Liberti Reformulations mathematical programming automatic symmetry detection exploitation Math Program 131 12 2012 273304 14 L Liberti J Ostrowski Stabilizerbased symmetry breaking constraints mathematical programs J Glob Optim 60 2 2014 183194 15 R Gasca CD Valle V Cejudo I Barba Improving computational eﬃciency symmetrical numeric constraint satisfaction problems 11th Conference Spanish Association Artiﬁcial Intelligence CAEPIA 2005 pp 269279 16 X Ji F Ma J Zhang Solving global unconstrained optimization problems symmetrybreaking 8th IEEEACIS International Conference Com puter Information Science 2009 pp 107111 17 A Costa L Liberti P Hansen Formulation symmetries circle packing Electron Notes Discrete Math 36 2010 13031310 18 J Crawford M Ginsberg E Luks A Roy Symmetrybreaking predicates search problems KR 1996 pp 148159 17 Except Cyclicroots n 7 solved 380 s rlex 1320 s rlex 18 Noon n 8 solved 490 s rlex 06 s rlex A Goldsztejn et al Artiﬁcial Intelligence 229 2015 105125 125 19 D Cohen P Jeavons C Jefferson K Petrie B Smith Symmetry deﬁnitions constraint satisfaction problems Constraints 11 23 2006 115137 20 N Narodytska T Walsh Breaking symmetry different orderings Principles Practice Constraint Programming LNCS vol 8124 2013 pp 545561 21 A Frisch B Hnich Z Kiziltan I Miguel T Walsh Propagation algorithms lexicographic ordering constraints Artif Intell 170 2006 803834 22 C Jefferson K Petrie Automatic generation constraints partial symmetry breaking CP 2011 LNCS vol 6876 Springer 2011 pp 729743 23 AV Aho MR Garey JD Ullman The transitive reduction directed graph SIAM J Comput 1 2 1972 131137 24 JF Puget Breaking symmetries different problems Proc 19th International Joint Conference Artiﬁcial Intelligence IJCAI 2005 pp 272277 25 C Sims Computational methods study permutation groups Computational Problems Abstract Algebra Pergamon Press 1970 pp 169183 26 BD McKay A Piperno Practical graph isomorphism II J Symb Comput 60 2014 94112 27 EJ Friedman Fundamental domains integer programs symmetries First International Conference Combinatorial Optimization Applications LNCS vol 4616 Springer 2007 pp 146153 28 F Diaz y Diaz E Friedman Signed fundamental domains totally real number ﬁelds Proc Lond Math Soc 108 4 2014 965988 29 AM Frisch B Hnich Z Kiziltan I Miguel T Walsh Propagation algorithms lexicographic ordering constraints Artif Intell 170 10 2006 803834 30 HA Elgabou AM Frisch Encoding lexicographic ordering constraint sat modulo theories Thirteenth International Workshop Constraint Modelling Reformulation ModRef 2014 2014 pp 8596 httpwebudlesusuarisq4374304modref2014pdf 31 L Granvilliers F Benhamou Algorithm 852 Realpaver interval solver constraint satisfaction techniques ACM Trans Math Softw 32 2006 138156 32 COPRIN The COPRIN examples page httpwwwsopinriafrcoprinlogicielsALIASBenches 2011 33 COCONUT European Project The COCONUT benchmark httpwwwmatunivieacatneumgloptcoconutBenchmarkBenchmarkhtml 2003 34 PHCPack The database polynomial systems httphomepagesmathuicedujandemohtml 2003 35 A Goldsztejn L Granvilliers C Jermann Constraint based computation periodic orbits chaotic dynamical systems 19th International Confer ence Principles Practice Constraint Programming CP13 LNCS vol 8124 2013 pp 774789 36 F Margot Symmetry integer linear programming 50 Years Integer Programming 19582008 Springer 2010 pp 647686