ELSEVIER Artificial Intelligence 87 1996 295342 Artificial Intelligence A probabilistic framework cooperative multiagent distributed interpretation optimization communication Y Xiang Department Computer Science University Regina Regina Sask Canada S4S OA2 Received September 1995 Abstract Multiply sectioned Bayesian networks singleagent interpretation systems extended framework cooperative multiagent Bayesian subnet We semantics joint probability distribution defined reasonable conditions systems Each agent represented distributed Unlike singleagent systems evidence entered subnet time multiple agents acquire evidence asynchronously parallel New communication operations pro posed maintain global consistency It practical maintain consistency stantly interagent distance We new operations followed successive communications answers queries agent consistent local evidence consistent global evidence gathered communication During communication operation agent available process evidence period time called line rime Two criteria minimization offline time commonly considered We derive criterion optimal schedules communication initiated arbitrarily selected agent 1 Introduction Probabilistic singleagent representation reasoning paradigm That updates Bayesian networks BNs commonly applied assumes single processor accesses single global network network variables distribution joint probability Email yxiangcsureginaca 00043702961500 Copyright 1996 Elsevier Science BV All rights reserved SSDIOOO4370295001107 296 E XumgArrificial Intellipvzce X7 1996 295342 evidence available answers queries Concurrency marily aims performance multiple inference concurrent element junction decentralization agents multiple perspectives The resultant ftne grained node BN 151 clique BNs pri 9151 modeling individual tree representation BN 91 applied control The singleagent paradigm inadequate uncertain specialized addressed A multiagent elements elements temporal semantic issues special agent domain computational systems goal cooperatively need autonomous accesses knowledge intelligent external reasoning differently performed distance spatial I Such systems pose required partial subsystem Each agent holds source consumes information achieve view resource Each agent communicates agents Distributed artificial intelligence DAI addresses largegrained coordinating multiagent DAI blackboard systems 51 contract nets analyzing approaches 81 essentially probabilistic approach DAI logic based To best knowledge little reported problems systems designing 26 Main stream 31 open systems explore probabilistic problem distributed DAI As defined originally accepts evidence objects events reports pilot study applying reasoning We address This paper erative multiagent subclass problems interpretation level descriptions cation evidence include sensor networks medical diagnosis multiple complex artifacts distributed cooperative selfinterested paper needed sensors centralized collecting environment environment A distributed evidence distributed interpretation communi site undesirable Examples systems systems consist agents image interpretation Multiagent agents We consider cooperative troubleshooting specialists approach interpretation coop 121 produces higher Lesser Erman inference singleagent oriented modular knowledge based multiply sectioned Bayesian networks Our representation developed efficient natural extension semantics joint probability distribution cooperative multiagent defined maintain optimize conditions We propose new communication consistency We derive communication time efficiency communication 181 We demonstrate multiagent modularity MSBNs allows In particular operations schedules representation framework reasonable interagent MSBNs reasoning 191 Section 2 briefly extension represented semantic agent source gathers conditionally common distribution belief agent introduces BNs singleagent MSBNs Section 3 presents singleagent MSBNs subnet multiagent MSBNs Each cooperative consumes evidence answer queries When agents cooperative computational Bayesian independent given intersections subdomains initial belief multiagent intersections shown joint probability uniquely defined consistent Y XiangArtijicial Intelligence 87 1996 295342 291 Unlike singleagent systems evidence entered subnet time multiple parallel Section 4 discusses consistency globally consistent arise extension Section 5 adds new belief propagation issues set singleagent MSBN operations agents acquire evidence asynchronously related erations agents performed Interagent vent constant maintenance operations agent consistent local evidence gathered tent global evidence gathered communication experimental distributed proposed operations cost pre consistency We prove proposed answers queries far consis Section 6 presents op communication We multiagent MSBN associated communication demonstration task distance interagent communications successive interagent perform interpretation operation agent available time Such nonavailability length offline process new evidence restriction imposes time minimized During communication period time called line applications Therefore timecritical Section 7 defines criteria commonly multiagent agents abstract factors activities manipulated To facilitate One based total length offline The based average minimization length offline study optimal communication offline time time entire time schedules graphical model identify communication optimizing schedules Section 8 reduces scheduling communication subproblems duality subproblems optimal schedules derived solving subproblems Section 9 communication selected initiated time communication independent arbitrarily result allows yield schedules criterion This minimization establishes communication derives minimum agent offline Section 10 discusses general issues related work Our presentation sumes general terminology graph theory 2 Multiply sectioned Bayesian networks 21 Bayesian networks triplet A BN 9111315 N E I N set nodes Each node labeled variable associated space We shall use node variable interchange ably Therefore N represents problem domain E set arcs D N E directed acyclic graph DAG We refer D strucrure BN The arcs signify directed dependencies linked variables For node Ai E N strengths dependencies values AiS parents For probability sets X Y Z variables X Y said conditionally independent given Z probability distribution P P XI YZ P XI Z P Yz 0 BNs variable The basic dependency parent nodes 7 quantified conditional distribution pAili Ai conditioned conditionally assumption embedded 298 L XiungArtijicid Intelligence 87 1996 295342 bcps pn apb mf7_a mmcb mcmp mupl Fig MSBN I Left example MSBN left Right general hypertree neural muscular diagnosis Middle structured MSBN D D ji ND D hypertree organization independent probability nondescendants given parents This assumption allows P joint distribution jpd specified product P nipAlrri 22 Singleagent oriented MSBNs To paper selfcontained briefly introduce singleagent oriented MS BNs 18191 An MSBN M consists set interrelated Bayesian subnets Each subnet represents large problem domain total universe Each subnet intersection subdomain dependencies shares nonempty pair subnets satisfies set variables subnet The dsepset condition Definition 1 dsepset N U N E U E2 D Let D N E DAG The intersection I 2 DAGs D I N n N dsepset D Ai E I parents Z D Z C N n C N2 It shown pair subnets isolated trunk lesion conditionally renders diagnosis median nerve lesion upper electromyography pair subnets subnets M different Subnets M organized Pxut nerve conduction Medn Cts Pxut M dsepset independent Fig 1 left shows structure MSBN Cts plexus carpal tunnel syndrome clinical respectively The dsepset In general dsepsets different pairs It consists subnets D 123 subdomains Medn hypertree dsepset pair subnets A hypertree M Each hyperlink M ensures independent The subnets middle Fig 1 right depicts general hypertree structured MSBN Fig 1 left organized hyperlink hypertree structure Each hypernode subnet structured parts M connects conditionally render Fig 1 Each subnet M multiply nodes D hypertree structured M converted structure run time representation In order perform connected inference efficiently path pair F identical junction JJF hypertree subnet linked junction forest Each hypernode The example taken fraction PAINULIM 1 18 1 modification Z XiangArtcial Intelligence 87 1996 295342 299 Fig 2 A linked junction forest MSBN Fig 1 clique tree JT triangulation covers tree converted 911 Each hyperlink corresponding subnet moralization set linkages dsepset corresponding hypertree subnets The need linkages understood follows evidence subnetJT distribution The efficiency Linkages defined linkages Linkages propagated adjacent I This efficient dsepset improved exploiting form decomposition probability distribution I based conditional conditional JT passing cardinality I large I independence Once linkages I passed passing distributions later subsection independence illustrate efficient We obtained follows obtained probability Definition 2 linkage Let I dsepset JTs T Tb LJF First remove recursively leaf clique C T satisfies following conditions 1 cnr0 2 C f I subset clique resultant graph T recursively remove node clique T clique T If node x I contained If clique C subset adjacent clique D union C D The resultant single clique C remove x C linkage tree Ya Ta relative Tb Each clique I Yab I linkage host 1 linkage T Tb The clique Ta contains linkage It shown linkage linkages performed correctly tree JT It shown belief propagation Ya Yb JTs identical The MSBN Fig 1 left middle converted subnets D 123 shown heavy links pairs JTs defined The linkage clique C8 removing T obtained removing LJF Fig 2 The converted JTs T 123 Then linkages tree T relative variable apb Denote Then follows b 300 l XiunArtijiciul Intelligence 87 1996 295342 clique C6 removing prt C7 We obtained cliques CtsMedrz PxutMedn T Their Parallel linkage hosts T C6 C7 hosts T C2 C4 structure conversion tree linkage T conditional probability linkage probability M converted JTs F joint systenz belief F assembled equivalent belief tables unnormalized jpd M The belief table JT T tables stored nodes cliques tables distributions belief ni BcgCt BTN njBsq 1 belief table clique separator Sj Subscripts denote N set domain variables T BcCi Bs 5i object belief table associated Let BI assembled belief tables linkages fashion Eq I recall takes form table clique C I tree similar linkage tree JT The joint belief F belief table dsepset corresponding linkage belief B F u IIiBTN n Bjli 2 tables unnormalized probability U Ui N total universe Since belief distributions Bv U proportional jpd F pFu IpIi n PTN P denotes probability distribution 3 To answer queries efficient local computation JTs internally locally consistent set variables different belief distribution respect boundary consistent F boundary consistent dsepset F globally consistent F consistent consistent F identical marginal pair adjacent JTs consistent marginalized locally consistent JT yield tables A set operations developed achieve consistency evidential assume reference F initially globally consistent Details initialization reasoning After evidence longer globally defined CollectEvidence entered JT JT longer consistent UnifyBelief internally brings JT internally F It outward belief propagation JT proposed Jensen et al 9 consistent consistent inward belief propagation terms DistributeEvidence Let T JT LJF When Unif yBelief initiated Operation 3 Unif yBelief T following performed 1 A clique C arbitrarily 2 CollectEvidence 3 When C finished CollectEvidence called selected C DistributeEvidence called C Y XianglArcial Intelligence 87 1996 295342 301 For example suppose Unif yBelief performed belief propagates T3 Fig 2 clique C9 C 11 C 10 C 10 belief propagates Cl0 C9 During DistributeEvidence C9 ClO Cl0 Cl 1 C12 This brings selected During CollectEvidence Cl2 belief propagates T3 internally When consistent available evidence relative variables JT entered EnterEvidence relevant cliques evidence calling Unif yBelief EnterEvidence enters evidence multiplying function brings JT internally belief For example suppose median motor conduction block tables consistent mm true variable belief incompatible observation set 0 In Fig 2 clique C9 contains table C9 modified observed study patient nerve conduction mmcb During EnterEvidence configurations Then UnifyBelief Mednmmcb C9 called belief JT T relative It defined adjacent Belief propagation JTs F performed UpdateBelief It updates level operation AbsorbTbrougbLinkage consistent Given linkage hosts JT involved AbsorbTbroughLinkage updates belief host linkage table host marginalization terms lower adjacent belief JT brings T internally table Let L LI Lk set linkages Operation 4 UpdateBelief JTs Ta Tb Let Cf Cf linkage hosts Li Ta Tb respec tively When UpdateBelief Tb CF absorb following C Li After AbsorbThroughLinkage called C performed AbsorbTbroughLinkage DistributeEvidence To update belief called called relative In Fig 2 suppose UpdateBelief called C2 C6 C6 Then belief propagates followed DistributeEvidence T update linkage CtsMedn belief relative T followed C4 C7 linkage C7 Note variables Medn Cts Pat possible values probability dsepset 27 1 26 independent values By exploring dsepset pass distributions distribution conditional linkages First belief propagates DistributeEvidence PxutMedn dsepset independence 8 8 16 values DistributeBelief initiated JT T causes outward belief propagation F If F globally T followed DistributeBelief consistent evidence entered T EnterEvidence Operation 5 DistributeBelief When DistributeBelief 1 T updates 2 T calls DistributeBelief belief relative called T F globally consistent Let T Tj adjacent JTs I_JF T Tj following performed Ti UpdateBelief adjacent JTs Tj 302 E XiunArljicitrl Intelliqcncx X7 I 996 295342 In Fig 2 suppose T acquired new clinical evidence When DistributeBelief called T3 DistributeBelief T caller step 2 The JTs update belief relative performed calls T T needed initialization Global efficient operation In singleagent MSBNs DistributeBelief evidential reasoning maintained After allows hyperpath user entered multiple pieces evidence user shift attention JT target JT It maintains current JT target JT hypertree consistency ShiftAttention ShiftAttention consistency tAttention Operation 6 Shif form simple path hypertree p shift attention T belief relative Let 70 T p Tj I j UpdateBelief TJ subset JTs LJF called called T update T When ShiftAttention In Fig wants D ShiftAttention I right shift attention suppose D Note user currently D ShiftAttention subnets D4 focuses attention D T If propagate belief D D7 computed efficiency DistributeBelief JT enter evidence query A user start particular shift JT repeat actions number times Note current JT It shown level queries provided JT consistent evidence attention singleagent ShiftAttention sense answers entered far entire WE We come point Section 4 target JT consistent entered context evidence global subnet 3 Representing multiple agents MSBNs In section extend systems distributed singleagent MSBNs interpretation cooperative homogeneous consider semantics multiagent 31 The semantics ofjoint belief As described ing subdomain subnet From viewpoint reasoning represents 181 consists subnets represents neurologists tives neuromuscular perspectives The jpd MSBN represents Section 2 MSBN represents large problem domain represent agents MSBN coherent multiple perspectives single agent For example PAINULIM different perspec clinical EMG nerve conduction subjective belief single agent perspective agent considered holding domain This partial perspective specialty period time In multiagent diagnostic domain The diagram fact shows MSBN M LJF F We abuse illustration bit M F share hypertree structure Z XiangArtijciul Intelligence 87 1996 295342 303 systems modification spatial area The modular multiagent agents multiple perspectives domain multiagent MSBN represents multiple agents domain holds distinct perspective domain Each subnet corresponds MSBN allows natural extension instead representing perspective semantics representation arises What interpretation represent We discuss jpd intuitively issue A natural question Whose belief justify interpretation components Consider formally commonly information It processes determine designing vendor follows set protocols internal structure component follows single How knowledge coherently supplied different vendors This coherence functional follows common protocol vendor entire achieved interface component As long interface freedom function designer He needs know functional internal including complex data abstraction team work networks structures vendors supply components systems 71 Layered 161 commonly approach necessary interfaces components built group designers designer Building way common practice Procedural abstraction software systems 171 applied commonly develop complex operating In sense systems trusts giving meet doctor patient completely Suppose When diagnosis After patient Next consider human consisting patient family doctor Suppose doctors ther reached doctor uses therapy Situa specialist medical exper patient medical knowledge problem expertise treatment know apy symptom demonstrates reach tions Who tise like designer doctor experience diagnosis tell doctor needs prescribe uncommon user doctor follow Even patient understand coherent belief symptoms reaches diagnosis best diagnosis seeking advice Its demand diagnosis diagnosis patient supply follows The scenarios illustrate different agents demonstrate individual An agent trust information believes This possible common goal versus selfinterested consisting certain conditions coherent joint belief consistent agents cooperative supplied supply agents working agent Clearly conditions Another condition conditional independence It necessary pass components supply believes A component needs hide details In structured parameters How mapping specified supplied obtained procedure input output input output performed needs concerned protocol information header specifies information complex programming agent 304 Y XiungArtflcial Intelligence 87 1996 295342 agent engaged caller procedure A doctor needs inform therapy He need explain diagnosis particular information perform irrelevant certain information patient diagnosis In general task usually certain agents think agents conditioned agents exchanged agent conditionally task Beyond help agent sufficient information particular independent reached Let formalize idea introducing condition Definition 7 Let N A U B problem domain A n B 8 Let QA RB said RB probability represents marginalization sistent CAiB QA CBIA RB summation A B QA distributions In words QA RB consistent yield distribution marginalized The following A n B lemma Dawid Lauritzen We reformulated notation Lemma 8 4 Let N A U B set variables Let QA RB probability distributions A B let consistent Then exists unique probability distribution PN QARBIAnB wheneverRAnB 0 PN QA 1 A 2 CNB PN RB 3 A conditionally independent B given A n B P agents Suppose subdomain B Let A p perceive let Y p cooperative Now subdomain Y represented QA agents belief intersection A f B sufficient cr 3 Suppose QA RB belief Q A f B R A n B intersection A n B Then according exists unique probability RB A n B belief p represented RB Suppose knowing tasks agents share Lemma 8 Y perceive subjective consistent QA A B conditioned satisfies distribution PN conditional consistent coordinate independence multiagent Coming extension MSBNs systems suppose form MSBN M agents CY p Suppose M consists subnets Sa SD subdomains A B dsepset S corresponds boundary consistency When M globally Lemma 8 ps belief The agents belief LYS belief distribution Sfi corresponds M corresponds consistent A f B Now distribution jpd defined Eq 3 consistency identical PN Dawid Lauritzen generalized Lemma 8 case distri butions We reformulated notation follows E XiangArtijicial Intelligence 87 1996 295342 305 tree Ct Theorem 9 41 Let N set variables Let T junction clique T Ui Ct N Let Qc Ci probability distribution clique Ci distributions T consistent Let Sj clique separator T Qs Sj distribution Sj computed distribution adjacent cliques Then exists unique probability distribution pair adjacent cliques 1 clique Ci xNiCi PT N Qc Ci 2 cliques Ct Cj pair adjacent conditionally independent Cj given Sk PT separator Sk Ci According Theorem 9 organize set cooperative agents hypertree conditionally adjacent agents jpd MSBN defines coherent multiagent MSBN constructed builds computational MSBNs provides intersection subnets belief propagation guidance subdomains dsepset performed agents conditionally overall organization agent based expertise MSBN independent consistent joint belief agents This implies multiple developers Each developer subdomain The theory interface hypertree connected independent 32 MSBNs ensure disciplined communication One wonder difference set agents organized sending messages treating messages It clear belief propagation multiagent MSBN makes compared MSBN Can agent cooperate received evidence MSBNs performed UpdateBelief fact message passing The messages probability distributions However message passing First distribution disciplined entire dsepset pair subnets MSBN linkages form agent coherent allowed information sufficient tables linkages passed time Passing belief allowed joint belief warranted Passing information useless More MSBN flow importantly messages inform Shif tAttention agent cr send message Initially possible lated fashion DistributeBelief sequence events 3 based piece evidence After updating agent y After updating message belief count problem evidence agents deterministic logical However y based evidence originated belief y send message hypertree Otherwise regu following agent causes create false belief CX Not knowing LY Y update twice Such circular evidence propagation belief p send message 306 Y XiangArtcial lnrellipm 87 1996 295342 Fig 3 An artifact consistmg subsystems support agents knowledge evidential circular evidence propagation reasoning hypertree structure MSBNs way DistributeBelief operate ensures probabilistic circular evidence propagation occur agents uncertain probabilistic The problem 151 The discussed ShiftAttention 33 Illustration multiagent MSBNs We use examples First illustrate let consider monitoring general discussion troubleshooting complex Fig 3 The subsystems UOlJ4 The external artifact shown input variables b c h m Y w external output variables different u 1 y z shown figure Suppose subsystems manufactured vendors Each vendor build computational knowledge functional structure subsystem Each agent subsystem To monitor entire artifact form multiagent let agents cooperate encodes faulty behavior parts internal capable monitoring troubleshooting corresponding agent Suppose external inputs independent Then computational agent Fig 3 Finally agents agree prior distribution interfacing agents given variables agent connect lJ1 receives feedback input UO agent Ul simply accepts subsystems input variables agent set agent U2 simply accepts UO Since U2 receives prior distribution set agents Now semantic conditions case prior input required independent consistent met organize independent labeled variables We assume example Since distribution UO Ul input variables cooperative agents MSBN The illustration conditional independent particular application domain artifact To example concrete box Fig 3 digital circuit Fig 4 Digital circuits simply understand MSBN Fig 3 needed knowledge internal vendor faulty behavior vary vendor For example U1 U2 supplied different vendors example safely assumed Note integrating knowledge interface circuit shown function gate commonly necessary Furthermore structure circuit readers knowledge defined L XiangArtiJicial Intelligence 87 1996 295342 307 Fig 4 A digital consisting circuits U Fig 5 Left computational hypertree organization agents MSBN agents form Bayesian subnets circuits Fig 4 Right replaced functional faulty behavior AND gate U2 faulty The vendor circuit If interface encode knowledge corresponding agent disturbing best position An AND gate Ul stuckat0 output correctly 40 time designer artifact circuit vendor different vendor simply rest MSBN The new MSBN perform left shows computational circuits designer MSBN There integrates agents Such multiagent users evidence entering interacting computational Fig 4 Fig 5 right queries replace agents shows hypertree organization group including form Bayesian agent The interaction subnets inference coherently Fig 5 MSBN Who build agents multiple consists local 308 Y XiunArtificial Intelligence 87 I 996 295342 Our second example extends Lauritzen Spiegelhalter 1 I single agent 6 tuberculosis p A recent visit Asia v Example 10 Dyspnoea chitis known information radiology L Xray x laminagraphy test p biopsy L bron 5 risk factor r L After initial diagnosis based lab tests discriminate tests r lab biology tests sputum r L clinician request lab relevant chances 7 smoking lab Radiology lab relevant Biology lung cancer increases 0 r clinical involves In order expertise information radiological subdomain This fictitious example medical subdomains diagnose patient dyspnoea biological domains needed help gather relevant cisions Each medical practitioner biologist assisted computational domain helping diagnose communicate practitioners diagnosis As argued ensure independent performed This agent demand assistance MSBN formed fly This However proposed commonly anism mechanism paper sub cooperative A human decision maker needs assistants decision makers help doctor radiologist agent BN specialized sub Section 32 agents organized MSBN agent developed agents contract net 3 contract net mech reasoning coherently Multiagent MSBNs provide scope MSBN digital example pool potentially developer The MSBN integrated diagnosis approach applied coherent communication perform probable It possible Each individual dynamic cooperative formulation similar taken Fig 6 shows example MSBN medical subdomains mentioned agents belief indepen evidence patient agents share consistent lung cancer That distribution diseases conditional agent dsepset pairs subnets example assumed interpretating prior observation tuberculosis In constructing diseases matters dence We assume belief likelihood subnets prior probability Therefore knowledge evidence tuberculosis conflicting For example radiologist result biopsy negative suggesting biologist Each subnet interpret edge By communicating MSBNs subnets come coherent diagnosis lung cancer Note evidence needed introduced evidence according subnets new operations corresponding subdomain 7 Each subnet encodes diagnosing lung cancer different subdomains encoded knowl belief propagation operations Section S opposite result Xray positive suggesting The LJF MSBN shown linkage created pair JTs Fig 7 Note example single general case compare K XiangArtcial Intelligence 87 1996 295342 309 Fig 6 A multiagent MSBN representing medical specialists diagnosing patient dyspnoea D clinical subnet D radiological subnet D biological subnet Fig 7 The LJF multiagent MSBN Fig 6 Separators cliques shown solid lines Linkages JTs shown dotted bands Fig 2 Note agents semantically remotely located communicate network different 4 Consistency issues multiagent MSBNs The semantic extension MSBNs multiagent systems implies technical applicable construction multiagent MSBNs constraints construction multiagent systems raises new issues consistency addressed To appreciate single issues use Fig 1 right agent MSBNs singleagent MSBNs followed review consistency In addition evidential maintained reasoning For singleagent MSBN evidence comes focusing The corresponding Fig 1 right single user currently active Suppose D D3 D5 The user enters evidence active Consistency Shif tAttention user MSBN MSBN maintained DistributeBelief Section 22 subdomain subnet subdomain called focuses attention subnet subnets Suppose DistributeBelief D wants evidence propagates new evidence uptodate Similarly activate D3 DistributeBelief Operation 5 As soon user entered D It D3 activates entire MSBN When D3 active user entered evidence called 310 K XiuqArtijicial lntelligetrce 87 1996 295342 Ds DistributeBelief D5 called D It brings subnets uptodate including subnet brings DistributeBelief uptodate user shifts attention evidence hyperpath active subnet For example active necessary Alternatively Shif tAttention entire MSBN globally consistent new subnet evidence ensures entered y10 query issued subnet This achieved hypertree MSBN currently propagating attention shift active subnet attention D D belief propagates D D D4 D5 It shift D3 D belief propagates shown concerned belief state ShiftAttention The answers entire MSBN entire MSBN hyperpath consistency requires alway preferred consistent evidence acquired global consistent Since ShiftAttention computation maintains D D D During 191 far target subnet queries target subnet DistributeBelief singleagent MSBNs D D5 DistributeBelief target subnet globally consistent identical level 41 How regain global consistency current subnet DistributeBelief The fact Shif tAttention tain consistency depends directly fact evidence subnet This understood noting agate evidence parallel multiagent hypertree Since sources new information operations Belief propa gation follow different process shall refer communication We propose agents acquire evidence asynchronously ensure global consistency main sufficient entered current operations prop In source new information prove properties scattered corresponding multiple Section 5 operations outward 42 What consistency level communications In singleagent MSBN Shif tAttention global evidence consistent entire MSBN level If EnterEvidence subnet global level answers bring Section 22 internally queries newly active subnet performed consistent consistent subnet evidence acquired consistent enter subsequently In multiagent MSBN situation different After evidence subnets knowledge evidence entered different subnet Due interagent distance able perform communication constantly A question consistency communications agent additional Section 5 evidence regain global consistency consistency acquired We prove theorem frequently answered associated communication entered cost maintain global successive level answer L XiangArrcial Intelligence 87 I 996 295342 311 5 Maintaining consistency communication 5 I Added operations regaining global consistency As discussed singleagent MSBN operations Section 4 parallel evidence acquisition maintenance multiagent MSBN extend renders multiple global consistency To belief prop single JT 9 101 LJF MSBN Jensen et als method path unique path exists LJF performed multiple singleagent MSBNs problem solved single JT Belief propagation inwardoutward information agents invalid regain consistency agation method propagates belief cliques linkages Fortunately operation UpdateBelief Section 2 idea add new operations CollectNewBelief 4 CollectNewBelief causes inward belief propagation 3 Comnmni calls CollectNewBelief multiple agents JTs DistributeBelief inward outward LJF propagate entire Following cateBelief CommunicateBelief evidence obtained LJF Operation 11 CollectNewBelief LJF adjacent following performed Let T JT LJF Let caller JT hypertree When CollectNewBelief T called 1 T calls CollectNewBelief adjacent JTs caller caller JT 2 After JT called finished CollectNewBelief JT UpdateBelief associated JTs respect CollectNewBelief T updates belief Operation 12 CommunicateBelief LJF F following performed When CommunicateBelief initiated 1 A JT T F arbitrarily 2 CollectNewBelief 3 When T finished CollectNewBelief CommunicateBelief selected T called associated LJF DistributeBelief called T Each node corresponds Example 13 Fig 8 shows belief propagates Belief agents corresponds arbitrarily control adjacent initiated proceeds propagating terminal agents solid arrows propagating belief agent The link selected agent T CollectNewBelief LJF Communicate set linkages Suppose operation T 3 The operation CollectBelief deals simpler consistency problem initialization It computationally expensive CollectNewBelief 191 similar form CollectNewBelief But CollectBelief 4 The operation Belief 191 similar form CommunicateBelief But deals simpler consistency problem initialization It computationally expensive CommunicateBelief Initialization 312 E XianArbjicial frtrllipe 87 1996 295342 nodes represents Fig 8 Belief propagation arrows DistributeBelief illustrate belief propagation CommunicateBelief set linkages CollectNewBelief WE Each node represents initiated JTs The operation illustrate belief propagation solid arrows JT Each link T Dotted terminal ceeds propagating time required belief propagation agents belief control propagation T dotted arrows Then DistributeBelief pro terminal agents solid arrows The usually ignored compared T Note CommunicateBelief T4 T perform UpdateBelief CollectNewBelief relative said DistributeBelief terminal neighbors operationally relative semiparallel terminal neighbors It parallel parallel p perform UpdateBelief It semiparallel sequence CollectNewBelief The 52 Consistency communications We answer CommunicateBelief questions performed raised multiagent MSBN Section 4 First globally consistent Theorem 14 Multiagent Let F globally consistent LJF 5 verted MSBN hypertree structure Let Z subset JTs F After following operations F globally consistent 1 For JT Z use EnterEvidence pieces evidence consistency enterjnite JT 2 Use CommunicateBelief communicate belief JTs F We convert Proof By assumption F globally consistent EnterEvidence JT 7 prove theorem Y For JT T F F conceptually domain N union ail cliques huge clique denoted W Note W N Let nodes Y huge cliques For pair adjacent JTs T Tj F 5 To precise F supportive separable 191 We level technical E XiangArtcial Intelligence 87 1996 295342 313 hypertree Sj Zj Zj intersection F hypertree structure connect W Wj T denote separator Sj Note T Tj F The resultant graph 7 JT Assign clique W P belief table Bwi N Bri N Assign separator Sj belief joint belief table BsijZj BzjZj The resultant r consistent proportional joint belief F JT EnterEvidence T F corresponds multiplying Bw N T evidence It updates joint belief causes inconsistency Communicate function Belief DistributeBelief Evidence uteEvidence r called consists selection JT p The CollectNewBelief Wc The DistributeBelief Y The resultant 7 consistent involved UpdateBelief JT F CollectNewBelief F corresponds internally F corresponds DistributeBelief JT involved Therefore CommunicateBelief followed Collect Distrib maintains consistent Both F lo F Hence F 7 implies boundary consistency After EnterEvidence CollectNewBelief internal consistency cally consistent The consistency globally consistent 0 agent information CommunicateBelief involves local computation agents multiple distance Due performed exchange involved agent CommunicateBelief op acquire multiple pieces evidence erations answer queries level performed The second question address answers JT consistent local evidence acquired far consistent global evidence acquired communication successive CommunicateBelief CommunicateBelief queries Theorem 15 shows This best expect successive communications consistency frequently Therefore cost Theorem 15 Semiuptodate tree structure Let Z subset JTs F Let F UF converted MSBN hyper After CommunicateBelief F followed finite number EnterEvidence JT Z marginal distributions obtained JT T E Z identical obtained EnterEvidence operations T performed CommunicateBelief CommunicateBelief Pmof We shall refer CommunicateBelief Among EnterEvidence change BTs EnterEvidence second CommunicateBelief BTs T change theorem mentioned After operation F globally consistent Theorem 14 T T operations effect T Suppose operations performed outside T performed We JT F T initiating Z performed operations performed called CollectNewBelief called T change BTs T F ary consistent change BTs T trivially CommunicateBelief true 0 That DistributeBelief bound 314 Y XiunArtijicitrl Intelligence 87 I 996 295342 6 An experimental demonstration We demonstrate communication works multiagent distributed interpretation digital example Fig 5 built different vendor encodes circuit depicted Fig 3 Fig 4 Recall agent subnet knowledge subsystem agent The designer MSBN needs knowledge In simulating cooperation tiveagent MSBN use following trarily chosen numeric parameters For external probability 05 For gate prior probability AND gate produces gate NOT gate corresponding This uniform assignment convenience numeric parameters correct output 20 time arbi input b c h m r w prior 001 For faulty For OR faulty percentages 70 50 respectively necessary simply For simulations assume h l m 1 r 0 w 0 We assume faulty produce generate complete description following input 0 0 1 c 0 gates G9 Ul G7 U2 incorrect output gate normal This allows external state We assume subdomain exception agent limited access true state world variables gates value variable k accessible First agent access values 0 1 inputoutput agent The values agent For example 4 values G5 G6 G7 G8 This assumption interpretation available evidence gate variables agent U2 access values g m n o p fact world infer directly observe normal faulty accessible simulates Second values io variables revealed order The agent control order For instance U2 receive simulation receive evidence evidence agent sequentially simulation order o 1 g 1 p 1 m 1 order p 1 o 1 q 0 m 1 random agent In Three sets simulations run extended version WEBWEAVR 181 The probabilistic reasoning environment infrequent WEBWEAVRII communication set sults sets demonstrate rem 15 operations agents The second set constant communication agents We compare communication sets demonstrate defined Section 5 We compare effect cooperation effect infrequent communication set agents Theo results analyzed 61 No communicatiorz In set simulations values gates No communication agents identify U2 contained agent observed inferred agents performed The goal faulty gates correctly soon possible Since CJl subdomain faulty gates focused agents Z XiangArticial Intelligence 87 1996 295342 315 Table 1 Summary simulation results Simulation set 1 Simulation set 2 Simulation set 3 Obs G9 Obs G7 Obs G9 Obs G7 Obs G9 Obs G7 SimuO Simu I Simu2 Simu3 Simu4 Simu5 Simu6 Simu7 Simu8 Simu9 Aver 5 6 6 6 6 6 4 4 6 5 54 6 3 6 6 3 6 3 2 3 2 4 4 48 5 5 5 4 3 4 48 3 426 2 2 3 48 1 46 4 2 2 3 4 5 5 5 5 4 4 4 5 4 2 2 4 5 2 5 4 2 2 4 284 45 32 available agent Ul For agent determined belief state reach subdomain This state represents 1 p1 GlO nomzaflevi 0993 pl Gl 1 nonnalleui best agent come given works When com received information interpretation plete set observations entered 099 PG9 fuultylevi agent identify pi G12 nomzallevi belief expressed probability values Call belief state ideal state agent When complete set observations entered agent U2 ideal state consisted p2 G7 fuuZtyjevi 06 p2 G6 fuultyjevi 04 p2 G8 fuultylevi 0002 p2 G5 fuultyevi 0005 The agent detected confirm G6 G7 faulty key variable k observable function circuit uncertain posterior probabilities 0995 Subscripts observations normal We randomly generated sequences observations relevant agent simulations EnterEvidence In simulation sequence number observations columns 2 3 Table 1 For simulations agents performed For sequence entered observations As soon agent reached stopped recorded listed observations 54 observations The corresponding observation observations interpretation ideal belief state range 10 fluctuation entered The results average number ideal Since average number reach belief state close U2 40 observations gives indication efficiency agent perform processed cost time resources agent Ul task number needed 62 Constant communication In second set simulations generated randomly vations agents In simulation sequence sequences obser agent 316 XiungArtijicial Intelligence 87 1996 295342 UO iJ4 observation performed We entered We entered observations CommunicateBelief agent repeated agents entered After CommunicateBelief state U1 U2 We recorded Ul U2 reached belief state close ideal agent Then variable shared belief agent process An observation number observations observation check The ideal state Ul ideal state U2 changed p2 G7 fuultyevi 0999 p2 G6 faultylevi 0007 This sharpened evidence k possible belief obtained agents pooling U2 working listed The results simulations average number observations columns 4 5 Table 1 For reach simulations agent needed 12 belief state close ideal 426 observations The corresponding 284 observations The average number decreased 21 29 U 1 U2 cooperation number Ul 63 Infrequent communicatiorl In set simulations second set simulations The experimental method observations CommunicateBelief instead performed agent observation sequences exactly Each agent reached average number observations ideal belief state observations The results simulations listed columns 6 7 Table 1 For simulations reach agent needed U2 ideal 45 observations The corresponding belief state close 32 observations The average number decreased 16 20 II 112 compared case shows better communication More observations agent compared case constant communication time locally exchanged evidence obtained cooperation Ul number infrequent communication It indicated exchange infrequent communi cation cause agents believe differently For example suppose following observations delays information agents entered UO d I cO u2 qo o I u4 wo x0 Ul h I g I u311 ul g I U2 reasons After CommunicateBelief Given G6 faulty p2 G7 faultylevi 0035 Suppose Ul subsequently II change believe moment U2 change Ul U2 pl k Olevi pzk Olevi 0976 input OR gate G6 0 concludes p2 G6 faultylevi 097 producing o 1 G7 normal 0 makes belief k p1 k Oevi 0013 At moment Ul U2 performed pzG6 fuultyevi 002 value k If communication belief sharply things totally opposite observes Y XiangArtifcial Intelligence 87 I 996 295342 317 old p2 G7 fuultyevi 0987 However communication U2 continue belief outofdate relative knowledge entire vs logic probabilistic reasoning Such situation natural x certain new observation change long agents belief proposition belief x extreme 0 1 analysis analysis In addition possible sensitivity frequently G6 Note example perform CommunicateBelief U2 reveal value k Therefore action replace gate believed locally U2s belief U2 faulty 112 perform premature exchange bring Ul U2 glob agents correctly proba contained exchange order situation avoided letting agent perform sensitivity For value G6 G7 sensitive responsible defer action wait communication belief exchange Ul bring U2 uptodate replacement ally consistent Neither However In general bilistic agents far away belief adjacent efit CommunicateBelief portunity ben Such exchange require scale expensive We leave exploration op sufficient given agents belief subdomain agents close hypertree makes sense contained agents prior critical sensitive decision U2 interpret sensitive future work knowledge knowledge subdomain agent Therefore happening Alternatively information avoid 7 Offline time communication 71 Offline time agent During CommunicateBelief BT JT T domain N changed CollectNewBelief DistributeBelief 1 Through CollectNewBelief CollectNewBelief UpdateBelief Through DistributeBelief operation UpdateBelief 2 T performs completed relative following ways When adjacent JT T CollectNewBelief JT change Br N T called caller change caller operation When DistributeBelief relative T performs BTN It follows proof Theorem 14 BT N modified new CollectNewBelief process Cornmunicate T performed DistributeBelief UpdateBelief EnterEvidence operations Otherwise CommunicateBelief global regain external evidence UpdateBelief Belief UpdateBelief consistency That Since able process evidence time interval restriction length interval minimized We define imposes timecritical interval time follows applications 318 I XiungArticiul Intelligence 87 1996 295342 Definition 16 Junction CommunicateBelief UpdateBelief UpdateBelief tion AT 7 t operation tree ofline time Let T JT LJF F During t time involved T started Let r instant time involved T completed The offline time T communica instant F let 72 Factors affecting offline time Different JTs LJF different offline time communication pending factors A CommunicateBelief operation started LJF arbitrarily WC refer affects offline communication time agent root The choice root factor selected JT effect root T4s offline T6 T7 T8 sequentially figure CollectNewBelief time Fig 8 Since T4 al T4 Afterwards T4 wait turn relative rest wait T2 allow p T7 T8 perform UpdateBelief T4 perform UpdateBelief relative During DistributeBelief relative perform UpdateBelief CollectNewBelief Example 17 We consider T selected root shown perform UpdateBelief low T completion DistributeBelief relative T3 sequentially dictates The order operations TJ offline soon belief T6 T7 T8 T4 starts T4 remains offline belief T T2 T4 T T4 available involves 13 sequen propagation propagates lief propagates T6 T7 T8 T4 The total process tial UpdateBelief relative best case T performs DistributeBelief 16 worst case neighbors If Th instead T selected root T4 offline T period operations time needed perform 8 sequential UpdateBeliefs Another factor order CollectNewBelief performed agent relative neighbors Example 18 Consider T7 Fig 8 root T During CollectNewBelief T perform UpdateBelief selected T7 offline Th T8 prolonged T6 T7 T sequentially offline accordingly relative If T7 time We rcfcr order multiple neighbors CollectNewBelief selected agent collection order form UpdateBelief agent Similarly refer order multiple neighbors selected agent distribution order DistributeBelief perform UpdateBelief agent factor affecting agents offline time L XiangArtijcial Inrelligence 87 1996 295342 319 Example 19 Consider T7 Fig 8 root T During DistributeBelief T6 T7 T8 perform UpdateBelief selected T7 shortened accordingly T4 sequentially offline T6 T available relative If T7 time The factor JT Tk This neighbor time complexity time complexity performed T relative Tk performance T generally different time complexity time complexity UpdateBelief fixed T relative UpdateBelief JT T relative LJF constructed Note Tk UpdateBelief Tk relative Tk involves multiple T This UpdateBelief number linkages T Unif yBelief T 191 The time required Unif yBelief Tk 73 Offline time multiagent The difference offline entire We consider time agents calls measurement offline alternatives commonly time JT F offline CommunicateBelief Definition 20 Absolute offline time Let F LJF Let t instant time operation Let 7 instant time JT available The absolute offline time F As 7 t The absolute offline time indicates agents available earlier nonavailability Definition 21 Average online time Let F LJF Let AT offline JT T offline time F A Cy A T n time operation The average F CommunicateBelief l n The average offline Both definitions time indicates average nonavailability multiple agents modified subset JTs availability concerned subset 74 A graphical model offline time study Based analysis given LJF chosen offline time measurement manipulate offline communication concentrate communication root collection communication time minimized To avoid distraction unnecessary number linkages numerical belief computation order distribution order details time abstract factors determine offline LJF following graphical model Model 22 Graphical communication model Given undirected arbitrary node A root tree converted rooted tree R weighted tree 320 Y XiangArticial Intelligence 87 I 996 295342 For node X R X A place itragent X For node Y R Y k children place k outagents Y The agents traverse R according following rules C I To start parent node Y leaf children selects child X according order Oi Y Once selected X sends Y takes time We inward direction After childs X inagent weight associated link X Y leaf root inagent arrives Y child selected according OY sends inagent Y After parent Y received inagents selection parent Z Once selected Z Y sends Z The inward movement inagents continues fashion children Y ready inagent 2 After root A receives inagents completed outward movement A selects child X according children starts inward movement order OA A sends weight takes time wX outagent associated link A X A X outward direction After outagent A reaches destination A selects child accord child The process continues sends outagent ing OA outagents A reach destination After outagent OX according The process continues A reaches child X X selects child nodes sends outagents outagent fashion children sequence R reaches leaf destination outward movement halts The model characterizes CommunicateBelief operation correctly far offline time concerned I The original undirected tree corresponds WE Each node corresponds JT LJF 2 The root A corresponds communication root 3 The inward movement inagents corresponds CollectNewBelief belief propagation DistributeBelief outward movement outagents belief propagation corresponds 4 Given parent node Y child node X wiX required Y perform UpdateBelief time required X perform UpdateBelief relative corresponds time X wout X corresponds Y relative 5 OiX corresponds collection order Section 72 X OY corresponds distribution order Y 6 The time instant inagent time instant corresponding X corresponds offline The time instant X corresponds entering evidence The interval offline time JT represented X outagent time instant corresponding instants JT available corresponds child node X moves JT X arrives child Y XiangArtijicial Intelligence 87 1996 295342 321 Note graphical model reflects semiparallel pattern communication discussed time increase Example 13 It seen key aspect minimization degree parallelism manipulating relevant factors offline We use following notations We shall nonleaf node X X We If X leaf node rooted tree X child selected X starts moving instant time instant inagent use tf X denote soon inagent leaves X We shall nonleaf node X time instant outagent If X leaf X denote time parent We shall offline instant arrives child X We use tX receives node X AX tX outagent tfX We shall inward movement inagents collection outward movement outagents distribution For collection use trdy Y denote time instant children ready parent nonleaf node Y receives select For leaf node Y assign starts We use tY inagent Y arrives parent come parent For root A assign Y starts wait outagent instant collection time instant inagent denote tY tA trdvA For distribution use tl X denote instant distribution parent Y Y send outagent ty A instant X receives For root A assign tcpr A tsel A outagent Y distribution starts We use tX relative time instant node X selected X For root A assign time denote Y completed Example 23 Fig 9 illustrates The figure left shows rooted tree R root A leaves D E F G It shows inagent outagents node inweight outweight link graphical communication model sevenagent Fig 9 middle rooted shows collection tree R The collection order instant left right parent node At time arrives B t 5 Thus E starts wait distribution selection A point t 0 E Its inagent t 5 B ready time Parallel activity t 0 F leftmost child selected C send inagent arrives C t 1 Then C selects child G inagent G arrives C t 4 Thus F waiting t 1 G waiting t 4 C ready t 4 According lefttoright A t 9 Then C selected selected inagent order A selects B t 5 The inagent B arrives arrives A t 11 Then D inagent arrives t 19 collection completed Fig 9 right shows distribution follows collection tion order right left At t 19 A sends outagent t 26 D moment child immediately The distribu D arrives C selected outagent A arrives C t 29 The outagent A arrives B t 35 A moment Parallel G outagent A t 29 C sends outagent movement 322 E XiunArfijiciul Inrelligence X7 I 996 295342 51919 354040 313535 293131 Fig 9 A graphical model communication sevenagent The inweight link indicated upward arrow associated label outweight link indicated downward arrow associated label Left weighted tree R rooted A The inagent outagents node inweight outweight link shown Middle collection R inweight link shown Each node X labeled triple rof X trdv X tWLI X Right distribution R I X outweight link shown Each node X labeled triple tX rC X arrives t 3 1 G C sends outagent arrives t 35 At moment C F outagent At t 35 B sends E arrives t 40 At moment F B E Distribution entire communication completed All activities communication nodes figures The offline calculated For instance AC 35 0 35 AD 26 absolute offline A304035 fully specified tuples label entire I 1 15 The time A 40 0 40 The average offline time node 154035307321 time collection schedule A distribution offline We refer specification timing nodes activity collection schedule time In activity soon idling contribute network delay labeling Fig 9 middle similarly defined Our goal schedules minimum schedules Example 23 assumed activity positively nodes delay practical assume goal exclude consideration possible delay Since unnecessary delay modeled belief propagation node engages link weights unnecessarily On hand schedules activities delay reason The schedule time During collection A follows Example 23 optimal We illustrate absolute offline lefttoright order waits I 5 B ready However child D A ready t 0 selected t I I If D selected activity earlier A complete collection shorter absolute offline D schedule higher degree parallelism The parallel activities resultant time The difference switching A D engaged earlier The consequence start distribution child E XiangArrcial Intelligence 87 1996 295342 323 E B F G C previous schedule paralleled activity D A In remaining mization offline space optimization paper use graphical model time arbitrarily given communication study mini root Limited root scope paper 8 Reduction communication scheduling In section reduce communication collection lems dual problems directly solution scheduling distribution sense solution scheduling problem subprob scheduling We extended 81 Problem reduction Let consider time instant t tl terminate denote Aa independent time interval At_2 minimization absolute offline t terminate t tl Let distribution time interval start start time instant t1 Ae1 tl t2 Al2 We Aabs Aa Atz Since time Let collection t t2 Denote minAb minAo_t minAl_2 distribution collection schedules We optimal collection minimization lefthand schedules minimization schedules second righthand equation possible distribution collection righthand study optimal communication schedules studying schedules optimal distribution schedules independently Next let consider minimization average offline offline tl tX time X distribution We obtain time AX tonX tX offline time X collection tX tl tl fX time For node X Note tl offline tX minimization schedules S Since possible collection schedules SC distribution minimization effect summation Although interval We obtain minimization tX 11 Thus second summation SC affects value tl effect length affected minimization schedules studied studying This implies optimal collection optimal communication schedules optimal distribution schedules independently 82 Duality collection distribution A comparison collection activities Both proceed movement inagents outward movement ancestor engaged distribution engaged distribution tree structure shows great similarity pattern Inward children node proceed sequentially So outagents node children Two nodes common parallel So semiparallel collection relative relative children children parallel We establish duality activities respect offline time Theorem 24 The proof Appendix A Theorem 24 Duality outweight link identical Let R weighted tree rooted A inweight Let 1 distribution schedule starts A td terminates rd Let distribution order parent node Y denoted Od Y schedule A schedule S collection starts t terminates A rC obtained requiring parent node Y follow collection order opposite OY followirlgs hold I r t rl td 2 node X T tJ X The converse obtaining SC true S identical tX td Given rooted tree R Theorem 24 implies schedule R treat w link w link optimal distribution tree Once optimal distribution schedule reverse converse activities correct We need optimal schedule schedule The optimal collection optimal collection order resultant given offline modified distribution time criterion schedule L XinngArtificial Inielligence 87 1996 295342 325 9101010 6999 4999 Fig 10 Left rooted Wee R distribution The distribution schedule shown labeling node X tseX fCpt X ton X ton X td fd 0 Right R obtained R treating Win wm A collection schedule fC 0 obtained schedule R described Theorem 24 The schedule shown labeling node X rff X rrdy X tvor X 7C roff X Example 25 Fig 10 left specified The distribution rooted tree R distribution distribution schedule order parent right left Fig 10 right shows rooted tree R identical win link A collection schedule R w link R figure R specified conditions Theorem 24 The collection order parent Note rd rd 14 0 R T fc 14 0 R Comparing R R attributes label corresponding nodes td R r ff X R identical values satisfies left right fourtuples tX 9 Optimal communication schedules In section derive distribution time distribution tree These results obtain duality schedules minimum average offline optimal collection schedules minimum absolute offline time given rooted schedules 91 Distribution schedules minimum absolute offline time Distribution starts root Consider rooted branching possible orders 0A factor 2 shown Fig 11 Distribution I C OA C B tree depth 2 root A performed Using O A obtain Ai maxwB wC wF wG wB wD wE 326 Y XiunyArtijicial lnrellience X7 1996 295342 Fig I 1 A rooted tree depth 2 distribution Since distribution children parent treated equivalently sum w s original parent leaves leaf children sequential leaf leaf w single leaves involved We write Al maxwB wlrC VVJFG wIBl wDE 1 wt FG wt F w G FG denotes equivalent single leaf Similarly O A obtain Ai maxwC wtB wDE wC wFG The optimal order smaller Al We claim w DE w FG condition A simplified OA optimal order Under Ai wt B w C w FG larger equal entries A wC wB woutDE wljut Cl woUt FGJ The result suggests w B w C critical sums outweights level w DE 26 The w FG proof Appendix A fact general shown outweights level This result Proposition 26 Optimal distribution Proposition Let R tree rooted A distribution Let depth R 2 Let children root X Let sum outweights children X u UI 2 6 X1 trees depth 2 schedule LIl The absolute distribution offline time Al2 R minimized distribution order ofAisOrAXnX Example 27 According 0 A CBD 3 6 7 0 I6 corresponding right Proposition The minimum Al2 24 improvement 26 A 12 R Fig 9 minimized Al2 max3 4 23 6 5 Al2 21 Example 23 A Fig 12 The distribution order left optimal schedule shown E XiangArtijcial Intelligence 87 1996 295342 327 Fig 12 R rooted tree distribution R R leftright order nodes B C D rearranged according Owr A C B D determined Proposition 26 The distribution schedule shown label tset X tcp X tonX tonX td node X The distribution starts id 0 Algorithm 1 Order arrangement distribution Input A rooted tree depth M outweight link defined Output The rooted tree leftright order children parent rearranged begin DM1 leaf Z depth D oZ o node Y depth D child nodes Xl X uY Cl WoutXi DD1 D 2 0 node Y depth D n child nodes arrange children Y index left right XI X vXt 6 uX vY max e el ei CiWtXk uXi leaf Z depth D 0 uZ DD1 end Algorithm 1 Theorem 29 generalize Proposition 1 rearranges leftright order children topologically order 26 arbitrary tree rooted node explicit Theorem 29 distribution Algorithm establishes optimal distribution optimal schedule Example 28 Fig 13 illustrates Algorithm uE 8 uF 14 uG 0 oH 15 ul 0 vJ 18 After pass loop children loops left right order G E F B arranged 1 After 328 l XiungArtcial Intelligence 87 1996 295342 8 K L MNOPU VWXY K 0 L MNOPU 0 U 0 0 0 01 CO 01 0 1 01 VWXY Z Fig 13 R rooted tree distribution Each node X labeled IX computed Algorithm operarlon R R processed according I Algorithm I based L values Children D arranged J The L values nodes B C D assigned cB 19 uC 0 uD 27 left right order I H After second pass right order C B D A loop children root A arranged assigned value cA 36 left Theorem 29 Optimal distribution root A The absolute offline Algorithm 1 distribution order node right left The minimum Al2 given bJ c A computed Algorithm I time Al2 minimized schedule Let R rooted tree distribution R arranged according Proof We prove induction Let depth R M The statement according Assume true M K K 3 2 Consider M K I Assume Algorithm 1 root A R n n 3 I children Proposition 26 statement R arranged according 6 Y Each child root subtree assumption distribution By inductive I H minimized righttoleft order followed The minimum time subtree rooted F E time true M 2 uK For I Iz replace w X c I The condition Proposition optimize distribution minimized induction A_ minimal subtree rooted x single xX resultant 26 Therefore distribution righttoleft order A time subtree rooted 8 time Since distribution tree depth 2 rooted A satisfies link assumption distribution root A optimized Ad k I minimum value given uA 0 Example 30 The absolute distribution arranging R R following oA 36 offline righttoleft distribution order The minimum Al2 time R Fig I3 minimized I XiangArtcial Inlelligence 87 1996 295342 329 Fig 14 A general rooted tree distribution 92 Distribution schedules minimum average offline time Let R tree rooted A distribution tl We denote c start time instant node Y R rooted A The optimal distribution minimizes Fig 14 Let distribution operation t Y t1 CRA summation schedule contribution RA nodes subtree rooted TR A We consider parent node V m leaf children Fig 14 We aRV tonV tl zk tl kl If substitute tV tV c wOUt zk rewrite gRV e Wdzk mt ltcljtV tl etonzkj tv 4 kl kl entry summation The product independent orders nodes outside nodes denote aV minimization R subtree TV independent distribution order The second entry distribution order V It dependent distribution subtree rooted V dependent number m 1 tcpt V rest order V Note fact signify distribution sum entry X1 t Zk rooted V Only rooted V dependent subtree denote instead TR V studied isolating Next consider contribution R A nodes subtree rooted arbitrary nonleaf node Y Fig 14 We obtain RYbnY tl xgRXk wm xk ty k tl cgRxkh k k Denote number descendants nk obtain 330 Y XiangArticid Inrellipvce 87 1996 295342 CAR dxk nr IfXk tl d CfZk 1 tptXk tY Zk 1yY t If substitute Y 77 obtain expression VR Y denote number descendants CYCniUXn trlt lfY r1 c dxk xnk 1 I 1 kXk tcrY 5 summation independent dependent distribution order The second entry The entry product subtree rooted Y dependent number 7 I nodes subtree rooted Y The dependent distribution orders nodes subtree rooted entry summation child Y Only dependent distribution order Y distribution orders nodes outside entry summation Note Eq 4 special case Eq 5 let Y V Xk Zk nk 0 g Xk 0 t xk f zk Another special case Eq 5 cR A If let Y A tY tl obtain qR A c IuI Xk cdxk xnk Ifcdxk fl 1 6 k h implies The analysis R need search locully optimal distribution order node lemma prepares Y taking Theorem 32 Its proof Appendix A number descendants Y The following order optimal distribution account schedule Lemma 31 Let Y u rzonleaf node o rooted X1 X m 0 Xk nk descendants tree Let child rzodes Y The sumnzation cr nk 1 tCp Xk tC Y minimized wXtnl 1 wcX2z2 1 6 dXn 1 distributiorz order Y OY Xi X Theorem 32 Optimal distribution tree rooted A For nonleaf node Y R let m 0 child nodes Y indexed fronz left right XI X let number descendants Xi n Let R weighted schedule X2 wr XI I III 1 1 ur 112 1 6 VOlf Xr c Zi 1 1 Tze average distributiorz oline tinze TR A minimized distribution order Y left right Y Proof First consider root A X1X2 case depth R D I Let child nodes I XiangArtijicial Intelligence 87 1996 295342 331 Fig 15 R rooted tree distribution R R leftright order nodes B C D rearranged Theorem 32 The distribution node X The distribution schedule starts rd 0 shown label tset X tcpt X ton X tonX td according According Eq 6 D 1 obtain RA c Wout Xk JtXk t1 k k To minimize TR A need minimize fl tYk ment tl true D 1 minimized second sum According Lemma 3 1 lefttoright order followed The state Assume statement leftright true depth R D d 2 1 That gR A arranged specified order child nodes minimized lefttoright distribution order followed We consider OR c wour xk cxk k k xbk k lpXk tl D d 1 Based analysis Eq 5 minimization minimization performed followed Each U minimized following inductive lefttoright order lefttoright order according 0 Lemma 31 q minimized zk nk 1 tcp assumption The statement tt independent separately According proven Example 33 Fig 15 shows optimal distribution Theorem 32 We compare There preferred distribution chosen The consequence preferred distribution TR A 16 9 14 16 5 9 14 83 shows schedule distribution order node C OC Example 27 arbitrarily TR A 16 9 14 16 7 9 14 85 Here order node C OC G F The consequence schedule obtained This comparison optimal schedule according E G schedule time absolute offline time criterion However criterion optimal absolute offline time examples happen average offline identical value 16 332 Y XiuqArtijcial Intelligence 87 I 996 295342 A Km99 Ii R I h I H C 391515 E141414F 8121212 6888 m38x t 5 tl 2 Jy 1 1 E P8 Gi 91111lI 11151515 Fig 16 Comparison optimal distribution schedules different criteria A schedule minimum absolute offline time shown R A schedule minimum average offline time shown R Each I X tonX I X td node X corresponding schedule shown label fX rooted tree The distribution starts td 0 schedules distribution identical leftright order child nodes The schedule Example 34 Fig 16 shows subject difference optimal The distribution 14 12 8 69 The schedule shown R optimal criterion obtained Theorem 32 The distribution Ai2 15 0 TRA 9 8 15 8 11 15 56 tree R absolute offline Theorem 29 order right left It A_2 14 0 URA 9 14 12 time left right It average offline order time criterion obtained according rooted shown according Example 34 shows given rooted time criterion optimal example offline vice versa Though duality distribution collection tree optimal schedule absolute time criterion general average offline involves distribution conclusion 10 Discussion 101 DAL tree structure conditional independence In MSBN intersection pair subnets satisfy pair conditionally independent condition seen Section 3 semantics joint probability multiagent bring distribution undefined subnets uptodate adjacent dsepset sufficient condition With dsepset given distribution cooperative order condition pass new probability One major concerns possible global consistency As argued Pearl DA1 balance reduce need need maintain traffic communication independence 151 tree structure makes use conditional dsepset It Z XiangArtcial Intelligence 87 1996 295342 333 singly connected BNs In singly connected BNs dependency mediator efficient conditionally independence internal connected BNs 9 independent allows coherent elements Our study MSBNs highlights pettree structure This structural preference conditional sentation multiply pair elements crease complexity cases network internal ture dependency mediator independence venience mental probabilistic tion multiply endeavor construct techniques connected BNs In JT representation occasional reasoning clique multiply group variables passage group hy information MSBNs organized general case exploration 141 JT repre If element render dependency mediator structures dependency mediators node internal connected BNs dependency mediator struc In MSBNsIJPs 151 conditional passively wait mathematical hypertree assumption actively create The progression singly connected BNs JT representa example MSBNsLJFs subnetJT As argued Pearl viewed restrictive grace nature 102 Communication MSBNs belief propagation JT Our CommunicateBelief operation DistributeEvidence multiagent MSBN single direct extension JT Jensen et al singleagent MSBN Xiang multilinkage belief propagation CollectEvidence 9 lo et al 191 If concentrate overall pattern information tion MSBN works way semiparallel semiparallel outward movement As commonly nodes JT centralized The special pattern information support concurrent objectoriented processing applied BNs singleagent considered uninteresting oriented Therefore tree structure implementation reasonably indicated inward movement belief propagation flow communica followed JT taken granted flow Jensen et al lo However In multiagent MSBN efficiency communication work devoted agents likely spatially distributed issue necessary concern Part effort Once issue concurrency control resolved belief propagation JT large computation JT parallel processing JT desired time critical hardware available result applied 103 Future research interpretation In pilot study proposed probabilistic cooperative multiagent condition distributed ally independent MSBN semantics joint probability distribution MSBN defined Such inference multiple agents We organization agents cooperative organized coherent probabilistic systems We showed initially framework consistent ensures 334 K XiangArcial Intelligence 87 1996 295342 operations addition oriented MSBNs We showed proposed new communication singleagent sistency agents evidence gathered agents asynchronously parallel We proposed scheduling algorithms unavailability minimize There directions belief propagation operations agents evidence processing future operations communication optimize maintain operations research These cooperative justification pool potentially Section 33 include dynamic agents Section 63 refinement belief propagation application optimization communication specific problem integration structures operations localized root indicated formal construc demanddriven communica interpreta Sec mentioned tion MSBN fashion tion outlined implementation tion action tion 74 Appendix A Appendix Let R weighted tree rooted A inweight Theorem 24 Duality outweight link identical Let Sd distribution schedule starts A tr terminates rd Let distribution order parent node Y denoted Od Y schedule A schedule SC collection starts t terminates A r obtained requiring parent node Y follow collection order opposite Od Y followings hold rCtCrdtdrand I 2 node X r tf X The converse obtaining Sd SC true S identical tX td Sd Proof We start Sd construct satisfied Once true mapping created SC converse theorem conditions trivially We assume parent node Y m child nodes child nodes arbitrarily indexed XI order Y Sd od Y XI characterize follows X Without losing generality denote notation defined X Using c Lpty td rctY kY wY Y root Y root rY ff Y x5 w Xk 1 Y leaf trrXi fY c WXL X root t X f w 1 maxGz X leaf max node Z distribution Section 74 A1 We construct collection schedule SC requiring collection follow resultant schedule SC characterized order OY X follows X1 parent node Y od Y The opposite E XiangArtifcial Intelligence 87 1996 295342 335 4X 7d bzm tc rY QX trdy X t dY JJ c WXk rY dyY Wy LTtX tX wX rY bdyY 7c trdyY X leaf Y leaf X leaf Y leaf Y root leaf A21 X leaf Y root Y root We inductively S satisfy R depth D 1 That Consider X For Eq Al obtain X czI WXi implies conditions R root node A leaf children td stated theorem tA td tA tA ldeWXi il For child nodes obtain ton Xi t Xi td Elk w Xk implies mXi fd 2 WXk kl Maximization Over Ton reSUh Td td CL WXi Td td c WXi il A3 A4 A51 From Eq A2 specified Eqs A3 A4 A5 derive 5 follows For leaf tXi rd toXi k f t ct WXk For root obtain tc CL WXk The implies rfA toXxnl tc rc tdvA tX CL wX rc t A c il w xi Td tdy m Tc gA cWXk mA td il tofXi 2 WXk tonXi Tc td kl Therefore statement true D 1 336 K XiungArtiJiciul lnrelligence 87 I 996 295342 conditions Assume Suppose add child nodes theorem hold R depth D d 1 leaves R depth d form new tree R The depth R D d 1 We conditions hold R We add prime mark quantity Sd SC associated R distinguish time associated R ti Si td Sd tl td Then node Y depth d 1 leaf Y depth d tL Y tY implies td r tf object Let starting rY t tY td A6 Let X node depth d tX Eq A 1 tX R m leaf children Zt C w zi implies Z Based tX t tX tll c wZ I A7 For leaf Zj depth d 1 parent X obtain t Zj tX ri w Zi implies tq t ttw tfl f wZ The termination R The completely specifies Si time 2 max tb X 3 rd maximization A8 nodes We construct Sl_ Si based Eq A2 Let assign t t T 3d A9 means Sd Si starts earlier SC time Si longer For leaf Z depth d 1 parent X obtain tRZj71tnZjtlt7dtX eWZ il AlO equality A8 We obtain Eq A2 second equality Eqs A9 tX Zm c wZi t rd tX A1 1 il equality Eqs A1 1 A2 parent R Eq A2 second equality tf X Eq A 10 X leaf R imply tX For leaf depth d E XiangArtificial Intelligence 87 1996 295342 331 tfx 7 tX t t 7d tX TdfX bfx A12 second equality Eq A9 equality timing activities nodes fLd X nodes depth d X condition A1 1 Note boundary Eqs A12 node depth f d timing activity inagents obtain rI_ r children node depth d condition implies SL excluding exactly theorem inductive assumption Eq A6 leaves depth d form Therefore inward movement SC We imply r t rctcrrdrdtdrrd7td7t A13 inductive equality assumption Eq A9 second equality derived Finally consider r t terms exclusive exhaustive cases node involved For leaf Zj depth d 1 parent X rfZjfrtd rdtonx ldtXCWztbnZjfh A14 il equality Eq A9 equality Eq A8 Eqs A13 A10 second equality For leaf X depth 6 d obtain r tX ri r tX t ri t r tX tLX t second equality obtained Eq A13 For nonleaf node X depth d derive r_XrcftZr tX r fcrdroxWZi il A15 A16 second equality Eq AlO equality Eq A7 For nonleaf node X depth d ri r f X t X tb X tX fh td r tX tX fi The second condition theorem proven Cl A17 338 Y XiungArtificial Intelligence 87 1996 295342 trees depth 2 Let R tree children root X Let sum outweights children Xi v VI 02 distribution order distribution Proposition 26 Optimal rooted A distribution Let depth R 2 Let XI v The absolute distribution offline time Al1 R minimized A OA X X1 1 schedule Proof According order 06 A X XI distribution time A 1 1_2 maxw u WC WCI 41 WXWXiVi3WXflWXIV max written w Xi instead w Xi simplicity Note listed order consistent order Xi appears OA entries right Note WXi appears In order entry exactly v entry entry addends appears Let 0C2A X 0Uf Xi order distinct n X X j We denote Xk k E I w Xi sum weights children X vi The distribution 0C2A 0ll OL A Xi weight associated Xi time A iimaxeleL_ ei e Ui First simplify Aif removing superfluous entries Suppose v addend e d II equivalently X O A Then e em elimi nated max altering value AI v max vi e e d After elimination AiT maxe ei_i e Suppose o m E 1 value eL_ L contained el eliminated max II l addend e m highest e With argument index eI_ Repeating process end AiT maxe2 e e u VI addend e n m 1 expanded form addend el v addend ef We refer expression A_ 2 simplification simplied refer expression simplification form Example Suppose 0 A X4 X5 X2 X3 Xi The expanded form Ai Al maxwX4 4 wX4 I 3 wX4 I wX2 fv2 WX4 WX5 wX2 wX3 03 wX4 wXs wX wX3 bVXl VI 1 After removing superfluous entries simplified form Aif maxwX4 wG LS wX4 wX5 4x2 wXj 3 wX4 wX wX2 wX3 wX1 vl E XiangArtificial Intelligence 87 1996 295342 339 Next prove lemma states following 2 Lemma After A_2 wX CwXi c WXi simplified Ai maxe e e urn wXwXl ei addends Proof It suffices ek wX wXt addends Consider Ui n 2 m 1 In expanded entry simply ui appears form A I Ui appears addend left ei e In following e If Ui appears e e contain addend WXi It appear e entries simplified A_ 2 decreasing order index addend u If ui appeared e expanded eliminated simplification process The lemma proven 0 form Al e Finally Ai A identify g m entry e simplified Al_ Al e Suppose A uk kE ln We search entry e simplified Aif e Ok addend We consider exclusive exhaustive cases following Case 1 If e lemma Ai e If entry addend uk search entry ei entry ei addend Q I k e6 addend uj right eb k j Case 2 If e e e w X w xk addends By lemma e wX et wXj_t w By lemma eb w Xlt wXl addends We need addends w addends Therefore form A_ QI expanded left eb The question iEI1 Ifanyui k appeared uk appeared addends appear ei e entries entry ek expanded form A j entry appeared included simplified A Therefore andeihaswXi ui E 1 1 k appeared ei foriZlkasaddends Case 3 If specified e exists eb specified entry simplified form Ail ei contains e rightmost addends WXWXk leftmost Consider wX w Xi The simplification entry ei expanded form Al This entry contains rightmost process eliminate 340 l XiungArfijicial Intelligence 87 I 996 295342 entry expanded A Therefore entry expanded simplified form e e contains addends wX form identical wXk rightmost We shown Ai Aili holds arbitrary order OA Therefore OA minimizes Alz 011 I 0 tree Let child nodes Y X m 0 Xk nk descendants The summation Cc cF nk Lemma 31 Let Y nonleaf node rooted X1 1 f Xk tCpr Y minimized vmrxlm 1 G wll X2 112 1 6 G MJ L n 1 distribution order Y O Y XI X Proof When OY followed tLtXk tY Et wXi I Jl kl lwx il lWX eM2 1 WX f knn il wX I Cnl I WxI il 1 WX2 111 Cni i2 I C il 1 WX eq im 1 written wXi instead wXi simplicity Assume following condition holds XI nl 1 6 wX2rz2 I 6 wXn 1 Whenm2wXnlnIwX2nl If instead derivation 9 wX2 nl 1 n2 I wXl possible order OY X2 XI followed ifOY isfollowed similar n 1 The difference 9vXn1wwX1n21 assumption In general Xk contains sum P OsincewXnll wX2n21 exactly m Xkrelated addends denote fnkl f IWXk nr lWXk Note addend P form ni 1 w Xi unique Given arbitrary distribution order OiSUr Y X1 X E 1 m OY exactly m 1 k Xk appears Ith location Xkrelated addends denote sum P I XiangArtcial Intelligence 87 1996 295342 341 P rtk lwX cm lWXlIf 4 lWXk nrlt lWXk nt lWX Note addend P unique We P P 3 0 Xk To sufficient create f set addends P set addends P onetoone p p 0 p addend P p f p correspondence A typical addend P form nk 1 w Xi form nit lWXk Suppose p ttk lwXil If k exists unique p nk lwXi P p p 0 If k exists unique p nil lw Xk P p p 2 0 wXitnij 1 assumption 1 Z wXQ Suppose p nil 1 w Xk If k exists unique p nk 1 W Xii If k 1 wXknk 1 assumption P p p 0 WXinif thereexistsauniquepnitlwXk inPandppO Therefore P P 2 0 Xk order OY minimize 9 0 Acknowledgements This work supported Deans Research Funding Faculty Science Uni General NSERC Grant University Regina Research versity Regina Grant OGP0155425 References NSERC l AH Bond L Gasser An analysis problems research DAI AH Bond L Gasser eds Readings Distribufed Artificial Intelligence Morgan Kaufmann Los Altos CA 1988 335 2 AH Bond L Gasser eds Readings Distributed Artificial Intelligence Morgan Kaufmann Los Altos CA 1988 3 R Davis RG Smith Negotiation metaphor distributed problem solving Art Intell 20 1983 63109 4 AP Dawid SL Iauen Hyper Markov laws statistical analysis decomposable graphical models Ann Stat 21 1993 12721317 51 LD Erman EA HayesRoth VR Lesser DR Reddy The HearsayII speechunderstanding integrating knowledge resolve uncertainty Comput Surveys 12 1980 213253 6 L Gasser MN Huhns eds Distributed Artificial Intelligence Vol II Morgan Kaufmann Los Altos CA 1989 7 C Ghezzi M Jazayeri D Mandrioli Fundamentals Sofrware Engineering PrenticeHall Englewood Cliffs NJ 1991 S CE Hewitt Offices open systems ACM Trans Ofice hform Syst 4 1986 271287 91 FV Jensen SL Lauritzen KG Olesen Bayesian updating causal probabilistic networks local computations Comput Stat Quart 4 1990 269282 lo EV Jensen KG Olesen SK Andersen An algebra Bayesian belief universes knowledge based systems Nerworks 20 1990 637659 111 SL Lauritzen DJ Spiegelhalter Local computation probabilities graphical structures application expert systems J Roy Stat Sot Ser B 50 1988 157244 342 Y XiangArtificial hteliigence 87 1996 295342 29 1980 12 1 VR Lesser LD Erman Distributed 1144t 163 I3 J RE Neapolitan P mbabilistic Retrsoning 1 141 J Pearl Fusion propagation 15 I J Pearl Probabilisric Reasoning Kaufmann Los Altos CA 1988 interpretation model experiment IEEE Trans Comput Experr Sysrems Wiley New York 1990 structuring belief networks Artif Intell 29 1986 241288 Intelligent Systems Networks Plausible inference Morgan 16 1 WA Shay Understanding Data Communications 17 A Silberschatz 18 1 Y Xiang B Pant A Eisen MP Beddoes D Poole Multiply PB Calvin Operating Concepts Nefwurks PWS Publishing Boston MA 1995 AddisonWesley Reading MA 1994 sectioned Bayesian networks neuromuscular diagnosis Artif Intell Med 5 1993 293314 119 1 Y Xiang D Poole MP Beddoes Multiply sectioned Bayesian networks Junction forests large knowledge based systems Compt Infell 9 1993 171220