Artiﬁcial Intelligence 168 2005 119161 wwwelseviercomlocateartint Weak nonmonotonic probabilistic logics Thomas Lukasiewicz 1 Dipartimento di Informatica e Sistemistica Università di Roma La Sapienza Via Salaria 113 00198 Rome Italy Received 1 October 2004 accepted 31 May 2005 Available online 5 July 2005 Abstract We present approach probabilistic logic combined default reasoning condi tional knowledge bases Kraus et als System P Pearls System Z Lehmanns lexicographic entailment The resulting probabilistic generalizations default reasoning conditional knowl edge bases allow handling uniform framework strict logical knowledge default logical knowledge purely probabilistic knowledge Interestingly probabilistic entailment Sys tem P coincides probabilistic entailment gcoherence imprecise probability assess ments We analyze semantic nonmonotonic properties new formalisms It turns proper generalizations classical counterparts similar properties In particular satisfy rationality postulates System P Conditioning property Moreover probabilistic entailment System Z probabilistic lexicographic entailment satisfy property Rational Monotonicity Irrelevance property probabilis tic entailment System P We analyze relationships new formalisms Here probabilistic entailment System P weaker probabilistic entailment System Z turn weaker probabilistic lexicographic entailment Moreover weaker entailment probabilistic logic default sentences interpreted strict sentences Under natural conditions probabilistic entailment System Z lexicographic entailment coincide entailment probabilistic logic probabilistic entailment System P This paper signiﬁcantly extended revised version paper Proceedings 9th International Conference Principles Knowledge Representation Reasoning KR2004 Whistler Canada June 2004 AAAI Press 2004 pp 141151 Email address lukasiewiczdisuniroma1it T Lukasiewicz 1 Alternate address Institut für Informationssysteme Technische Universität Wien Favoritenstraße 911 1040 Vienna Austria email lukasiewiczkrtuwienacat 00043702 matter 2005 Elsevier BV All rights reserved doi101016jartint200505005 120 T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 Finally present algorithms reasoning probabilistic entailment System Z probabilistic lexicographic entailment precise picture complexity 2005 Elsevier BV All rights reserved Keywords Probabilistic logic Default reasoning conditional knowledge bases Entailment System P Entailment System Z Lexicographic entailment Nonmonotonic probabilistic logics Inconsistency handling Algorithms Computational complexity 1 Introduction During recent decades reasoning probabilities started play important role AI In particular reasoning interval restrictions conditional probabilities called conditional constraints 49 subject extensive research efforts Roughly conditional constraint form ψφl u ψ φ events l u subinterval unit interval 0 1 It encodes conditional probability ψ given φ lies l u An important approach handling conditional constraints probabilistic logic origin philosophy logic roots traced Boole 1854 12 There wide spectrum formal languages explored probabilistic logic ranging constraints unconditional conditional events rich languages specify linear inequalities events especially work Nilsson 5455 Fagin et al 19 Dubois Prade et al 2131617 Frisch Had dawy 21 author 484951 survey sentential probability logic Hailperin 35 The main decision optimization problems probabilistic logic ciding satisﬁability deciding logical consequence computing tight logically entailed intervals Recently column generation techniques operations research suc cessfully solve large problem instances probabilistic logic especially work Jaumard et al 37 Hansen et al 36 Example 11 Eagles A simple collection conditional constraints KB encode strict logical knowledge eagles birds birds feathers purely probabilistic knowledge birds ﬂy probability 095 cf Ex ample 21 This collection conditional constraints KB satisﬁable logical consequences probabilistic logic KB birds feathers birds ﬂy probability 095 eagles feathers eagles ﬂy probability 0 1 fact tightest intervals follow KB cf Exam ple 22 That especially conclude KB ability ﬂy eagles A closely related research area default reasoning conditional knowledge bases consist collection strict statements classical logic collection defea sible rules called defaults The hold rules kind ψ φ read generally φ ψ Such rules exceptions handled different ways T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 121 The literature contains different proposals default reasoning conditional knowledge bases extensive work desired properties The core proper ties rationality postulates System P Kraus Lehmann Magidor 40 constitute sound complete axiom classical modeltheoretic entailment relations uncertainty measures worlds They characterize classical modeltheoretic entailment preferential structures 4064 inﬁnitesimal probabili ties 157 possibility measures 14 world rankings 3365 As shown Friedman Halpern 20 uncertainty measures worlds expressible plausi bility measures The postulates System P characterize entailment relation based conditional objects 15 A survey relationships given 622 Mainly solve problems irrelevant information notion rational closure adventurous notion entailment introduced Lehmann 4547 It equiva lent entailment System Z Pearl 58 speciﬁc possibility entailment Benferhat et al 5 conditional modal logicbased entailment Lamarre 44 Finally mainly solve problems property inheritance classes exceptional subclasses maximum entropy approach default entailment proposed Gold szmidt et al 31 lexicographic entailment introduced Lehmann 46 Benferhat et al 4 conditional entailment proposed Geffner 2426 inﬁnitesimal lief function approach suggested Benferhat et al 7 The following example Goldszmidt Pearl 34 illustrates default reasoning conditional knowledge bases Example 12 Penguins A conditional knowledge base KB encode strict logical knowledge penguins birds default logical knowledge generally birds ﬂy generally penguins ﬂy generally birds wings Some desirable clusions KB 34 generally birds ﬂy generally birds wings belong KB generally penguins wings set penguins subclass set birds penguins inherit properties birds generally penguins ﬂy properties speciﬁc classes override inherited properties speciﬁc classes generally red birds ﬂy red mentioned KB considered irrelevant ability ﬂy birds There works literature probabilistic foundations default reason ing conditional knowledge bases 1113157 combinations Reiters default logic 63 statistical inference 4367 rich ﬁrstorder formalism deriv ing degrees belief statistical knowledge including default statements 3 However work far extends probabilistic logic capability handling defaults conditional knowledge bases In paper try ﬁll gap We present extensions probabilistic logic defaults conditional knowledge bases Kraus et als System P 40 Pearls System Z 58 Lehmanns lexicographic entailment 46 The new formalisms allow expressing uniform framework strict logical knowledge purely probabilistic knowledge probabilistic logic default logical knowledge default rea soning conditional knowledge bases Informally strict logical knowledge represents sentences hold purely probabilistic resp default logical knowl 122 T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 edge encodes sentences exceptions expressed quantitative resp qualitative way Example 13 Ostriches Consider strict logical knowledge ostriches birds default logical knowledge generally birds legs generally birds ﬂy purely probabilistic knowledge ostriches ﬂy probability 005 Ob viously desired conclusions generally birds legs generally birds ﬂy ostriches ﬂy probability 005 sentences explicitly stated Two desired conclusions generally ostriches legs property having legs birds inherited subclass ostriches generally red birds ﬂy property red mentioned irrelevant ability ﬂy But probabilistic logic default reasoning conditional knowledge bases produce desired conclusions handle default logical knowledge deal purely probabilistic knowledge However new formalisms paper deal sentences In particular probabilistic generalization lexicographic entailment produces desired conclusions A companion paper 52 presents similar probabilistic generalizations default rea soning conditional knowledge bases The formalisms 52 different ones paper allow handling default purely prob abilistic knowledge strict purely probabilistic knowledge addition strict logical knowledge default logical knowledge For example formalisms 52 al low expressing sentences form generally birds special birds ﬂy probability 095 birds ﬂy probability 095 In tuitively means able ﬂy probability 095 apply class birds subclasses birds long consistent says able ﬂy probability 095 apply class birds For reason formalisms 52 generally stronger ones cf Section 81 Hence considered strong nonmonotonic probabilistic logics formalisms weak nonmonotonic probabilistic logics Interestingly probabilistic reasoning probabilistic generalization Kraus et als System P present paper coincides probabilistic reasoning gcoherence imprecise probability assessments statistics cf Section 82 The main contributions paper summarized follows We present combinations probabilistic reasoning probabilistic logic default reasoning conditional knowledge bases Kraus et als System P 40 Pearls System Z 58 Lehmanns lexicographic approach 46 The resulting probabilistic formalisms called weak nonmonotonic probabilistic logics allow handling uniform framework strict logical knowledge purely probabilistic knowledge probabilistic logic default logical knowledge condi tional knowledge bases We explore nonmonotonic properties weak nonmonotonic probabilis tic logics In particular satisfy rationality postulates System P T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 123 Conditioning property Furthermore probabilistic entailment Sys tem Z probabilistic lexicographic entailment satisfy property Rational Monotonicity Irrelevance property probabilistic entailment System P lacking properties We analyze relationships weak nonmonotonic probabilistic log ics It turns probabilistic entailment System P weaker probabilistic entailment System Z turn weaker probabilistic lexicographic en tailment Furthermore formalisms weaker entailment probabilistic logic knowledge bases default sentences simply interpreted strict sentences We probabilistic entailment System Z probabilistic lexicographic en tailment coincide entailment probabilistic logic consistent interpret relevant default sentences strict sentences probabilistic entail ment System P property Furthermore probabilistic entailment Systems P Z probabilistic lexicographic entailment proper gen eralizations classical counterparts Finally present algorithms computing tight intervals probabilistic en tailment System Z probabilistic lexicographic entailment based reductions standard tasks deciding model existence computing tight tervals entailment probabilistic logic Furthermore draw precise picture complexity deciding logical consequence computing tight intervals probabilistic entailment System Z probabilistic lexicographic entailment general restricted cases The rest paper organized follows Section 2 recalls main concepts probabilistic logic Section 3 recalls entailment Systems P Z lexico graphic entailment default reasoning conditional knowledge bases In Section 4 introduce novel probabilistic generalizations entailment System P entailment System Z lexicographic entailment Section 5 explores nonmonotonic prop erties new probabilistic formalisms relationships relationships classical counterparts In Sections 6 7 provide algorithms probabilistic reasoning new probabilistic formalisms analyze computational complexity respectively Section 8 provides comparison related work In Section 9 ﬁnally summarize main results outlook future research In order distract ﬂow reading technical details proofs moved Appendices AE 2 Probabilistic logic In section recall main concepts probabilistic logic especially work Nilsson 5455 Fagin et al 19 Dubois Prade et al 2131617 Frisch Haddawy 21 author 484951 We deﬁne propositional language logical constraints Boolean combinations conditional constraints interpreted probability distributions set worlds We deﬁne probabilistic knowledge 124 T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 bases modeltheoretic notions satisﬁability logical entailment proba bilistic knowledge bases 21 Syntax We ﬁrst formally deﬁne syntax logical constraints Boolean combinations conditional constraints probabilistic knowledge bases We assume set basic events Φ p1 pl l cid1 1 We use cid3 note false true respectively We deﬁne events induction follows Every element Φ cid3 event If φ ψ events φ φ ψ A condi tional event form ψφ events ψ φ A conditional constraint form ψφl u conditional event ψφ real numbers l u 0 1 We deﬁne probabilistic formulas induction follows Every conditional constraint proba bilistic formula If F G probabilistic formulas F F G Note probabilistic formulas especially deﬁning concepts probability rankings cf Section 41 We use F G F G abbreviate F G F G respectively F G events probabilistic formu las adopt usual conventions eliminate parentheses A logical constraint event form ψ φ A probabilistic knowledge base KB L P consists ﬁnite set logical constraints L ﬁnite set conditional constraints P l cid2 u εl u P ii ε1 cid9 ε2 distinct ε1l1 u1 ε2l2 u2 P Example 21 Eagles contd The strict logical knowledge eagles birds birds feathers purely probabilistic knowledge birds ﬂy probability 095 expressed probabilistic knowledge base KB bird eagle feathers bird ﬂy bird095 1 22 Semantics We deﬁne semantics logical constraints probabilistic formulas To end ﬁrst deﬁne semantics events worlds truth assignments basic events We deﬁne semantics logical constraints probabilistic formulas probability distributions worlds We deﬁne modeltheoretic notions satisﬁability logical entailment language probabilistic knowledge bases We ﬁnally recall relationship modeltheoretic logical entailment ordinary propositional logic A world I associates basic event Φ binary truth value We extend I induction events usual We denote IΦ set worlds Φ A world I satisﬁes event φ I model φ denoted I φ iff I φ true We I satisﬁes set events L I model L denoted I L iff I model φ L An event φ resp set events L satisﬁable iff model φ resp L exists An event ψ logical consequence φ resp L denoted φ ψ resp L ψ iff model φ resp L model ψ We use φ cid9 ψ resp L cid9 ψ denote φ ψ resp L ψ hold T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 125 A probabilistic interpretation Pr probability function IΦ mapping Pr IΦ 0 1 PrI I IΦ sum 1 The probability event φ Pr denoted Prφ sum PrI I IΦ I φ For events φ ψ Prφ 0 write Prψφ abbreviate Prψ φ Prφ deﬁne conditioning Pr φ denoted Prφ PrφI PrI Prφ I IΦ I φ PrφI 0 I IΦ The truth logical constraints probabilistic formulas F Pr denoted Pr F inductively deﬁned Pr ψ φ iff Prψ φ Prφ ii Pr ψφl u iff Prφ 0 Prψφ l u iii Pr F iff Pr F iv Pr F G iff Pr F Pr G Observe Pr ψ φ iff Pr ψφ1 1 We Pr satisﬁes logical constraint probabilistic formula F Pr model F iff Pr F We Pr satisﬁes set logical constraints probabilistic formulas F Pr model F denoted Pr F iff Pr model F F We F satisﬁable iff model F exists A logical constraint probabilistic formula F logical consequence F denoted F F iff model F model F A probabilistic knowledge base KB L P satisﬁable iff L P satisﬁable The notion logical entailment probabilistic knowledge bases KB L P deﬁned follows A logical conditional constraint F logical consequence KB denoted KB F iff L P F A conditional constraint ψφl u tight logical consequence KB denoted KB tight ψφl u iff l resp u inﬁmum resp supremum Prψφ subject models Pr L P Prφ 0 Note deﬁne l u interval denoted 1 0 L P φ The following example illustrates notions satisﬁability logical conse quence tight logical consequence Note deciding satisﬁability logical sequence reduced deciding solvability linear constraints computing interval tight logical consequence reducible solving linear optimization problems cf especially 193951 Example 22 Eagles contd Consider probabilistic knowledge base KB L P Example 21 Then easy verify probabilistic interpretations Pr1 Pr2 Pr3 shown Table 1 models KB Hence KB satisﬁable Furthermore logical consequences KB given follows KB feathers bird1 1 KB ﬂy bird095 1 KB feathers eagle1 1 KB ﬂy eagle0 1 Informally birds feathers birds ﬂy probability 095 eagles feathers eagles ﬂy probability 0 1 In fact tightest intervals logically entailed KB Pr1feathers bird 1 Pr1ﬂy bird 1 Pr1feathers eagle 1 Pr1ﬂy eagle 1 Pr2ﬂy bird 095 Pr3ﬂy eagle 0 Finally observe strict logical property having feathers inherited birds subclass eagles probabilistic property able ﬂy probability 095 inherited birds eagles 126 T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 Table 1 Some probabilistic interpretations Pr1 Pr2 Pr3 eagle true true true true true true true true false false false false false false false false bird true true true true false false false false true true true true false false false false feathers true true false false true true false false true true false false true true false false ﬂy true false true false true false true false true false true false true false true false Pr1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 Pr2 095 005 0 0 0 0 0 0 0 0 0 0 0 0 0 0 Pr3 0 005 0 0 0 0 0 0 095 0 0 0 0 0 0 0 I1 I2 I3 I4 I5 I6 I7 I8 I9 I10 I11 I12 I13 I14 I15 I16 Intuitively notion logical entailment ψφl u probabilistic knowledge base KB L P based idea performing conditioning probability distribution Pr satisﬁes L P premise φ This result mally expressed following theorem Theorem 23 Let KB L P probabilistic knowledge base ψφl u conditional constraint Then KB ψφl u iff Prφψ l u models Pr L P Prφ0 b KB tight ψφl u iff l inf Prφψ resp u sup Prφψ subject models Pr L P Prφ 0 The following result shows probabilistic logic logical constraint ψ φ meaning conditional constraint ψφ1 1 Theorem 24 Let KB L P probabilistic knowledge base ψφ1 1 conditional constraint Then KB ψφ1 1 iff KB ψ φ b L P ψφ1 1 set models L ψ φ P The result says modeltheoretic logical entailment probabilistic logic gen eralizes modeltheoretic logical entailment ordinary propositional logic Theorem 25 Let KB L P probabilistic knowledge base P let ψ φ logical constraint Then KB ψ φ iff L ψ φ T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 127 3 Default reasoning conditional knowledge bases In section recall following formalisms default reasoning condi tional knowledge bases Kraus et als entailment System P 40 equivalent formalisms cf Section 1 Pearls entailment System Z 3458 equivalent Lehmanns rational closure 4547 speciﬁc possibility en tailment Benferhat et al 5 conditional modal logicbased entailment Lamarre 44 Lehmanns lexicographic entailment 46 special case Benferhat et als lexicographic entailment 4 These formalisms default reasoning conditional knowledge bases common deﬁned terms world rankings certain mappings set worlds 0 1 entailment System P expressed set world rankings entailment System Z lexicographic entailment associated unique world ranking Both Pearls entailment System Z Lehmanns lexicographic entailment sophisticated entailment System P nicer semantic behavior lat ter The following example illustrates aspect Here use pentailment zentailment lexentailment denote entailment System P entailment System Z lexico graphic entailment respectively Example 31 Penguins contd Consider collection strict default logical sentences KB given Example 12 Some default conclusions KB z lex entailment compared pentailment shown Table 2 Differently pentailment z lexentailment ignore irrelevant information Furthermore lexentailment shows correct property inheritance birds penguins pentailment property inheritance zentailment inherit property hav ing wings class birds exceptional subclass penguins shows problem inheritance blocking Finally default ﬂy penguin entailed KB notions default entailment 31 Preliminaries We formally deﬁne conditional knowledge bases world default rank ings admissibility conditional knowledge bases Informally conditional knowledge base consists set strict statements classical logic set defeasible rules defaults form ψ φ informally read generally φ ψ Such rules exceptions handled Table 2 Some defaults entailed KB different semantics ﬂy red bird wings penguin pentailment zentailment lexentailment ﬂy penguin 128 T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 different ways A conditional rule default expression form ψ φ φ ψ events A conditional knowledge base KB L D consists ﬁnite set logical constraints L ﬁnite set defaults D The following example illustrates conditional knowledge bases Example 32 Penguins contd The strict logical knowledge penguins birds default logical knowledge generally birds ﬂy generally penguins ﬂy generally birds wings encoded conditional knowledge base KBbird penguin ﬂy bird ﬂy penguin wings bird A world I satisﬁes default ψ φ I model ψ φ denoted I ψ φ iff I ψ φ We I veriﬁes ψ φ iff I φ ψ We I falsiﬁes ψ φ iff I φ ψ I cid9 ψ φ We I satisﬁes set events defaults K I model K denoted I K iff I satisﬁes member K We K satisﬁable iff model K exists An event φ resp default d logical consequence K denoted K φ resp K d iff model K model φ resp d An event φ resp default d logical consequence conditional knowledge base KB L D denoted KB φ resp KB d iff L D φ resp L D d A set defaults D tolerates default d set logical constraints L iff D L model veriﬁes d A set defaults D L conﬂict default ψ φ iff models D L φ satisfy ψ A world ranking κ mapping κ IΦ 0 1 κI 0 world I It extended events φ follows If φ satisﬁable κφ minκI I IΦ I φ κφ A world ranking κ admissible conditional knowledge base KB L D iff κφ φ L κφ κφ ψ κφ ψ defaults ψ φ D Example 33 Penguins contd Table 3 shows world rankings κ1 κ2 κ3 It easy verify κ1 κ2 admissible KB Example 32 Note κ1 κ2 unique world rankings associated KB System Z lexico graphic entailment respectively Sections 33 34 But κ3 admissible KB L contains logical constraint bird penguin κ3penguin bird minκ3I5 κ3I6 κ3I7 κ3I8 4 cid9 Moreover D contains default wings bird κ3bird wings 0 κ3bird wings A default ranking σ conditional knowledge base KB L D maps d D nonnegative integer It admissible KB iff Dcid13 D L conﬂict d D contains default d cid13 σ d cid13 σ d Example 34 Penguins contd A default ranking σ KB Example 32 given σ ﬂy bird σ wings bird 0 σ ﬂy penguin 1 It difﬁcult verify σ admissible KB Note σ fact default ranking associated KB System Z Section 33 T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 129 Table 3 Some world rankings κ1 κ2 κ3 I1 I2 I3 I4 I5 I6 I7 I8 I9 I10 I11 I12 I13 I14 I15 I16 penguin true true true true true true true true false false false false false false false false bird true true true true false false false false true true true true false false false false wings true true false false true true false false true true false false true true false false ﬂy true false true false true false true false true false true false true false true false κ1 2 1 2 1 0 1 1 1 0 0 0 0 κ2 3 1 4 2 0 1 1 2 0 0 0 0 κ3 2 1 0 2 4 0 1 1 2 0 0 0 0 32 Consistency entailment System P We notions consistency entailment Kraus et als System P 40 pconsistency pentailment respectively We deﬁne terms world rankings especially 2425 equivalence entailment System P entailment world rankings recall important equivalent characterizations A conditional knowledge base KB pconsistent iff exists world ranking κ KB admissible KB It pinconsistent iff κ exists A pconsistent conditional knowledge base KB pentails default ψ φ iff κφ κφ ψ κφ ψ world rankings κ admissible KB The following result Geffner 24 shows notion pconsistency equiv alent existence admissible default rankings Theorem 35 Geffner 24 A conditional knowledge base KB pconsistent iff exists default ranking KB admissible KB The characterization pconsistency Goldszmidt Pearl 32 Theorem 36 Goldszmidt Pearl 32 A conditional knowledge base KB L D pconsistent iff ordered partition D0 Dk D exists b holds Every Di 0 cid2 cid2 k set d b For 0 cid2 cid2 k d Di tolerated L cid1 k j Dj cid1 k j Dj tolerated L cid1 k j Dj 130 T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 The following characterization notion pentailment describes reduction pentailment pconsistency This result essentially Adams 1 formulated L notions εconsistency εentailment equivalent pconsistency pentailment respectively Theorem 37 Adams 1 A pconsistent conditional knowledge base KB L D p entails default ψ φ iff L D ψ φ pinconsistent 33 Entailment System Z We recall Pearls entailment System Z 3458 denoted zentailment In sequel let KB L D pconsistent conditional knowledge base Entailment System Z linked ordered partition D default ranking z KB world ranking κ z The zpartition KB unique ordered partition D0 Dk cid1 cid1 k k D Di set d j Dj We j Dj tolerated L deﬁne z κ z For j 0 k d Dj assigned value j z The world ranking κ z worlds I deﬁned I cid9 L I L D 0 1 maxdD I cid9d zd κ zI A preference relation worlds I I cid13 deﬁned follows We I z preferable I cid13 iff κ zI κ zI cid13 A model I set events F I world satisﬁes F zminimal model F iff model F zpreferable I Note default ranking z world ranking κ z unique given p consistent conditional knowledge base KB generally zminimal models set events F We use preference relation worlds deﬁne notion zentailment follows A default ψ φ zconsequence KB L D denoted KB zψ φ iff ψ true zminimal models L φ 34 Lexicographic entailment We ﬁnally recall Lehmanns lexicographic entailment 46 denoted lexentailment In sequel let KB L D pconsistent conditional knowledge base We use zpartition D0 Dk KB deﬁne lexicographic preference relation worlds follows A world I lexicographically preferable lexpreferable world I cid13 iff 0 k exists d Di I d d Di I cid13 d d Dj I d d Dj I cid13 d j cid2 k A model I set events F lexicographically minimal lexminimal model F iff model F lexpreferable I The lexicographic preference relation expressed terms unique world ranking follows deﬁne notion lexentailment A default ψ φ lexicographic consequence lexconsequence KB denoted KB lexψ φ iff ψ true lexminimal models L φ T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 131 4 Weak nonmonotonic probabilistic logics In section present new probabilistic formalisms called weak nonmonotonic probabilistic logics allow dealing strict logical knowledge default logi cal knowledge purely probabilistic knowledge uniform framework To end deﬁne new semantics probabilistic knowledge bases probabilistic logic combined Kraus et als entailment System P Pearls entailment System Z Lehmanns lexicographic entailment The new semantics probabilistic knowledge bases KB L P essentially ob tained deﬁning probability conditional constraint rankings generalize world default rankings respectively conditional knowledge bases Under new seman tics conditional constraints form ψφ1 1 ψφ0 0 P behave defaults ψ φ ψ φ respectively Example 41 Ostriches contd The probabilistic knowledge base KB L P Table 4 encodes strict logical knowledge ostriches birds default logical knowledge generally birds legs generally birds ﬂy purely probabilistic knowl edge ostriches ﬂy probability 005 It important point generally simply interpret KB probabilistic logic ψφ1 1 ψφ0 0 P meaning strict sentences ψ φ ψ φ L defaults ψ φ ψ φ respectively The following example illustrates aspect Example 42 Ostriches contd The probabilistic knowledge base KB L P Ta ble 4 probabilistic interpretation Pr1 Table 6 model This shows KB satisﬁable Some logical consequences KB given follows KB legs bird1 1 KB ﬂy bird1 1 Table 4 Probabilistic knowledge base KB KB L P L bird ostrich P legs bird1 1 ﬂy bird1 1 ﬂy ostrich0 005 Type knowledge strict logical knowledge default logical knowledge purely probabilistic knowledge Table 5 Tight conclusions KB logical sentailment s lex z p ψφ legs bird ﬂy bird legs ostrich ﬂy ostrich ﬂy red bird tight 1 1 1 1 1 0 1 0 1 1 cid16 lex tight 1 1 1 1 1 1 0 005 1 1 cid16 z tight 1 1 1 1 0 1 0 005 1 1 cid16 p tight 1 1 1 1 0 1 0 005 0 1 132 T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 Since Pr1legs bird Pr1ﬂy bird 1 conditional constraints fact tight logical consequences KB They desired conclusions KB cf Exam ple 13 Some tight logical consequences KB follows KB tight legs ostrich1 0 KB tight ﬂy ostrich1 0 Here interval 1 0 fact probabilistic logic abil ity ﬂy birds interpreted strict logical knowledge inherited birds subclass ostriches There incompatible purely probabilistic knowl edge ostriches able ﬂy probability 005 Thus knowledge ostriches locally inconsistent sense exists model Pr L P Prostrich 0 This obtain legs ostrich1 0 ﬂy ostrich1 0 desired tight conclusions legs ostrich1 1 ﬂy ostrich0 005 cf Example 13 respectively Finally tight logical consequence KB given KB tight ﬂy red bird1 1 desired tight conclusion KB cf Example 13 Observe conclusion probabilistic interpretations Pr ﬁned set truth assignments I basic events ostrich bird legs ﬂy red 41 Preliminaries We deﬁne probabilistic generalizations concepts default reasoning Section 31 In particular deﬁne probability conditional constraint rankings admissibility probabilistic knowledge bases A probabilistic interpretation Pr veriﬁes conditional constraint ψφl u iff Prφ 0 Pr ψφl u We Pr falsiﬁes ψφl u iff Prφ 0 Pr cid9 ψφl u A set conditional constraints P tolerates conditional constraint C set logical constraints L iff L P model veriﬁes C We P L conﬂict C iff model L P veriﬁes C In sequel use α 0 abbreviate probabilistic formula αcid30 0 Infor mally probabilistic interpretation Pr satisﬁes α 0 iff Prα 0 A probability ranking κ function associates probabilistic interpretation Pr IΦ value 0 1 κPr 0 Pr It extended log ical constraints probabilistic formulas F follows If F satisﬁable κF minκPr Pr F κF A probability ranking κ admissible probabilistic knowledge base KB L P iff κψφ1 1 ψ φ L κφ 0 κφ 0 ψφl u κφ 0 ψφl u ψφl u P Informally says ψφl u P holds Prφ 0 κPr probabilistic interpretation Pr ii minimal κPr Pr verifying ψφl u minimal κPr Pr falsifying ψφl u Example 43 Ostriches contd Table 6 shows probabilistic interpretations Pr1 Pr8 Table 7 gives values probability rankings κ1 κ2 κ3 Ob serve κ3 admissible KB L P Table 4 bird ostrich L κ3bird ostrich1 1 cid2 κ3Pr8 1 Moreover ﬂy ostrich0 005 T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 133 Table 6 Some probabilistic interpretations Pr1 Pr8 ostrich true true true true true true true true false false false false false false false false bird true true true true false false false false true true true true false false false false legs true true false false true true false false true true false false true true false false ﬂy true false true false true false true false true false true false true false true false Pr1 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 Pr2 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 Pr3 0 0 005 095 0 0 0 0 0 0 0 0 0 0 0 0 Pr4 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 Pr5 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 Pr6 05 05 0 0 0 0 0 0 0 0 0 0 0 0 0 0 I1 I2 I3 I4 I5 I6 I7 I8 I9 I10 I11 I12 I13 I14 I15 I16 Table 7 Values Pr1 Pr8 probability rankings κ1 κ2 κ3 legs bird1 1 ﬂy bird1 1 ﬂy ostrich0 005 Pr1 Pr2 Pr3 Pr4 Pr5 Pr6 Pr7 Pr8 true true false true false true false true true false false true true false false false true true true false false false false true κ1 0 1 1 2 2 2 2 Pr7 0 0 05 05 0 0 0 0 0 0 0 0 0 0 0 0 κ2 0 1 2 3 4 4 5 Pr8 0 05 0 0 0 05 0 0 0 0 0 0 0 0 0 0 κ3 0 1 1 0 2 2 2 1 P κ3ostrich 0 ﬂy ostrich0 005 cid2 κ3Pr4 0 cid2 κ3ostrich 0 ﬂy ostrich0 005 Note Pr1 Pr8 rankings κ1 κ2 coincide unique rankings associated KB probabilistic z lexentailment cf Sections 43 44 respectively A conditional constraint ranking probabilistic knowledge base KB L P mapping σ associates conditional constraint C P nonnegative integer If P cid9 σ admissible KB iff P cid13 P L conﬂict C P contains Ccid13 σ Ccid13 σ C P σ admissible KB iff L satisﬁable Notice conditional constraint rankings σ deﬁned set conditional constraints P values 0 1 probability rankings κ deﬁned set probabilistic interpretations Pr IΦ values 0 1 134 T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 Example 44 Ostriches contd A conditional constraint ranking σ probabilistic knowledge base KB Table 4 given σ legs bird1 1 σ ﬂy bird1 1 0 σ ﬂy ostrich0 005 1 It difﬁcult σ admissible KB In fact σ unique conditional constraint ranking associated KB probabilistic zentailment cf Sections 43 42 Probabilistic consistency entailment System P We deﬁne semantics probabilistic knowledge bases probabilistic logic combined System P 40 More precisely generalize notions consistency entailment System P based world rankings probabilistic knowl edge bases We generalizations probabilistic pconsistency probabilistic pentailment simply pconsistency pentailment respectively Interestingly probabilistic notions consistency entailment coincide probabilistic notions gcoherence gcoherent entailment imprecise probability assessments cf Sec tion 82 In following ﬁrst deﬁne probabilistic generalizations consistency entailment System P equivalent characterizations In sequel let KB L P probabilistic knowledge base We KB p consistent iff exists probability ranking κ admissible KB We deﬁne notion pentailment pconsistent KB terms admissible probability rankings follows A conditional constraint ψφl u pconsequence KB denoted KB cid16 p ψφl u iff κφ 0 κφ 0 ψφl u κφ 0 ψφl u probability ranking κ admissible KB We ψφl u tight p consequence KB denoted KB cid16 p tight ψφl u iff l sup lcid13 resp u inf ucid13 subject KB cid16 pψφlcid13 ucid13 The following result probabilistic generalization Theorem 35 It says notion pconsistency probabilistic knowledge base KB equivalent existence admissible conditional constraint ranking It proved showing probability ranking κ admissible KB deﬁne conditional constraint ranking σ admissible KB vice versa Theorem 45 A probabilistic knowledge base KB L P pconsistent iff exists conditional constraint ranking KB admissible KB Based result obtain probabilistic generalization Theorem 36 says pconsistency probabilistic knowledge base KB L P equivalent existence ordered partition P certain properties Theorem 46 A probabilistic knowledge base KB L P pconsistent iff exists ordered partition P0 Pk P b holds Every Pi 0 cid2 cid2 k set F b For 0 cid2 cid2 k F Pi tolerated L k j Pj tolerated L cid1 k j Pj cid1 cid1 k j Pj T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 135 Example 47 Ostriches contd The probabilistic knowledge base KB L P Table 4 pconsistent condition condition b Theorem 46 hold following ordered partition P0 P1 P P0 P1 cid5 legs bird1 1 ﬂy bird1 1 ﬂy ostrich0 005 cid6 More precisely P0 P1 satisﬁes b observe Pr1 Table 6 satisﬁes L P veriﬁes legs bird1 1 ﬂy bird1 1 Pr2 satisﬁes L P1 veriﬁes ﬂy ostrich0 005 To holds observe Pr satisﬁes L P veriﬁes ﬂy ostrich0 005 cf Example 42 The following theorems probabilistic generalization Theorem 37 They notion pentailment probabilistic knowledge bases expressed terms notion pconsistency The ﬁrst theorem notion pconsequence second tight pconsequence Theorem 48 Let KB L P pconsistent probabilistic knowledge base let βαl u conditional constraint Then KB cid16 pβαl u iff L P βαp p pconsistent p 0 l u 1 Theorem 49 Let KB L P pconsistent probabilistic knowledge base let βαl u conditional constraint Then KB cid16 p tightβαl u iff L P βαp p pconsistent p 0 l u 1 ii L P βαp p pconsistent p l u The theorems pconsistency pentailment coincide probabilistic notions gcoherence gcoherent entailment respectively imprecise probability assessments cf Section 82 They follow Theorems 45 48 similar characterizations gcoherence gcoherent entailment conditional constraint rankings presented 1011 Theorem 410 Let KB L P probabilistic knowledge base Then KB p consistent iff KB gcoherent Theorem 411 Let KB L P pconsistent let βαl u conditional straint Then KB cid16 pβαl u iff KB cid16 gβαl u The following example illustrates probabilistic notion pentailment In particular shows pentailment realize inheritance default logical knowledge subclass relationships See Section 6 algorithms deciding pconsistency computing tight pconsequences Example 412 Ostriches contd Consider KB given Table 4 Some tight p consequences KB shown Table 5 More precisely legs bird1 1 ﬂy 136 T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 bird1 1 ﬂy ostrich0 005 tight pconsequences KB desired Fur thermore legs ostrich0 1 ﬂy red bird0 1 tight pconsequences KB But differ desired ones legs ostrich1 1 legs red bird1 1 respectively Here observe pentailment inherit default logical knowledge subclass relationships 43 Probabilistic entailment System Z We extend Pearls System Z 3458 pconsistent probabilistic knowledge bases KB L P The new notion entailment System Z called probabilistic zentailment simply zentailment associated ordered partition P conditional straint ranking z KB probability ranking κ z The zpartition KB unique ordered partition P0 Pk P Pi 0cid2icid2k set C cid1 k j Pj tolerated L cid1 k j Pj Example 413 Ostriches contd The zpartition KB Table 4 given ordered partition P0 P1 described Example 47 The conditional constraint ranking z probability ranking κ z deﬁned fol lows For j 0 k C Pj assigned value j z The probability ranking κ z probabilistic interpretations Pr deﬁned κ zPr 0 1 maxCP Prcid9C zC Pr cid9 L Pr L P The following lemma shows z conditional constraint ranking KB admis sible KB κ z probability ranking admissible KB Lemma 414 Let KB L P pconsistent probabilistic knowledge base Then z b κ z admissible KB We deﬁne preference relation probabilistic interpretations follows For proba bilistic interpretations Pr Prcid13 Pr zpreferable Prcid13 iff κ zPr κ zPrcid13 A model Pr set logical constraints probabilistic formulas F zminimal model F iff model F zpreferable Pr We ready deﬁne notion zentailment A conditional constraint ψφl u zconsequence KB denoted KB cid16 zψφl u iff zminimal model L φ 0 satisﬁes ψφl u We ψφl u tight zconsequence KB denoted KB cid16 z tightψφl u iff l resp u inﬁmum resp supremum Prψφ subject zminimal models Pr L φ 0 The following example illustrates probabilistic notion zentailment In particular shows zentailment differs pentailment sense zentailment realizes inheritance default logical properties classes nonexceptional subclasses But zentailment inherit default logical properties classes subclasses exceptional relative property like classical counterpart T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 137 problem inheritance blocking Algorithms computing tight intervals z entailment given Section 6 Example 415 Ostriches contd Some tight conclusions zentailment probabilistic knowledge base KB Table 4 shown Table 5 More precisely obtain desired tight conclusions legs bird1 1 ﬂy bird1 1 ﬂy ostrich0 005 ﬂy red bird1 1 However obtain tight conclusion legs ostrich0 1 instead desired legs ostrich1 1 Here interval 0 1 fact default logical property having legs inherited birds exceptional subclass ostriches The following theorem characterizes notion zconsequence terms prob ability ranking κ z relates zentailment pentailment Theorem 416 Let KB L P pconsistent probabilistic knowledge base let C ψφl u conditional constraint Then KB cid16 zC iff κ zφ 0 κ zφ 0 C κ zφ 0 C 44 Probabilistic lexicographic entailment We ﬁnally deﬁne generalization Lehmanns lexicographic entailment 46 p consistent probabilistic knowledge bases KB L P probabilistic lexi cographic entailment simply lexentailment Note use probability rankings new notion lexentailment easily expressed unique single probability ranking We use zpartition P0 Pk KB deﬁne lexicographic preference relation probabilistic interpretations follows For probabilistic interpretations Pr Prcid13 Pr lexicographically preferable lexpreferable Prcid13 iff 0 k exists C Pi Pr C C Pi Prcid13 C C Pj Pr C C Pj Prcid13 C j cid2 k A model Pr set logical constraints probabilistic formulas F lexicographically minimal lexminimal model F iff model F lexpreferable Pr We ready deﬁne notion lexentailment follows A conditional constraint ψφl u lexconsequence KB denoted KB cid16 lexψφl u iff lexminimal model L φ 0 satisﬁes ψφl u We ψφl u tight tight ψφl u iff l inf Prψφ resp u lexconsequence KB denoted KB cid16 lex sup Prψφ subject lexminimal models Pr L φ 0 In following example lexentailment realizes correct inheritance default log ical properties showing problem inheritance blocking See Section 6 algorithms computing tight intervals lexentailment Example 417 Ostriches contd Consider probabilistic knowledge base KB given Table 4 Some tight lexconsequences shown Table 5 Observe obtain desired tight conclusions legs bird1 1 ﬂy bird1 1 legs ostrich1 1 ﬂy ostrich0 005 ﬂy red bird1 1 138 T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 5 Semantic properties In section explore semantic properties new notions p z lexentailment comparison logical entailment probabilistic logic We ﬁrst nonmonotonicity nonmonotonic properties We explore rela tionships formalisms classical counterparts 51 Nonmonotonicity In sequel denote cid16 generic notion entailment probabilistic knowledge bases KB L P relates KB entailed conditional constraints ψφl u The notion logical entailment following property inheritance logical knowledge LINH subclass relationships recall KB F iff model Pr L P model F Section 22 LINH If KB cid16 ψφc c φ φcid9 valid KB cid16 ψφcid9c c events ψ φ φcid9 probabilistic knowledge bases KB c 0 1 The notions p z lexentailment cid16 p cid16 z cid16 lex nonmonotonic sense satisfy LINH Here pentailment completely fails LINH z lexentailment realize weaker form LINH Notice logical p z lexentailment property inheritance purely probabilistic knowledge PINH subclass relationships PINH If KB cid16 ψφl u φ φcid9 valid KB cid16 ψφcid9l u events ψ φ φcid9 probabilistic knowledge bases KB l u 0 1 different 0 0 1 1 1 0 See 52 entailment semantics satisfy P INH restricted forms PINH For example entailment semantics draw conclusion ﬂy eagle095 1 probabilistic knowledge base KB bird eagle ﬂy bird095 1 52 Nonmonotonic properties We explore nonmonotonic behavior especially related property L INH probabilistic formalisms paper We consider KLM postulates 40 property Rational Monotonicity RM 40 properties Irrelevance Irr Conditioning Con adapted 7 61 respectively An overview results nonmonotonic properties given Table 8 The rationality postulates System P Right Weakening RW Reﬂexivity Ref Left Logical Equivalence LLE Cut Cautious Monotonicity CM Or pro posed Kraus Lehmann Magidor 40 called KLM postulates commonly regarded particularly desirable reasonable notion nonmonotonic entail ment The following result shows notions logical p z lexentailment satisfy probabilistic versions postulates T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 139 Table 8 Nonmonotonic properties probabilistic formalisms Property KLM postulates Rational Monotonicity Irrelevance Conditioning Yes Yes Yes Yes cid16 lex Yes Yes Yes Yes cid16 z Yes Yes Yes Yes cid16 p Yes No No Yes Theorem 51 Every notion entailment cid16 cid16 p cid16 z cid16 lex satisﬁes following properties probabilistic knowledge bases KB L P events ε εcid13 φ ψ real numbers l lcid13 u ucid13 0 1 RW If φcid3l u ψcid3lcid13 ucid13 logically valid KB cid16 φεl u KB cid16 ψεlcid13 ucid13 Ref KB cid16 εε1 1 LLE If ε εcid13 logically valid KB cid16 φεl u iff KB cid16 φεcid13l u Cut If KB cid16 εεcid131 1 KB cid16 φε εcid13l u KB cid16 φεcid13l u CM If KB cid16 εεcid131 1 KB cid16 φεcid13l u KB cid16 φε εcid13l u Or If KB cid16 φε1 1 KB cid16 φεcid131 1 KB cid16 φε εcid131 1 Another desirable property Rational Monotonicity RM 40 describes stricted form monotony allows ignore certain kinds irrelevant knowledge The theorem shows logical z lexentailment satisfy RM Note KB cid9cid16 C denotes KB cid16 C hold Theorem 52 cid16 z cid16 lex satisfy following property probabilistic knowledge bases KB L P events ε εcid13 ψ RM If KB cid16 ψε1 1 KB cid9cid16 εcid13ε1 1 KB cid16 ψε εcid131 1 The notion pentailment generally satisfy property RM following example shows Example 53 Consider following probabilistic knowledge base KB L P L P cid5 bird eagle ﬂy bird1 1 cid6 Here ﬂy bird1 1 logical resp p z lex consequence KB eagle bird1 1 logical resp p z lex consequence KB Observe ﬂy bird eagle1 1 logical resp z lex consequence KB ﬂy bird eagle1 1 pconsequence KB Note ﬂy bird eagle1 1 tight logical resp z lex consequence KB ﬂy bird eagle0 1 tight pconsequence KB We consider property Irrelevance Irr adapted 7 Informally Irr says εcid13 irrelevant conclusion P cid16 ψε1 1 deﬁned disjoint 140 T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 sets basic events The following result shows logical z lexentailment satisfy property Irr Theorem 54 cid16 z cid16 lex satisfy following property probabilistic knowledge bases KB L P events ε εcid13 ψ Irr If KB cid16 ψε1 1 basic event KB ψε1 1 occurs εcid13 KB cid16 ψεεcid131 1 The notion pentailment satisfy Irr This clear tight pconsequence ﬂy red bird0 1 KB Table 4 cf Example 412 It shown following complex example Example 55 Consider following probabilistic knowledge base KB L P L P cid5 ﬂy bird1 1 cid6 Here ﬂy bird1 1 logical resp p z lex consequence KB Observe ﬂy red bird1 1 logical resp z lex consequence KB ﬂy red bird1 1 pconsequence KB Note ﬂy red bird1 1 tight logical resp z lex consequence KB ﬂy red bird0 1 tight pconsequence KB Finally properties Conditioning Con adapted 61 Inclusion Inc ex press KB entail conditional constraints The following result shows logical p z lexentailment satisfy Con Inc Obviously Con implies Inc conversely Inc LLE imply Con Theorem 56 cid16 p cid16 z cid16 lex satisfy following properties probabilis tic knowledge bases KB L P events ε φ ψ l u 0 1 Con If ψφl u P ε φ logically valid KB cid16 ψεl u Inc If ψφl u P KB cid16 ψφl u 53 Relationships probabilistic formalisms In section investigate relationships different probabilistic formalisms The following theorem shows logical entailment stronger lex entailment stronger zentailment turn stronger pentailment That logical implications illustrated upper horizontal line arrows Fig 1 hold probabilistic formalisms Note similar logical im plications hold classical counterparts illustrated lower horizontal line arrows Fig 1 Theorem 57 Let KB L P pconsistent probabilistic knowledge base let C ψφl u conditional constraint Then T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 141 Fig 1 Relationships probabilistic classical formalisms KB cid16 pC implies KB cid16 zC b KB cid16 zC implies KB cid16 lexC c KB cid16 lexC implies KB C In general converse implications holds Table 5 immediately shows However L P model conditioning event φ positive probability logical z lexentailment ψφl u KB coincide Roughly special case consistent transform defaults β α P relevant clusion ψφl u KB strict logical constraints β α L This important result expressed following theorem Theorem 58 Let KB L P pconsistent probabilistic knowledge base let C ψφl u conditional constraint L P model Pr Prφ 0 Then KB C iff KB cid16 lexC iff KB cid16 zC The following example shows pentailment generally coincide logical entailment L P model Pr Prφ 0 Example 59 Consider KB L P bird eagle ﬂy bird1 1 Here L P model Pr Preagle 0 ﬂy eagle1 1 logical resp z lex consequence KB ﬂy eagle1 1 pconsequence KB Note ﬂy eagle1 1 tight logical resp z lex consequence KB ﬂy eagle01 tight pconsequence KB 54 Relationships classical formalisms Finally explore relationships p z lexentailment classical counterparts The following result shows p z lexentailment pconsistent probabilistic knowledge bases generalize classical counterparts p consistent conditional knowledge bases Here operator γ conditional constraints sets conditional constraints conditional knowledge bases replaces conditional constraint ψφ1 1 default ψ φ By Theorems 24 25 logical entailment probabilistic logic similarly generalizes classical counterpart All illustrated vertical arrows Fig 1 Theorem 510 Let KB L ψiφi1 1 1 n pconsistent probabilis tic knowledge base let βα1 1 conditional constraint Then 142 T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 KB cid16 pβα1 1 iff γ KB pβ α b KB cid16 zβα1 1 iff γ KB zβ α c KB cid16 lexβα1 1 iff γ KB lexβ α 6 Algorithms In section provide algorithms main reasoning problems weak non monotonic probabilistic logics 61 Overview The main decision optimization problems probabilistic reasoning weak non monotonic probabilistic logics summarized follows pCONSISTENCY Given probabilistic knowledge base KB decide KB p consistent SCONSEQUENCE Given pconsistent probabilistic knowledge base KB condi tional constraint βαl u decide KB cid16 sβαl u holds ﬁxed semantics s p z lex TIGHT SCONSEQUENCE Given pconsistent probabilistic knowledge base KB conditional event βα compute l u 0 1 KB cid16 sβαl u ﬁxed semantics s p z lex The basic idea algorithms solving decision optimization problems perform reduction following standard decision optimization problems modeltheoretic probabilistic logic POSITIVE PROBABILITY Given probabilistic knowledge base KB L P event α decide L P model Pr Prα 0 LOGICAL CONSEQUENCE Given probabilistic knowledge base KB conditional constraint βαl u decide KB βαl u holds TIGHT LOGICAL CONSEQUENCE Given probabilistic knowledge base KB ditional event βα compute l u 0 1 KB tight βαl u The problems POSITIVE PROBABILITY LOGICAL CONSEQUENCE reduced problem deciding linear constraints solvable TIGHT LOGICAL CONSEQUENCE reducible computing optimal solutions linear optimization problems cf especially 193951 Since notions pconsistency pentailment coincide notions gcoherence gcoherent entailment cf Section 82 existing algorithms decid ing gcoherence computing tight intervals gcoherent entailment solving pCONSISTENCY TIGHT pCONSEQUENCE respectively Such algo rithms shown Figs 2 4 respectively Here Fig 2 computes zpartition KB KB pconsistent similar algorithm deciding T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 143 Algorithm pconsistency essentially Biazzo et al 9 Input probabilistic knowledge base KB L P Output zpartition KB KB pconsistent nil P L satisﬁable return return nil 1 2 R P 1 3 repeat 4 1 5 Di ψφl u R L R φ 0 satisﬁable 6 R R Di 7 8 R Di 9 R return D0 Di return nil Fig 2 Algorithm pconsistency Algorithm tightpconsequence essentially Biazzo et al 9 Input pconsistent probabilistic knowledge base KBL P conditional event βα Output interval l u 0 1 KB cid16 p 1 R P repeat 2 cid11 ψφl u R L R α φ 0 satisﬁable 3 R R cid11 4 5 cid11 6 7 compute l u 0 1 L R tight βαl u return l u tightβαl u Fig 3 Algorithm tightpconsequence εconsistency default reasoning Goldszmidt Pearl 32 The algorithm Fig 4 based result notion pentailment KB coincides logical en tailment unique subbase KB The decision problem pCONSEQUENCE solved similar way In subsection provide algorithms solving optimization prob lems TIGHT z TIGHT lexCONSEQUENCE The decision problems z lex CONSEQUENCE solved similar way 62 Tight z lexconsequence We algorithms solving TIGHT z TIGHT lexCONSEQUENCE In sequel let KB L P pconsistent probabilistic knowledge base let P0 Pk zpartition We ﬁrst preparatory deﬁnitions For G H P G zpreferable H iff 0 k exists Pi G Pi cid9 H Pj G Pj H j cid2 k We G lexpreferable H iff 0 k exists G Pi H Pi G Pj H Pj j cid2 k For D 2P s z lex G sminimal D iff G D H D spreferable G 144 T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 Algorithm tightzconsequence Input pconsistent probabilistic knowledge base KBL P conditional event βα Output interval l u 0 1 KB cid16 zβαl u Notation P0 Pk denotes zpartition KB 1 R L 2 3 4 j cid1 0 R Pj α 0 satisﬁable begin 5 6 7 8 9 end compute l u 0 1 R tight βαl u return l u R α 0 unsatisﬁable return 1 0 j k R R Pj j j 1 Fig 4 Algorithm tightzconsequence The following theorem shows TIGHT sCONSEQUENCE s z lex reduced POSITIVE PROBABILITY TIGHT LOGICAL CONSEQUENCE The key idea αKB 2P KB cid16 sβαl u reduction exists set Ds iff L H βαl u H Ds αKB Theorem 61 Let KB L P pconsistent probabilistic knowledge base let βα conditional event Let s z lex Let Ds αKB set sminimal elements H P L H α 0 satisﬁable Then l resp u KB cid16 s tightβαl u given follows If L α 0 unsatisﬁable l 1 resp u 0 b Otherwise l min c resp u max d subject L H tight βαc d H Ds αKB For s z resp s lex Algorithm tightsconsequence Fig 4 resp 5 com putes tight intervals sentailment Step 2 checks L α 0 unsatisﬁable If case 1 0 returned Theorem 61a Otherwise compute Ds αKB zpartition KB steps 37 resp 315 requested tight interval Theorem 61b step 8 resp 1620 7 Computational complexity In section draw precise picture computational complexity deci sion optimization problems described Section 61 71 Complexity classes We assume basic knowledge complexity classes P NP coNP We brieﬂy complexity classes occur results especially 233856 background T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 145 tightβαl u j k downto 0 begin R α 0 unsatisﬁable return 1 0 n 0 Hcid13 G Dj H H Algorithm tightlexconsequence Input pconsistent probabilistic knowledge base KBL P conditional event βα Output interval l u 0 1 KB cid16 lex Notation P0 Pk denotes zpartition KB 1 R L 2 3 H 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 compute c d 0 1 R H tight βαc d l u minl c maxu d R G H α 0 satisﬁable n G Hcid13 Hcid13 G H end l u 1 0 H H begin Hcid13 G H n G n G begin end return l u H Hcid13 end Fig 5 Algorithm tightlexconsequence The class PNP contains decision problems solved deterministic poly nomial time oracle NP The class PNP contains decision problems PNP cid16 oracle calls ﬁrst prepared issued parallel The relationship complexity classes described following inclusion hierarchy note inclusions currently believed strict P NP coNP PNP cid16 PNP To classify problems compute output value Yes Noanswer function classes introduced In particular FP FPNP functional analogs P PNP respectively 72 Overview complexity results In complexity analysis consider decision optimization problems s CONSEQUENCE TIGHT sCONSEQUENCE s z lex We assume KB βαl u contain rational numbers The complexity results compactly summarized Tables 910 In problems zCONSEQUENCE lexCONSEQUENCE complete classes PNP cid16 146 T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 Table 9 Complexity z lexCONSEQUENCE Problem zCONSEQUENCE lexCONSEQUENCE Complexity PNP cid16 complete PNPcomplete Table 10 Complexity TIGHT z lexCONSEQUENCE Problem TIGHT zCONSEQUENCE TIGHT lexCONSEQUENCE Complexity FPNPcomplete FPNPcomplete PNP respectively problems TIGHT zCONSEQUENCE TIGHT lex CONSEQUENCE complete class FPNP The hardness results hold restricted literalHorn case KB βα literalHorn Here conditional event ψφ resp logical constraint ψ φ literalHorn iff ψ basic event resp ψ basic event negation basic event φ cid3 conjunction basic events A conditional constraint ψφl u literalHorn iff conditional event ψφ literalHorn A probabilistic knowledge base KB L P literalHorn iff member L P literalHorn Note problems pCONSISTENCY pCONSEQUENCE TIGHT pCON SEQUENCE complete NP coNP FPNP respectively general case restricted cases This immediate similar complexity results gcoherence gcoherent entailment 9 equivalence notions pconsistency pentailment respectively cf Section 82 Similarly problems POSITIVE PROBA BILITY LOGICAL CONSEQUENCE TIGHT LOGICAL CONSEQUENCE probabilistic logic complete NP coNP FPNP respectively general case restricted cases cf especially 51 73 Detailed complexity results The following theorems problems z lexCONSEQUENCE PNP fol cid16 PNPhardness deciding z lexentailment complete classes PNP cid16 lows Theorem 510 PNP respectively classical default reasoning 18 PNP respectively Here hardness PNP cid16 Theorem 71 Given pconsistent probabilistic knowledge base KB conditional constraint βαl u deciding KB cid16 zβαl u PNP cid16 complete Theorem 72 Given pconsistent probabilistic knowledge base KB conditional constraint βαl u deciding KB cid16 lexβαl u PNPcomplete Hardness holds KB βα literalHorn The theorems TIGHT sCONSEQUENCE s z lex FPNP complete Hardness holds polynomial reduction FPNPcomplete traveling salesman cost problem 56 T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 147 Theorem 73 Given pconsistent probabilistic knowledge base KB conditional event βα computing l u 0 1 KB cid16 z tightβαl u FPNPcomplete Hard ness holds KB βα literalHorn L Theorem 74 Given pconsistent probabilistic knowledge base KB conditional tightβαl u FPNPcomplete Hard event βα computing l u 0 1 KB cid16 lex ness holds KB βα literalHorn L 8 Related work In section comparison related works probabilistic default rea soning 52 probabilistic reasoning gcoherence 82729 81 Strong nonmonotonic probabilistic logics A companion paper 52 presents similar probabilistic generalizations Pearls en tailment System Z Lehmanns lexicographic entailment Geffners conditional entailment 2426 These formalisms different ones paper allow handling default purely probabilistic knowledge strict purely probabilistic knowledge addition strict logical knowledge default logical knowledge More precisely formalisms 52 extension variant probabilistic logic purely probabilistic conditional constraints interpreted default sentences defaults conditional knowledge bases formalisms extension probabilistic logic purely probabilistic conditional straints interpreted strict sentences defaults conditional knowledge bases For example formalisms 52 interpret purely probabilistic conditional constraint ﬂy bird095 1 generally birds special birds ﬂy probability 095 formalisms interpret ﬂy bird095 1 birds ﬂy probabil ity 095 Roughly means able ﬂy probability 095 apply class birds subclasses birds long create inconsistencies says able ﬂy prob ability 095 apply class birds That formalisms 52 interpret purely probabilistic conditional constraints stronger way formalisms For reason generally stronger formalisms This formalisms 52 considered strong nonmonotonic proba bilistic logics formalisms weak nonmonotonic probabilistic logics The especially useful logical entailment probabilistic logic weak example probabilistic logic programming 5051 probabilistic ontology reasoning Semantic Web 30 Other applications deriving degrees belief statisti cal knowledge degrees belief handling inconsistencies probabilistic knowledge bases probabilistic belief revision In particular reasoning statistical knowledge degrees belief proba bilistic generalization Lehmanns lexicographic entailment 52 strong lexentailment shows similar behavior referenceclass reasoning 41426062 148 T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 number uncontroversial examples Furthermore avoids drawbacks referenceclass reasoning 52 In particular handle complex scenarios purely probabilistic subjective knowledge input Moreover conclusions drawn global way available knowledge The following example illustrates use strong lexentailment reasoning statistical knowledge degrees belief Example 81 Suppose statistical knowledge penguins birds 90 95 birds ﬂy 5 penguins ﬂy 95 yellow objects easy Furthermore suppose belief Sam yellow penguin What conclude Sams property easy Under referenceclass reasoning machinery dealing statistical knowledge degrees belief conclude Sam easy probability 095 This exactly obtain notion strong lexentailment 52 The statistical knowledge represented probabilistic knowl edge base KB L P bird penguin ﬂy bird09 095 ﬂy penguin0 005 easy_to_see yellow095 1 conditional constraints ψφl u P informally read generally probability ψ given φ l u This KB strongly pconsistent 52 strong lexentailment KB obtain tight conclusion easy_to_see yellowpenguin095 1 desired Note KB satisﬁable pconsistent However semantics logical weak p z lexentailment KB obtain tight clusion easy_to_see yellow penguin0 1 desired 82 Probabilistic reasoning gcoherence Another related formalism probabilistic reasoning gcoherence It ap proach reasoning imprecise probability assessments extensively explored especially ﬁeld statistics based coherence principle Finetti suitable generalizations example work Biazzo Gilio 8 Gilio 2728 Gilio Scozzafava 29 similar principles adopted lower upper probabilities Pelessoni Vicig 59 Vicig 66 Walley 68 Interestingly notions pconsistency pentailment probabilistic knowl edge bases coincide notions gcoherence gcoherent entailment respec tively imprecise probability assessments cf Theorems 410 411 We recall main concepts probabilistic reasoning gcoherence We start deﬁning precise probability assessments coherence We deﬁne imprecise probabil ity assessments notions gcoherence gcoherent entailment probabilistic knowledge bases A probability assessment L A set conditional events E consists set logical constraints L mapping A assigns ε E real number 0 1 Informally L describes logical relationships A represents probabilistic knowledge T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 149 For ψ1φ1 ψnφn E n cid1 1 n real numbers s1 sn let mapping G IΦ R deﬁned follows For I IΦ GI ncid7 i1 si I φi cid6 cid5 I ψi Aψiφi In framework betting criterion G interpreted random gain corre sponding combination n bets amounts s1 Aψ1φ1 sn Aψnφn ψ1φ1 ψnφn stakes s1 sn In bet ψiφi pays si Aψiφi gets si 0 si Aψiφi ψi φi ψi φi φi respectively turns true The following notion coherence assures impossible gambler bookmaker sure uniform loss A probability assessment L A set conditional events E coherent iff ψ1φ1 ψnφn E n cid1 1 real numbers s1 sn following holds max I IΦ I Lφ1φn i1 ncid7 si I φi cid6 cid5 I ψi Aψiφi cid1 0 An imprecise probability assessment L A set conditional events E consists set logical constraints L mapping A assigns ε E interval l u 0 1 l cid2 u We L A gcoherent iff coherent precise probability sessment L Acid9 E exists Acid9ε Aε ε E The imprecise probability assessment l u conditional event γ denoted γ l u called gcoherent sequence L A iff Acid9γ l u coherent precise probability assessment Acid9 E γ Acid9ε Aε ε E It tight gcoherent consequence L A iff l resp u inﬁmum resp supremum Acid9γ subject coherent precise probability assessments Acid9 E γ Acid9ε Aε ε E Observe ε βα L α ε l u l u 0 1 gcoherent sequence L A ε 1 0 unique tight gcoherent consequence L A We recall concepts gcoherence gcoherent entailment probabilis tic knowledge bases 1011 Every imprecise probability assessment IP L A L ﬁnite A deﬁned ﬁnite set conditional events E represented following probabilistic knowledge base KBIP cid8 cid5 L ψφl u ψφ E Aψφ l u cid9cid6 Conversely probabilistic knowledge base KB L P expressed fol lowing imprecise probability assessment IPKB L AKB EKB AKB EKB cid8cid5 cid6 ψφ l u cid9 ψφ l u 0 1 ψφl u KB cid9 ψφl u KB cid8 A probabilistic knowledge base KB gcoherent iff IPKB gcoherent For gcoherent probabilistic knowledge bases KB conditional constraints ψφl u ψφl u gcoherent consequence KB denoted KB cid16 gψφl u iff ψφ l u gcoherent consequence IPKB We ψφl u tight gcoherent consequence KB denoted KB cid16 g tightψφl u iff ψφ l u tight gcoherent consequence IPKB 150 T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 9 Summary outlook We presented approaches weak nonmonotonic probabilistic logics combinations probabilistic logic default reasoning Kraus et als System P Pearls System Z Lehmanns lexicographic entailment The new formalisms allow handling uniform framework strict default logical knowledge purely probabilistic knowledge example strict logical knowledge ostriches birds default logical knowledge generally birds legs generally birds ﬂy purely probabilistic knowledge ostriches ﬂy probability 005 Interestingly probabilistic entailment System P coincides probabilistic entailment gcoherence imprecise probability assessments We ana lyzed semantic nonmonotonic properties new formalisms We shown proper generalizations classical counterparts simi lar properties In particular satisfy rationality postulates System P Conditioning property Moreover probabilistic entailment System Z proba bilistic lexicographic entailment satisfy property Rational Monotonicity Irrelevance property probabilistic entailment System P We analyzed relationships new formalisms Here probabilistic entailment System P weaker probabilistic entailment System Z turn weaker probabilistic lexicographic entailment Moreover weaker entailment probabilistic logic default sentences interpreted strict sentences Whenever create inconsistencies probabilistic entailment System Z probabilistic lexicographic entailment coincide entailment probabilistic logic probabilistic entailment System P Finally presented algorithms reasoning probabilistic entailment System Z probabilistic lex icographic entailment given precise picture computational complexity In spirit companion paper 52 paper shed light exciting novel formalisms probabilistic reasoning conditional constraints probabilistic logic Differently formalisms 52 ones conservative integration probabilistic logic conditional knowledge bases cf Section 81 That allow handling uniform framework logical conditional constraints probabilistic logic defaults conditional knowledge bases Hence especially useful reasoning degrees belief defaults example medical fault diagnosis An implementation reasoning weak strong nonmonotonic probabilistic logics available NMPROBLOG 53 Acknowledgements This work supported Marie Curie Individual Fellowship HPMFCT2001 001286 European Union programme Human Potential disclaimer The author solely responsible information communicated European Commission responsible views results expressed Heisenberg Professorship Ger man Research Foundation project Z29N04 Austrian Science Fund I T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 151 thankful reviewers paper KR2004 abstract constructive com ments helped improve work Appendix A Proofs Section 2 Proof Theorem 23 Recall KB ψφl u iff model Pr L P model ψφl u The equivalent Prψφ l u model Pr L P Prφ 0 turn equivalent Prφψ l u model Pr L P Prφ 0 This argument shows KB tight ψφl u iff l resp u inﬁmum resp supremum Prφψ subject models Pr L P Prφ 0 cid1 Proof Theorem 24 The statements theorem follow immediately observation probabilistic interpretations Pr satisfy logical constraint ψ φ iff satisfy conditional constraint ψφ1 1 cid1 Proof Theorem 24 Recall KB ψ φ iff model Pr L P L model ψ φ Consider model I IΦ L Let probabilistic interpretation Pr deﬁned PrI 1 PrJ 0 J IΦ Then Pr model L satisﬁes ψ φ That I model ψ φ Conversely consider model Pr L Hence I IΦ P rI 0 model L ψ φ That Pr model ψ φ cid1 Appendix B Proofs Section 4 Proof Theorem 45 We ﬁrst suppose P Recall mapping σ P admissible KB iff L satisﬁable The equivalent existence probability ranking κ admissible KB probability ranking κ satisﬁes κPr 0 probabilistic interpretation Pr In following assume P cid9 Assume exists conditional constraint ranking σ KB admissi ble KB Let probability ranking κ Pr deﬁned follows κPr 0 1 maxCP Prcid9C σ C Pr cid9 L Pr L P We κ probability ranking κ admissible KB Let C P σ C minimal Since σ admissible KB follows C tolerated P L Hence particular exists model Pr L P Thus κPr 0 We κF F L Observe κPr Pr Pr cid9 F Pr F F L Thus κF F L We ﬁnally κφ 0 κφ 0 C κφ 0 C C ψφl u P Since Ccid13 P σ Ccid13 cid1 σ C tolerates C L holds 152 T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 κφ 0 κφ 0 C cid2 σ C Since Pr cid9 C models Pr φ 0 C holds σ C κφ 0 C In summary κφ 0 κφ 0 C κφ 0 C C ψφl u P This shows κ admissible KB Let κ probability ranking admissible KB We deﬁne conditional constraint ranking σ KB σ C κφ 0 C C ψφl u P We σ admissible KB Suppose P cid13 P conﬂict C ψφl u P L Towards contradiction let σ Ccid13 cid1 σ C Ccid13 P cid13 Let Pr model L σ C κPr Pr φ 0 C Assume Pr cid9 Ccid13 Ccid13 βαr s Lcid13 Then κα 0 κα 0 Ccid13 cid2 σ C cid2 σ Ccid13 κα 0 Ccid13 But contradicts κ admissible KB Thus Pr model P cid13 But contradicts P cid13 conﬂict C L Hence σ Ccid13 σ C Ccid13 P cid13 Thus σ admissible KB cid1 Proof Theorem 46 Immediate Theorem 45 fact existence admissible conditional constraint ranking KB equivalent existence ordered partition P0 Pk P b holds cid1 Proof Theorem 48 Suppose L P ψφp p pconsistent p 0 l u 1 By Theorem 45 exists probability ranking admissible KB κφ 0 κφ 0 ψφp p κφ 0 ψφp p Since κφ 0 ψφl u cid2 κφ 0 ψφp p κφ 0 ψφp p cid2 κφ 0 ψφl u follows κφ 0 κφ 0 ψφl u cid2 κφ 0 ψφl u That KB cid16 pψφl u hold Suppose KB cid16 pψφl u hold That κφ 0 κφ 0 ψφl u cid1 κφ 0 ψφl u probability ranking κ admissible KB Let Pr model L Pr φ 0 ψφl u κPr κφ 0 ψφl u We deﬁne p 0 l u 1 p Prψφ It follows κφ 0 ψφl u κφ 0ψφp p Moreover holds κφ 0ψφq q cid1 κφ 0 ψφp p q 0 l u 1 In summary follows cid9 κφ 0 κφ 0 ψφp p cid1 κφ 0 ψφp p We KBcid13 L P ψφp p pconsistent We deﬁne conditional constraint ranking σ KB σ C κα 0 C C βαr s P κα 0 C κφ 0 ψφp p ii σ ψφp p κφ 0 ψφp p iii σ C κα 0 C 1 C βαr s P κα 0 C cid1 κφ 0 ψφp p We σ admissible KBcid13 It sufﬁcient C P tolerated PC Ccid13 P ψφp p σ Ccid13 cid1 σ C L By proof Theorem 45 follows σ restricted P admissible KB Thus sufﬁcient C βαr s P tolerated PC Ccid13 P ψφp p σ Ccid13 cid1 σ C L κα 0 C κφ 0 ψφp p b C ψφp p Towards contradiction assume ﬁrst C βαr s P tolerated PC L Let Pr model L Pr α 0 C κPr κα 0 C Let Ccid13 βcid13αcid13r cid13 scid13 PC Pr cid9 Ccid13 ai καcid13 0 Ccid13 κφ 0 ψφp p aii Ccid13 ψφp p aiii καcid13 0 Ccid13 cid1 κφ 0 ψφp p It holds καcid13 0 καcid13 0 Ccid13 cid2 κPr σ C Furthermore holds ai σ C cid2 σ Ccid13 καcid13 0 Ccid13 T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 153 aii σ C σ Ccid13 καcid13 0 Ccid13 aiii σ C 1 σ Ccid13 καcid13 0 Ccid13 1 But aii contradicts cid9 ai aiii contradicts κ admissible KB Hence Pr model PC But contradicts C tolerated PC L Assume b C ψφp p tolerated PC L Let Pr model L Pr φ 0C κPr κφ 0C Let Ccid13 βαr s PC Pr cid9 Ccid13 Observe κα 0 Ccid13 cid1 κφ 0 ψφp p Thus κα 0 κα 0 Ccid13 cid2 κPr σ C σ Ccid13 κα 0 Ccid13 1 But contradicts κ admissible KB Hence Pr model PC But contradicts C tolerated PC L In summary σ admissible KBcid13 That KBcid13 pconsistent p 0 l u 1 cid1 Proof Theorem 49 Immediate Theorem 48 cid1 Proof Lemma 414 Towards contradiction assume z admissible KB That P cid13 P L conﬂict C P P cid13 contains Ccid13 zCcid13 zC Thus P cid13 PC Ccid13 P zCcid13 cid1 zC Since PC tolerates C L P cid13 tolerates C L But contradicts P cid13 L conﬂict C Hence z admissible KB proof Theorem 45 b κ z admissible KB cid1 Proof Theorem 416 Suppose ﬁrst L cid9 φ Then κ zφ 0 κ zφ 0 C κ zφ 0 C iff zminimal models Pr L Prφ 0 sat isfy C Assume L φ Then κ zφ 0 zminimal models Pr L Prφ 0 satisfy C cid1 Appendix C Proofs Section 5 While proofs results Section 4 similar proofs classical counterparts default reasoning proofs Section 5 require genuinely probabilistic reasoning In particular proof Theorem 51 use following tations preliminary results For probabilistic knowledge bases KB L P events α L cid9 α denote PαKB set subsets Pn ψiφili ui 1 n P model Pr L Pn Prφ1 φn α 0 sat isﬁes Prα 0 For KB L P α L α deﬁne PαKB For events α pconsistent probabilistic knowledge bases KB L P denote KBα probabilistic knowledge base L P cid9 P cid9 greatest element PαKB Then following result says probabilistic pentailment βαl u KB reduced logical entailment βαl u KBα It follows immediately similar result gcoherent entailment 11 equivalence probabilistic p entailment gcoherent entailment Theorem 411 Theorem C1 Let KB L P pconsistent probabilistic knowledge base let βαl u conditional constraint let KBα deﬁned Then 154 T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 KB cid16 pβαl u iff KBα βαl u b KB cid16 p tightβαl u iff KBα tight βαl u Proof Theorem 51 It easy verify result In following prove result cid16 p cid16 z cid16 lex RW Assume ﬁrst KB cid16 sφεl u s z lex That Pr φεl u sminimal models Pr L ε 0 Since φcid3l u ψcid3lcid13 ucid13 logically valid Pr ψεlcid13 ucid13 sminimal models Pr L ε 0 That KB cid16 sψεlcid13 ucid13 Assume KB cid16 pφεl u That Theorem C1 KBε φεl u Thus KBε ψεlcid13 ucid13 That KB g ψεlcid13 ucid13 Ref Every probabilistic interpretation Pr satisﬁes εε1 1 This shows KB cid16 s εε1 1 s p z lex LLE Assume ﬁrst KB cid16 s φεl u s z lex That Pr φεl u sminimal models Pr L ε 0 Since ε εcid13 logically valid Pr φεcid13l u sminimal models Pr L εcid13 0 That KB cid16 sφεcid13l u Suppose KB cid16 pφεl u That Theorem C1 KBε φεl u Since ε εcid13 logically valid KBεcid13 φεcid13l u That KB g φεcid13l u Cut Assume ﬁrst KB cid16 sεεcid131 1 KB cid16 sφε εcid13l u s z lex That Pr εεcid131 1 Pr φε εcid13l u sminimal models Pr L εcid13 0 L ε εcid13 0 respectively It follows Pr φεcid13l u s minimal models Pr L εcid13 0 That KB cid16 sφεcid13l u Suppose KB g εεcid131 1 KB cid16 pφε εcid13l u That Theorem C1 KBεcid13 εεcid131 1 KBεεcid13 φε εcid13l u By Theorem C1 easy KBεcid13 KBεεcid13 Thus KBεcid13 φεcid13l u That KB cid16 pφεcid13l u CM Assume ﬁrst KB cid16 sεεcid131 1 KB cid16 sφεcid13l u s z lex That Pr εεcid131 1 Pr φεcid13l u sminimal models Pr L εcid13 0 It follows Pr φε εcid13l u sminimal models Pr L ε εcid13 0 That KB cid16 sφε εcid13l u Suppose KB cid16 pεεcid131 1 KB cid16 pφεcid13l u That Theorem C1 KBεcid13 εεcid131 1 KBεcid13 φεcid13l u Thus KBεcid13 φε εcid13l u By Theorem C1 easy KBεcid13 KBεεcid13 Thus KBεεcid13 φε εcid13l u That KB cid16 pφε εcid13l u Or Assume ﬁrst KB cid16 sφε1 1 KB cid16 sφεcid131 1 s z lex That Pr φε1 1 Pr φεcid131 1 sminimal models Pr L ε 0 L εcid13 0 respectively It follows Pr φε εcid131 1 sminimal models Pr L ε εcid13 0 That KB cid16 sφε εcid131 1 Suppose KB cid16 pφε1 1 KB cid16 pφεcid131 1 That Theorem C1 KBε L Pε φε1 1 KBεcid13 L Pεcid13 φεcid131 1 By Theorem C1 easy Pεεcid13 Pε Pεεcid13 Pεcid13 Hence KBεεcid13 φε1 1 KBεεcid13 φεcid131 1 KBεεcid13 L Pεεcid13 It follows KBεεcid13 φε εcid131 1 That KB cid16 p φε εcid131 1 cid1 Proof Theorem 52 Assume ﬁrst KB ψε1 1 KB cid9εcid13ε1 1 In partic ular Pr ψε1 1 models Pr L P ε 0 Hence Pr ψε εcid131 1 models Pr L P ε εcid13 0 That KB ψε εcid131 1 Assume KB cid16 sψε1 1 KB cid9cid16sεcid13ε11 s z lex That Pr ψε1 1 sminimal models Pr Lε 0 Pr εcid13ε0 0 sminimal models Pr T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 155 L ε 0 So Pr ψεεcid131 1 sminimal models Pr L ε εcid13 0 That KB cid16 sψεεcid131 1 cid1 Proof Theorem 54 Assume cid9 atom KB ψε1 1 occurs εcid13 Suppose ﬁrst KB ψε1 1 That Pr ψε1 1 models Pr L P ε 0 Hence Pr ψε εcid131 1 models Pr L P ε εcid13 0 That KB ψε εcid131 1 Assume KB cid16 sψε11 s z lex That Pr ψε1 1 sminimal models Pr L ε 0 By cid9 follows Pr ψε εcid131 1 sminimal models Pr L ε εcid13 0 That KB cid16 sψε εcid131 1 cid1 Proof Theorem 56 Assume ψφl u P ε φ logically valid Clearly KB ψεl u Since KB pconsistent conditional constraint rank ing z exists ψφl u tolerated C P zC cid1 zψφl u L Hence sminimal model Pr L ε 0 satisﬁes ψεl u s z lex Hence KB cid16 sψεl u Since L P ψεp p pconsistent p 0 l u 1 follows KB cid16 pψεl u cid1 Proof Theorem 57 Suppose KB cid16 pC By Theorem 48 κφ 0 κφ 0 C κφ 0 C probability ranking κ admissible KB By Lemma 414 κ z admissible KB Hence κ zφ 0 κ zφ 0 C κ zφ 0 C By Theorem 416 holds KB cid16 zC b Suppose KB cid16 zC That zminimal model Pr L φ 0 satisﬁes C Since lexminimal model Pr Lφ 0 zminimal model Lφ 0 follows lexminimal model Pr L φ 0 satisﬁes C That KB cid16 lexC c Suppose KB cid16 lexC That lexminimal model Pr L φ 0 satisﬁes C Assume ﬁrst Prφ 0 model Pr L P Then KB C trivially holds Assume L P φ 0 satisﬁable Thus Pr lexminimal model L φ 0 iff model L P φ 0 Hence model L P φ 0 satisﬁes C That KB C cid1 Proof Theorem 58 The existence model Pr L P φ 0 implies probabilistic interpretation Pr model L P φ 0 iff lexminimal model L φ 0 iff zminimal model L φ 0 cid1 Proof Theorem 510 A conditional constraint ranking σ KB admissible KB iff default ranking σ γ 1 γ KB admissible γ KB b c Observe P0 Pk zpartition KB iff γ P0 γ Pk classical zpartition γ KB Furthermore sminimal model Pr L α 0 satisﬁes βα1 1 iff classical sminimal model I L α satisﬁes β s z lex cid1 Appendix D Proofs Section 6 Proof Theorem 61 If L α0 unsatisﬁable KB cid16 s tightβα10 156 T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 b Assume L α 0 satisﬁable It sufﬁcient Pr sminimal αKB model L α 0 iff Pr model L H α 0 H Ds Let Pr sminimal model Lα 0 Let H cid13 C P Pr C Clearly Pr L H cid13 α 0 We H cid13 Ds αKB Suppose That H cid13cid13 P exists L H cid13cid13 α 0 satisﬁable H cid13cid13 spreferable H cid13 Thus model Prcid13 L H cid13cid13 α 0 exists As H cid13cid13 spreferable H cid13 model Prcid13 L α 0 spreferable Pr But contradicts Pr sminimal model L α 0 Thus H cid13 Ds Let Pr model L H cid13 α 0 H cid13 Ds αKB Clearly Pr model L α 0 We Pr sminimal model L α 0 Suppose That exists model Prcid13 Lα 0 spreferable Pr Thus C P Prcid13 C P spreferable H cid13 But contradicts H cid13 member Ds αKB Hence Pr sminimal model L α 0 cid1 αKB Appendix E Proofs Section 7 The proofs Theorems 7174 similar proofs related complexity results 52 We ﬁrst preparatory deﬁnitions follows In sequel let KB L P pconsistent probabilistic knowledge base let βαl u conditional straint Let n denote cardinality P For following deﬁnitions let L α 0 satisﬁable An ordered partition P0 Pk P admissible KB iff Pj j cid1 satisﬁ 0 k ψφr s Pi set L φ 0 cid10 k i0 Pi Let able The weight ordered partition P0 Pk P deﬁned wmin denote weight w ordered partitions P admissible KB As classical default reasoning zpartition KB unique ordered parti tion P cid9 k P admissible KB weight wmin Let jmin cid1 denote j 0 k1 L cid1 j α 0 satisﬁable Let nmin P cid13 P cid9 0 P cid9 P cid13 Dlex α KB P cid13 P cid9 k 0 P cid9 cid1 Proof Theorem 71 Let KB L P We ﬁrst prove membership PNP rem 61 holds KB cid16 zβαl u iff ii holds cid16 By Theo L α 0 unsatisﬁable ii L α 0 satisﬁable L cid1 P cid9 cid1 jmin βαl u Deciding L α 0 satisﬁable NPoracle If L α 0 satisﬁable compute weight wmin 0 nn12 value jmin 0 n 1 deterministic polynomial cid1 time Olog n calls NPoracle Finally decide L jmin ψφl u NPoracle Since rounds par allel NP oracle queries replaced single round NP queries means problem PNP cid16 P cid9 cid1 T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 157 Hardness PNP cid16 cid16 complete problem 18 Given pconsistent conditional knowledge base KBcid13 Lcid13 Dcid13 fault δ γ decide KBcid13 zδ γ proved polynomial reduction following PNP We deﬁne KB Lcid13 ψφ1 1 ψ φ Dcid13 βα δγ By Theorem 510 KBcid13 zδ γ iff KB cid16 zβα1 1 cid1 Proof Theorem 72 Let KB L P We ﬁrst prove PNPmembership By Theo rem 61 holds KB cid16 lexβαl u iff ii holds L α 0 unsatisﬁable ii L α 0 satisﬁable L P cid13 βαl u P cid13 Dlex α KB Deciding L α 0 satisﬁable NPoracle If L α 0 satisﬁable compute weight wmin 0 nn12 deterministic polynomial time Olog n calls NPoracle Moreover compute vector nmin 0 nk This k rounds binary search round runs deterministic polynomial time Olog n calls NPoracle Finally decide L P cid13 βαl u P cid13 Dlex α KB NPoracle In summary problem PNP Hardness PNP proved polynomial reduction following PNPcomplete problem 18 Given pconsistent conditional knowledge base KBcid13 Lcid13 Dcid13 Lcid13 ﬁnite set literalHorn logical constraints Dcid13 ﬁnite set literalHorn defaults form ψ φ ψ basic event negation basic event φ cid3 conjunction basic events δ γ literalHorn default decide KBcid13 lexδ γ We construct KB L P C βαl u stated theorem KBcid13 lex δ γ iff KB cid16 lexC We deﬁne KB C L Lcid13 cid9 cid8 pφ0 0 p φ D cid13 p Φ cid9 cid8 P C pφ1 1 p φ D cid11 pγ 1 1 pγ 0 0 p Φ δ p p Φ δ p p Φ cid13 Notice KB C literalHorn By slight generalization Theorem 510 KBcid13 lexδ γ iff KB cid16 lexC cid1 Proof Theorems 73 74 Let KB L P We ﬁrst prove membership FPNP Let s z lex The interval l u 0 1 KB cid16 sβαl u computed variant Algorithm tightentailmentopt 51 FPNP Rather checking existence model Pr L P Prα 0 check existence P cid13 Ds αKB model Pr L P cid13 Prα 0 Once zpartition KB value jmin vector nmin computed FPNP proofs Theorems 71 72 guessing verifying P cid13 Ds αKB NP increase complexity Hence new algorithm FPNP Hardness FPNP shown polynomial reduction FPNPcomplete travel ing salesman cost problem 56 Given set n cid1 1 cities V 1 2 n nonneg 158 T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 ative integer distance dij dji cities j compute n i1 dπiπσ smallest length d tour cities minimum subject permutations π σ n 1 σ 1 n Without loss generality assume n cid1 3 cid10 Let s sum dij j V j We construct KB L P βα stated theorem smallest length d tour s l l given KB cid16 z tightβαl 1 KB cid16 lex Let E j V cid9 j wij dij s j E The set basic events Φ deﬁned Φ1 Φ2 Φ1pij j V Φ2p pe e E We deﬁne set literalHorn conditional constraints P1 P11 P12 P13 describes set permutations members V follows tightβαl 1 P11 P12 P13 cid8 pij pik0 0 j k V j k cid8 pij pkj 0 0 j k V k cid8 pij cid31n 1n j V cid9 cid9 cid9 Roughly speaking world I Pr1I 0 model Pr1 P1 corresponds permutation members V vice versa We deﬁne set literalHorn conditional constraints P2 P21 P22 P23 associates permutation tour length predicate symbol p sum tour lengths follows P21 P22 P23 pe20 0 e1 e2 E e1 cid9 e2 cid8 pe1 cid8 pij pui pσ uj wij wij u V j E cid8 p pe1 1 e E cid9 cid9 cid9 We ﬁnally deﬁne KB L P P1 P2 Observe KB pcid3 literalHorn L As proved 9 KB pconsistent This shows particular L P model Pr Prcid3 0 Hence Theorem 58 KB tight pcid3l 1 iff KB cid16 z tight pcid3l 1 As shown 51 KB tight pcid3l 1 iff s l smallest length tour cities In summary KB cid16 z tightpcid3l 1 iff s l smallest length tour cities cid1 tight pcid3l 1 iff KB cid16 lex tightpcid3l 1 iff KB cid16 lex References 1 EW Adams The Logic Conditionals Synthese Library vol 86 D Reidel Dordrecht 1975 2 S Amarger D Dubois H Prade Constraint propagation imprecise conditional probabilities Pro ceedings UAI91 Morgan Kaufmann San Mateo CA 1991 pp 2634 3 F Bacchus A Grove JY Halpern D Koller From statistical knowledge bases degrees belief Artiﬁ cial Intelligence 87 12 1996 75143 4 S Benferhat C Cayrol D Dubois J Lang H Prade Inconsistency management prioritized syntax based entailment Proceedings IJCAI93 Chambéry France Morgan Kaufmann San Mateo CA 1993 pp 640645 5 S Benferhat D Dubois H Prade Representing default rules possibilistic logic Proceedings KR92 Cambridge MA Morgan Kaufmann San Mateo CA 1992 pp 673684 6 S Benferhat D Dubois H Prade Nonmonotonic reasoning conditional objects possibility theory Artiﬁcial Intelligence 92 12 1997 259276 T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 159 7 S Benferhat A Safﬁotti P Smets Belief functions default reasoning Artiﬁcial Intelligence 122 12 2000 169 8 V Biazzo A Gilio A generalization fundamental theorem Finetti imprecise conditional probability assessments Internat J Approx Reason 24 23 2000 251272 9 V Biazzo A Gilio T Lukasiewicz G Sanﬁlippo Probabilistic logic coherence Complexity algorithms Proceedings ISIPTA01 2001 pp 5161 10 V Biazzo A Gilio T Lukasiewicz G Sanﬁlippo Probabilistic logic coherence modeltheoretic probabilistic logic default reasoning Proceedings ECSQARU01 Lecture Notes Comput SciLecture Notes Artiﬁcial Intelligence vol 2143 Springer Berlin 2001 pp 290302 11 V Biazzo A Gilio T Lukasiewicz G Sanﬁlippo Probabilistic logic coherence modeltheoretic probabilistic logic default reasoning System P J Appl NonClass Logics 12 2 2002 189213 12 G Boole An Investigation Laws Thought Founded Mathematical Theories Logic Probabilities Walton Maberley London 1854 reprint Dover Publications New York 1958 13 D Dubois H Prade On fuzzy syllogisms Computational Intelligence 4 2 1988 171179 14 D Dubois H Prade Possibilistic logic preferential models nonmonotonicity related issues Pro ceedings IJCAI91 Sydney Australia Morgan Kaufmann San Mateo CA 1991 pp 419424 15 D Dubois H Prade Conditional objects nonmonotonic consequence relationships IEEE Trans System Man Cybernet 24 12 1994 17241740 16 D Dubois H Prade L Godo RL Màntaras Qualitative reasoning imprecise probabilities J In telligent Inform Syst 2 1993 319363 17 D Dubois H Prade JM Touscas Inference imprecise numerical quantiﬁers ZW Ras M Ze mankova Eds Intelligent Systems Ellis Horwood 1990 pp 5372 Chapter 3 18 T Eiter T Lukasiewicz Default reasoning conditional knowledge bases Complexity tractable cases Artiﬁcial Intelligence 124 2 2000 169241 19 R Fagin JY Halpern N Megiddo A logic reasoning probabilities Inform Comput 87 1990 78128 20 N Friedman JY Halpern Plausibility measures default reasoning J ACM 48 4 2001 648685 21 AM Frisch P Haddawy Anytime deduction probabilistic logic Artiﬁcial Intelligence 69 12 1994 93122 22 DM Gabbay P Smets Eds Handbook Defeasible Reasoning Uncertainty Management Systems Kluwer Academic Dordrecht 1998 23 MR Garey DS Johnson Computers Intractability A Guide Theory NPCompleteness Free man New York 1979 24 H Geffner Default Reasoning Causal Conditional Theories MIT Press Cambridge MA 1992 25 H Geffner High probabilities model preference default arguments Mind Machines 2 1992 51 70 26 H Geffner J Pearl Conditional entailment Bridging approaches default reasoning Artiﬁcial Intel ligence 53 23 1992 209244 27 A Gilio Probabilistic consistency conditional probability bounds Advances Intelligent Computing Lecture Notes Comput Sci vol 495 Springer Berlin 1995 pp 200209 28 A Gilio Probabilistic reasoning coherence System P Ann Math Artiﬁcial Intelligence 34 13 2002 534 29 A Gilio R Scozzafava Conditional events probability assessment revision IEEE Trans System Man Cybernet 24 12 1994 17411746 30 R Giugno T Lukasiewicz PSHOQD A probabilistic extension SHOQD probabilistic ontologies Semantic Web Proceedings JELIA02 Lecture Notes Comput SciLecture Notes Artif Intell vol 2424 Springer Berlin 2002 pp 8697 31 M Goldszmidt P Morris J Pearl A maximum entropy approach non monotonic reasoning IEEE Trans Pattern Anal Mach Intell 15 3 1993 220232 32 M Goldszmidt J Pearl On consistency defeasible databases Artiﬁcial Intelligence 52 2 1991 121149 33 M Goldszmidt J Pearl Rankbased systems A simple approach belief revision belief update rea soning evidence actions Proceedings KR92 Cambridge MA Morgan Kaufmann San Mateo CA 1992 pp 661672 160 T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 34 M Goldszmidt J Pearl Qualitative probabilities default reasoning belief revision causal modeling Artiﬁcial Intelligence 84 12 1996 57112 35 T Hailperin Sentential Probability Logic Origins Development Current Status Technical Applica tions Associated University Presses London 1996 36 P Hansen B Jaumard GBD Nguetsé MP Aragão Models algorithms probabilistic Bayesian logic Proceedings IJCAI95 Montreal Quebec Morgan Kaufmann San Mateo CA 1995 pp 18621868 37 B Jaumard P Hansen MP Aragão Column generation methods probabilistic logic ORSA J Com 3 1991 135147 38 DS Johnson A catalog complexity classes J van Leeuwen Ed Handbook Theoretical Computer Science vol A MIT Press Cambridge MA 1990 pp 67161 Chapter 2 39 G KernIsberner T Lukasiewicz Combining probabilistic logic programming power maximum entropy Artiﬁcial Intelligence 157 12 2004 139202 40 S Kraus D Lehmann M Magidor Nonmonotonic reasoning preferential models cumulative logics Artiﬁcial Intelligence 14 1 1990 167207 41 HE Kyburg Jr The Logical Foundations Statistical Inference D Reidel Dordrecht 1974 42 HE Kyburg Jr The reference class Philos Sci 50 1983 374397 43 HE Kyburg Jr CM Teng Evaluating defaults Proceedings NMR02 2002 pp 257264 44 P Lamarre A promenade monotonicity nonmonotonicity following theorem prover Proceed ings KR92 Cambridge MA Morgan Kaufmann San Mateo CA 1992 pp 572580 45 D Lehmann What conditional knowledge base entail Proceedings KR89 Morgan Kaufmann San Mateo CA 1989 pp 212222 46 D Lehmann Another perspective default reasoning Ann Math Artiﬁcial Intelligence 15 1 1995 6182 47 D Lehmann M Magidor What conditional knowledge base entail Artiﬁcial Intelligence 55 1 1992 160 48 T Lukasiewicz Local probabilistic deduction taxonomic probabilistic knowledgebases junctive events Internat J Approx Reason 21 1 1999 2361 49 T Lukasiewicz Probabilistic deduction conditional constraints basic events J Artiﬁcial Intelli gence Res 10 1999 199241 50 T Lukasiewicz Probabilistic logic programming inheritance overriding Proceedings UAI01 Morgan Kaufmann San Mateo CA 2001 pp 329336 51 T Lukasiewicz Probabilistic logic programming conditional constraints ACM Trans Computat Logic TOCL 2 3 2001 289339 52 T Lukasiewicz Probabilistic default reasoning conditional constraints Ann Math Artiﬁcial Intelli gence 34 13 2002 3588 53 T Lukasiewicz Nonmonotonic probabilistic logics variablestrength inheritance overriding Al gorithms implementation NMPROBLOG Proceedings ISIPTA05 2005 54 NJ Nilsson Probabilistic logic Artiﬁcial Intelligence 28 1986 7188 55 NJ Nilsson Probabilistic logic revisited Artiﬁcial Intelligence 59 1993 3942 56 CH Papadimitriou Computational Complexity AddisonWesley Reading MA 1994 57 J Pearl Probabilistic semantics nonmonotonic reasoning A survey Proceedings KR89 Morgan Kaufmann San Mateo CA 1989 pp 505516 58 J Pearl System Z A natural ordering defaults tractable applications default reasoning Pro ceedings TARK90 Morgan Kaufmann San Mateo CA 1990 pp 121135 59 R Pelessoni P Vicig A consistency problem imprecise conditional probability assessments Pro ceedings IPMU98 1998 pp 14781485 60 JL Pollock Nomic Probabilities Foundations Induction Oxford University Press Oxford 1990 61 D Poole The effect knowledge belief Conditioning speciﬁcity lottery paradox default reasoning Artiﬁcial Intelligence 49 13 1991 281307 62 H Reichenbach Theory Probability University California Press Berkeley CA 1949 63 R Reiter A logic default reasoning Artiﬁcial Intelligence 13 12 1980 81132 64 Y Shoham A semantical approach nonmonotonic logics Proceedings LICS87 IEEE Computer So ciety 1987 pp 275279 T Lukasiewicz Artiﬁcial Intelligence 168 2005 119161 161 65 W Spohn Ordinal conditional functions A dynamic theory epistemic states W Harper B Skyrms Eds Causation Decision Belief Change Statistics vol 2 Reidel Dordrecht 1988 pp 105134 66 P Vicig An algorithm imprecise conditional probability assessments expert systems Proceedings IPMU96 1996 pp 6166 67 GR Wheeler A resource bounded default logic Proceedings NMR04 2004 pp 416422 68 P Walley Statistical Reasoning Imprecise Probabilities Chapman Hall 1991