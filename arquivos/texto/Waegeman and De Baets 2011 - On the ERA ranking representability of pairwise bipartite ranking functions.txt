Artiﬁcial Intelligence 175 2011 12231250 Contents lists available ScienceDirect Artiﬁcial Intelligence wwwelseviercomlocateartint On ERA ranking representability pairwise bipartite ranking functions Willem Waegeman Bernard De Baets KERMIT Department Applied Mathematics Biometrics Process Control Ghent University Coupure links 653 B9000 Ghent Belgium r t c l e n f o b s t r c t Article history Received 31 January 2009 Received revised form 19 June 2010 Accepted 19 June 2010 Available online 2 December 2010 Keywords Pairwise bipartite ranking Reciprocal preference relation Cycle transitivity Receiver operating characteristics ROC analysis Graph theory Multiclass classiﬁcation Decision theory Machine learning 1 Introduction In domains like decision theory social choice theory known long time stochastic transitivity properties yield necessary suﬃcient conditions ranking utility representability reciprocal preference relations In article extend results reciprocal preference relations originating pairwise comparison random vectors machine learning context More speciﬁcally expected ranking accuracy ERA reciprocal relation occurs multiclass classiﬁcation problems ranking utility functions ﬁtted data pairwise manner We establish necessary suﬃcient conditions pairwise bipartite ranking functions simpliﬁed single ranking function pairwise expected ranking accuracies models coincide Similarly common reciprocal preference relations cycle transitivity plays crucial role new setting We ﬁrst consider ﬁnite sample case expected ranking accuracy estimated means area ROC curve AUC subsequently generalize results underlying distributions It turns ranking representability pairwisely compared random vectors expressed elegantly distributionindependent way means speciﬁc type cycle transitivity deﬁned conjunctor closely related algebraic product 2010 Elsevier BV All rights reserved Multiclass classiﬁcation ordinal regression seen closely related machine learning settings share properties Multiclass classiﬁcation refers supervised learning problem inferring predictive model capable classifying data ﬁnite number classes This simply means model predicts new data instances output called label response variable takes values ﬁnite unordered set example class labels red green blue Ordinal regression considers slightly different setting Labels come ﬁnite ordered set order naturally follows semantics classes example class labels bad moderate good As speciﬁc case preference learning ordinal regression problems typically arise situations humans involved data generation process like human experts internet users expressing preferences objects wrt characteristics quality beauty appropriateness So different semantics data respectively result absence presence order relation classes multiclass classiﬁcation ordinal regression Owing important interpretation classes substantially differ ent methods proposed past types learning problems Brieﬂy summarized absence presence order relation leads main differences assumptions Corresponding author Tel 329 264 6018 fax 329 264 6220 Email address WillemWaegemanUGentbe W Waegeman 00043702 matter 2010 Elsevier BV All rights reserved doi101016jartint201011006 1224 W Waegeman B De Baets Artiﬁcial Intelligence 175 2011 12231250 1 Firstly models typically differ type performance measure optimize If order relation classes assumed performance measure takes order account utilized optimization evaluation For example ordinal regression misclassifying object class bad class good typically lead higher loss misclassifying object class moderate 2 Secondly absence presence order relation classes gives rise different model structure types problems The model structure multiclass classiﬁcation methods typically consists ensemble binary classiﬁers oneversusone 2630 oneversusall 41 ensembles typically global model considered ordinal regression Moreover global model consists underlying latent variable reﬂects order classes Let X denote set data objects latent variable serves ranking function f X R deﬁnes total order data objects The ﬁnal decision rule end obtained placing number thresholds ranking function This example case traditional statistical ordinal regression algorithms 238 kernelbased methods 642 Several authors 273544 empirically analyzed recent work relationship multiclass classiﬁcation ordinal regression primarily aim improve ordinal regression algorithms ideas multiclass classiﬁca tion considering underlying ranking function Conversely motivation article improve multiclass classiﬁcation algorithms techniques ordinal regression Moreover mainly focus theoretical connections problem settings establish connection ranking function char acterizes ordinal regression models starting point In context expected ranking accuracy ERA rankingbased performance measure recently introduced bipartite ranking 1 extended ordinal regression 47 Expected ranking accuracy easily considered multiclass classiﬁcation especially oneversusone en sembles ensemble contains set pairwise bipartite ranking functions bipartite ranking function pair classes By concepts receiver operator characteristics ROC analysis graph theory decision theory preference modeling transitivity properties reciprocal relation generated expected ranking accuracy result connection multiclass classiﬁcation ordinal regression models Roughly speaking investigate conditions oneversusone ensemble containing set bipartite ranking functions reduced ordinal regression model underlying ranking function models obtain identical performance terms expected ranking accuracy We refer property ERA ranking representability oneversusone ensemble ERA ranking representability interpreted natural extension inﬁnite sample case AUC ranking representability previously introduced 46 It known area ROC curve AUC forms unbiased estimator expected ranking accuracy ﬁnite dataset Let introductory example multiclass classiﬁcation setting consider following hypothetical threeclass dataset contains objects class 2 1 10 11 12 13 14 15 16 17 18 9 yi C1 C1 C1 C1 C1 C1 C2 C2 C2 C2 C2 C2 C3 C3 C3 C3 C3 C3 3 4 5 6 7 8 We simplicity assigned indices way pairwise AUCs computed easily given ranking Remark AUC simply computes fraction lower class higher class couples correctly ranked classiﬁer Let suppose following triplet bipartite ranking functions statistically inferred oneversusone ensemble small toy problem ranking f 12 7 2 9 ranking f 23 13 7 14 8 9 ranking f 13 13 1 2 8 1 4 3 10 11 12 6 10 11 12 15 16 17 18 5 3 14 15 16 17 18 4 5 6 So left right numbers represent ranking indices data objects respectively obtained ranking functions f 12 f 23 f 13 For pairwise AUCs ﬁnd cid2A12 f 12 D 2036 cid2A23 f 23 D 2536 cid2A13 f 13 D 1536 1 In words ﬁnds instance 20 36 couples correctly ranked ranking function f 12 object number 1 ranked objects class C2 object number 2 object number 3 ranked objects class C2 A formal deﬁnition AUC given Section 2 In example triplet bipartite rankings replaced different ways single ranking data set pairwise AUCs measured example ranking global f 13 1 2 3 7 8 9 10 11 14 15 16 17 18 4 5 12 6 ranking results pairwise AUCs Veriﬁcation AUC ranking representability diﬃcult larger datasets enumerating global rankings computationally infeasible However 46 shown W Waegeman B De Baets Artiﬁcial Intelligence 175 2011 12231250 1225 AUC ranking representability strongly linked speciﬁc type transitivity called AUC transitivity reason In Section 4 ﬁrst recapitulate necessary transitivity conditions AUC ranking representability explaining link bipartite rankings collections dice The reciprocal relations observed problems exhibit speciﬁc type transitivity called dice transitivity 15 Due speciﬁc requirement imposed bipartite rankings dice transitivity yield suﬃcient condition Because introduced new type transitivity based graphtheoretic concepts This condition called AUC transitivity imposes constraints values pairwise AUCs gives rise suﬃcient transitivity condition AUC ranking representability As result AUC transitivity veriﬁed solving integer quadratic program Moreover Sections 5 6 closedform expression solution integer quadratic program derived combinatorial optimization procedure avoided As shown following sections ERA AUC ranking representability strongly rely notion reciprocal rela tion ERA AUC considered speciﬁc examples relations Historically representability reciprocal relations terms single ranking utility function extensively studied domains like utility theory 22 preference modelling 39 social choice theory 25 fuzzy set theory 4 mathematical psychology 1837 45 characterization human preference judgments Especially reciprocal preference relations Q X 2 0 1 set X data objects alternatives shown notion transitivity plays crucial role We recall reciprocity property expresses x1 x2 X 2 holds Q x1 x2 Q x2 x1 1 assumption Q x1 x1 12 The abovementioned authors observed Q satisfy speciﬁc tran sitivity conditions order representable terms single ranking utility function f X R following sense x1 x2 X 2 holds Q x1 x2 cid2 1 2 f x1 cid2 f x2 Reciprocal preference relations representation holds called weak utility models 37 The proved reciprocal preference relation weak utility model satisﬁes weak stochastic transitivity x1 x2 x3 X 3 holds cid3 Q x1 x2 cid3 12 Q x2 x3 cid3 12 cid4 Q x1 x3 cid3 12 2 Remark pairwise AUCs given 1 satisfy weak stochastic transitivity Analogous weak utility models deﬁne typically stronger conditions relationship Q f leading stronger transitivity conditions like moderate strong stochastic transitivity For utility representability fuzzy preference relations similar forms transitivity exist tnorms 51043 As shown present paper types transitivity general umbrella cycle transitivity 11 valuable tools analysis reciprocal preference relations We short incomplete overview different types transitivity Section 3 By exploiting graphtheoretic reformulation AUC introducing new type transitivity able derive necessary suﬃcient conditions AUC ranking representability Here extend results considering inﬁnite sample case instead ﬁnite sample case As result introduce new type transitivity categorized framework cycle transitivity Using framework examine connection types transitivity proposed context dice games 15 pairwise comparison random variables 121416 This article organized follows In Section 2 machine learning concepts mentioned introduction formally described Subsequently Section 3 different existing forms transitivity discussed framework cycle transitivity brieﬂy outlined This allows present extend Section 4 necessary suﬃcient conditions AUC ranking representability means new type transitivity suitable AUC transitivity In Section 5 present important contribution paper generalization transitivity properties ERA ranking representability Finally Section 6 discusses practical considerations followed general conclusion 2 Expected ranking accuracy In decade problem ranking statistically inferring parameters ranking function f X R ﬁnite data set grown active widespread research ﬁeld covers applications like information retrieval marketing ﬁnancial forecasting traditional decision making problems 793134 We particular focus pairwise bipartite ranking multiclass setting Such setting basically implies aims construct statistical model describes relationship data objects x X hand usually small unordered set r classes Y C1 Cr hand Although different methods proposed extending binary classiﬁcation algorithms r 2 multiclass classiﬁcation r 2 pairwise approach 2630 especially popular simplicity good performance generality This approach essence ﬁts binary classiﬁer data pair classes It reason called oneversusone classiﬁcation scheme Since binary 1226 W Waegeman B De Baets Artiﬁcial Intelligence 175 2011 12231250 classiﬁcation methods like logistic regression linear discriminant analysis neural networks support vector machines construct internally latent continuous variable set F bipartite ranking functions fkl X R way obtained 1 cid2 k l cid2 r These ranking functions generate multiclass probability estimates 48 For given data set ranking returned pairwise ranking functions called bipartite visualized means bipartite graph subsets nodes correspond data instances classes edges indicate ranking order objects different classes Ranking considered middle pure discriminative modeling want good class pre dictions probability estimation want good predictions classconditional probabilities The difference approaches ﬁrst place characterized type loss error function optimized To end 1 introduced ranking concept expected ranking accuracy loss function In multiclass setting formally introduced follows Deﬁnition 21 Let D j represent conditional distribution X given data object belongs class C j j 1 r For set F fkl 1 cid2 k l cid2 r bipartite ranking functions deﬁne pairwise expected ranking accuracy classes Ck Cl ranking function fkl cid5 cid5 Akl fkl PrXkDkXlDl cid6 fklXk fklXl 1 2 PrXkDkXlDl cid6 fklXk fklXl For single ranking function f X R pairwise expected ranking accuracy deﬁned cid6 f Xk f Xl cid6 f Xk f Xl Akl f PrXkDkXlDl PrXkDkXlDl cid5 cid5 1 2 3 4 Here X D denotes random vector X distribution D Thus quality model essence evaluated looking probability correctly ranked couples Xk Xl random vectors1 As deﬁnition associate single random vector X j class loss generality assume random vectors independently sampled according different unknown distributions distribution D j corresponds data particular class These unknown conditional distributions represent probability ob serving certain input vector given class label input vector From machine learning point view primary concern know pairwise relationship classes ﬁnite training set represented empirical distribution observed ﬁnite data sample Rather want ﬁnd relationship unknown underlying distributions D j words relationship classes input space The r conditional class distributions D j represented random vectors X j generate bipartite ranking functions fkl univariate distributions prediction scores classes Ck Cl random variables fklXk fklXl distinguished In essence investigate distributions D j allow overall repre sentation pairwise prediction score distributions resulted single ranking function Remark relationship classes interpreted statistical dependence classes data different classes course independently sampled random vectors X j independent We allude term relationship localization distributions input space It important note require distributions prediction scores generated single ranking function identical generated set bipartite ranking functions strong condition We enforce pairs prediction score distributions level separability types models require pairwise expected ranking accuracies obtained set bipartite ranking functions single ranking function The situation graphically illustrated Fig 1 threeclass classiﬁcation problem Three distributions lets D1 D2 D3 twodimensional random vectors shown red green blue artiﬁcial triplets pairwise output distributions having pairwise expected ranking accuracies triplet generated bipartite ranking functions triplet single ranking function One easily verify models rise expected ranking accuracies triplet bipartite ranking functions called ERA ranking representable For classes Ck Cl expected ranking accuracy expressed terms joint cumulative distribution function F XkXl random vectors Xk Xl dF XkXl xi x j 1 Akl fkl cid7 fklxi fklx j cid7 dF XkXl xi x j 2 fklxi fklx j As random vectors mutually independent joint cumulative distribution function couple obviously written product marginals 1 For remainder discussion restriction vectorial input spaces fact mandatory We restriction random vector statistically established concept general random data object W Waegeman B De Baets Artiﬁcial Intelligence 175 2011 12231250 1227 Fig 1 A hypothetical example pairwise output score distributions corresponding ERA ranking representable set bipartite ranking functions output score distributions originate unknown underlying distribution generates data AUC ranking representable set bipartite ranking functions output score distributions originate observed empirical distribution ﬁnite data sample The distributions obtained set bipartite ranking functions given obtained single ranking function given For distributions models generate triplets bipartite ranking accuracies identical level separability terms ERA AUC See electronic version paper illustrations color For interpretation references color ﬁgure reader referred web version article 1228 W Waegeman B De Baets Artiﬁcial Intelligence 175 2011 12231250 Proposition 22 Given extension flk fkl pairwise expected ranking accuracies deﬁned 3 constitute offdiagonal elements reciprocal relation The holds expected ranking accuracies deﬁned 4 Proof For ranking function fkl let F XkXl denote joint cumulative distribution function random vectors Xk Xl Similarly 16 ﬁnd cid7 cid7 cid7 Akl fkl Alk flk dF XkXl xi x j dF XkXl xi x j dF XkXl xi x j 1 fklxi fklx j fklxi fklx j fklxi fklx j Proving 4 represents reciprocal relation exactly way cid2 Given deﬁnition expected ranking accuracy introduce concept ERA ranking representability illustrated Fig 1 Deﬁnition 23 Let X1 Xr r independent random vectors respective conditional class distributions D1 Dr We set F bipartite ranking functions ERA ranking representable X1 Xr exists ranking function f X R 1 cid2 k l cid2 r holds Akl fkl Akl f 5 The remainder article entirely dedicated quest way verify ERA ranking representability In essence looking condition set bipartite ranking functions replaced single ranking function gives evidence expected ranking accuracy We end case expected ranking accuracies satisfy speciﬁc type transitivity This transitivity property actually establish condition distributions D j condition turn distributionindependent sense condition hold set distributions D1 Dr The details given Section 5 ﬁrst ﬁnite sample case aspects story described abstract way Since underlying distribution data general unknown obviously compute expected ranking accuracy estimate basis ﬁnite labeled data sample D x1 y1 xn yn This realized computing pairwise AUC nonparametric unbiased estimator expected ranking accuracy 1 Thus ROC curve constructed pair classes The AUC formally deﬁned follows 192340 Deﬁnition 24 For set F bipartite ranking functions deﬁne pairwise AUC classes Ck Cl ranking function fkl 1 cid2 k l cid2 r cid2Akl fkl D 1 nknl cid8 cid8 yi Ck y j Cl I fklxi fklx j For single ranking function f X R pairwise AUC deﬁned cid2Akl f D 1 nknl cid8 cid8 yi Ck y j Cl I f xi f x j 6 Remark I denotes indicator function returns argument true zero For details deﬁnition general discussion ROC analysis multiclass settings refer example 20212428 Interestingly shown 82949 binary AUC equivalent Wilcoxon MannWhitney statistic It measures expected ranking accuracy empirical distribution instead unknown underlying distribution deﬁnition satisﬁes reciprocity property Given ﬁnite data sample AUC al lows deﬁne following form ranking representability interpreted ERA ranking representability observed empirical distribution Deﬁnition 25 We set F bipartite ranking functions AUC ranking representable D exists ranking function f X R 1 cid2 k l cid2 r holds cid2Akl fkl D cid2Akl f D 7 In 46 introduced AUC ranking representability relaxation strict ranking representability basically assumes bipartite ranking functions consistent global ranking function We showed strict ranking representability easily veriﬁed investigating graph free cycles Unfortunately strict ranking representability limited applicability condition satisﬁed realistic data samples W Waegeman B De Baets Artiﬁcial Intelligence 175 2011 12231250 1229 However statistical perspective strong condition required main motivation relax condition AUC ranking representability AUC ranking representability illustrated Fig 1 univariate output score distributions generated empirical multivariate distributions Consequently AUC ranking representability easily veriﬁed small data samples enumerating possible rankings data computing pairwise AUCs shown example introduction 3 Transitivity In section detailed introduction framework cycle transitivity 11 recently forward uniﬁcation fuzzy transitivity hand stochastic transitivity 3745 hand In 10 shown cycle transitivity covers FGtransitivity slightly older unifying framework fuzzy stochastic transitivity Moreover types fuzzy stochastic transitivity elegantly expressed cycle transitivity framework We brief overview types cycle transitivity relevant discussion 31 Notations Let Q X 2 0 1 reciprocal relation deﬁned set data objects X For xi x j X 2 ﬁrst introduce shorthand notation Q j Q xi x j For x1 x2 x3 X 3 deﬁne α123 minQ 12 Q 23 Q 31 β123 medianQ 12 Q 23 Q 31 γ123 maxQ 12 Q 23 Q 31 32 Product transitivity Product transitivity denoted T Ptransitivity considered speciﬁc type T transitivity popular notion fuzzy set theory Further formal deﬁnition T transitivity brieﬂy mention product tnorm T Pa b ab gives rise type T transitivity forms basis introduction cycle transitivity shown 11 A reciprocal relation satisﬁes product transitivity x1 x2 x3 X 3 holds Q 12 Q 23 cid2 Q 13 8 Let consider single triplet x1 x2 x3 When permutations triplet considered reciprocity property taken account 8 gives rise following conditions Q 12 Q 23 Q 31 Q 12 Q 23 cid2 Q 13 Q 23 Q 31 cid2 Q 21 Q 31 Q 12 cid2 Q 32 Q 13 Q 32 cid2 Q 12 Q 21 Q 13 cid2 Q 23 Q 32 Q 21 cid2 Q 31 De Baets et al 11 showed inequalities reduced double inequality expressed terms α β γ β123γ123 cid2 α123 β123 γ123 1 cid2 1 1 α1231 β123 9 If Lβ123 γ123 U α123 β123 represent lower upper bound expression following identity bounds observed Lβ123 γ123 1 U 1 γ123 1 β123 Moreover obtained lower upper bound indifferent permutation x1 x2 x3 double inequality holds directions loop 33 Deﬁnition cycle transitivity The observation rewrite T Ptransitivity double inequality 9 lays foundation cycle transitivity Within framework cycle transitivity upper bound corresponding lower bound generalized bounds ones given To end let deﬁne cid5 α β γ 0 13 α cid2 β cid2 γ consider function U cid5 R analogy 9 reciprocal preference relation Q X 2 0 1 cycletransitive wrt U x1 x2 x3 X 3 holds 1 U 1 γ123 1 β123 1 α123 cid2 α123 β123 γ123 1 cid2 U α123 β123 γ123 Contrary derivation T Ptransitivity upper bound function U takes general arguments instead In case T Ptransitivity upper bound function U T P α β γ α β αβ 1230 W Waegeman B De Baets Artiﬁcial Intelligence 175 2011 12231250 The case U α β γ β turns form fuzzy transitivity discussed Section 34 The double inequality leads conditions lower bound exceed upper bound value α β γ 1 located bounds Deﬁnition 31 A function U cid5 R called upper bound function satisﬁes following properties 1 U 0 0 1 cid3 0 U 0 1 1 cid3 1 2 α β γ cid5 U α β γ U 1 γ 1 β 1 α cid3 1 10 The deﬁnition upper bound function include monotonicity condition We deﬁne dual lower bound function L cid5 R given upper bound function U Lα β γ 1 U 1 γ 1 β 1 α implying L cid2 U 10 holds These tools allow deﬁne formally notion cycle transitivity Deﬁnition 32 A reciprocal relation Q X 2 0 1 called cycletransitive wrt upper bound function U x1 x2 x3 X 3 holds Lα123 β123 γ123 cid2 α123 β123 γ123 1 cid2 U α123 β123 γ123 11 L dual lower bound function U From construction immediately follows soon double inequality fulﬁlled triplet x1 x2 x3 X 3 fulﬁlled permutation triplet Therefore practice needs check 11 single permu tation x1 x2 x3 Alternatively duality opt verify upper bound equivalently lower bound permutations x1 x2 x3 cyclic permutations This summarized follows Proposition 33 See 11 A reciprocal relation Q X 2 0 1 cycletransitive wrt upper bound function U x1 x2 x3 X 3 holds α123 β123 γ123 1 cid2 U α123 β123 γ123 12 The loosest upper bound choose constant function U 2 means restriction values reciprocal relation It clear later upper bound function represents straightforward way link different types transitivity particular determine particular form transitivity follows form transitivity For example given types transitivity A B casted framework cycle transitivity means upper bound functions U A U B U Aα β γ cid2 U B α β γ automatically know type A transitivity implies typeB transitivity It shown following sections cycle transitivity framework incorporates types transitivity 34 Fuzzy transitivity T transitivity important notion fuzzy set literature desirable property fuzzy relations In work consider case fuzzy relations reciprocal relations condition hold general The traditional deﬁnition given terms tnorms generalized general class conjunctors As shown 11 start general case order establish link cycle transitivity Deﬁnition 34 A binary operation C 0 12 0 1 called conjunctor satisﬁes following properties 1 Its restriction 0 12 coincides boolean conjunction 2 Monotonicity C increasing variables This gives opportunity deﬁne C transitivity Deﬁnition 35 Let C conjunctor A fuzzy relation R X 2 0 1 called C transitive x1 x2 x3 X 3 holds cid3 cid4 Rx1 x2 Rx2 x3 C cid2 Rx1 x3 13 W Waegeman B De Baets Artiﬁcial Intelligence 175 2011 12231250 1231 Two important families conjunctors tnorms neutral element 1 monotonicity commutativity associativity copulas neutral element 1 absorbing element 0 monotonicity 2increasingness The 2increasingness property relaxed 1Lipschitz condition quasicopulas A close relationship exists copulas tnorms tnorms hav ing 1Lipschitz property correspond associative copulas Three important tnorms copulas appear article minimum tnorm T Ma b mina b product tnorm T Pa b ab Łukasiewicz tnorm T La b maxa b 1 0 Given restriction reciprocal relations following proposition characterizes reformulation C transitivity terms cycle transitivity Proposition 36 See 11 Let C commutative conjunctor C cid2 T M A reciprocal relation Q X 2 0 1 C transitive cycletransitive wrt upper bound function U C deﬁned cid3 U C α β γ min cid4 α β Cα β α γ Cα γ β γ Cβ γ If C 1Lipschitz upper bound function simpliﬁed U C α β γ α β Cα β The tnorms discussed deﬁne following upper bound functions U T M α β γ β U T P α β γ α β αβ U T L α β γ 1 As shown 46 submitted T Ltransitivity equivalent triangle inequality We remark triangle inequality traditionally symmetric relations considered 37 36 property characterize reciprocal preference relations 35 Stochastic transitivity We ﬁrst introduced fuzzy transitivity straightforward reformulation terms cycle transitivity On hand stochastic transitivity fairly different framework characterizing reciprocal relations Historically played dominant role fuzzy transitivity As mentioned introduction stochastic transitivity closely connected ranking representability reciprocal relations Deﬁnition 37 Let g increasing 12 12 0 1 mapping A reciprocal relation Q X 2 0 1 called gstochastically transitive x1 x2 x3 X 3 holds cid3 Q x1 x2 cid3 12 Q x2 x3 cid3 12 cid4 Q x1 x3 cid3 g cid3 cid4 Q x1 x2 Q x2 x3 Many speciﬁc types stochastic transitivity literature weak stochastic transitivity ga b 12 moderate stochastic transitivity ga b mina b strong stochastic transitivity ga b maxa b 36 Productbased upper bound functions Another class interesting upper bound functions inspired upper bound product transitivity More speciﬁ cally following upper bound functions closely related 1 strong product transitivity U T P α β γ α β αβ 2 moderate product transitivity Umpα β γ α γ αγ 3 weak product transitivity U D α β γ β γ βγ The ﬁrst characterizes traditional transitivity wrt product tnorm explained The second recently application ﬁeld partially ordered sets 13 This upper bound function reappear end paper The upper bound function characterizes reciprocal relations generated collections dice 15 Because type transitivity called dice transitivity need analyze ranking representability bipartite ranking functions We mention sake completeness dice transitivity far application comparison independent random variables 16 Other upper bound functions based T L T M linked comonotone countermonotone comparison random variables 1417 4 AUC ranking representability In order analyze relationship AUC ERA ranking representability hand cycle transitivity hand ﬁrst rephrase important results obtained recently reciprocal relations generated collections dice gametheoretic context 15 We simplicity omit discussion 1232 W Waegeman B De Baets Artiﬁcial Intelligence 175 2011 12231250 relationship pairwise AUCs reciprocal relations gametheoretic setting easily types relations exhibit transitivity conditions necessary conditions For details refer 46 shown AUC ranking representable set F possesses speciﬁc form cycle transitivity dice transitivity Proposition 41 See 15 The reciprocal relation pairwise AUCs generated AUC ranking representable set F bipartite ranking functions dicetransitive It important note data set identically independently distributed proposition assumed machine learning mentioned As indicated previous section dice transitivity stronger triangle inequality Subsequently important result extended 16 independent random variables In nutshell transitivity condition applies independent random variables compared pairwise way leading reciprocal relation closely resembles expected ranking accuracy The simplest way correspondence observe independent cid9 independent random variables Reformulated cid9 random vectors X X current discussion yields following important result output scores f X f X Proposition 42 See 16 Let X1 Xr r independent random vectors The reciprocal relation pairwise expected ranking accuracies generated ERA ranking representable set F bipartite ranking functions dicetransitive From ﬁrst proposition know pairwise AUCs generated AUC ranking representable set bipartite ranking functions evidence particular form transitivity stronger triangle inequality weaker T Ptransitivity De Schuymer et al 15 gave counterexamples illustrate reciprocal relation pairwise AUCs generated AUC ranking representable set bipartite ranking functions satisﬁes T Ptransitivity So dice transitivity gives rise necessary condition AUC ranking representability suﬃcient condi tion The answer deﬁnitely negative stronger types transitivity necessarily lead AUC ranking representability We showed example strong stochastic transitivity T Mtransitivity suﬃcient AUC ranking representability However Section 5 follow results T Mtransitivity suﬃcient ERA ranking representability In order suﬃcient condition introduce graphtheoretic refor mulation AUC ranking representability Deﬁnition 43 Let F set bipartite ranking functions We deﬁne GAUCF D set complete directed graphs G V E V set nodes E set edges following properties hold 1 Each node v V associated data object xi yi D 2 No cycles occur subsets V k v V yi Ck 3 For 1 cid2 k l cid2 r cid2Akl fkl D v v j E yi Ck y j Cl nknl 14 Let try express deﬁnition formal way We essence looking graphs G V E associate data object data set node obtain r subsets V 1 V r r classes We require addition nodes subset ordered results acyclic subgraph subsets fraction edges subset V k V l corresponds cid2Akl fkl D Some examples graphs presented later In way consider complete directed graphs Remark complete directed graph graph pair nodes connected exactly directed edge So v v cid9 E implies v cid9 v E It follows directly deﬁnition GAUCF D Its cardinality usually greater 1 different graphs satisfying 14 given F D In following proposition AUC ranking repre sentability reformulated terms graphs Deﬁnition 44 We introduce HAUCF D subset GAUCF D containing directed acyclic graphs DAGs Proposition 45 A set F bipartite ranking functions AUC ranking representable D HAUCF D Using graphtheoretic concepts introduced suﬃcient condition AUC ranking representability Nevertheless condition veriﬁed large datasets cardinality GAUCF D exponentially increases size D Similar 15 examine threeclass case order ﬁnd suﬃcient condition veriﬁed easily The reason restriction need cycle transitivity far deﬁned triplets The results obtained classes extended classes approximation techniques We start introducing new type transitivity W Waegeman B De Baets Artiﬁcial Intelligence 175 2011 12231250 1233 ssplit denoted Deﬁnition 46 An strictly positive integers summing bounded t The set decreasing vector b s1 An s tsplits denoted Sa 1 The set dual s s tsplit 1 ssplit component 2 s s necessarily upper s tsplit s t We deﬁne dual b s tsplits denoted cid9Sa s t increasing ordered list vector Example 47 We simple examples illustrate deﬁnition S10 4 3 cid9S11 3 6 cid5 cid6 1 3 3 3 2 2 3 3 cid5 cid6 6 5 0 6 4 1 6 3 2 5 5 1 5 4 2 5 3 3 Deﬁnition 48 Let n1 nr Nr let cid10 0 1 cid3 cid11 cid11 cid11 cid4 N cid3kl cid12 nknl cid13cid14 The family functions C jkl cid3 jk cid3kl cid3 jl deﬁned C jkla b 1 n jnl j k l 1 r i1 cid4 b nkcid8 cid3 i1 min Sa cid9Sb b nkn j nknl The value C jkla b solution integer quadratic program To illustrate let rewrite minimization min ab 1 n jnl nkcid8 cid3 i1 i1 cid4 b subject cid19 cid19 b nk i1 nk i1 b i1 1 nk cid3 i1 2 nk 1 cid2 b b cid2 n j 1 nk 0 cid2 cid2 nl 1 nk 0 cid2 b N 1 nk b 0 0 0 nk1 b 15 In Fig 2 family functions C jkl visualized small n j nk nl The function values computed exhaustively verifying feasible solutions integer quadratic program small values n j nk nl Example 49 Let consider situation n j 3 nk 4 nl 5 912 b 1320 The objective minimized following splits cid5 S9 4 3 cid9S13 4 5 cid6 0 3 3 3 1 2 3 3 2 2 2 3 cid5 5 5 3 0 5 5 2 1 5 4 4 0 5 4 3 1 5 4 2 2 5 3 3 2 cid6 4 4 4 1 4 4 3 2 4 3 3 3 4 3 3 3 C jkla b The minimum objective function obtained splits 1115 It turns example cases minimum computing objective function splits exhaustively To understand reveal graphtheoretic interpretation integer quadratic program originates 2 2 2 3 b Proposition 410 Given graphtheoretic reformulation Deﬁnition 43 C jklcid2A jk cid2Akl min GHAUCFD va vc V j V l vb V kva vb vb vc E n jnl 1234 W Waegeman B De Baets Artiﬁcial Intelligence 175 2011 12231250 Fig 2 The family functions C jkl visualized The proof given 46 Nonetheless let brieﬂy explain words equation means graph theoretic interpretation leads crucial insight understanding paper Given data set D set bipartite ranking functions F examine couples nodes va vc V j V l graphs G HAUCF D The proposition states C jkl equals minimal number couples connected path passing node layer V k graphs For graph G HAUCF D represents number edges departing node va subset V j ending node vb subset V k Similarly b represents number edges departing node vb subset V k arriving node vc subset V l In Section 5 examples provided illustrate graphtheoretic interpretation integer quadratic program Figs 6 7 8 Based graphtheoretic interpretation let introduce new type transitivity Deﬁnition 411 A reciprocal relation pairwise AUCs cid2Akl fkl D called AUC transitive j k l 1 r holds C jklcid2A jk cid2Akl cid2 cid2A jl 16 We emphasize type transitivity certain sense differs existing types transitivity condition given triplet values satisfy depends indices W Waegeman B De Baets Artiﬁcial Intelligence 175 2011 12231250 1235 Proposition 412 Let F f 12 f 23 f 13 triplet bipartite ranking functions The corresponding triplet pairwise AUCs AUC transitive D HAUCF D Corollary 413 A triplet F f 12 f 23 f 13 bipartite ranking functions AUC ranking representable D corre sponding reciprocal relation AUCs AUC transitive Corollary 414 AUC transitivity implies dice transitivity Brieﬂy summarized essence proven AUC transitivity implies dice transitivity chain equiv alences implications Firstly observed Proposition 412 AUC transitivity pairwise AUCs corresponds existence DAG graph set GAUCF D Secondly applying Proposition 45 existence DAG GAUCF D allowed conclude corresponding set F bipartite ranking functions AUC ranking representable Thirdly AUC ranking representability F able express pairwise AUCs reciprocal relation originating collections dice Finally Proposition 41 followed reciprocal relation dicetransitive AUC transitivity implies dice transitivity Given results obtained previous work able prove addition number new interesting properties family functions C jkl In section generalization ERA ranking representability described properties reduce wellknown characteristics tnorms Proposition 415 Let n1 nr Nr The family functions C jkl cid3 jk cid3kl cid3 jl Deﬁnition 48 following properties 1 j k l 1 r C jkl increasing variables 2 j k l 1 r b cid3 jk cid3kl C jkla b Clkjb 3 j k l 1 r cid3 jk C jkla 0 0 4 j k l 1 r cid3 jk C jkla 1 1 n j 5 j k l 1 r b cid3 jk cid3kl cid12 nk cid13 C jkla b cid2 1 n jnl cid20 nk cid21cid20 cid21 b nk 6 j k l 1 r b cid3 jk cid3kl n ja N nlb N C jkla b cid2 ab nknl cid12cid13 R N ceiling function retrieves closest integer greater equal given real number n jnk b b Proof This property directly Property 1 The objective function optimization problem 15 increasing function follows graphtheoretic interpretation integer quadratic program When increases respectively number incoming outgoing edges layer V k increases As consequence minimum objective function increases minimum corresponds number connected couples V j V l connected node V k b b Property 2 Let deﬁne bnk1 0 We ﬁnd C jkla b 1 n jnl 1 n jnl nkcid8 i1 nkcid8 i1 min Sa cid9Sb b nkn j nknl min Sa cid9Sb b nkn j nknl b nkcid8 i1 i1b 1 n jnl cid3 b b i1 cid4 1 n jnl min Sa cid9Sb b nkn j nknl nkcid8 min cid9Sa Sb b nkn j nknl i1 nkcid8 i1 b nkcid8 i1 b i1 cid3 b b i1 cid4 Clkjb Property 3 When ﬁll 0 0 b optimization problem 15 solution integer quadratic program Property 4 When b 1 b nl 1 n j Taking account n jnk ﬁnd 1236 W Waegeman B De Baets Artiﬁcial Intelligence 175 2011 12231250 C jkla 1 1 n jnl cid20 1 n j min nkn j nknl Sa cid9Sb b cid21 nk nkcid8 cid3 i1 i1 cid4 nl 1 n j min aSankn j nkcid8 cid3 i1 i1 cid4 1 n j min aSan j n j nk Property 5 To understand property graphtheoretic interpretation C jkla b established Proposi tion 410 needed Let consider following strategies draw edges layer V j V k V k V l 1 Strategy 1 Assign edges way number incoming edges V j outgoing edges V l balanced possible nodes layer V k strategy corresponds choosing balanced splits Sa nk n j cid9Sb nk nl 2 Strategy 2 Assign edges way number incoming edges V j outgoing edges V l imbalanced possible nodes layer V k strategy corresponds choosing imbalanced splits Sa nk n j cid9Sb nk nl Here need Strategy 1 strategy Proposition 52 strategies illustrated examples We quantity cid20 cid21cid20 cid21 1 n jnl nk b nk acts upper bound objective function 15 Strategy 1 followed fortiori upper bound minimum integer quadratic program Strategy 1 corresponds way drawing edges V j V k cid13 nodes layer V j V k V l condition Deﬁnition 43 satisﬁed cid12 nk outgoing edges V k cid12 b cid13 connected nk couples node V k cid13 nodes incoming edges V k So cid12 nk cid13cid12 b nk Property 6 This property immediately follows Property 5 case nk cid12 nk cid13 b nk cid12 b nk cid13 cid2 From properties follows C jkl family discrete conjunctors functions deﬁned cid3 jk cid3kl instead 0 12 It interesting look functions behave compared standard tnorms In Figs 35 compared C jkl respectively T L T P T M n j nk nl 10 One function C jkl greater T L peak upper triangle In region close 0 0 substantially smaller T P similar T P region close 1 1 Thirdly parts input domain C jkl smaller T M 5 ERA ranking representability Since AUC transitivity acts necessary suﬃcient condition AUC ranking representability able reveal deeper insights multiclass classiﬁers great practical value The functions C jkl solutions integer quadratic program NPhard problem 33 result condition exactly veriﬁed small data sets Instead focussing intelligent algorithms solve integer quadratic program approximately present approach circumvent computational bottleneck Simultaneously analytical expression solution integer quadratic program derived Using concepts previous section ERA ranking representability naturally follows AUC ranking repre sentability considering abstraction ﬁnite sample underlying distribution Let introduce speciﬁc type C transitivity Deﬁnition 51 A reciprocal relation Q X 2 0 1 called ERAtransitive C transitive wrt conjunctor CP0 deﬁned CP0a b cid10 0 ab b cid2 1 b 1 Remarkably ERA transitivity leads necessary suﬃcient condition ERA ranking repre sentability Proposition 52 A triplet F f 12 f 23 f 13 bipartite ranking functions ERA ranking representable independent random vectors corresponding reciprocal relation expected ranking accuracies ERAtransitive W Waegeman B De Baets Artiﬁcial Intelligence 175 2011 12231250 1237 Fig 3 C jkl compared T L n j nk nl 10 For interpretation references color ﬁgure reader referred web version article 1238 W Waegeman B De Baets Artiﬁcial Intelligence 175 2011 12231250 Fig 4 C jkl compared T P n j nk nl 10 For interpretation references color ﬁgure reader referred web version article W Waegeman B De Baets Artiﬁcial Intelligence 175 2011 12231250 1239 Fig 5 C jkl compared T M n j nk nl 10 For interpretation references color ﬁgure reader referred web version article 1240 W Waegeman B De Baets Artiﬁcial Intelligence 175 2011 12231250 Proof The proof inspired suﬃcient condition derived AUC ranking representability previous section Given expected ranking accuracy immediate generalization AUC ﬁnite sample underlying distribution need C jkl converges limit CP0 0 12 0 1 In order examine limit behavior ﬁrst assume ratio number data objects sampled respective classes remains changed We formal discussion case n j nk nl For ratios diﬃcult formal proof formulated In second stage construct formal proof insights gained case n j nk nl Case 1 n j nk nl In case CP0a b lim n j C j j ja b n j N We immediately ﬁnd limit properties 14 Proposition 415 respectively reduce monotonicity commutativity absorbing element 0 neutral element 1 However CP0 tnorm associativity hold To compute limit C j j j consider cases Subcase 1 cid15 n j cid16 cid15 b n j cid16 n j We case minimum integer quadratic program applying Strategy 1 described proof ﬁfth property Proposition 415 The easiest way recognize considering graphtheoretic cid16 n j paths V j V l pass interpretation Proposition 410 Given cid15 n j considered Strategy 2 1 b node V k The ﬁrst thing observe splits lead value 1 objective function node V k incoming edges V j nodes outgoing edges V lnodes As consequence connect couples nodes V j V l way Irrespective split chosen ﬁnd connected couples The chance end connected couples possible constructing paths possible couples connected This exactly accomplished Strategy 1 leading vectors constructed follows 1 cid16 cid15 b n j b b b b n j n j b cid15 n j cid12 n j cid15 b n j cid12 b n j cid16 cid13 cid16 cid13 cid2 n j n j mod n j mod n j b cid2 b mod n j mod n j cid13 nodes V j outgoing edges V k cid15 n j Let try derive closed form objective function By applying Strategy 1 minimize number nodes cid16 nodes n j V j outgoing edges V k At cid12 n j n j outgoing edges V k precisely elements V k Only node n j edges cid16 nodes integer Similarly ﬁnd cid12 b n j n j integer Putting n j incoming edges remaining node n j edges b ﬁnd V j nodes outgoing edges V k V lnodes incoming edges V k connected way V j node V lnode n j outgoing respectively incoming edges One mod n j cid3 1 This corresponds easily verify nodes connected following value objective function cid13 nodes V l incoming edges V k cid15 b n j mod n j b τ1 cid13 1 cid12 n j cid12 n j cid13cid12 b n j cid13 cid13cid12 b n j 1 n2 j 1 n2 j mod n j b mod n j b mod n j 1 mod n j cid3 1 17 Remark 1 corresponds couple potentially connected τ1 reduces limit following simple expression n j τ1 lim b n4 j ab Fig 6 shows obtained graph Strategies 1 2 applied example satisﬁes Subcase 1 Subcase 2 cid12 n j cid13 cid12 b n j cid13 cid2 n j W Waegeman B De Baets Artiﬁcial Intelligence 175 2011 12231250 1241 We case minimum integer quadratic program 0 This minimum applying Strategy 2 described proof ﬁfth property Proposition 415 The vectors b 1 b n j 1 b n j 0 constructed follows n j cid15 n j n j cid15 n j n j cid15 n j mod n j n j cid16 cid16 cid16 b n j b mod n j 0 cid12 b n j cid12 b n j cid12 b n j cid13 cid13 cid13 18 19 cid13 cid2 n j follows course results feasible solution integer quadratic program Given cid12 n j b Fig 7 shows obtained graph Strategies 1 2 applied example satisﬁes Subcase 2 0 1 n j objective function zero 0 cid13 cid12 b n j i1b Subcase 3 cid15 n j cid16 cid15 b n j cid16 cid2 n j cid12 n j cid13 cid12 b n j cid13 cases holds Besides cases normally case distinguished conditions holds However discuss case minimum objective function diﬃcult express Fortunately case vanishes limit cid20 lim n j cid21 cid22 cid23 n j n j 0 cid20 lim n j cid21 cid22 cid23 b n j b n j 0 In Subcase 3 Strategies 1 2 deliver minimum integer quadratic program depends actual values b Strategies 1 2 applied Fig 8 shows obtained graph Strategies 1 2 applied example satisﬁes Subcase 3 For Strategy 1 easily Eq 17 provides obtained value objective function For Strategy 2 contrary Subcase 2 value objective function longer zero Given Subcase 3 ﬁnd exactly node layer V k incoming outgoing nodes respectively given means mod n j b b mod n j As consequence obtain applying Eqs 18 19 different zero node The values b cid3 τ2 cid4cid3 b cid4 mod n j mod n j value objective function Subcase 3 Strategy 2 employed General case n j nk nl hold The proof given n j nk nl easily extended cases assuming ratio number data objects sampled respective classes remains unchanged sample size grows inﬁnity Subcase 1 cid15 n j cid16 cid15 b nl cid16 nk We apply Strategy 1 obtain minimum It given τ1 cid13 1 1 n jnl 1 n jnl cid12 nk cid13cid12 b nk cid13cid12 b nk cid13 cid12 nk mod nk b mod nk b mod nk 1 mod nk cid3 1 20 Subcase 2 cid12 n j cid13 cid12 b nl cid13 cid2 nk We apply Strategy 2 obtain minimum One easily case minimum objective function zero vectors 1 n j b b 1 b n j constructed follows 1242 W Waegeman B De Baets Artiﬁcial Intelligence 175 2011 12231250 Fig 6 An example illustrate Subcase 1 proof Proposition 52 Let consider n j nk nl 4 1316 b 1116 So draw 13 edges layer V j layer V k 11 edges layer V k layer V l The graphs obtained applying Strategy 1 left Strategy 2 right shown respectively leading 11 16 connected couples nodes layer V j layer V l One clearly example number connected couples nodes V j V l lower 10 We remark edges opposite direction left simplify graph graphs essentially complete graphs 5 edges V k V j 3 edges V l V k left b n j nl b 0 0 mod n j nk cid15 n j nk cid15 n j nk cid15 n j cid16 cid16 cid16 mod nl cid12 b nl cid12 b nl cid12 b nl cid13 cid13 cid13 Subcase 3 cid15 n j cid16 cid15 b nl cid16 cid2 nk cid12 n j cid13 cid12 b nl cid13 cases holds This case vanishes limit considered For sake completeness expression minimum integer quadratic program As illustrated Fig 8 Strategies 1 2 deliver minimum integer quadratic program This holds case n j nk nl hold If Strategy 1 applied objective function takes value given Eq 20 If Strategy 2 applied exactly node layer V k simultaneously incoming outgoing edges Subcase 3 The values mod nl Consequently value objective function respectively given mod n j b b cid3 τ2 cid4cid3 b cid4 mod nl mod n j Subcase 3 Strategy 2 applied cid2 21 The conjunctor CP0 visualized Fig 11a It expressed special type cycle transitivity applying Proposition 36 Proposition 53 A reciprocal relation Q X 2 0 1 ERAtransitive cycletransitive wrt upper bound function cid3 U CP0 α β γ min cid4 α β CP0α β α γ CP0α γ β γ CP0β γ Proposition 54 ERA transitivity implies moderate product transitivity dice transitivity Proof Let consider unit square couple β γ visualized Fig 9 From constraint β cid2 γ 22 follows region bisector considered line given identity function The upper bound function expressed αγ cid2 1 β Let try constraint tight possible choosing α β This means cycle transitivity property imposes constraint following inequality holds W Waegeman B De Baets Artiﬁcial Intelligence 175 2011 12231250 1243 Fig 7 An example illustrate Subcase 2 proof Proposition 52 Let consider n j nk nl 4 516 b 716 So draw 5 edges layer V j layer V k 7 edges layer V k layer V l The graphs obtained applying Strategy 1 left Strategy 2 right shown respectively leading 3 0 connected couples nodes layer V j layer V l We remark edges opposite direction left simplify graph graphs essentially complete graphs 11 edges V k V j 9 edges V l V k left Fig 8 An example illustrate Subcase 3 proof Proposition 52 Let consider n j nk nl 4 1116 b 716 So draw 10 edges layer V j layer V k 7 edges layer V k layer V l The graphs obtained applying Strategy 1 left Strategy 2 right shown respectively leading 5 9 connected couples nodes layer V j layer V l We remark edges opposite direction left simplify graph graphs essentially complete graphs 6 edges V k V j 9 edges V l V k left For example Strategy 1 turns lead minimum integer quadratic program observe small changes values b decreasing b 516 result obtaining minimum Strategy 2 3 connected couples versus 6 Strategy 1 γ 1 β β 23 Moreover upper bound function U α β γ α γ αγ imposes constraint α γ cid2 1 This corre sponds region β γ cid2 1 24 assuming α β Putting upper bound function U α β γ α γ αγ imposes constraint subregion unit square deﬁned inequalities 22 23 24 We visualized region Fig 9a gray background color Obviously CP0β γ equals βγ unit square ERA transitivity stronger type transitivity cycle transitivity wrt upper bound function U α β γ α γ αγ cid2 This proposition mainly conﬁrms pieces puzzle ﬁt surprisingly In previous sections shown AUC transitivity induces suﬃcient condition AUC ranking representability dice transitivity lead necessary condition From able prove indirectly type transitivity stronger observed directly upper bound functions Since relationship types cycle transitivity observed easily inﬁnite case gives additional conﬁrmation correctness analysis ﬁnite case To draw attention reader potentially tight bound AUC transitivity dice transitivity Fig 10 visualizes considered regions n j nk nl 10 It shown choice n j nk nl region deﬁned inequalities 2224 overlap region C jklβ γ exceeds βγ albeit regions located close Proposition 55 T Ptransitivity implies CP0transitivity 1244 W Waegeman B De Baets Artiﬁcial Intelligence 175 2011 12231250 Fig 9 A visualization unit square β γ The shaded region indicates zone unit square inequalities 2224 hold Fig 10 Contour plot difference AUC transitivity dice transitivity cycle transitivity wrt upper bound function U α β γ α γ αγ proof assumption α β One AUC transitivity dominates types transitivity region inequalities 2224 hold shown n j nk nl 10 Proof Immediate CP0 cid2 T P cid2 6 Practical considerations 61 Verifying ERA AUC ranking representability In previous sections interesting suﬃcient condition established reducing oneversusone ensembles ranking models investigating pairwise AUCs The suﬃcient condition threeclass case veriﬁed solving integer quadratic program This class problems general solved exactly polynomial time However elaborated issue able derive simple expression inﬁnite case generalization sample underlying distribution As consequence makes sense verify ERA transitivity pairwise AUCs instead AUC transitivity mainly interested generalizing outof sample data The conjunctor CP0 visualized Fig 11 compared C jkl n j nk nl 10 Although sample size considered unrealistically small turns CP0 behaves similarly C jkl Thus approximation makes sense Moreover proof previous proposition derived analytical expression solution integer quadratic program optimization algorithm required This summarized follows Corollary 61 For values n j nk nl b solution integer quadratic program 15 expressed τ τ1 minτ1 τ2 0 cid15 n j cid15 n j cid12 n j cid16 cid15 b nl cid16 cid15 b nl cid13 cid12 b nl cid16 nk cid16 cid2 nk cid2 cid12 n j cid13 cid2 nk cid13 cid12 b nl cid13 τ1 τ2 respectively deﬁned Eqs 20 21 W Waegeman B De Baets Artiﬁcial Intelligence 175 2011 12231250 1245 Fig 11 C jkl compared CP0 n j nk nl 10 For interpretation references color ﬁgure reader referred web version article So obtained veriﬁable condition check oneversusone ensemble reduced ranking model threeclass case approach work practice The answer unhesitatingly yes following main reasons 1246 W Waegeman B De Baets Artiﬁcial Intelligence 175 2011 12231250 Fig 12 A plot ﬁrst principal components iris data set Table 1 A comparison performance obtained iris data set tenfold crossvalidation multiclass methods simple ranking model The results multiclass methods duplicated 32 OVO oneversusone SVM DAG directed acyclic graphs OVA oneversusall SVM WW single machine approach Weston Watkins CS single machine approach Crammer Singer SVORIM support vector ordinal regression Method Acc OVO 97333 DAG 97333 OVA 96000 WW 97333 CS 87333 SVORIM 98000 1 The framework AUC ranking representability identiﬁes existence single ranking function yields error terms pairwise expected ranking accuracy oneversusone ensemble said complexity ranking model When minimize loss function hypothesis space ranking models guarantee given model try ﬁnd included hypothesis space 2 Ordinal regression models try optimize accuracy loss function takes magnitude error account However magnitude error meaning multiclass setting artiﬁcially try impose order classes The optimization magnitudebased loss function harm performance signiﬁcantly accuracy taken account performance measure This effect observed ordinal regression data sets These ﬁndings imply practice AUC ranking representable oneversusone model beaten ranking model Revealing situations performance gain obtained easily require experimental validation numerous data sets Since benchmark problems multiclass classiﬁcation consider classes ﬁrst extension approach classes elaborated An obvious generalization established looking triplets classes simplifying AUC ranking representability fulﬁlled research required verify idea work Hereunder analyzed threeclass benchmark problems UCI repository illustrate potential beneﬁts AUC ranking representability Both problems analyzed 32 experimental comparison different multiclass schemes SVMs base classiﬁers We decided compare results experimental setup way experiments easily replicated 62 Iris data The ﬁrst data set analyzed wellknown iris data set probably frequently utilized data sets evaluate multiclass classiﬁers The ﬁrst principal components data visualized Fig 12 One class C2 sandwiched left class C1 class C3 right theoretically impose order C1 C2 C3 classes ﬁt ordinal regression model data set In comparison paper kernelbased multiclass classiﬁcation methods Hsu Lin 32 report data set oneversusone model outperforms multiclass schemes Since iris data accompanying test set draw conclusions based 10fold crossvalidation error obtained best C cost parameter γ width RBFkernel model selection A short overview results given Table 1 results obtained ﬁtting kernelbased ordinal regression model 6 data This method constructs number parallel hyperplanes highdimensional space ordinal regression similar SVM binary classiﬁcation In initial stage ﬁrst ﬁtted W Waegeman B De Baets Artiﬁcial Intelligence 175 2011 12231250 1247 Table 2 A comparison performance obtained DNA data set independent test set multiclass methods simple ranking model The results 32 given ﬁrst row results second row Method Acc Acc OVO 95441 94266 DAG 95447 OVA 95784 WW 95618 CS 95889 SVORIM 76560 oneversusone SVM data values hyperparameters speciﬁed 32 resulting following pairwise AUCs data set training2 cid2A12 10 cid2A23 0995 cid2A13 10 These pairwise AUCs deﬁnitely satisfy CP0transitivity reduction ranking model sense theoretically When ﬁt ordinal regression model data SVORIMpackage following pairwise AUCs measured training data cid2A12 10 cid2A23 0998 cid2A13 10 Thus performance training data increases importantly better crossvalidated performance terms accuracy obtained ordinal regression model experimental setup 32 This surprising ﬁrst sight account PCA analysis identiﬁed ordinal structure classes This clearly example reduction single ranking model improve generalization performance 63 DNA data The second data set analyzed DNA data set Contrary iris data set data set substantially instances The data relatively highdimensional 180 features curse dimensionality play role Furthermore data split train test set avoid use crossvalidation Using methodology 32 resulted following pairwise AUCs training set cid2A12 10 cid2A23 0952 cid2A13 0909 This triplet pairwise AUCs results AUC ranking representable model suggests order C1 C3 C2 classes So let swap classes C2 C3 following pairwise AUCs training data obtained cid2A12 0909 cid2A23 0952 cid2A13 10 Subsequently tested oneversusone SVM SVORIM algorithm test set Using methodology 32 able achieve exactly results data set obtained similar slightly worse accuracy test set We plausible explanation adopted exactly setup The results summarized Table 2 impression SVORIM algorithm able compete multiclass approaches However truth opposite conclusion drawn pairwise AUCs measured test set The following values obtained oneversusone model cid2A12 0808 cid2A23 0833 cid2A13 0997 ordinal regression model yields substantially better pairwise AUCs test set cid2A12 0906 cid2A23 0907 cid2A13 0996 So surprisingly different trends accuracy hand pairwise AUCs hand explained As discussed caused fact SVORIM algorithm optimize accuracy magnitudebased loss function Fig 13 gives good overview going On left shows ﬁrst principal components test set real labels right shows test set labels predicted SVORIM The ordinal regression algorithm clearly assigns instances middle class attempt minimize magnitude errors Apparently affect performance terms pairwise AUCs DNA data set It deﬁnitely recommended look criterion instead accuracy order compare performance oneversusone models single ranking models 2 Remark train data set order compute pairwise AUCs multivariate performance measures computed unambiguously means crossvalidation 3 1248 W Waegeman B De Baets Artiﬁcial Intelligence 175 2011 12231250 Fig 13 A graphical illustration effect minimizing magnitudebased loss function SVORIM algorithm DNA test set The ﬁrst principal components shown real labels left predicted labels right As result transitivity analysis pairwise AUCs labels classes C2 C3 swapped 7 Conclusion In article analyzed transitivity expected ranking accuracy reciprocal preference relation constructed pairwise multiclass setting Similar utility representability common reciprocal prefer ence relations relation naturally led concept ERA ranking representability bipartite ranking functions constructed couples random vectors In order ﬁnd necessary suﬃcient conditions type repre sentability ﬁrst recapitulated results obtained ﬁnite sample case expected ranking accuracy estimated AUC ERA ranking representability reduces AUC ranking representability nec essary suﬃcient conditions based graphtheoretic reformulation problem new type transitivity AUC transitivity In previous work showed new type transitivity ver iﬁed solving integer quadratic program In article proved interesting properties AUC transitivity generalized AUC ranking representability ERA ranking representability analyzing limit behavior AUC transitivity In way distributionindependent easily veriﬁable condition obtained threeclass case Extensions classes currently development invoke strongly increasing complexity problem cycle transitivity deﬁned threeelement sets moment A generalization cycle tran sitivity ﬁrst candidate future work Some initial research conﬁrmed generalization feasible From machine learning point view investigated pairwise multiclass classiﬁcation model sim pliﬁed ranking model ordinal regression model precise To end started assumption optimal complexity multiclass classiﬁer problemspeciﬁc datadependent Reducing pairwise multi class classiﬁer ordinal regression model seen drastic application biasvariance tradeoff pairwise multiclass classiﬁer complex containing parameters result low bias high variance performance ordinal regression model contains substantially parameters leading high bias low variance So claim pairwise multiclass classiﬁer reduced ordinal gression model looked necessary suﬃcient conditions allow reduction analyzing pairwise expected ranking accuracies The result obtained regard remarkable important conﬁrms optimal complexity multiclass classiﬁcation model depends distribution data The conditions derived distributionindependent means hold distribution data ERA ranking representability veriﬁed distribution data usually unknown Nevertheless evaluating CP0transitivity pairwise AUCs obtained veriﬁable condition check oneversus ensemble reduced ordinal regression model threeclass case This relaxation makes sense main good generalization performance Simultaneously derived closedform expression solution integer quadratic program approximation time consuming combinatorial optimization avoided In practice ERA ranking representable set bipartite ranking functions beaten single ranking function To end new machine learning algorithms developed Initial experimental results toy problems illustrate reduction single ranking model improve performance algorithm deﬁnitely terms pairwise AUCs necessarily terms accuracy However start fur ther experimental research topic obvious question generalizing ranking representability classes needs tackled We refer future work extension indepth empirical valida tion W Waegeman B De Baets Artiﬁcial Intelligence 175 2011 12231250 1249 Acknowledgements The authors like thank anonymous reviewers valuable comments Willem Waegeman like thank Eyke Hüllermeier Hendrik Blockeel Hans De Meyer fruitful discussion work occasion PhD defence Willem Waegeman currently supported Research Foundation Flanders For work previously supported grant Institute Promotion Innovation Science Technology Flanders IWTVlaanderen References 1 S Agarwal T Graepel R Herbrich S HarPeled D Roth Generalization bounds area ROC curve Journal Machine Learning Research 6 2005 393425 2 A Agresti Categorical Data Analysis 2nd version John Wiley Sons 2002 3 A Airola T Pahikkala W Waegeman B De Baets T Salakoski An experimental comparison crossvalidation techniques estimating area ROC curve Computational Statistics Data Analysis 2009 submitted publication 4 A Billot An existence theorem fuzzy utility functions A new elementary proof Fuzzy Sets Systems 74 1995 271276 5 U Bodenhofer B De Baets J Fodor A compendium fuzzy weak orders Fuzzy Sets Systems 158 2007 811829 6 W Chu S Keerthi Support vector ordinal regression Neural Computation 19 3 2007 792815 7 S Clémençon N Vayatis Ranking best instances Journal Machine Learning Research 8 2007 26712699 8 C Cortes M Mohri AUC optimization versus error rate minimization Advances Neural Information Processing Systems 16 Vancouver Canada 2003 MIT Press 2003 pp 313320 9 K Crammer Y Singer Pranking ranking Proceedings Conference Neural Information Processing Systems Vancouver Canada 2001 pp 641647 10 B De Baets H De Meyer Transitivity frameworks reciprocal relations Cycletransitivity versus FGtransitivity Fuzzy Sets Systems 152 2005 249270 11 B De Baets H De Meyer B De Schuymer S Jenei Cyclic evaluation transitivity reciprocal relations Social Choice Welfare 26 2006 217238 12 B De Baets B De Schuymer H De Meyer Cycletransitive comparison artiﬁcially coupled random variables International Journal Approximate Reasoning 47 2008 306322 13 B De Baets H De Meyer K De Loof On cycle transitivity mutual rank probability relation poset Fuzzy Sets Systems 161 2010 26952708 doi101016jfss201005005 14 H De Meyer B De Baets B De Schuymer On transitivity comonotonic countermonotonic comparison random variables Journal Multivariate Analysis 98 2007 177193 15 B De Schuymer H De Meyer B De Baets S Jenei On cycletransitivity dice model Theory Decision 54 2003 261285 16 B De Schuymer H De Meyer B De Baets Cycletransitive comparison independent random variables Journal Multivariate Analysis 96 2005 352373 17 B De Schuymer H De Meyer B De Baets Extreme copulas comparison ordered lists Theory Decision 62 2007 195212 18 JP Doignon B Monjardet M Roubens Ph Vincke Biorder families valued relations preference modelling Journal Mathematical Psychology 30 1986 435480 19 T Fawcett An introduction ROC analysis Pattern Recognition Letters 27 8 2006 861874 20 C Ferri J HernandezOrallo MA Salido Volume ROC surface multiclass problems Proceedings European Conference Machine Learning Dubrovnik Croatia 2003 pp 108120 21 J Fieldsend M Everson Formulation comparison multiclass ROC surfaces Proceedings ICML Workshop ROC Analysis Machine Learning Bonn Germany 2005 pp 4956 22 P Fishburn Utility Theory Decision Making Wiley 1970 23 P Flach The geometry ROC space Understanding machine learning metrics ROC isometrics Proceedings International Conference Machine Learning Washington DC USA 2003 24 P Flach The faces ROC analysis machine learning Tutorial Presented European Conference Machine Learning Valencia Spain August 2004 25 L Fono N Andjiga Utility function fuzzy preferences countable set maxtransitivity Social Choice Welfare 28 2007 667683 26 J Fürnkranz Round robin classiﬁcation Journal Machine Learning Research 2 2002 723747 27 J Fürnkranz E Hüllermeier S Vanderlooy Binary decomposition methods multipartite ranking Lecture Notes Computer Science 5781 2009 359374 28 D Hand R Till A simple generalization area ROC curve multiple class problems Machine Learning 45 2001 171186 29 J Hanley B McNeil The meaning use area receiver operating characteristics curve Radiology 143 1982 2936 30 T Hastie R Tibshirani Classiﬁcation pairwise coupling The Annals Statistics 26 2 1998 451471 31 R Herbrich T Graepel K Obermayer Large margin rank boundaries ordinal regression A Smola P Bartlett B Schölkopf D Schuurmans Eds Advances Large Margin Classiﬁers MIT Press 2000 pp 115132 32 C Hsu C Lin A comparison methods multiclass support vector machines IEEE Transactions Neural Networks 13 2002 415425 33 Z Hua B Zhang X Xu A new variable reduction technique convex integer quadratic programs Applied Mathematical Modelling 32 2008 224 231 34 E Hüllermeier J Fürnkranz Pairwise preference learning ranking Proceedings European Conference Machine Learning Dubrovnik Croatia 2003 pp 145156 35 E Hüllermeier J Hühn Is ordinal class structure useful classiﬁer learning International Journal Data Mining Modelling Management 1 1 2009 4567 36 M Koppen Random utility representation binary choice probabilities Critical graphs yielding critical necessary conditions Journal Mathematical Psychology 39 1995 2139 37 R Luce P Suppes Handbook Mathematical Psychology Preference Utility Subjective Probability Wiley 1965 pp 249410 38 P McCullagh Regression models ordinal data Journal Royal Statistical Society Series B 42 2 1980 109142 39 M Öztürk A Tsoukiàs Ph Vincke Preference modelling J Figueira S Greco M Ehrgott Eds Multiple Criteria Decision Analysis State Art Surveys SpringerVerlag 2005 pp 2771 40 F Provost T Fawcett Robust classiﬁcation imprecise environments Machine Learning 42 2001 203231 41 R Rifkin A Klautau In defense oneversusall classiﬁcation Journal Machine Learning Research 5 2004 101143 1250 W Waegeman B De Baets Artiﬁcial Intelligence 175 2011 12231250 42 A Shashua A Levin Ranking large margin principle Two approaches Advances Neural Information Processing Systems vol 16 Vancouver Canada 2003 MIT Press 2003 pp 937944 43 Z Switalski General transitivity conditions fuzzy reciprocal preference matrices Fuzzy Sets Systems 137 2003 85100 44 V Torra J DomingoFerrer JM MateoSanz M Ng Regression ordinal variables underlying continuous variables Information Sciences 176 2006 465476 45 A Tversky Preference Belief Similarity MIT Press 1998 46 W Waegeman B De Baets A transitivity analysis bipartite rankings pairwise multiclass classiﬁcation Information Sciences 180 2010 4099 4117 47 W Waegeman B De Baets L Boullart ROC analysis ordinal regression learning Pattern Recognition Letters 29 2008 19 48 F Wu C Lin R Weng Probability estimates multiclass support vector machines pairwise coupling Journal Machine Learning Research 5 2004 9751005 49 L Yan R Dodier M Mozer R Wolniewiecz Optimizing classiﬁer performance approximation WilcoxonMannWhitney statistic Proceedings International Conference Machine Learning Washington DC USA 2003 pp 848855